<h1 class="m-5">/documents</h1>
<div class="grid grid-cols-1 md:grid-cols-3 gap-5 px-5 pb-5">
  <div class="card">
    <div class="p-4">
      <h2 class="mb-2">Présentation</h2>
      <p class="text-muted mt-1">Des données compilées par-ci par-là.</p>
    </div>
    <hr />
    <div class="px-1 py-2">
      <ul class="tree">
        <li>
          <details open>
            @for (file of files; track $index) {
            <summary><span class="material-symbols-outlined">folder_open</span>{{ file.name }}/</summary>
            <ul>
              @for (file of file.content; track $index) {
              <li>
                <details open>
                  <summary><span class="material-symbols-outlined">folder_open</span>{{ file.name }}/</summary>
                  <ul>
                    @for (file of file.content; track $index) {
                    @if (file.src) {
                    <li><a [routerLink]="['/documents']" [queryParams]="{src: file.src}">{{ file.name }}</a></li>
                    }
                    @else {
                    <li>{{ file.name }}</li>
                    }
                    }
                  </ul>
                </details>
              </li>
              }
            </ul>
            }
          </details>
        </li>
      </ul>
    </div>
  </div>

  @if (selectedSrc()) {
  <div class="card overflow-x-scroll md:col-span-2">
    <app-post [src]="selectedSrc()!" />
  </div>
  }
</div>