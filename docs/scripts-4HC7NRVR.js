"use strict";var __esbuild_esm_mermaid_nm;(__esbuild_esm_mermaid_nm||={}).mermaid=(()=>{var tUe=Object.create,zf=Object.defineProperty,rUe=Object.getOwnPropertyDescriptor,iUe=Object.getOwnPropertyNames,nUe=Object.getPrototypeOf,aUe=Object.prototype.hasOwnProperty,l=(e,t)=>zf(e,"name",{value:t,configurable:!0}),D=(e,t)=>()=>(e&&(t=e(e=0)),t),_n=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),sr=(e,t)=>{for(var r in t)zf(e,r,{get:t[r],enumerable:!0})},Kx=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of iUe(t))!aUe.call(e,n)&&n!==r&&zf(e,n,{get:()=>t[n],enumerable:!(i=rUe(t,n))||i.enumerable});return e},Zx=(e,t,r)=>(Kx(e,t,"default"),r&&Kx(r,t,"default")),zn=(e,t,r)=>(r=e!=null?tUe(nUe(e)):{},Kx(t||!e||!e.__esModule?zf(r,"default",{value:e,enumerable:!0}):r,e)),sUe=e=>Kx(zf({},"__esModule",{value:!0}),e),Tj,Gf,F8,Ej,z8=D(()=>{"use strict";Tj=Object.freeze({left:0,top:0,width:16,height:16}),Gf=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),F8=Object.freeze({...Tj,...Gf}),Ej=Object.freeze({...F8,body:"",hidden:!1})}),Cj,Sj,oUe=D(()=>{"use strict";z8(),Cj=Object.freeze({width:null,height:null}),Sj=Object.freeze({...Cj,...Gf})}),_j,Qx,lUe=D(()=>{"use strict";_j=l((e,t,r,i="")=>{let n=e.split(":");if(e.slice(0,1)==="@"){if(n.length<2||n.length>3)return null;i=n.shift().slice(1)}if(n.length>3||!n.length)return null;if(n.length>1){let o=n.pop(),u=n.pop(),h={provider:n.length>0?n[0]:i,prefix:u,name:o};return t&&!Qx(h)?null:h}let a=n[0],s=a.split("-");if(s.length>1){let o={provider:i,prefix:s.shift(),name:s.join("-")};return t&&!Qx(o)?null:o}if(r&&i===""){let o={provider:i,prefix:"",name:a};return t&&!Qx(o,r)?null:o}return null},"stringToIcon"),Qx=l((e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1,"validateIconName")});function Aj(e,t){let r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);let i=((e.rotate||0)+(t.rotate||0))%4;return i&&(r.rotate=i),r}var cUe=D(()=>{"use strict";l(Aj,"mergeIconTransformations")});function G8(e,t){let r=Aj(e,t);for(let i in Ej)i in Gf?i in e&&!(i in r)&&(r[i]=Gf[i]):i in t?r[i]=t[i]:i in e&&(r[i]=e[i]);return r}var uUe=D(()=>{"use strict";z8(),cUe(),l(G8,"mergeIconData")});function Lj(e,t){let r=e.icons,i=e.aliases||Object.create(null),n=Object.create(null);function a(s){if(r[s])return n[s]=[];if(!(s in n)){n[s]=null;let o=i[s]&&i[s].parent,u=o&&a(o);u&&(n[s]=[o].concat(u))}return n[s]}return l(a,"resolve"),(t||Object.keys(r).concat(Object.keys(i))).forEach(a),n}var hUe=D(()=>{"use strict";l(Lj,"getIconsTree")});function U8(e,t,r){let i=e.icons,n=e.aliases||Object.create(null),a={};function s(o){a=G8(i[o]||n[o],a)}return l(s,"parse"),s(t),r.forEach(s),G8(e,a)}function Nj(e,t){if(e.icons[t])return U8(e,t,[]);let r=Lj(e,[t])[t];return r?U8(e,t,r):null}var dUe=D(()=>{"use strict";uUe(),hUe(),l(U8,"internalGetIconData"),l(Nj,"getIconData")});function q8(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;let i=e.split(Mj);if(i===null||!i.length)return e;let n=[],a=i.shift(),s=Ij.test(a);for(;;){if(s){let o=parseFloat(a);isNaN(o)?n.push(a):n.push(Math.ceil(o*t*r)/r)}else n.push(a);if(a=i.shift(),a===void 0)return n.join("");s=!s}}var Mj,Ij,pUe=D(()=>{"use strict";Mj=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Ij=/^-?[0-9.]*[0-9]+[0-9.]*$/g,l(q8,"calculateSize")});function Dj(e,t="defs"){let r="",i=e.indexOf("<"+t);for(;i>=0;){let n=e.indexOf(">",i),a=e.indexOf("</"+t);if(n===-1||a===-1)break;let s=e.indexOf(">",a);if(s===-1)break;r+=e.slice(n+1,a).trim(),e=e.slice(0,i).trim()+e.slice(s+1)}return{defs:r,content:e}}function Rj(e,t){return e?"<defs>"+e+"</defs>"+t:t}function Oj(e,t,r){let i=Dj(e);return Rj(i.defs,t+i.content+r)}var gUe=D(()=>{"use strict";l(Dj,"splitSVGDefs"),l(Rj,"mergeDefsAndContent"),l(Oj,"wrapSVGContent")});function Pj(e,t){let r={...F8,...e},i={...Sj,...t},n={left:r.left,top:r.top,width:r.width,height:r.height},a=r.body;[r,i].forEach(y=>{let b=[],v=y.hFlip,x=y.vFlip,w=y.rotate;v?x?w+=2:(b.push("translate("+(n.width+n.left).toString()+" "+(0-n.top).toString()+")"),b.push("scale(-1 1)"),n.top=n.left=0):x&&(b.push("translate("+(0-n.left).toString()+" "+(n.height+n.top).toString()+")"),b.push("scale(1 -1)"),n.top=n.left=0);let k;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:k=n.height/2+n.top,b.unshift("rotate(90 "+k.toString()+" "+k.toString()+")");break;case 2:b.unshift("rotate(180 "+(n.width/2+n.left).toString()+" "+(n.height/2+n.top).toString()+")");break;case 3:k=n.width/2+n.left,b.unshift("rotate(-90 "+k.toString()+" "+k.toString()+")");break}w%2===1&&(n.left!==n.top&&(k=n.left,n.left=n.top,n.top=k),n.width!==n.height&&(k=n.width,n.width=n.height,n.height=k)),b.length&&(a=Oj(a,'<g transform="'+b.join(" ")+'">',"</g>"))});let s=i.width,o=i.height,u=n.width,h=n.height,d,p;s===null?(p=o===null?"1em":o==="auto"?h:o,d=q8(p,u/h)):(d=s==="auto"?u:s,p=o===null?q8(d,h/u):o==="auto"?h:o);let g={},f=l((y,b)=>{Bj(b)||(g[y]=b.toString())},"setAttr");f("width",d),f("height",p);let m=[n.left,n.top,u,h];return g.viewBox=m.join(" "),{attributes:g,viewBox:m,body:a}}var Bj,fUe=D(()=>{"use strict";z8(),oUe(),pUe(),gUe(),Bj=l(e=>e==="unset"||e==="undefined"||e==="none","isUnsetKeyword"),l(Pj,"iconToSVG")});function $j(e,t=zj){let r=[],i;for(;i=Fj.exec(e);)r.push(i[1]);if(!r.length)return e;let n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(a=>{let s=typeof t=="function"?t(a):t+(Gj++).toString(),o=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+s+n+"$3")}),e=e.replace(new RegExp(n,"g"),""),e}var Fj,zj,Gj,mUe=D(()=>{"use strict";Fj=/\sid="(\S+)"/g,zj="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16),Gj=0,l($j,"replaceIDs")});function Uj(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(let i in t)r+=" "+i+'="'+t[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}var yUe=D(()=>{"use strict";l(Uj,"iconToHTML")}),vUe=D(()=>{"use strict";lUe(),dUe(),fUe(),mUe(),yUe()}),Jx,ki,Uf=D(()=>{"use strict";Jx=l((e,t,{depth:r=2,clobber:i=!1}={})=>{let n={depth:r,clobber:i};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(a=>Jx(e,a,n)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(a=>{e.includes(a)||e.push(a)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(a=>{typeof t[a]=="object"&&(e[a]===void 0||typeof e[a]=="object")?(e[a]===void 0&&(e[a]=Array.isArray(t[a])?[]:{}),e[a]=Jx(e[a],t[a],{depth:r-1,clobber:i})):(i||typeof e[a]!="object"&&typeof t[a]!="object")&&(e[a]=t[a])}),e)},"assignWithDepth"),ki=Jx}),j8=_n((e,t)=>{"use strict";(function(r,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self).dayjs=i()})(e,function(){"use strict";var r=1e3,i=6e4,n=36e5,a="millisecond",s="second",o="minute",u="hour",h="day",d="week",p="month",g="quarter",f="year",m="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:l(function(S){var O=["th","st","nd","rd"],R=S%100;return"["+S+(O[(R-20)%10]||O[R]||O[0])+"]"},"ordinal")},w=l(function(S,O,R){var P=String(S);return!P||P.length>=O?S:""+Array(O+1-P.length).join(R)+S},"m"),k={s:w,z:l(function(S){var O=-S.utcOffset(),R=Math.abs(O),P=Math.floor(R/60),L=R%60;return(O<=0?"+":"-")+w(P,2,"0")+":"+w(L,2,"0")},"z"),m:l(function S(O,R){if(O.date()<R.date())return-S(R,O);var P=12*(R.year()-O.year())+(R.month()-O.month()),L=O.clone().add(P,p),$=R-L<0,F=O.clone().add(P+($?-1:1),p);return+(-(P+(R-L)/($?L-F:F-L))||0)},"t"),a:l(function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},"a"),p:l(function(S){return{M:p,y:f,w:d,d:h,D:m,h:u,m:o,s,ms:a,Q:g}[S]||String(S||"").toLowerCase().replace(/s$/,"")},"p"),u:l(function(S){return S===void 0},"u")},T="en",_={};_[T]=x;var C="$isDayjsObject",E=l(function(S){return S instanceof A||!(!S||!S[C])},"S"),N=l(function S(O,R,P){var L;if(!O)return T;if(typeof O=="string"){var $=O.toLowerCase();_[$]&&(L=$),R&&(_[$]=R,L=$);var F=O.split("-");if(!L&&F.length>1)return S(F[0])}else{var G=O.name;_[G]=O,L=G}return!P&&L&&(T=L),L||!P&&T},"t"),M=l(function(S,O){if(E(S))return S.clone();var R=typeof O=="object"?O:{};return R.date=S,R.args=arguments,new A(R)},"O"),I=k;I.l=N,I.i=E,I.w=function(S,O){return M(S,{locale:O.$L,utc:O.$u,x:O.$x,$offset:O.$offset})};var A=function(){function S(R){this.$L=N(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[C]=!0}l(S,"M");var O=S.prototype;return O.parse=function(R){this.$d=function(P){var L=P.date,$=P.utc;if(L===null)return new Date(NaN);if(I.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var F=L.match(b);if(F){var G=F[2]-1||0,q=(F[7]||"0").substring(0,3);return $?new Date(Date.UTC(F[1],G,F[3]||1,F[4]||0,F[5]||0,F[6]||0,q)):new Date(F[1],G,F[3]||1,F[4]||0,F[5]||0,F[6]||0,q)}}return new Date(L)}(R),this.init()},O.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},O.$utils=function(){return I},O.isValid=function(){return this.$d.toString()!==y},O.isSame=function(R,P){var L=M(R);return this.startOf(P)<=L&&L<=this.endOf(P)},O.isAfter=function(R,P){return M(R)<this.startOf(P)},O.isBefore=function(R,P){return this.endOf(P)<M(R)},O.$g=function(R,P,L){return I.u(R)?this[P]:this.set(L,R)},O.unix=function(){return Math.floor(this.valueOf()/1e3)},O.valueOf=function(){return this.$d.getTime()},O.startOf=function(R,P){var L=this,$=!!I.u(P)||P,F=I.p(R),G=l(function(W,ee){var X=I.w(L.$u?Date.UTC(L.$y,ee,W):new Date(L.$y,ee,W),L);return $?X:X.endOf(h)},"l"),q=l(function(W,ee){return I.w(L.toDate()[W].apply(L.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(ee)),L)},"$"),V=this.$W,H=this.$M,ae=this.$D,re="set"+(this.$u?"UTC":"");switch(F){case f:return $?G(1,0):G(31,11);case p:return $?G(1,H):G(0,H+1);case d:var oe=this.$locale().weekStart||0,ue=(V<oe?V+7:V)-oe;return G($?ae-ue:ae+(6-ue),H);case h:case m:return q(re+"Hours",0);case u:return q(re+"Minutes",1);case o:return q(re+"Seconds",2);case s:return q(re+"Milliseconds",3);default:return this.clone()}},O.endOf=function(R){return this.startOf(R,!1)},O.$set=function(R,P){var L,$=I.p(R),F="set"+(this.$u?"UTC":""),G=(L={},L[h]=F+"Date",L[m]=F+"Date",L[p]=F+"Month",L[f]=F+"FullYear",L[u]=F+"Hours",L[o]=F+"Minutes",L[s]=F+"Seconds",L[a]=F+"Milliseconds",L)[$],q=$===h?this.$D+(P-this.$W):P;if($===p||$===f){var V=this.clone().set(m,1);V.$d[G](q),V.init(),this.$d=V.set(m,Math.min(this.$D,V.daysInMonth())).$d}else G&&this.$d[G](q);return this.init(),this},O.set=function(R,P){return this.clone().$set(R,P)},O.get=function(R){return this[I.p(R)]()},O.add=function(R,P){var L,$=this;R=Number(R);var F=I.p(P),G=l(function(H){var ae=M($);return I.w(ae.date(ae.date()+Math.round(H*R)),$)},"y");if(F===p)return this.set(p,this.$M+R);if(F===f)return this.set(f,this.$y+R);if(F===h)return G(1);if(F===d)return G(7);var q=(L={},L[o]=i,L[u]=n,L[s]=r,L)[F]||1,V=this.$d.getTime()+R*q;return I.w(V,this)},O.subtract=function(R,P){return this.add(-1*R,P)},O.format=function(R){var P=this,L=this.$locale();if(!this.isValid())return L.invalidDate||y;var $=R||"YYYY-MM-DDTHH:mm:ssZ",F=I.z(this),G=this.$H,q=this.$m,V=this.$M,H=L.weekdays,ae=L.months,re=L.meridiem,oe=l(function(ee,X,Z,J){return ee&&(ee[X]||ee(P,$))||Z[X].slice(0,J)},"h"),ue=l(function(ee){return I.s(G%12||12,ee,"0")},"d"),W=re||function(ee,X,Z){var J=ee<12?"AM":"PM";return Z?J.toLowerCase():J};return $.replace(v,function(ee,X){return X||function(Z){switch(Z){case"YY":return String(P.$y).slice(-2);case"YYYY":return I.s(P.$y,4,"0");case"M":return V+1;case"MM":return I.s(V+1,2,"0");case"MMM":return oe(L.monthsShort,V,ae,3);case"MMMM":return oe(ae,V);case"D":return P.$D;case"DD":return I.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return oe(L.weekdaysMin,P.$W,H,2);case"ddd":return oe(L.weekdaysShort,P.$W,H,3);case"dddd":return H[P.$W];case"H":return String(G);case"HH":return I.s(G,2,"0");case"h":return ue(1);case"hh":return ue(2);case"a":return W(G,q,!0);case"A":return W(G,q,!1);case"m":return String(q);case"mm":return I.s(q,2,"0");case"s":return String(P.$s);case"ss":return I.s(P.$s,2,"0");case"SSS":return I.s(P.$ms,3,"0");case"Z":return F}return null}(ee)||F.replace(":","")})},O.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},O.diff=function(R,P,L){var $,F=this,G=I.p(P),q=M(R),V=(q.utcOffset()-this.utcOffset())*i,H=this-q,ae=l(function(){return I.m(F,q)},"D");switch(G){case f:$=ae()/12;break;case p:$=ae();break;case g:$=ae()/3;break;case d:$=(H-V)/6048e5;break;case h:$=(H-V)/864e5;break;case u:$=H/n;break;case o:$=H/i;break;case s:$=H/r;break;default:$=H}return L?$:I.a($)},O.daysInMonth=function(){return this.endOf(p).$D},O.$locale=function(){return _[this.$L]},O.locale=function(R,P){if(!R)return this.$L;var L=this.clone(),$=N(R,P,!0);return $&&(L.$L=$),L},O.clone=function(){return I.w(this.$d,this)},O.toDate=function(){return new Date(this.valueOf())},O.toJSON=function(){return this.isValid()?this.toISOString():null},O.toISOString=function(){return this.$d.toISOString()},O.toString=function(){return this.$d.toUTCString()},S}(),B=A.prototype;return M.prototype=B,[["$ms",a],["$s",s],["$m",o],["$H",u],["$W",h],["$M",p],["$y",f],["$D",m]].forEach(function(S){B[S[1]]=function(O){return this.$g(O,S[0],S[1])}}),M.extend=function(S,O){return S.$i||(S(O,A,M),S.$i=!0),M},M.locale=N,M.isDayjs=E,M.unix=function(S){return M(1e3*S)},M.en=_[T],M.Ls=_,M.p={},M})}),qj,Po,ne,e4,Za,st=D(()=>{"use strict";qj=zn(j8(),1),Po={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},ne={trace:l((...e)=>{},"trace"),debug:l((...e)=>{},"debug"),info:l((...e)=>{},"info"),warn:l((...e)=>{},"warn"),error:l((...e)=>{},"error"),fatal:l((...e)=>{},"fatal")},e4=l(function(e="fatal"){let t=Po.fatal;typeof e=="string"?e.toLowerCase()in Po&&(t=Po[e]):typeof e=="number"&&(t=e),ne.trace=()=>{},ne.debug=()=>{},ne.info=()=>{},ne.warn=()=>{},ne.error=()=>{},ne.fatal=()=>{},t<=Po.fatal&&(ne.fatal=console.error?console.error.bind(console,Za("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Za("FATAL"))),t<=Po.error&&(ne.error=console.error?console.error.bind(console,Za("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Za("ERROR"))),t<=Po.warn&&(ne.warn=console.warn?console.warn.bind(console,Za("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Za("WARN"))),t<=Po.info&&(ne.info=console.info?console.info.bind(console,Za("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Za("INFO"))),t<=Po.debug&&(ne.debug=console.debug?console.debug.bind(console,Za("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Za("DEBUG"))),t<=Po.trace&&(ne.trace=console.debug?console.debug.bind(console,Za("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Za("TRACE")))},"setLogLevel"),Za=l(e=>`%c${(0,qj.default)().format("ss.SSS")} : ${e} : `,"format")}),qf,jj,bUe=D(()=>{"use strict";qf={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:l(e=>e>=255?255:e<0?0:e,"r"),g:l(e=>e>=255?255:e<0?0:e,"g"),b:l(e=>e>=255?255:e<0?0:e,"b"),h:l(e=>e%360,"h"),s:l(e=>e>=100?100:e<0?0:e,"s"),l:l(e=>e>=100?100:e<0?0:e,"l"),a:l(e=>e>=1?1:e<0?0:e,"a")},toLinear:l(e=>{let t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},"toLinear"),hue2rgb:l((e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?e+(t-e)*6*r:r<.5?t:r<.6666666666666666?e+(t-e)*(.6666666666666666-r)*6:e),"hue2rgb"),hsl2rgb:l(({h:e,s:t,l:r},i)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;let n=r<.5?r*(1+t):r+t-r*t,a=2*r-n;switch(i){case"r":return qf.hue2rgb(a,n,e+.3333333333333333)*255;case"g":return qf.hue2rgb(a,n,e)*255;case"b":return qf.hue2rgb(a,n,e-.3333333333333333)*255}},"hsl2rgb"),rgb2hsl:l(({r:e,g:t,b:r},i)=>{e/=255,t/=255,r/=255;let n=Math.max(e,t,r),a=Math.min(e,t,r),s=(n+a)/2;if(i==="l")return s*100;if(n===a)return 0;let o=n-a,u=s>.5?o/(2-n-a):o/(n+a);if(i==="s")return u*100;switch(n){case e:return((t-r)/o+(t<r?6:0))*60;case t:return((r-e)/o+2)*60;case r:return((e-t)/o+4)*60;default:return-1}},"rgb2hsl")},jj=qf}),Hj,Vj,xUe=D(()=>{"use strict";Hj={clamp:l((e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),"clamp"),round:l(e=>Math.round(e*1e10)/1e10,"round")},Vj=Hj}),Yj,Wj,wUe=D(()=>{"use strict";Yj={dec2hex:l(e=>{let t=Math.round(e).toString(16);return t.length>1?t:`0${t}`},"dec2hex")},Wj=Yj}),Xj,rr,Bl=D(()=>{"use strict";bUe(),xUe(),wUe(),Xj={channel:jj,lang:Vj,unit:Wj},rr=Xj}),$l,An,t4=D(()=>{"use strict";Bl(),$l={};for(let e=0;e<=255;e++)$l[e]=rr.unit.dec2hex(e);An={ALL:0,RGB:1,HSL:2}}),Kj,Zj,kUe=D(()=>{"use strict";t4(),Kj=class{static{l(this,"Type")}constructor(){this.type=An.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=An.ALL}is(e){return this.type===e}},Zj=Kj}),Qj,Jj,TUe=D(()=>{"use strict";Bl(),kUe(),t4(),Qj=class{static{l(this,"Channels")}constructor(e,t){this.color=t,this.changed=!1,this.data=e,this.type=new Zj}set(e,t){return this.color=t,this.changed=!1,this.data=e,this.type.type=An.ALL,this}_ensureHSL(){let e=this.data,{h:t,s:r,l:i}=e;t===void 0&&(e.h=rr.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=rr.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=rr.channel.rgb2hsl(e,"l"))}_ensureRGB(){let e=this.data,{r:t,g:r,b:i}=e;t===void 0&&(e.r=rr.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=rr.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=rr.channel.hsl2rgb(e,"b"))}get r(){let e=this.data,t=e.r;return!this.type.is(An.HSL)&&t!==void 0?t:(this._ensureHSL(),rr.channel.hsl2rgb(e,"r"))}get g(){let e=this.data,t=e.g;return!this.type.is(An.HSL)&&t!==void 0?t:(this._ensureHSL(),rr.channel.hsl2rgb(e,"g"))}get b(){let e=this.data,t=e.b;return!this.type.is(An.HSL)&&t!==void 0?t:(this._ensureHSL(),rr.channel.hsl2rgb(e,"b"))}get h(){let e=this.data,t=e.h;return!this.type.is(An.RGB)&&t!==void 0?t:(this._ensureRGB(),rr.channel.rgb2hsl(e,"h"))}get s(){let e=this.data,t=e.s;return!this.type.is(An.RGB)&&t!==void 0?t:(this._ensureRGB(),rr.channel.rgb2hsl(e,"s"))}get l(){let e=this.data,t=e.l;return!this.type.is(An.RGB)&&t!==void 0?t:(this._ensureRGB(),rr.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(An.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(An.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(An.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(An.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(An.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(An.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}},Jj=Qj}),eH,jf,r4=D(()=>{"use strict";TUe(),eH=new Jj({r:0,g:0,b:0,a:0},"transparent"),jf=eH}),H8,kp,tH=D(()=>{"use strict";r4(),t4(),H8={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:l(e=>{if(e.charCodeAt(0)!==35)return;let t=e.match(H8.re);if(!t)return;let r=t[1],i=parseInt(r,16),n=r.length,a=n%4===0,s=n>4,o=s?1:17,u=s?8:4,h=a?0:-1,d=s?255:15;return jf.set({r:(i>>u*(h+3)&d)*o,g:(i>>u*(h+2)&d)*o,b:(i>>u*(h+1)&d)*o,a:a?(i&d)*o/255:1},e)},"parse"),stringify:l(e=>{let{r:t,g:r,b:i,a:n}=e;return n<1?`#${$l[Math.round(t)]}${$l[Math.round(r)]}${$l[Math.round(i)]}${$l[Math.round(n*255)]}`:`#${$l[Math.round(t)]}${$l[Math.round(r)]}${$l[Math.round(i)]}`},"stringify")},kp=H8}),Hf,Vf,EUe=D(()=>{"use strict";Bl(),r4(),Hf={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:l(e=>{let t=e.match(Hf.hueRe);if(t){let[,r,i]=t;switch(i){case"grad":return rr.channel.clamp.h(parseFloat(r)*.9);case"rad":return rr.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return rr.channel.clamp.h(parseFloat(r)*360)}}return rr.channel.clamp.h(parseFloat(e))},"_hue2deg"),parse:l(e=>{let t=e.charCodeAt(0);if(t!==104&&t!==72)return;let r=e.match(Hf.re);if(!r)return;let[,i,n,a,s,o]=r;return jf.set({h:Hf._hue2deg(i),s:rr.channel.clamp.s(parseFloat(n)),l:rr.channel.clamp.l(parseFloat(a)),a:s?rr.channel.clamp.a(o?parseFloat(s)/100:parseFloat(s)):1},e)},"parse"),stringify:l(e=>{let{h:t,s:r,l:i,a:n}=e;return n<1?`hsla(${rr.lang.round(t)}, ${rr.lang.round(r)}%, ${rr.lang.round(i)}%, ${n})`:`hsl(${rr.lang.round(t)}, ${rr.lang.round(r)}%, ${rr.lang.round(i)}%)`},"stringify")},Vf=Hf}),Yf,V8,CUe=D(()=>{"use strict";tH(),Yf={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:l(e=>{e=e.toLowerCase();let t=Yf.colors[e];if(t)return kp.parse(t)},"parse"),stringify:l(e=>{let t=kp.stringify(e);for(let r in Yf.colors)if(Yf.colors[r]===t)return r},"stringify")},V8=Yf}),Y8,Wf,SUe=D(()=>{"use strict";Bl(),r4(),Y8={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:l(e=>{let t=e.charCodeAt(0);if(t!==114&&t!==82)return;let r=e.match(Y8.re);if(!r)return;let[,i,n,a,s,o,u,h,d]=r;return jf.set({r:rr.channel.clamp.r(n?parseFloat(i)*2.55:parseFloat(i)),g:rr.channel.clamp.g(s?parseFloat(a)*2.55:parseFloat(a)),b:rr.channel.clamp.b(u?parseFloat(o)*2.55:parseFloat(o)),a:h?rr.channel.clamp.a(d?parseFloat(h)/100:parseFloat(h)):1},e)},"parse"),stringify:l(e=>{let{r:t,g:r,b:i,a:n}=e;return n<1?`rgba(${rr.lang.round(t)}, ${rr.lang.round(r)}, ${rr.lang.round(i)}, ${rr.lang.round(n)})`:`rgb(${rr.lang.round(t)}, ${rr.lang.round(r)}, ${rr.lang.round(i)})`},"stringify")},Wf=Y8}),rH,bs,ou=D(()=>{"use strict";tH(),EUe(),CUe(),SUe(),t4(),rH={format:{keyword:V8,hex:kp,rgb:Wf,rgba:Wf,hsl:Vf,hsla:Vf},parse:l(e=>{if(typeof e!="string")return e;let t=kp.parse(e)||Wf.parse(e)||Vf.parse(e)||V8.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},"parse"),stringify:l(e=>!e.changed&&e.color?e.color:e.type.is(An.HSL)||e.data.r===void 0?Vf.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?Wf.stringify(e):kp.stringify(e),"stringify")},bs=rH}),iH,W8,nH=D(()=>{"use strict";Bl(),ou(),iH=l((e,t)=>{let r=bs.parse(e);for(let i in t)r[i]=rr.channel.clamp[i](t[i]);return bs.stringify(r)},"change"),W8=iH}),aH,Fl,sH=D(()=>{"use strict";Bl(),r4(),ou(),nH(),aH=l((e,t,r=0,i=1)=>{if(typeof e!="number")return W8(e,{a:t});let n=jf.set({r:rr.channel.clamp.r(e),g:rr.channel.clamp.g(t),b:rr.channel.clamp.b(r),a:rr.channel.clamp.a(i)});return bs.stringify(n)},"rgba"),Fl=aH}),oH,i4,_Ue=D(()=>{"use strict";Bl(),ou(),oH=l((e,t)=>rr.lang.round(bs.parse(e)[t]),"channel"),i4=oH}),lH,cH,AUe=D(()=>{"use strict";Bl(),ou(),lH=l(e=>{let{r:t,g:r,b:i}=bs.parse(e),n=.2126*rr.channel.toLinear(t)+.7152*rr.channel.toLinear(r)+.0722*rr.channel.toLinear(i);return rr.lang.round(n)},"luminance"),cH=lH}),uH,hH,LUe=D(()=>{"use strict";AUe(),uH=l(e=>cH(e)>=.5,"isLight"),hH=uH}),dH,zl,NUe=D(()=>{"use strict";LUe(),dH=l(e=>!hH(e),"isDark"),zl=dH}),pH,X8,gH=D(()=>{"use strict";Bl(),ou(),pH=l((e,t,r)=>{let i=bs.parse(e),n=i[t],a=rr.channel.clamp[t](n+r);return n!==a&&(i[t]=a),bs.stringify(i)},"adjustChannel"),X8=pH}),fH,At,MUe=D(()=>{"use strict";gH(),fH=l((e,t)=>X8(e,"l",t),"lighten"),At=fH}),mH,Ft,IUe=D(()=>{"use strict";gH(),mH=l((e,t)=>X8(e,"l",-t),"darken"),Ft=mH}),yH,De,DUe=D(()=>{"use strict";ou(),nH(),yH=l((e,t)=>{let r=bs.parse(e),i={};for(let n in t)t[n]&&(i[n]=r[n]+t[n]);return W8(e,i)},"adjust"),De=yH}),vH,bH,RUe=D(()=>{"use strict";ou(),sH(),vH=l((e,t,r=50)=>{let{r:i,g:n,b:a,a:s}=bs.parse(e),{r:o,g:u,b:h,a:d}=bs.parse(t),p=r/100,g=p*2-1,f=s-d,m=((g*f===-1?g:(g+f)/(1+g*f))+1)/2,y=1-m,b=i*m+o*y,v=n*m+u*y,x=a*m+h*y,w=s*p+d*(1-p);return Fl(b,v,x,w)},"mix"),bH=vH}),xH,bt,OUe=D(()=>{"use strict";ou(),RUe(),xH=l((e,t=100)=>{let r=bs.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,bH(r,e,t)},"invert"),bt=xH}),PUe=D(()=>{"use strict";sH(),_Ue(),NUe(),MUe(),IUe(),DUe(),OUe()}),xs=D(()=>{"use strict";PUe()}),Xf,Kf,n4=D(()=>{"use strict";Xf="#ffffff",Kf="#f2f2f2"}),Gn,Zf=D(()=>{"use strict";xs(),Gn=l((e,t)=>t?De(e,{s:-40,l:10}):De(e,{s:-40,l:-10}),"mkBorder")}),wH,kH,BUe=D(()=>{"use strict";xs(),n4(),Zf(),wH=class{static{l(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||De(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||De(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Gn(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Gn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Gn(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Gn(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||bt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||bt(this.tertiaryColor),this.lineColor=this.lineColor||bt(this.background),this.arrowheadColor=this.arrowheadColor||bt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Ft(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Ft(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||bt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||At(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Ft(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Ft(this.mainBkg,10)):(this.rowOdd=this.rowOdd||At(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||At(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||De(this.primaryColor,{h:30}),this.cScale4=this.cScale4||De(this.primaryColor,{h:60}),this.cScale5=this.cScale5||De(this.primaryColor,{h:90}),this.cScale6=this.cScale6||De(this.primaryColor,{h:120}),this.cScale7=this.cScale7||De(this.primaryColor,{h:150}),this.cScale8=this.cScale8||De(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||De(this.primaryColor,{h:270}),this.cScale10=this.cScale10||De(this.primaryColor,{h:300}),this.cScale11=this.cScale11||De(this.primaryColor,{h:330}),this.darkMode)for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Ft(this["cScale"+t],75);else for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Ft(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||bt(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||At(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Ft(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;let e=this.darkMode?-4:-1;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||De(this.mainBkg,{h:180,s:-15,l:e*(5+t*3)}),this["surfacePeer"+t]=this["surfacePeer"+t]||De(this.mainBkg,{h:180,s:-15,l:e*(8+t*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||De(this.primaryColor,{h:64}),this.fillType3=this.fillType3||De(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||De(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||De(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||De(this.primaryColor,{h:128}),this.fillType7=this.fillType7||De(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||De(this.primaryColor,{l:-10}),this.pie5=this.pie5||De(this.secondaryColor,{l:-10}),this.pie6=this.pie6||De(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||De(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||De(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||De(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||De(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||De(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||De(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||De(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||De(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||De(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||De(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||De(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||De(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||zl(this.quadrant1Fill)?At(this.quadrant1Fill):Ft(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ft(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||De(this.primaryColor,{h:-30}),this.git4=this.git4||De(this.primaryColor,{h:-60}),this.git5=this.git5||De(this.primaryColor,{h:-90}),this.git6=this.git6||De(this.primaryColor,{h:60}),this.git7=this.git7||De(this.primaryColor,{h:120}),this.darkMode?(this.git0=At(this.git0,25),this.git1=At(this.git1,25),this.git2=At(this.git2,25),this.git3=At(this.git3,25),this.git4=At(this.git4,25),this.git5=At(this.git5,25),this.git6=At(this.git6,25),this.git7=At(this.git7,25)):(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Xf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Kf}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},kH=l(e=>{let t=new wH;return t.calculate(e),t},"getThemeVariables")}),TH,EH,$Ue=D(()=>{"use strict";xs(),Zf(),TH=class{static{l(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=At(this.primaryColor,16),this.tertiaryColor=De(this.primaryColor,{h:-160}),this.primaryBorderColor=bt(this.background),this.secondaryBorderColor=Gn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Gn(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.tertiaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=At(bt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Fl(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Ft("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Ft(this.sectionBkgColor,10),this.taskBorderColor=Fl(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Fl(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||At(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Ft(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=At(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=At(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=At(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=De(this.primaryColor,{h:64}),this.fillType3=De(this.secondaryColor,{h:64}),this.fillType4=De(this.primaryColor,{h:-64}),this.fillType5=De(this.secondaryColor,{h:-64}),this.fillType6=De(this.primaryColor,{h:128}),this.fillType7=De(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||De(this.primaryColor,{h:30}),this.cScale4=this.cScale4||De(this.primaryColor,{h:60}),this.cScale5=this.cScale5||De(this.primaryColor,{h:90}),this.cScale6=this.cScale6||De(this.primaryColor,{h:120}),this.cScale7=this.cScale7||De(this.primaryColor,{h:150}),this.cScale8=this.cScale8||De(this.primaryColor,{h:210}),this.cScale9=this.cScale9||De(this.primaryColor,{h:270}),this.cScale10=this.cScale10||De(this.primaryColor,{h:300}),this.cScale11=this.cScale11||De(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||bt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||At(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||De(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||De(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||De(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||De(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||De(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||De(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||De(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||De(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||zl(this.quadrant1Fill)?At(this.quadrant1Fill):Ft(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ft(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=At(this.secondaryColor,20),this.git1=At(this.pie2||this.secondaryColor,20),this.git2=At(this.pie3||this.tertiaryColor,20),this.git3=At(this.pie4||De(this.primaryColor,{h:-30}),20),this.git4=At(this.pie5||De(this.primaryColor,{h:-60}),20),this.git5=At(this.pie6||De(this.primaryColor,{h:-90}),10),this.git6=At(this.pie7||De(this.primaryColor,{h:60}),10),this.git7=At(this.pie8||De(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||bt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||bt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||At(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||At(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},EH=l(e=>{let t=new TH;return t.calculate(e),t},"getThemeVariables")}),CH,Qf,a4=D(()=>{"use strict";xs(),Zf(),n4(),CH=class{static{l(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=De(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=De(this.primaryColor,{h:-160}),this.primaryBorderColor=Gn(this.primaryColor,this.darkMode),this.secondaryBorderColor=Gn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Gn(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.tertiaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Fl(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||De(this.primaryColor,{h:30}),this.cScale4=this.cScale4||De(this.primaryColor,{h:60}),this.cScale5=this.cScale5||De(this.primaryColor,{h:90}),this.cScale6=this.cScale6||De(this.primaryColor,{h:120}),this.cScale7=this.cScale7||De(this.primaryColor,{h:150}),this.cScale8=this.cScale8||De(this.primaryColor,{h:210}),this.cScale9=this.cScale9||De(this.primaryColor,{h:270}),this.cScale10=this.cScale10||De(this.primaryColor,{h:300}),this.cScale11=this.cScale11||De(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ft(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ft(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=Ft(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||Ft(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||De(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||De(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||De(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||bt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||bt(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=At(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||At(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||At(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=De(this.primaryColor,{h:64}),this.fillType3=De(this.secondaryColor,{h:64}),this.fillType4=De(this.primaryColor,{h:-64}),this.fillType5=De(this.secondaryColor,{h:-64}),this.fillType6=De(this.primaryColor,{h:128}),this.fillType7=De(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||De(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||De(this.primaryColor,{l:-10}),this.pie5=this.pie5||De(this.secondaryColor,{l:-30}),this.pie6=this.pie6||De(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||De(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||De(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||De(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||De(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||De(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||De(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||De(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||De(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||De(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||De(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||De(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||De(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||zl(this.quadrant1Fill)?At(this.quadrant1Fill):Ft(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||De(this.primaryColor,{h:-30}),this.git4=this.git4||De(this.primaryColor,{h:-60}),this.git5=this.git5||De(this.primaryColor,{h:-90}),this.git6=this.git6||De(this.primaryColor,{h:60}),this.git7=this.git7||De(this.primaryColor,{h:120}),this.darkMode?(this.git0=At(this.git0,25),this.git1=At(this.git1,25),this.git2=At(this.git2,25),this.git3=At(this.git3,25),this.git4=At(this.git4,25),this.git5=At(this.git5,25),this.git6=At(this.git6,25),this.git7=At(this.git7,25)):(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)),this.gitInv0=this.gitInv0||Ft(bt(this.git0),25),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||bt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||bt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Xf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Kf}calculate(e){if(Object.keys(this).forEach(r=>{this[r]==="calculated"&&(this[r]=void 0)}),typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},Qf=l(e=>{let t=new CH;return t.calculate(e),t},"getThemeVariables")}),SH,_H,FUe=D(()=>{"use strict";xs(),n4(),Zf(),SH=class{static{l(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=At("#cde498",10),this.primaryBorderColor=Gn(this.primaryColor,this.darkMode),this.secondaryBorderColor=Gn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Gn(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.primaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=Ft(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||De(this.primaryColor,{h:30}),this.cScale4=this.cScale4||De(this.primaryColor,{h:60}),this.cScale5=this.cScale5||De(this.primaryColor,{h:90}),this.cScale6=this.cScale6||De(this.primaryColor,{h:120}),this.cScale7=this.cScale7||De(this.primaryColor,{h:150}),this.cScale8=this.cScale8||De(this.primaryColor,{h:210}),this.cScale9=this.cScale9||De(this.primaryColor,{h:270}),this.cScale10=this.cScale10||De(this.primaryColor,{h:300}),this.cScale11=this.cScale11||De(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ft(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ft(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=Ft(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||Ft(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||De(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||De(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||De(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||At(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||At(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=De(this.primaryColor,{h:64}),this.fillType3=De(this.secondaryColor,{h:64}),this.fillType4=De(this.primaryColor,{h:-64}),this.fillType5=De(this.secondaryColor,{h:-64}),this.fillType6=De(this.primaryColor,{h:128}),this.fillType7=De(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||De(this.primaryColor,{l:-30}),this.pie5=this.pie5||De(this.secondaryColor,{l:-30}),this.pie6=this.pie6||De(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||De(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||De(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||De(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||De(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||De(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||De(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||De(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||De(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||De(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||De(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||De(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||De(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||zl(this.quadrant1Fill)?At(this.quadrant1Fill):Ft(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||De(this.primaryColor,{h:-30}),this.git4=this.git4||De(this.primaryColor,{h:-60}),this.git5=this.git5||De(this.primaryColor,{h:-90}),this.git6=this.git6||De(this.primaryColor,{h:60}),this.git7=this.git7||De(this.primaryColor,{h:120}),this.darkMode?(this.git0=At(this.git0,25),this.git1=At(this.git1,25),this.git2=At(this.git2,25),this.git3=At(this.git3,25),this.git4=At(this.git4,25),this.git5=At(this.git5,25),this.git6=At(this.git6,25),this.git7=At(this.git7,25)):(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||bt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||bt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Xf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Kf}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},_H=l(e=>{let t=new SH;return t.calculate(e),t},"getThemeVariables")}),AH,LH,zUe=D(()=>{"use strict";xs(),Zf(),n4(),AH=class{static{l(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=At(this.contrast,55),this.background="#ffffff",this.tertiaryColor=De(this.primaryColor,{h:-160}),this.primaryBorderColor=Gn(this.primaryColor,this.darkMode),this.secondaryBorderColor=Gn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Gn(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.tertiaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||At(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=At(this.contrast,55),this.border2=this.contrast,this.actorBorder=At(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||bt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||At(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||Ft(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||De(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||De(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=At(this.contrast,30),this.sectionBkgColor2=At(this.contrast,30),this.taskBorderColor=Ft(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=At(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Ft(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=De(this.primaryColor,{h:64}),this.fillType3=De(this.secondaryColor,{h:64}),this.fillType4=De(this.primaryColor,{h:-64}),this.fillType5=De(this.secondaryColor,{h:-64}),this.fillType6=De(this.primaryColor,{h:128}),this.fillType7=De(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||De(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||De(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||De(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||De(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||De(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||De(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||zl(this.quadrant1Fill)?At(this.quadrant1Fill):Ft(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ft(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||De(this.primaryColor,{h:-30}),this.git4=this.pie5||De(this.primaryColor,{h:-60}),this.git5=this.pie6||De(this.primaryColor,{h:-90}),this.git6=this.pie7||De(this.primaryColor,{h:60}),this.git7=this.pie8||De(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Xf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Kf}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},LH=l(e=>{let t=new AH;return t.calculate(e),t},"getThemeVariables")}),Bo,K8=D(()=>{"use strict";BUe(),$Ue(),a4(),FUe(),zUe(),Bo={base:{getThemeVariables:kH},dark:{getThemeVariables:EH},default:{getThemeVariables:Qf},forest:{getThemeVariables:_H},neutral:{getThemeVariables:LH}}}),Vs,GUe=D(()=>{"use strict";Vs={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1}}),Z8,Q8,NH,xr,ua=D(()=>{"use strict";K8(),GUe(),Z8={...Vs,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Bo.default.getThemeVariables(),sequence:{...Vs.sequence,messageFont:l(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:l(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:l(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Vs.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Vs.c4,useWidth:void 0,personFont:l(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...Vs.flowchart,inheritDir:!1},external_personFont:l(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:l(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:l(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:l(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:l(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:l(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:l(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:l(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:l(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:l(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:l(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:l(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:l(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:l(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:l(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:l(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:l(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:l(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:l(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:l(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:l(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Vs.pie,useWidth:984},xyChart:{...Vs.xyChart,useWidth:void 0},requirement:{...Vs.requirement,useWidth:void 0},packet:{...Vs.packet},radar:{...Vs.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},Q8=l((e,t="")=>Object.keys(e).reduce((r,i)=>Array.isArray(e[i])?r:typeof e[i]=="object"&&e[i]!==null?[...r,t+i,...Q8(e[i],"")]:[...r,t+i],[]),"keyify"),NH=new Set(Q8(Z8,"")),xr=Z8}),Jf,MH,IH=D(()=>{"use strict";ua(),st(),Jf=l(e=>{if(ne.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>Jf(t));return}for(let t of Object.keys(e)){if(ne.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!NH.has(t)||e[t]==null){ne.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){ne.debug("sanitizing object",t),Jf(e[t]);continue}let r=["themeCSS","fontFamily","altFontFamily"];for(let i of r)t.includes(i)&&(ne.debug("sanitizing css option",t),e[t]=MH(e[t]))}if(e.themeVariables)for(let t of Object.keys(e.themeVariables)){let r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}ne.debug("After sanitization",e)}},"sanitizeDirective"),MH=l(e=>{let t=0,r=0;for(let i of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?t++:i==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss")}),_h,ha,s4,lu,Tp,em,DH,RH,OH,J8,eE,Tr,tE,PH,tm,BH,rE,$H,iE,FH,pi=D(()=>{"use strict";Uf(),st(),K8(),ua(),IH(),_h=Object.freeze(xr),ha=ki({},_h),lu=[],Tp=ki({},_h),em=l((e,t)=>{let r=ki({},e),i={};for(let n of t)tE(n),i=ki(i,n);if(r=ki(r,i),i.theme&&i.theme in Bo){let n=ki({},s4),a=ki(n.themeVariables||{},i.themeVariables);r.theme&&r.theme in Bo&&(r.themeVariables=Bo[r.theme].getThemeVariables(a))}return Tp=r,iE(Tp),Tp},"updateCurrentConfig"),DH=l(e=>(ha=ki({},_h),ha=ki(ha,e),e.theme&&Bo[e.theme]&&(ha.themeVariables=Bo[e.theme].getThemeVariables(e.themeVariables)),em(ha,lu),ha),"setSiteConfig"),RH=l(e=>{s4=ki({},e)},"saveConfigFromInitialize"),OH=l(e=>(ha=ki(ha,e),em(ha,lu),ha),"updateSiteConfig"),J8=l(()=>ki({},ha),"getSiteConfig"),eE=l(e=>(iE(e),ki(Tp,e),Tr()),"setConfig"),Tr=l(()=>ki({},Tp),"getConfig"),tE=l(e=>{e&&(["secure",...ha.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(ne.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&tE(e[t])}))},"sanitize"),PH=l(e=>{Jf(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),lu.push(e),em(ha,lu)},"addDirective"),tm=l((e=ha)=>{lu=[],em(e,lu)},"reset"),BH={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},rE={},$H=l(e=>{rE[e]||(ne.warn(BH[e]),rE[e]=!0)},"issueWarning"),iE=l(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&$H("LAZY_LOAD_DEPRECATED")},"checkConfig"),FH=l(()=>{let e={};s4&&(e=ki(e,s4));for(let t of lu)e=ki(e,t);return e},"getUserDefinedConfig")});function Un(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return o4(e,t,i)}}function zH(e){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return l4(e,r)}}function mr(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:im;sE&&sE(e,null);let i=t.length;for(;i--;){let n=t[i];if(typeof n=="string"){let a=r(n);a!==n&&(UH(t)||(t[i]=a),n=a)}e[n]=!0}return e}function GH(e){for(let t=0;t<e.length;t++)ws(e,t)||(e[t]=null);return e}function $o(e){let t=oE(null);for(let[r,i]of aE(e))ws(e,r)&&(Array.isArray(i)?t[r]=GH(i):i&&typeof i=="object"&&i.constructor===Object?t[r]=$o(i):t[r]=i);return t}function Ep(e,t){for(;e!==null;){let i=jH(e,t);if(i){if(i.get)return Un(i.get);if(typeof i.value=="function")return Un(i.value)}e=qH(e)}function r(){return null}return l(r,"fallbackValue"),r}function nE(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:aV(),t=l(be=>nE(be),"DOMPurify");if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==Ap.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e,i=r,n=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:o,Element:u,NodeFilter:h,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:g,trustedTypes:f}=e,m=u.prototype,y=Ep(m,"cloneNode"),b=Ep(m,"remove"),v=Ep(m,"nextSibling"),x=Ep(m,"childNodes"),w=Ep(m,"parentNode");if(typeof s=="function"){let be=r.createElement("template");be.content&&be.content.ownerDocument&&(r=be.content.ownerDocument)}let k,T="",{implementation:_,createNodeIterator:C,createDocumentFragment:E,getElementsByTagName:N}=r,{importNode:M}=i,I=yE();t.isSupported=typeof aE=="function"&&typeof w=="function"&&_&&_.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:A,ERB_EXPR:B,TMPLIT_EXPR:S,DATA_ATTR:O,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:$}=mE,{IS_ALLOWED_URI:F}=mE,G=null,q=mr({},[...uE,...u4,...h4,...d4,...hE]),V=null,H=mr({},[...dE,...p4,...pE,...nm]),ae=Object.seal(oE(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),re=null,oe=null,ue=!0,W=!0,ee=!1,X=!0,Z=!1,J=!0,he=!1,K=!1,me=!1,Y=!1,_e=!1,ce=!1,Ne=!0,Be=!1,je="user-content-",qe=!0,Se=!1,Re={},ve=null,Fe=mr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),de=null,Ve=mr({},["audio","video","img","source","image","track"]),Q=null,Me=mr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),z="http://www.w3.org/1998/Math/MathML",te="http://www.w3.org/2000/svg",se="http://www.w3.org/1999/xhtml",pe=se,fe=!1,we=null,Ce=mr({},[z,te,se],c4),Te=mr({},["mi","mo","mn","ms","mtext"]),ze=mr({},["annotation-xml"]),He=mr({},["title","style","font","a","script"]),at=null,$e=["application/xhtml+xml","text/html"],Ye="text/html",Ue=null,Ge=null,Xe=r.createElement("form"),kt=l(function(be){return be instanceof RegExp||be instanceof Function},"isRegexOrFunction"),ct=l(function(){let be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ge&&Ge===be)){if((!be||typeof be!="object")&&(be={}),be=$o(be),at=$e.indexOf(be.PARSER_MEDIA_TYPE)===-1?Ye:be.PARSER_MEDIA_TYPE,Ue=at==="application/xhtml+xml"?c4:im,G=ws(be,"ALLOWED_TAGS")?mr({},be.ALLOWED_TAGS,Ue):q,V=ws(be,"ALLOWED_ATTR")?mr({},be.ALLOWED_ATTR,Ue):H,we=ws(be,"ALLOWED_NAMESPACES")?mr({},be.ALLOWED_NAMESPACES,c4):Ce,Q=ws(be,"ADD_URI_SAFE_ATTR")?mr($o(Me),be.ADD_URI_SAFE_ATTR,Ue):Me,de=ws(be,"ADD_DATA_URI_TAGS")?mr($o(Ve),be.ADD_DATA_URI_TAGS,Ue):Ve,ve=ws(be,"FORBID_CONTENTS")?mr({},be.FORBID_CONTENTS,Ue):Fe,re=ws(be,"FORBID_TAGS")?mr({},be.FORBID_TAGS,Ue):$o({}),oe=ws(be,"FORBID_ATTR")?mr({},be.FORBID_ATTR,Ue):$o({}),Re=ws(be,"USE_PROFILES")?be.USE_PROFILES:!1,ue=be.ALLOW_ARIA_ATTR!==!1,W=be.ALLOW_DATA_ATTR!==!1,ee=be.ALLOW_UNKNOWN_PROTOCOLS||!1,X=be.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Z=be.SAFE_FOR_TEMPLATES||!1,J=be.SAFE_FOR_XML!==!1,he=be.WHOLE_DOCUMENT||!1,Y=be.RETURN_DOM||!1,_e=be.RETURN_DOM_FRAGMENT||!1,ce=be.RETURN_TRUSTED_TYPE||!1,me=be.FORCE_BODY||!1,Ne=be.SANITIZE_DOM!==!1,Be=be.SANITIZE_NAMED_PROPS||!1,qe=be.KEEP_CONTENT!==!1,Se=be.IN_PLACE||!1,F=be.ALLOWED_URI_REGEXP||gE,pe=be.NAMESPACE||se,Te=be.MATHML_TEXT_INTEGRATION_POINTS||Te,ze=be.HTML_INTEGRATION_POINTS||ze,ae=be.CUSTOM_ELEMENT_HANDLING||{},be.CUSTOM_ELEMENT_HANDLING&&kt(be.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=be.CUSTOM_ELEMENT_HANDLING.tagNameCheck),be.CUSTOM_ELEMENT_HANDLING&&kt(be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),be.CUSTOM_ELEMENT_HANDLING&&typeof be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Z&&(W=!1),_e&&(Y=!0),Re&&(G=mr({},hE),V=[],Re.html===!0&&(mr(G,uE),mr(V,dE)),Re.svg===!0&&(mr(G,u4),mr(V,p4),mr(V,nm)),Re.svgFilters===!0&&(mr(G,h4),mr(V,p4),mr(V,nm)),Re.mathMl===!0&&(mr(G,d4),mr(V,pE),mr(V,nm))),be.ADD_TAGS&&(G===q&&(G=$o(G)),mr(G,be.ADD_TAGS,Ue)),be.ADD_ATTR&&(V===H&&(V=$o(V)),mr(V,be.ADD_ATTR,Ue)),be.ADD_URI_SAFE_ATTR&&mr(Q,be.ADD_URI_SAFE_ATTR,Ue),be.FORBID_CONTENTS&&(ve===Fe&&(ve=$o(ve)),mr(ve,be.FORBID_CONTENTS,Ue)),qe&&(G["#text"]=!0),he&&mr(G,["html","head","body"]),G.table&&(mr(G,["tbody"]),delete re.tbody),be.TRUSTED_TYPES_POLICY){if(typeof be.TRUSTED_TYPES_POLICY.createHTML!="function")throw _p('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof be.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw _p('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=be.TRUSTED_TYPES_POLICY,T=k.createHTML("")}else k===void 0&&(k=sV(f,n)),k!==null&&typeof T=="string"&&(T=k.createHTML(""));qn&&qn(be),Ge=be}},"_parseConfig"),ot=mr({},[...u4,...h4,...XH]),Et=mr({},[...d4,...KH]),tt=l(function(be){let dt=w(be);(!dt||!dt.tagName)&&(dt={namespaceURI:pe,tagName:"template"});let ut=im(be.tagName),ur=im(dt.tagName);return we[be.namespaceURI]?be.namespaceURI===te?dt.namespaceURI===se?ut==="svg":dt.namespaceURI===z?ut==="svg"&&(ur==="annotation-xml"||Te[ur]):!!ot[ut]:be.namespaceURI===z?dt.namespaceURI===se?ut==="math":dt.namespaceURI===te?ut==="math"&&ze[ur]:!!Et[ut]:be.namespaceURI===se?dt.namespaceURI===te&&!ze[ur]||dt.namespaceURI===z&&!Te[ur]?!1:!Et[ut]&&(He[ut]||!ot[ut]):!!(at==="application/xhtml+xml"&&we[be.namespaceURI]):!1},"_checkValidNamespace"),ht=l(function(be){Cp(t.removed,{element:be});try{w(be).removeChild(be)}catch{b(be)}},"_forceRemove"),ft=l(function(be,dt){try{Cp(t.removed,{attribute:dt.getAttributeNode(be),from:dt})}catch{Cp(t.removed,{attribute:null,from:dt})}if(dt.removeAttribute(be),be==="is")if(Y||_e)try{ht(dt)}catch{}else try{dt.setAttribute(be,"")}catch{}},"_removeAttribute"),Qe=l(function(be){let dt=null,ut=null;if(me)be="<remove></remove>"+be;else{let Ar=cE(be,/^[\r\n\t ]+/);ut=Ar&&Ar[0]}at==="application/xhtml+xml"&&pe===se&&(be='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+be+"</body></html>");let ur=k?k.createHTML(be):be;if(pe===se)try{dt=new g().parseFromString(ur,at)}catch{}if(!dt||!dt.documentElement){dt=_.createDocument(pe,"template",null);try{dt.documentElement.innerHTML=fe?T:ur}catch{}}let Ir=dt.body||dt.documentElement;return be&&ut&&Ir.insertBefore(r.createTextNode(ut),Ir.childNodes[0]||null),pe===se?N.call(dt,he?"html":"body")[0]:he?dt.documentElement:Ir},"_initDocument"),Ze=l(function(be){return C.call(be.ownerDocument||be,be,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),_t=l(function(be){return be instanceof p&&(typeof be.nodeName!="string"||typeof be.textContent!="string"||typeof be.removeChild!="function"||!(be.attributes instanceof d)||typeof be.removeAttribute!="function"||typeof be.setAttribute!="function"||typeof be.namespaceURI!="string"||typeof be.insertBefore!="function"||typeof be.hasChildNodes!="function")},"_isClobbered"),jt=l(function(be){return typeof o=="function"&&be instanceof o},"_isNode");function Pt(be,dt,ut){rm(be,ur=>{ur.call(t,dt,ut,Ge)})}l(Pt,"_executeHooks");let Vr=l(function(be){let dt=null;if(Pt(I.beforeSanitizeElements,be,null),_t(be))return ht(be),!0;let ut=Ue(be.nodeName);if(Pt(I.uponSanitizeElement,be,{tagName:ut,allowedTags:G}),J&&be.hasChildNodes()&&!jt(be.firstElementChild)&&jn(/<[/\w!]/g,be.innerHTML)&&jn(/<[/\w!]/g,be.textContent)||be.nodeType===Ap.progressingInstruction||J&&be.nodeType===Ap.comment&&jn(/<[/\w]/g,be.data))return ht(be),!0;if(!G[ut]||re[ut]){if(!re[ut]&&Jt(ut)&&(ae.tagNameCheck instanceof RegExp&&jn(ae.tagNameCheck,ut)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(ut)))return!1;if(qe&&!ve[ut]){let ur=w(be)||be.parentNode,Ir=x(be)||be.childNodes;if(Ir&&ur){let Ar=Ir.length;for(let Cn=Ar-1;Cn>=0;--Cn){let ni=y(Ir[Cn],!0);ni.__removalCount=(be.__removalCount||0)+1,ur.insertBefore(ni,v(be))}}}return ht(be),!0}return be instanceof u&&!tt(be)||(ut==="noscript"||ut==="noembed"||ut==="noframes")&&jn(/<\/no(script|embed|frames)/i,be.innerHTML)?(ht(be),!0):(Z&&be.nodeType===Ap.text&&(dt=be.textContent,rm([A,B,S],ur=>{dt=Sp(dt,ur," ")}),be.textContent!==dt&&(Cp(t.removed,{element:be.cloneNode()}),be.textContent=dt)),Pt(I.afterSanitizeElements,be,null),!1)},"_sanitizeElements"),lr=l(function(be,dt,ut){if(Ne&&(dt==="id"||dt==="name")&&(ut in r||ut in Xe))return!1;if(!(W&&!oe[dt]&&jn(O,dt))&&!(ue&&jn(R,dt))){if(!V[dt]||oe[dt]){if(!(Jt(be)&&(ae.tagNameCheck instanceof RegExp&&jn(ae.tagNameCheck,be)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(be))&&(ae.attributeNameCheck instanceof RegExp&&jn(ae.attributeNameCheck,dt)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(dt))||dt==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&jn(ae.tagNameCheck,ut)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(ut))))return!1}else if(!Q[dt]&&!jn(F,Sp(ut,L,""))&&!((dt==="src"||dt==="xlink:href"||dt==="href")&&be!=="script"&&YH(ut,"data:")===0&&de[be])&&!(ee&&!jn(P,Sp(ut,L,"")))&&ut)return!1}return!0},"_isValidAttribute"),Jt=l(function(be){return be!=="annotation-xml"&&cE(be,$)},"_isBasicCustomElement"),fr=l(function(be){Pt(I.beforeSanitizeAttributes,be,null);let{attributes:dt}=be;if(!dt||_t(be))return;let ut={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:V,forceKeepAttr:void 0},ur=dt.length;for(;ur--;){let Ir=dt[ur],{name:Ar,namespaceURI:Cn,value:ni}=Ir,nn=Ue(Ar),Ka=ni,Xr=Ar==="value"?Ka:WH(Ka);if(ut.attrName=nn,ut.attrValue=Xr,ut.keepAttr=!0,ut.forceKeepAttr=void 0,Pt(I.uponSanitizeAttribute,be,ut),Xr=ut.attrValue,Be&&(nn==="id"||nn==="name")&&(ft(Ar,be),Xr=je+Xr),J&&jn(/((--!?|])>)|<\/(style|title)/i,Xr)){ft(Ar,be);continue}if(ut.forceKeepAttr)continue;if(!ut.keepAttr){ft(Ar,be);continue}if(!X&&jn(/\/>/i,Xr)){ft(Ar,be);continue}Z&&rm([A,B,S],xt=>{Xr=Sp(Xr,xt," ")});let Ai=Ue(be.nodeName);if(!lr(Ai,nn,Xr)){ft(Ar,be);continue}if(k&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Cn)switch(f.getAttributeType(Ai,nn)){case"TrustedHTML":{Xr=k.createHTML(Xr);break}case"TrustedScriptURL":{Xr=k.createScriptURL(Xr);break}}if(Xr!==Ka)try{Cn?be.setAttributeNS(Cn,Ar,Xr):be.setAttribute(Ar,Xr),_t(be)?ht(be):lE(t.removed)}catch{ft(Ar,be)}}Pt(I.afterSanitizeAttributes,be,null)},"_sanitizeAttributes"),Mr=l(function be(dt){let ut=null,ur=Ze(dt);for(Pt(I.beforeSanitizeShadowDOM,dt,null);ut=ur.nextNode();)Pt(I.uponSanitizeShadowNode,ut,null),Vr(ut),fr(ut),ut.content instanceof a&&be(ut.content);Pt(I.afterSanitizeShadowDOM,dt,null)},"_sanitizeShadowDOM");return t.sanitize=function(be){let dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ut=null,ur=null,Ir=null,Ar=null;if(fe=!be,fe&&(be="<!-->"),typeof be!="string"&&!jt(be))if(typeof be.toString=="function"){if(be=be.toString(),typeof be!="string")throw _p("dirty is not a string, aborting")}else throw _p("toString is not a function");if(!t.isSupported)return be;if(K||ct(dt),t.removed=[],typeof be=="string"&&(Se=!1),Se){if(be.nodeName){let nn=Ue(be.nodeName);if(!G[nn]||re[nn])throw _p("root node is forbidden and cannot be sanitized in-place")}}else if(be instanceof o)ut=Qe("<!---->"),ur=ut.ownerDocument.importNode(be,!0),ur.nodeType===Ap.element&&ur.nodeName==="BODY"||ur.nodeName==="HTML"?ut=ur:ut.appendChild(ur);else{if(!Y&&!Z&&!he&&be.indexOf("<")===-1)return k&&ce?k.createHTML(be):be;if(ut=Qe(be),!ut)return Y?null:ce?T:""}ut&&me&&ht(ut.firstChild);let Cn=Ze(Se?be:ut);for(;Ir=Cn.nextNode();)Vr(Ir),fr(Ir),Ir.content instanceof a&&Mr(Ir.content);if(Se)return be;if(Y){if(_e)for(Ar=E.call(ut.ownerDocument);ut.firstChild;)Ar.appendChild(ut.firstChild);else Ar=ut;return(V.shadowroot||V.shadowrootmode)&&(Ar=M.call(i,Ar,!0)),Ar}let ni=he?ut.outerHTML:ut.innerHTML;return he&&G["!doctype"]&&ut.ownerDocument&&ut.ownerDocument.doctype&&ut.ownerDocument.doctype.name&&jn(fE,ut.ownerDocument.doctype.name)&&(ni="<!DOCTYPE "+ut.ownerDocument.doctype.name+`>
`+ni),Z&&rm([A,B,S],nn=>{ni=Sp(ni,nn," ")}),k&&ce?k.createHTML(ni):ni},t.setConfig=function(){let be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ct(be),K=!0},t.clearConfig=function(){Ge=null,K=!1},t.isValidAttribute=function(be,dt,ut){Ge||ct({});let ur=Ue(be),Ir=Ue(dt);return lr(ur,Ir,ut)},t.addHook=function(be,dt){typeof dt=="function"&&Cp(I[be],dt)},t.removeHook=function(be,dt){if(dt!==void 0){let ut=HH(I[be],dt);return ut===-1?void 0:VH(I[be],ut,1)[0]}return lE(I[be])},t.removeHooks=function(be){I[be]=[]},t.removeAllHooks=function(){I=yE()},t}var aE,sE,UH,qH,jH,qn,Qa,oE,o4,l4,rm,HH,lE,Cp,VH,im,c4,cE,Sp,YH,WH,ws,jn,_p,uE,u4,h4,XH,d4,KH,hE,dE,p4,pE,nm,ZH,QH,JH,eV,tV,gE,rV,iV,fE,nV,mE,Ap,aV,sV,yE,Ah,oV=D(()=>{"use strict";({entries:aE,setPrototypeOf:sE,isFrozen:UH,getPrototypeOf:qH,getOwnPropertyDescriptor:jH}=Object),{freeze:qn,seal:Qa,create:oE}=Object,{apply:o4,construct:l4}=typeof Reflect<"u"&&Reflect,qn||(qn=l(function(e){return e},"freeze")),Qa||(Qa=l(function(e){return e},"seal")),o4||(o4=l(function(e,t,r){return e.apply(t,r)},"apply")),l4||(l4=l(function(e,t){return new e(...t)},"construct")),rm=Un(Array.prototype.forEach),HH=Un(Array.prototype.lastIndexOf),lE=Un(Array.prototype.pop),Cp=Un(Array.prototype.push),VH=Un(Array.prototype.splice),im=Un(String.prototype.toLowerCase),c4=Un(String.prototype.toString),cE=Un(String.prototype.match),Sp=Un(String.prototype.replace),YH=Un(String.prototype.indexOf),WH=Un(String.prototype.trim),ws=Un(Object.prototype.hasOwnProperty),jn=Un(RegExp.prototype.test),_p=zH(TypeError),l(Un,"unapply"),l(zH,"unconstruct"),l(mr,"addToSet"),l(GH,"cleanArray"),l($o,"clone"),l(Ep,"lookupGetter"),uE=qn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),u4=qn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),h4=qn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),XH=qn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),d4=qn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),KH=qn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),hE=qn(["#text"]),dE=qn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),p4=qn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),pE=qn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),nm=qn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ZH=Qa(/\{\{[\w\W]*|[\w\W]*\}\}/gm),QH=Qa(/<%[\w\W]*|[\w\W]*%>/gm),JH=Qa(/\$\{[\w\W]*/gm),eV=Qa(/^data-[\-\w.\u00B7-\uFFFF]+$/),tV=Qa(/^aria-[\-\w]+$/),gE=Qa(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),rV=Qa(/^(?:\w+script|data):/i),iV=Qa(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),fE=Qa(/^html$/i),nV=Qa(/^[a-z][.\w]*(-[.\w]+)+$/i),mE=Object.freeze({__proto__:null,ARIA_ATTR:tV,ATTR_WHITESPACE:iV,CUSTOM_ELEMENT:nV,DATA_ATTR:eV,DOCTYPE_NAME:fE,ERB_EXPR:QH,IS_ALLOWED_URI:gE,IS_SCRIPT_OR_DATA:rV,MUSTACHE_EXPR:ZH,TMPLIT_EXPR:JH}),Ap={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},aV=l(function(){return typeof window>"u"?null:window},"getGlobal"),sV=l(function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null,i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(r=t.getAttribute(i));let n="dompurify"+(r?"#"+r:"");try{return e.createPolicy(n,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+n+" could not be created."),null}},"_createTrustedTypesPolicy"),yE=l(function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},"_createHooksMap"),l(nE,"createDOMPurify"),Ah=nE()}),lV={};sr(lV,{ParseError:()=>lt,SETTINGS_SCHEMA:()=>Lp,__defineFunction:()=>wt,__defineMacro:()=>le,__defineSymbol:()=>U,__domTree:()=>JC,__parse:()=>XC,__renderToDomTree:()=>Sm,__renderToHTMLTree:()=>ZC,__setFontMetrics:()=>bE,default:()=>iW,render:()=>i3,renderToString:()=>WC,version:()=>QC});function cV(e){return String(e).replace(wV,t=>xV[t])}function uV(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}function hV(e){for(var t=0;t<k4.length;t++)for(var r=k4[t],i=0;i<r.blocks.length;i++){var n=r.blocks[i];if(e>=n[0]&&e<=n[1])return r.name}return null}function vE(e){for(var t=0;t<cm.length;t+=2)if(e>=cm[t]&&e<=cm[t+1])return!0;return!1}function bE(e,t){Ks[e]=t}function g4(e,t,r){if(!Ks[t])throw new Error("Font metrics not found for font: "+t+".");var i=e.charCodeAt(0),n=Ks[t][i];if(!n&&e[0]in NE&&(i=NE[e[0]].charCodeAt(0),n=Ks[t][i]),!n&&r==="text"&&vE(i)&&(n=Ks[t][77]),n)return{depth:n[0],height:n[1],italic:n[2],skew:n[3],width:n[4]}}function dV(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!T4[t]){var r=T4[t]={cssEmPerMu:um.quad[t]/18};for(var i in um)um.hasOwnProperty(i)&&(r[i]=um[i][t])}return T4[t]}function xE(e){if(e instanceof es)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function pV(e){if(e instanceof Ip)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}function U(e,t,r,i,n,a){Kr[e][n]={font:t,group:r,replace:i},a&&i&&(Kr[e][i]=Kr[e][n])}function wt(e){for(var{type:t,names:r,props:i,handler:n,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:n},u=0;u<r.length;++u)WE[r[u]]=o;t&&(a&&(vm[t]=a),s&&(bm[t]=s))}function cu(e){var{type:t,htmlBuilder:r,mathmlBuilder:i}=e;wt({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:i})}function am(e,t){var r=qo(["base"],e,t),i=qo(["strut"]);return i.style.height=gt(r.height+r.depth),r.depth&&(i.style.verticalAlign=gt(-r.depth)),r.children.unshift(i),r}function f4(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var i=zi(e,t,"root"),n;i.length===2&&i[1].hasClass("tag")&&(n=i.pop());for(var a=[],s=[],o=0;o<i.length;o++)if(s.push(i[o]),i[o].hasClass("mbin")||i[o].hasClass("mrel")||i[o].hasClass("allowbreak")){for(var u=!1;o<i.length-1&&i[o+1].hasClass("mspace")&&!i[o+1].hasClass("newline");)o++,s.push(i[o]),i[o].hasClass("nobreak")&&(u=!0);u||(a.push(am(s,t)),s=[])}else i[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(am(s,t)),s=[]),a.push(i[o]));s.length>0&&a.push(am(s,t));var h;r?(h=am(zi(r,t,!0)),h.classes=["tag"],a.push(h)):n&&a.push(n);var d=qo(["katex-html"],a);if(d.setAttribute("aria-hidden","true"),h){var p=h.children[0];p.style.height=gt(d.height+d.depth),d.depth&&(p.style.verticalAlign=gt(-d.depth))}return d}function wE(e){return new Mp(e)}function m4(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof Zs&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var r=e.children[0];return r instanceof Zs&&r.text===","}else return!1}function kE(e,t,r,i,n){var a=pa(e,r),s;a.length===1&&a[0]instanceof Ra&&Vt.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new it.MathNode("mrow",a);var o=new it.MathNode("annotation",[new it.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var u=new it.MathNode("semantics",[s,o]),h=new it.MathNode("math",[u]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&h.setAttribute("display","block");var d=n?"katex":"katex-mathml";return Oe.makeSpan([d],[h])}function dr(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function y4(e){var t=sm(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function sm(e){return e&&(e.type==="atom"||YV.hasOwnProperty(e.type))?e:null}function TE(e,t){var r=zi(e.body,t,!0);return EY([e.mclass],r,t)}function EE(e,t){var r,i=pa(e.body,t);return e.mclass==="minner"?r=new it.MathNode("mpadded",i):e.mclass==="mord"?e.isCharacterBox?(r=i[0],r.type="mi"):r=new it.MathNode("mi",i):(e.isCharacterBox?(r=i[0],r.type="mo"):r=new it.MathNode("mo",i),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}function gV(e,t,r){var i=CY[e];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(i,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var n=r.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:i,mode:"math",family:"rel"},s=r.callFunction("\\Big",[a],[]),o=r.callFunction("\\\\cdright",[t[1]],[]),u={type:"ordgroup",mode:"math",body:[n,s,o]};return r.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function fV(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r==="&"||r==="\\\\")e.consume();else if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new lt("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var i=[],n=[i],a=0;a<t.length;a++){for(var s=t[a],o=eC(),u=0;u<s.length;u++)if(!tC(s[u]))o.body.push(s[u]);else{i.push(o),u+=1;var h=y4(s[u]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var p=0;p<2;p++){for(var g=!0,f=u+1;f<s.length;f++){if(SY(s[f],h)){g=!1,u=f;break}if(tC(s[f]))throw new lt("Missing a "+h+" character to complete a CD arrow.",s[f]);d[p].body.push(s[f])}if(g)throw new lt("Missing a "+h+" character to complete a CD arrow.",s[u])}else throw new lt('Expected one of "<>AV=|." after @',s[u]);var m=gV(h,d,e),y={type:"styling",body:[m],mode:"math",style:"display"};i.push(y),o=eC()}a%2===0?i.push(o):i.shift(),i=[],n.push(i)}e.gullet.endGroup(),e.gullet.endGroup();var b=new Array(n[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:n,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(n.length+1).fill([])}}function om(e,t){var r=sm(e);if(r&&Vt.contains(FY,r.text))return r;throw r?new lt("Invalid delimiter '"+r.text+"' after '"+t.funcName+"'",e):new lt("Invalid delimiter type '"+e.type+"'",e)}function CE(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}function Ys(e){for(var{type:t,names:r,props:i,handler:n,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:n},u=0;u<r.length;++u)fC[r[u]]=o;a&&(vm[t]=a),s&&(bm[t]=s)}function le(e,t){mC[e]=t}function SE(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}function v4(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function Gl(e,t,r){var{hskipBeforeAndAfter:i,addJot:n,cols:a,arraystretch:s,colSeparationType:o,autoTag:u,singleRow:h,emptySingleRow:d,maxNumCols:p,leqno:g}=t;if(e.gullet.beginGroup(),h||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var f=e.gullet.expandMacroAsText("\\arraystretch");if(f==null)s=1;else if(s=parseFloat(f),!s||s<0)throw new lt("Invalid \\arraystretch: "+f)}e.gullet.beginGroup();var m=[],y=[m],b=[],v=[],x=u!=null?[]:void 0;function w(){u&&e.gullet.macros.set("\\@eqnsw","1",!0)}l(w,"beginRow");function k(){x&&(e.gullet.macros.get("\\df@tag")?(x.push(e.subparse([new Ws("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):x.push(!!u&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(l(k,"endRow"),w(),v.push(SE(e));;){var T=e.parseExpression(!1,h?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),T={type:"ordgroup",mode:e.mode,body:T},r&&(T={type:"styling",mode:e.mode,style:r,body:[T]}),m.push(T);var _=e.fetch().text;if(_==="&"){if(p&&m.length===p){if(h||o)throw new lt("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(_==="\\end"){k(),m.length===1&&T.type==="styling"&&T.body[0].body.length===0&&(y.length>1||!d)&&y.pop(),v.length<y.length+1&&v.push([]);break}else if(_==="\\\\"){e.consume();var C=void 0;e.gullet.future().text!==" "&&(C=e.parseSizeGroup(!0)),b.push(C?C.value:null),k(),v.push(SE(e)),m=[],y.push(m),w()}else throw new lt("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:n,arraystretch:s,body:y,cols:a,rowGaps:b,hskipBeforeAndAfter:i,hLinesBeforeRow:v,colSeparationType:o,tags:x,leqno:g}}function b4(e){return e.slice(0,1)==="d"?"display":"text"}function _E(e,t,r){for(var i=zi(e,t,!1),n=t.sizeMultiplier/r.sizeMultiplier,a=0;a<i.length;a++){var s=i[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(i[a].classes,t.sizingClasses(r)):i[a].classes[s+1]==="reset-size"+t.size&&(i[a].classes[s+1]="reset-size"+r.size),i[a].height*=n,i[a].depth*=n}return Oe.makeFragment(i)}var ks,Ws,lt,mV,yV,vV,bV,xV,wV,AE,kV,TV,EV,Vt,Lp,x4,Ul,w4,lm,Lh,Fo,Np,Ja,Nh,Hn,Xs,CV,SV,_V,AV,LV,NV,Xt,k4,cm,Mh,MV,IV,DV,RV,OV,PV,BV,$V,FV,LE,zV,Mp,Ks,um,NE,T4,GV,ME,IE,DE,E4,UV,RE,ui,gt,ql,OE,PE,qV,BE,Ip,C4,jV,HV,es,zo,jl,S4,VV,YV,Kr,j,et,ie,xe,ai,Ct,Vn,Ih,Kt,Li,Da,hm,ke,Go,Ae,$E,FE,zE,_4,GE,UE,A4,dm,pm,L4,ir,gi,Yn,Hl,uu,N4,gm,M4,fm,qE,WV,mm,Ts,XV,KV,ZV,QV,JV,I4,da,jE,eY,tY,HE,rY,iY,nY,aY,ym,VE,YE,sY,Oe,hi,hu,Uo,oY,lY,WE,vm,bm,xm,Ti,qo,cY,uY,hY,dY,zi,XE,KE,pY,D4,Dp,Er,Ra,Zs,gY,it,ts,R4,O4,pa,Vl,Yr,ZE,QE,fY,mY,yY,vY,bY,xY,wY,kY,jo,P4,JE,TY,wm,EY,km,CY,eC,tC,SY,rC,iC,B4,nC,_Y,aC,Rp,$4,sC,AY,LY,oC,F4,z4,G4,Tm,NY,MY,lC,U4,q4,j4,IY,cC,DY,uC,Op,RY,OY,PY,hC,BY,dC,pC,$Y,Ho,gC,FY,H4,V4,fC,mC,Em,Qs,zY,Js,yC,vC,bC,xC,wC,kC,Y4,W4,TC,EC,CC,GY,X4,SC,_C,AC,Dh,Pp,UY,qY,LC,jY,NC,HY,MC,VY,IC,K4,Z4,DC,RC,OC,YY,PC,BC,Yl,$C,WY,XY,KY,ZY,Q4,QY,JY,FC,eW,tW,zC,J4,GC,e3,UC,qC,jC,rW,HC,Cm,t3,VC,YC,r3,i3,WC,XC,KC,Sm,ZC,QC,JC,iW,UUe=D(()=>{"use strict";for(ks=class YGe{static{l(this,"SourceLocation")}constructor(t,r,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=r,this.end=i}static range(t,r){return r?!t||!t.loc||!r.loc||t.loc.lexer!==r.loc.lexer?null:new YGe(t.loc.lexer,t.loc.start,r.loc.end):t&&t.loc}},Ws=class WGe{static{l(this,"Token")}constructor(t,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=r}range(t,r){return new WGe(r,ks.range(this,t))}},lt=class XGe{static{l(this,"ParseError")}constructor(t,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+t,n,a,s=r&&r.loc;if(s&&s.start<=s.end){var o=s.lexer.input;n=s.start,a=s.end,n===o.length?i+=" at end of input: ":i+=" at position "+(n+1)+": ";var u=o.slice(n,a).replace(/[^]/g,"$&\u0332"),h;n>15?h="\u2026"+o.slice(n-15,n):h=o.slice(0,n);var d;a+15<o.length?d=o.slice(a,a+15)+"\u2026":d=o.slice(a),i+=h+u+d}var p=new Error(i);return p.name="ParseError",p.__proto__=XGe.prototype,p.position=n,n!=null&&a!=null&&(p.length=a-n),p.rawMessage=t,p}},lt.prototype.__proto__=Error.prototype,mV=l(function(e,t){return e.indexOf(t)!==-1},"contains"),yV=l(function(e,t){return e===void 0?t:e},"deflt"),vV=/([A-Z])/g,bV=l(function(e){return e.replace(vV,"-$1").toLowerCase()},"hyphenate"),xV={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},wV=/[&><"']/g,l(cV,"escape"),AE=l(function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},"getBaseElem"),kV=l(function(e){var t=AE(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},"isCharacterBox"),TV=l(function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},"assert"),EV=l(function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():"_relative"},"protocolFromUrl"),Vt={contains:mV,deflt:yV,escape:cV,hyphenate:bV,getBaseElem:AE,isCharacterBox:kV,protocolFromUrl:EV},Lp={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:l(e=>"#"+e,"cliProcessor")},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:l((e,t)=>(t.push(e),t),"cliProcessor")},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:l(e=>Math.max(0,e),"processor"),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:l(e=>Math.max(0,e),"processor"),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:l(e=>Math.max(0,e),"processor"),cli:"-e, --max-expand <n>",cliProcessor:l(e=>e==="Infinity"?1/0:parseInt(e),"cliProcessor")},globalGroup:{type:"boolean",cli:!1}},l(uV,"getDefaultValue"),x4=class{static{l(this,"Settings")}constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in Lp)if(Lp.hasOwnProperty(t)){var r=Lp[t];this[t]=e[t]!==void 0?r.processor?r.processor(e[t]):e[t]:uV(r)}}reportNonstrict(e,t,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,t,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new lt("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,r){var i=this.strict;if(typeof i=="function")try{i=i(e,t,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var t=Vt.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}},Ul=class{static{l(this,"Style")}constructor(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}sup(){return Xs[CV[this.id]]}sub(){return Xs[SV[this.id]]}fracNum(){return Xs[_V[this.id]]}fracDen(){return Xs[AV[this.id]]}cramp(){return Xs[LV[this.id]]}text(){return Xs[NV[this.id]]}isTight(){return this.size>=2}},w4=0,lm=1,Lh=2,Fo=3,Np=4,Ja=5,Nh=6,Hn=7,Xs=[new Ul(w4,0,!1),new Ul(lm,0,!0),new Ul(Lh,1,!1),new Ul(Fo,1,!0),new Ul(Np,2,!1),new Ul(Ja,2,!0),new Ul(Nh,3,!1),new Ul(Hn,3,!0)],CV=[Np,Ja,Np,Ja,Nh,Hn,Nh,Hn],SV=[Ja,Ja,Ja,Ja,Hn,Hn,Hn,Hn],_V=[Lh,Fo,Np,Ja,Nh,Hn,Nh,Hn],AV=[Fo,Fo,Ja,Ja,Hn,Hn,Hn,Hn],LV=[lm,lm,Fo,Fo,Ja,Ja,Hn,Hn],NV=[w4,lm,Lh,Fo,Lh,Fo,Lh,Fo],Xt={DISPLAY:Xs[w4],TEXT:Xs[Lh],SCRIPT:Xs[Np],SCRIPTSCRIPT:Xs[Nh]},k4=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],l(hV,"scriptFromCodepoint"),cm=[],k4.forEach(e=>e.blocks.forEach(t=>cm.push(...t))),l(vE,"supportedCodepoint"),Mh=80,MV=l(function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},"sqrtMain"),IV=l(function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},"sqrtSize1"),DV=l(function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},"sqrtSize2"),RV=l(function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},"sqrtSize3"),OV=l(function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},"sqrtSize4"),PV=l(function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},"phasePath"),BV=l(function(e,t,r){var i=r-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},"sqrtTall"),$V=l(function(e,t,r){t=1e3*t;var i="";switch(e){case"sqrtMain":i=MV(t,Mh);break;case"sqrtSize1":i=IV(t,Mh);break;case"sqrtSize2":i=DV(t,Mh);break;case"sqrtSize3":i=RV(t,Mh);break;case"sqrtSize4":i=OV(t,Mh);break;case"sqrtTall":i=BV(t,Mh,r)}return i},"sqrtPath"),FV=l(function(e,t){switch(e){case"\u239C":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"\u2223":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"\u2225":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"\u239F":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"\u23A2":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"\u23A5":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"\u23AA":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"\u23D0":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"\u2016":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},"innerPath"),LE={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},zV=l(function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}},"tallDelim"),Mp=class{static{l(this,"DocumentFragment")}constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Vt.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=l(t=>t.toText(),"toText");return this.children.map(e).join("")}},Ks={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},um={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},NE={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"},l(bE,"setFontMetrics"),l(g4,"getCharacterMetrics"),T4={},l(dV,"getGlobalMetrics"),GV=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],ME=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],IE=l(function(e,t){return t.size<2?e:GV[e-1][t.size-1]},"sizeAtStyle"),DE=class wp{static{l(this,"Options")}constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||wp.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=ME[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return new wp(r)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:IE(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:ME[t-1]})}havingBaseStyle(t){t=t||this.style.text();var r=IE(wp.BASESIZE,t);return this.size===r&&this.textSize===wp.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==wp.BASESIZE?["sizing","reset-size"+this.size,"size"+wp.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=dV(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}},DE.BASESIZE=6,E4={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},UV={ex:!0,em:!0,mu:!0},RE=l(function(e){return typeof e!="string"&&(e=e.unit),e in E4||e in UV||e==="ex"},"validUnit"),ui=l(function(e,t){var r;if(e.unit in E4)r=E4[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")r=t.fontMetrics().cssEmPerMu;else{var i;if(t.style.isTight()?i=t.havingStyle(t.style.text()):i=t,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new lt("Invalid unit: '"+e.unit+"'");i!==t&&(r*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},"calculateSize"),gt=l(function(e){return+e.toFixed(4)+"em"},"makeEm"),ql=l(function(e){return e.filter(t=>t).join(" ")},"createClass"),OE=l(function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var i=t.getColor();i&&(this.style.color=i)}},"initNode"),PE=l(function(e){var t=document.createElement(e);t.className=ql(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&t.setAttribute(i,this.attributes[i]);for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t},"toNode"),qV=/[\s"'>/=\x00-\x1f]/,BE=l(function(e){var t="<"+e;this.classes.length&&(t+=' class="'+Vt.escape(ql(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Vt.hyphenate(i)+":"+this.style[i]+";");r&&(t+=' style="'+Vt.escape(r)+'"');for(var n in this.attributes)if(this.attributes.hasOwnProperty(n)){if(qV.test(n))throw new lt("Invalid attribute name '"+n+"'");t+=" "+n+'="'+Vt.escape(this.attributes[n])+'"'}t+=">";for(var a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t+="</"+e+">",t},"toMarkup"),Ip=class{static{l(this,"Span")}constructor(e,t,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,OE.call(this,e,r,i),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return Vt.contains(this.classes,e)}toNode(){return PE.call(this,"span")}toMarkup(){return BE.call(this,"span")}},C4=class{static{l(this,"Anchor")}constructor(e,t,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,OE.call(this,t,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return Vt.contains(this.classes,e)}toNode(){return PE.call(this,"a")}toMarkup(){return BE.call(this,"a")}},jV=class{static{l(this,"Img")}constructor(e,t,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return Vt.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+Vt.escape(this.src)+'"'+(' alt="'+Vt.escape(this.alt)+'"'),t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=Vt.hyphenate(r)+":"+this.style[r]+";");return t&&(e+=' style="'+Vt.escape(t)+'"'),e+="'/>",e}},HV={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"},es=class{static{l(this,"SymbolNode")}constructor(e,t,r,i,n,a,s,o){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=i||0,this.skew=n||0,this.width=a||0,this.classes=s||[],this.style=o||{},this.maxFontSize=0;var u=hV(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=HV[this.text])}hasClass(e){return Vt.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=gt(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=ql(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(t=t||document.createElement("span"),t.style[r]=this.style[r]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=Vt.escape(ql(this.classes)),t+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Vt.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,t+=' style="'+Vt.escape(r)+'"');var n=Vt.escape(this.text);return e?(t+=">",t+=n,t+="</span>",t):n}},zo=class{static{l(this,"SvgNode")}constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+Vt.escape(this.attributes[t])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}},jl=class{static{l(this,"PathNode")}constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",LE[this.pathName]),t}toMarkup(){return this.alternate?'<path d="'+Vt.escape(this.alternate)+'"/>':'<path d="'+Vt.escape(LE[this.pathName])+'"/>'}},S4=class{static{l(this,"LineNode")}constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+Vt.escape(this.attributes[t])+'"');return e+="/>",e}},l(xE,"assertSymbolDomNode"),l(pV,"assertSpan"),VV={bin:1,close:1,inner:1,open:1,punct:1,rel:1},YV={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Kr={math:{},text:{}},l(U,"defineSymbol"),j="math",et="text",ie="main",xe="ams",ai="accent-token",Ct="bin",Vn="close",Ih="inner",Kt="mathord",Li="op-token",Da="open",hm="punct",ke="rel",Go="spacing",Ae="textord",U(j,ie,ke,"\u2261","\\equiv",!0),U(j,ie,ke,"\u227A","\\prec",!0),U(j,ie,ke,"\u227B","\\succ",!0),U(j,ie,ke,"\u223C","\\sim",!0),U(j,ie,ke,"\u22A5","\\perp"),U(j,ie,ke,"\u2AAF","\\preceq",!0),U(j,ie,ke,"\u2AB0","\\succeq",!0),U(j,ie,ke,"\u2243","\\simeq",!0),U(j,ie,ke,"\u2223","\\mid",!0),U(j,ie,ke,"\u226A","\\ll",!0),U(j,ie,ke,"\u226B","\\gg",!0),U(j,ie,ke,"\u224D","\\asymp",!0),U(j,ie,ke,"\u2225","\\parallel"),U(j,ie,ke,"\u22C8","\\bowtie",!0),U(j,ie,ke,"\u2323","\\smile",!0),U(j,ie,ke,"\u2291","\\sqsubseteq",!0),U(j,ie,ke,"\u2292","\\sqsupseteq",!0),U(j,ie,ke,"\u2250","\\doteq",!0),U(j,ie,ke,"\u2322","\\frown",!0),U(j,ie,ke,"\u220B","\\ni",!0),U(j,ie,ke,"\u221D","\\propto",!0),U(j,ie,ke,"\u22A2","\\vdash",!0),U(j,ie,ke,"\u22A3","\\dashv",!0),U(j,ie,ke,"\u220B","\\owns"),U(j,ie,hm,".","\\ldotp"),U(j,ie,hm,"\u22C5","\\cdotp"),U(j,ie,Ae,"#","\\#"),U(et,ie,Ae,"#","\\#"),U(j,ie,Ae,"&","\\&"),U(et,ie,Ae,"&","\\&"),U(j,ie,Ae,"\u2135","\\aleph",!0),U(j,ie,Ae,"\u2200","\\forall",!0),U(j,ie,Ae,"\u210F","\\hbar",!0),U(j,ie,Ae,"\u2203","\\exists",!0),U(j,ie,Ae,"\u2207","\\nabla",!0),U(j,ie,Ae,"\u266D","\\flat",!0),U(j,ie,Ae,"\u2113","\\ell",!0),U(j,ie,Ae,"\u266E","\\natural",!0),U(j,ie,Ae,"\u2663","\\clubsuit",!0),U(j,ie,Ae,"\u2118","\\wp",!0),U(j,ie,Ae,"\u266F","\\sharp",!0),U(j,ie,Ae,"\u2662","\\diamondsuit",!0),U(j,ie,Ae,"\u211C","\\Re",!0),U(j,ie,Ae,"\u2661","\\heartsuit",!0),U(j,ie,Ae,"\u2111","\\Im",!0),U(j,ie,Ae,"\u2660","\\spadesuit",!0),U(j,ie,Ae,"\xA7","\\S",!0),U(et,ie,Ae,"\xA7","\\S"),U(j,ie,Ae,"\xB6","\\P",!0),U(et,ie,Ae,"\xB6","\\P"),U(j,ie,Ae,"\u2020","\\dag"),U(et,ie,Ae,"\u2020","\\dag"),U(et,ie,Ae,"\u2020","\\textdagger"),U(j,ie,Ae,"\u2021","\\ddag"),U(et,ie,Ae,"\u2021","\\ddag"),U(et,ie,Ae,"\u2021","\\textdaggerdbl"),U(j,ie,Vn,"\u23B1","\\rmoustache",!0),U(j,ie,Da,"\u23B0","\\lmoustache",!0),U(j,ie,Vn,"\u27EF","\\rgroup",!0),U(j,ie,Da,"\u27EE","\\lgroup",!0),U(j,ie,Ct,"\u2213","\\mp",!0),U(j,ie,Ct,"\u2296","\\ominus",!0),U(j,ie,Ct,"\u228E","\\uplus",!0),U(j,ie,Ct,"\u2293","\\sqcap",!0),U(j,ie,Ct,"\u2217","\\ast"),U(j,ie,Ct,"\u2294","\\sqcup",!0),U(j,ie,Ct,"\u25EF","\\bigcirc",!0),U(j,ie,Ct,"\u2219","\\bullet",!0),U(j,ie,Ct,"\u2021","\\ddagger"),U(j,ie,Ct,"\u2240","\\wr",!0),U(j,ie,Ct,"\u2A3F","\\amalg"),U(j,ie,Ct,"&","\\And"),U(j,ie,ke,"\u27F5","\\longleftarrow",!0),U(j,ie,ke,"\u21D0","\\Leftarrow",!0),U(j,ie,ke,"\u27F8","\\Longleftarrow",!0),U(j,ie,ke,"\u27F6","\\longrightarrow",!0),U(j,ie,ke,"\u21D2","\\Rightarrow",!0),U(j,ie,ke,"\u27F9","\\Longrightarrow",!0),U(j,ie,ke,"\u2194","\\leftrightarrow",!0),U(j,ie,ke,"\u27F7","\\longleftrightarrow",!0),U(j,ie,ke,"\u21D4","\\Leftrightarrow",!0),U(j,ie,ke,"\u27FA","\\Longleftrightarrow",!0),U(j,ie,ke,"\u21A6","\\mapsto",!0),U(j,ie,ke,"\u27FC","\\longmapsto",!0),U(j,ie,ke,"\u2197","\\nearrow",!0),U(j,ie,ke,"\u21A9","\\hookleftarrow",!0),U(j,ie,ke,"\u21AA","\\hookrightarrow",!0),U(j,ie,ke,"\u2198","\\searrow",!0),U(j,ie,ke,"\u21BC","\\leftharpoonup",!0),U(j,ie,ke,"\u21C0","\\rightharpoonup",!0),U(j,ie,ke,"\u2199","\\swarrow",!0),U(j,ie,ke,"\u21BD","\\leftharpoondown",!0),U(j,ie,ke,"\u21C1","\\rightharpoondown",!0),U(j,ie,ke,"\u2196","\\nwarrow",!0),U(j,ie,ke,"\u21CC","\\rightleftharpoons",!0),U(j,xe,ke,"\u226E","\\nless",!0),U(j,xe,ke,"\uE010","\\@nleqslant"),U(j,xe,ke,"\uE011","\\@nleqq"),U(j,xe,ke,"\u2A87","\\lneq",!0),U(j,xe,ke,"\u2268","\\lneqq",!0),U(j,xe,ke,"\uE00C","\\@lvertneqq"),U(j,xe,ke,"\u22E6","\\lnsim",!0),U(j,xe,ke,"\u2A89","\\lnapprox",!0),U(j,xe,ke,"\u2280","\\nprec",!0),U(j,xe,ke,"\u22E0","\\npreceq",!0),U(j,xe,ke,"\u22E8","\\precnsim",!0),U(j,xe,ke,"\u2AB9","\\precnapprox",!0),U(j,xe,ke,"\u2241","\\nsim",!0),U(j,xe,ke,"\uE006","\\@nshortmid"),U(j,xe,ke,"\u2224","\\nmid",!0),U(j,xe,ke,"\u22AC","\\nvdash",!0),U(j,xe,ke,"\u22AD","\\nvDash",!0),U(j,xe,ke,"\u22EA","\\ntriangleleft"),U(j,xe,ke,"\u22EC","\\ntrianglelefteq",!0),U(j,xe,ke,"\u228A","\\subsetneq",!0),U(j,xe,ke,"\uE01A","\\@varsubsetneq"),U(j,xe,ke,"\u2ACB","\\subsetneqq",!0),U(j,xe,ke,"\uE017","\\@varsubsetneqq"),U(j,xe,ke,"\u226F","\\ngtr",!0),U(j,xe,ke,"\uE00F","\\@ngeqslant"),U(j,xe,ke,"\uE00E","\\@ngeqq"),U(j,xe,ke,"\u2A88","\\gneq",!0),U(j,xe,ke,"\u2269","\\gneqq",!0),U(j,xe,ke,"\uE00D","\\@gvertneqq"),U(j,xe,ke,"\u22E7","\\gnsim",!0),U(j,xe,ke,"\u2A8A","\\gnapprox",!0),U(j,xe,ke,"\u2281","\\nsucc",!0),U(j,xe,ke,"\u22E1","\\nsucceq",!0),U(j,xe,ke,"\u22E9","\\succnsim",!0),U(j,xe,ke,"\u2ABA","\\succnapprox",!0),U(j,xe,ke,"\u2246","\\ncong",!0),U(j,xe,ke,"\uE007","\\@nshortparallel"),U(j,xe,ke,"\u2226","\\nparallel",!0),U(j,xe,ke,"\u22AF","\\nVDash",!0),U(j,xe,ke,"\u22EB","\\ntriangleright"),U(j,xe,ke,"\u22ED","\\ntrianglerighteq",!0),U(j,xe,ke,"\uE018","\\@nsupseteqq"),U(j,xe,ke,"\u228B","\\supsetneq",!0),U(j,xe,ke,"\uE01B","\\@varsupsetneq"),U(j,xe,ke,"\u2ACC","\\supsetneqq",!0),U(j,xe,ke,"\uE019","\\@varsupsetneqq"),U(j,xe,ke,"\u22AE","\\nVdash",!0),U(j,xe,ke,"\u2AB5","\\precneqq",!0),U(j,xe,ke,"\u2AB6","\\succneqq",!0),U(j,xe,ke,"\uE016","\\@nsubseteqq"),U(j,xe,Ct,"\u22B4","\\unlhd"),U(j,xe,Ct,"\u22B5","\\unrhd"),U(j,xe,ke,"\u219A","\\nleftarrow",!0),U(j,xe,ke,"\u219B","\\nrightarrow",!0),U(j,xe,ke,"\u21CD","\\nLeftarrow",!0),U(j,xe,ke,"\u21CF","\\nRightarrow",!0),U(j,xe,ke,"\u21AE","\\nleftrightarrow",!0),U(j,xe,ke,"\u21CE","\\nLeftrightarrow",!0),U(j,xe,ke,"\u25B3","\\vartriangle"),U(j,xe,Ae,"\u210F","\\hslash"),U(j,xe,Ae,"\u25BD","\\triangledown"),U(j,xe,Ae,"\u25CA","\\lozenge"),U(j,xe,Ae,"\u24C8","\\circledS"),U(j,xe,Ae,"\xAE","\\circledR"),U(et,xe,Ae,"\xAE","\\circledR"),U(j,xe,Ae,"\u2221","\\measuredangle",!0),U(j,xe,Ae,"\u2204","\\nexists"),U(j,xe,Ae,"\u2127","\\mho"),U(j,xe,Ae,"\u2132","\\Finv",!0),U(j,xe,Ae,"\u2141","\\Game",!0),U(j,xe,Ae,"\u2035","\\backprime"),U(j,xe,Ae,"\u25B2","\\blacktriangle"),U(j,xe,Ae,"\u25BC","\\blacktriangledown"),U(j,xe,Ae,"\u25A0","\\blacksquare"),U(j,xe,Ae,"\u29EB","\\blacklozenge"),U(j,xe,Ae,"\u2605","\\bigstar"),U(j,xe,Ae,"\u2222","\\sphericalangle",!0),U(j,xe,Ae,"\u2201","\\complement",!0),U(j,xe,Ae,"\xF0","\\eth",!0),U(et,ie,Ae,"\xF0","\xF0"),U(j,xe,Ae,"\u2571","\\diagup"),U(j,xe,Ae,"\u2572","\\diagdown"),U(j,xe,Ae,"\u25A1","\\square"),U(j,xe,Ae,"\u25A1","\\Box"),U(j,xe,Ae,"\u25CA","\\Diamond"),U(j,xe,Ae,"\xA5","\\yen",!0),U(et,xe,Ae,"\xA5","\\yen",!0),U(j,xe,Ae,"\u2713","\\checkmark",!0),U(et,xe,Ae,"\u2713","\\checkmark"),U(j,xe,Ae,"\u2136","\\beth",!0),U(j,xe,Ae,"\u2138","\\daleth",!0),U(j,xe,Ae,"\u2137","\\gimel",!0),U(j,xe,Ae,"\u03DD","\\digamma",!0),U(j,xe,Ae,"\u03F0","\\varkappa"),U(j,xe,Da,"\u250C","\\@ulcorner",!0),U(j,xe,Vn,"\u2510","\\@urcorner",!0),U(j,xe,Da,"\u2514","\\@llcorner",!0),U(j,xe,Vn,"\u2518","\\@lrcorner",!0),U(j,xe,ke,"\u2266","\\leqq",!0),U(j,xe,ke,"\u2A7D","\\leqslant",!0),U(j,xe,ke,"\u2A95","\\eqslantless",!0),U(j,xe,ke,"\u2272","\\lesssim",!0),U(j,xe,ke,"\u2A85","\\lessapprox",!0),U(j,xe,ke,"\u224A","\\approxeq",!0),U(j,xe,Ct,"\u22D6","\\lessdot"),U(j,xe,ke,"\u22D8","\\lll",!0),U(j,xe,ke,"\u2276","\\lessgtr",!0),U(j,xe,ke,"\u22DA","\\lesseqgtr",!0),U(j,xe,ke,"\u2A8B","\\lesseqqgtr",!0),U(j,xe,ke,"\u2251","\\doteqdot"),U(j,xe,ke,"\u2253","\\risingdotseq",!0),U(j,xe,ke,"\u2252","\\fallingdotseq",!0),U(j,xe,ke,"\u223D","\\backsim",!0),U(j,xe,ke,"\u22CD","\\backsimeq",!0),U(j,xe,ke,"\u2AC5","\\subseteqq",!0),U(j,xe,ke,"\u22D0","\\Subset",!0),U(j,xe,ke,"\u228F","\\sqsubset",!0),U(j,xe,ke,"\u227C","\\preccurlyeq",!0),U(j,xe,ke,"\u22DE","\\curlyeqprec",!0),U(j,xe,ke,"\u227E","\\precsim",!0),U(j,xe,ke,"\u2AB7","\\precapprox",!0),U(j,xe,ke,"\u22B2","\\vartriangleleft"),U(j,xe,ke,"\u22B4","\\trianglelefteq"),U(j,xe,ke,"\u22A8","\\vDash",!0),U(j,xe,ke,"\u22AA","\\Vvdash",!0),U(j,xe,ke,"\u2323","\\smallsmile"),U(j,xe,ke,"\u2322","\\smallfrown"),U(j,xe,ke,"\u224F","\\bumpeq",!0),U(j,xe,ke,"\u224E","\\Bumpeq",!0),U(j,xe,ke,"\u2267","\\geqq",!0),U(j,xe,ke,"\u2A7E","\\geqslant",!0),U(j,xe,ke,"\u2A96","\\eqslantgtr",!0),U(j,xe,ke,"\u2273","\\gtrsim",!0),U(j,xe,ke,"\u2A86","\\gtrapprox",!0),U(j,xe,Ct,"\u22D7","\\gtrdot"),U(j,xe,ke,"\u22D9","\\ggg",!0),U(j,xe,ke,"\u2277","\\gtrless",!0),U(j,xe,ke,"\u22DB","\\gtreqless",!0),U(j,xe,ke,"\u2A8C","\\gtreqqless",!0),U(j,xe,ke,"\u2256","\\eqcirc",!0),U(j,xe,ke,"\u2257","\\circeq",!0),U(j,xe,ke,"\u225C","\\triangleq",!0),U(j,xe,ke,"\u223C","\\thicksim"),U(j,xe,ke,"\u2248","\\thickapprox"),U(j,xe,ke,"\u2AC6","\\supseteqq",!0),U(j,xe,ke,"\u22D1","\\Supset",!0),U(j,xe,ke,"\u2290","\\sqsupset",!0),U(j,xe,ke,"\u227D","\\succcurlyeq",!0),U(j,xe,ke,"\u22DF","\\curlyeqsucc",!0),U(j,xe,ke,"\u227F","\\succsim",!0),U(j,xe,ke,"\u2AB8","\\succapprox",!0),U(j,xe,ke,"\u22B3","\\vartriangleright"),U(j,xe,ke,"\u22B5","\\trianglerighteq"),U(j,xe,ke,"\u22A9","\\Vdash",!0),U(j,xe,ke,"\u2223","\\shortmid"),U(j,xe,ke,"\u2225","\\shortparallel"),U(j,xe,ke,"\u226C","\\between",!0),U(j,xe,ke,"\u22D4","\\pitchfork",!0),U(j,xe,ke,"\u221D","\\varpropto"),U(j,xe,ke,"\u25C0","\\blacktriangleleft"),U(j,xe,ke,"\u2234","\\therefore",!0),U(j,xe,ke,"\u220D","\\backepsilon"),U(j,xe,ke,"\u25B6","\\blacktriangleright"),U(j,xe,ke,"\u2235","\\because",!0),U(j,xe,ke,"\u22D8","\\llless"),U(j,xe,ke,"\u22D9","\\gggtr"),U(j,xe,Ct,"\u22B2","\\lhd"),U(j,xe,Ct,"\u22B3","\\rhd"),U(j,xe,ke,"\u2242","\\eqsim",!0),U(j,ie,ke,"\u22C8","\\Join"),U(j,xe,ke,"\u2251","\\Doteq",!0),U(j,xe,Ct,"\u2214","\\dotplus",!0),U(j,xe,Ct,"\u2216","\\smallsetminus"),U(j,xe,Ct,"\u22D2","\\Cap",!0),U(j,xe,Ct,"\u22D3","\\Cup",!0),U(j,xe,Ct,"\u2A5E","\\doublebarwedge",!0),U(j,xe,Ct,"\u229F","\\boxminus",!0),U(j,xe,Ct,"\u229E","\\boxplus",!0),U(j,xe,Ct,"\u22C7","\\divideontimes",!0),U(j,xe,Ct,"\u22C9","\\ltimes",!0),U(j,xe,Ct,"\u22CA","\\rtimes",!0),U(j,xe,Ct,"\u22CB","\\leftthreetimes",!0),U(j,xe,Ct,"\u22CC","\\rightthreetimes",!0),U(j,xe,Ct,"\u22CF","\\curlywedge",!0),U(j,xe,Ct,"\u22CE","\\curlyvee",!0),U(j,xe,Ct,"\u229D","\\circleddash",!0),U(j,xe,Ct,"\u229B","\\circledast",!0),U(j,xe,Ct,"\u22C5","\\centerdot"),U(j,xe,Ct,"\u22BA","\\intercal",!0),U(j,xe,Ct,"\u22D2","\\doublecap"),U(j,xe,Ct,"\u22D3","\\doublecup"),U(j,xe,Ct,"\u22A0","\\boxtimes",!0),U(j,xe,ke,"\u21E2","\\dashrightarrow",!0),U(j,xe,ke,"\u21E0","\\dashleftarrow",!0),U(j,xe,ke,"\u21C7","\\leftleftarrows",!0),U(j,xe,ke,"\u21C6","\\leftrightarrows",!0),U(j,xe,ke,"\u21DA","\\Lleftarrow",!0),U(j,xe,ke,"\u219E","\\twoheadleftarrow",!0),U(j,xe,ke,"\u21A2","\\leftarrowtail",!0),U(j,xe,ke,"\u21AB","\\looparrowleft",!0),U(j,xe,ke,"\u21CB","\\leftrightharpoons",!0),U(j,xe,ke,"\u21B6","\\curvearrowleft",!0),U(j,xe,ke,"\u21BA","\\circlearrowleft",!0),U(j,xe,ke,"\u21B0","\\Lsh",!0),U(j,xe,ke,"\u21C8","\\upuparrows",!0),U(j,xe,ke,"\u21BF","\\upharpoonleft",!0),U(j,xe,ke,"\u21C3","\\downharpoonleft",!0),U(j,ie,ke,"\u22B6","\\origof",!0),U(j,ie,ke,"\u22B7","\\imageof",!0),U(j,xe,ke,"\u22B8","\\multimap",!0),U(j,xe,ke,"\u21AD","\\leftrightsquigarrow",!0),U(j,xe,ke,"\u21C9","\\rightrightarrows",!0),U(j,xe,ke,"\u21C4","\\rightleftarrows",!0),U(j,xe,ke,"\u21A0","\\twoheadrightarrow",!0),U(j,xe,ke,"\u21A3","\\rightarrowtail",!0),U(j,xe,ke,"\u21AC","\\looparrowright",!0),U(j,xe,ke,"\u21B7","\\curvearrowright",!0),U(j,xe,ke,"\u21BB","\\circlearrowright",!0),U(j,xe,ke,"\u21B1","\\Rsh",!0),U(j,xe,ke,"\u21CA","\\downdownarrows",!0),U(j,xe,ke,"\u21BE","\\upharpoonright",!0),U(j,xe,ke,"\u21C2","\\downharpoonright",!0),U(j,xe,ke,"\u21DD","\\rightsquigarrow",!0),U(j,xe,ke,"\u21DD","\\leadsto"),U(j,xe,ke,"\u21DB","\\Rrightarrow",!0),U(j,xe,ke,"\u21BE","\\restriction"),U(j,ie,Ae,"\u2018","`"),U(j,ie,Ae,"$","\\$"),U(et,ie,Ae,"$","\\$"),U(et,ie,Ae,"$","\\textdollar"),U(j,ie,Ae,"%","\\%"),U(et,ie,Ae,"%","\\%"),U(j,ie,Ae,"_","\\_"),U(et,ie,Ae,"_","\\_"),U(et,ie,Ae,"_","\\textunderscore"),U(j,ie,Ae,"\u2220","\\angle",!0),U(j,ie,Ae,"\u221E","\\infty",!0),U(j,ie,Ae,"\u2032","\\prime"),U(j,ie,Ae,"\u25B3","\\triangle"),U(j,ie,Ae,"\u0393","\\Gamma",!0),U(j,ie,Ae,"\u0394","\\Delta",!0),U(j,ie,Ae,"\u0398","\\Theta",!0),U(j,ie,Ae,"\u039B","\\Lambda",!0),U(j,ie,Ae,"\u039E","\\Xi",!0),U(j,ie,Ae,"\u03A0","\\Pi",!0),U(j,ie,Ae,"\u03A3","\\Sigma",!0),U(j,ie,Ae,"\u03A5","\\Upsilon",!0),U(j,ie,Ae,"\u03A6","\\Phi",!0),U(j,ie,Ae,"\u03A8","\\Psi",!0),U(j,ie,Ae,"\u03A9","\\Omega",!0),U(j,ie,Ae,"A","\u0391"),U(j,ie,Ae,"B","\u0392"),U(j,ie,Ae,"E","\u0395"),U(j,ie,Ae,"Z","\u0396"),U(j,ie,Ae,"H","\u0397"),U(j,ie,Ae,"I","\u0399"),U(j,ie,Ae,"K","\u039A"),U(j,ie,Ae,"M","\u039C"),U(j,ie,Ae,"N","\u039D"),U(j,ie,Ae,"O","\u039F"),U(j,ie,Ae,"P","\u03A1"),U(j,ie,Ae,"T","\u03A4"),U(j,ie,Ae,"X","\u03A7"),U(j,ie,Ae,"\xAC","\\neg",!0),U(j,ie,Ae,"\xAC","\\lnot"),U(j,ie,Ae,"\u22A4","\\top"),U(j,ie,Ae,"\u22A5","\\bot"),U(j,ie,Ae,"\u2205","\\emptyset"),U(j,xe,Ae,"\u2205","\\varnothing"),U(j,ie,Kt,"\u03B1","\\alpha",!0),U(j,ie,Kt,"\u03B2","\\beta",!0),U(j,ie,Kt,"\u03B3","\\gamma",!0),U(j,ie,Kt,"\u03B4","\\delta",!0),U(j,ie,Kt,"\u03F5","\\epsilon",!0),U(j,ie,Kt,"\u03B6","\\zeta",!0),U(j,ie,Kt,"\u03B7","\\eta",!0),U(j,ie,Kt,"\u03B8","\\theta",!0),U(j,ie,Kt,"\u03B9","\\iota",!0),U(j,ie,Kt,"\u03BA","\\kappa",!0),U(j,ie,Kt,"\u03BB","\\lambda",!0),U(j,ie,Kt,"\u03BC","\\mu",!0),U(j,ie,Kt,"\u03BD","\\nu",!0),U(j,ie,Kt,"\u03BE","\\xi",!0),U(j,ie,Kt,"\u03BF","\\omicron",!0),U(j,ie,Kt,"\u03C0","\\pi",!0),U(j,ie,Kt,"\u03C1","\\rho",!0),U(j,ie,Kt,"\u03C3","\\sigma",!0),U(j,ie,Kt,"\u03C4","\\tau",!0),U(j,ie,Kt,"\u03C5","\\upsilon",!0),U(j,ie,Kt,"\u03D5","\\phi",!0),U(j,ie,Kt,"\u03C7","\\chi",!0),U(j,ie,Kt,"\u03C8","\\psi",!0),U(j,ie,Kt,"\u03C9","\\omega",!0),U(j,ie,Kt,"\u03B5","\\varepsilon",!0),U(j,ie,Kt,"\u03D1","\\vartheta",!0),U(j,ie,Kt,"\u03D6","\\varpi",!0),U(j,ie,Kt,"\u03F1","\\varrho",!0),U(j,ie,Kt,"\u03C2","\\varsigma",!0),U(j,ie,Kt,"\u03C6","\\varphi",!0),U(j,ie,Ct,"\u2217","*",!0),U(j,ie,Ct,"+","+"),U(j,ie,Ct,"\u2212","-",!0),U(j,ie,Ct,"\u22C5","\\cdot",!0),U(j,ie,Ct,"\u2218","\\circ",!0),U(j,ie,Ct,"\xF7","\\div",!0),U(j,ie,Ct,"\xB1","\\pm",!0),U(j,ie,Ct,"\xD7","\\times",!0),U(j,ie,Ct,"\u2229","\\cap",!0),U(j,ie,Ct,"\u222A","\\cup",!0),U(j,ie,Ct,"\u2216","\\setminus",!0),U(j,ie,Ct,"\u2227","\\land"),U(j,ie,Ct,"\u2228","\\lor"),U(j,ie,Ct,"\u2227","\\wedge",!0),U(j,ie,Ct,"\u2228","\\vee",!0),U(j,ie,Ae,"\u221A","\\surd"),U(j,ie,Da,"\u27E8","\\langle",!0),U(j,ie,Da,"\u2223","\\lvert"),U(j,ie,Da,"\u2225","\\lVert"),U(j,ie,Vn,"?","?"),U(j,ie,Vn,"!","!"),U(j,ie,Vn,"\u27E9","\\rangle",!0),U(j,ie,Vn,"\u2223","\\rvert"),U(j,ie,Vn,"\u2225","\\rVert"),U(j,ie,ke,"=","="),U(j,ie,ke,":",":"),U(j,ie,ke,"\u2248","\\approx",!0),U(j,ie,ke,"\u2245","\\cong",!0),U(j,ie,ke,"\u2265","\\ge"),U(j,ie,ke,"\u2265","\\geq",!0),U(j,ie,ke,"\u2190","\\gets"),U(j,ie,ke,">","\\gt",!0),U(j,ie,ke,"\u2208","\\in",!0),U(j,ie,ke,"\uE020","\\@not"),U(j,ie,ke,"\u2282","\\subset",!0),U(j,ie,ke,"\u2283","\\supset",!0),U(j,ie,ke,"\u2286","\\subseteq",!0),U(j,ie,ke,"\u2287","\\supseteq",!0),U(j,xe,ke,"\u2288","\\nsubseteq",!0),U(j,xe,ke,"\u2289","\\nsupseteq",!0),U(j,ie,ke,"\u22A8","\\models"),U(j,ie,ke,"\u2190","\\leftarrow",!0),U(j,ie,ke,"\u2264","\\le"),U(j,ie,ke,"\u2264","\\leq",!0),U(j,ie,ke,"<","\\lt",!0),U(j,ie,ke,"\u2192","\\rightarrow",!0),U(j,ie,ke,"\u2192","\\to"),U(j,xe,ke,"\u2271","\\ngeq",!0),U(j,xe,ke,"\u2270","\\nleq",!0),U(j,ie,Go,"\xA0","\\ "),U(j,ie,Go,"\xA0","\\space"),U(j,ie,Go,"\xA0","\\nobreakspace"),U(et,ie,Go,"\xA0","\\ "),U(et,ie,Go,"\xA0"," "),U(et,ie,Go,"\xA0","\\space"),U(et,ie,Go,"\xA0","\\nobreakspace"),U(j,ie,Go,null,"\\nobreak"),U(j,ie,Go,null,"\\allowbreak"),U(j,ie,hm,",",","),U(j,ie,hm,";",";"),U(j,xe,Ct,"\u22BC","\\barwedge",!0),U(j,xe,Ct,"\u22BB","\\veebar",!0),U(j,ie,Ct,"\u2299","\\odot",!0),U(j,ie,Ct,"\u2295","\\oplus",!0),U(j,ie,Ct,"\u2297","\\otimes",!0),U(j,ie,Ae,"\u2202","\\partial",!0),U(j,ie,Ct,"\u2298","\\oslash",!0),U(j,xe,Ct,"\u229A","\\circledcirc",!0),U(j,xe,Ct,"\u22A1","\\boxdot",!0),U(j,ie,Ct,"\u25B3","\\bigtriangleup"),U(j,ie,Ct,"\u25BD","\\bigtriangledown"),U(j,ie,Ct,"\u2020","\\dagger"),U(j,ie,Ct,"\u22C4","\\diamond"),U(j,ie,Ct,"\u22C6","\\star"),U(j,ie,Ct,"\u25C3","\\triangleleft"),U(j,ie,Ct,"\u25B9","\\triangleright"),U(j,ie,Da,"{","\\{"),U(et,ie,Ae,"{","\\{"),U(et,ie,Ae,"{","\\textbraceleft"),U(j,ie,Vn,"}","\\}"),U(et,ie,Ae,"}","\\}"),U(et,ie,Ae,"}","\\textbraceright"),U(j,ie,Da,"{","\\lbrace"),U(j,ie,Vn,"}","\\rbrace"),U(j,ie,Da,"[","\\lbrack",!0),U(et,ie,Ae,"[","\\lbrack",!0),U(j,ie,Vn,"]","\\rbrack",!0),U(et,ie,Ae,"]","\\rbrack",!0),U(j,ie,Da,"(","\\lparen",!0),U(j,ie,Vn,")","\\rparen",!0),U(et,ie,Ae,"<","\\textless",!0),U(et,ie,Ae,">","\\textgreater",!0),U(j,ie,Da,"\u230A","\\lfloor",!0),U(j,ie,Vn,"\u230B","\\rfloor",!0),U(j,ie,Da,"\u2308","\\lceil",!0),U(j,ie,Vn,"\u2309","\\rceil",!0),U(j,ie,Ae,"\\","\\backslash"),U(j,ie,Ae,"\u2223","|"),U(j,ie,Ae,"\u2223","\\vert"),U(et,ie,Ae,"|","\\textbar",!0),U(j,ie,Ae,"\u2225","\\|"),U(j,ie,Ae,"\u2225","\\Vert"),U(et,ie,Ae,"\u2225","\\textbardbl"),U(et,ie,Ae,"~","\\textasciitilde"),U(et,ie,Ae,"\\","\\textbackslash"),U(et,ie,Ae,"^","\\textasciicircum"),U(j,ie,ke,"\u2191","\\uparrow",!0),U(j,ie,ke,"\u21D1","\\Uparrow",!0),U(j,ie,ke,"\u2193","\\downarrow",!0),U(j,ie,ke,"\u21D3","\\Downarrow",!0),U(j,ie,ke,"\u2195","\\updownarrow",!0),U(j,ie,ke,"\u21D5","\\Updownarrow",!0),U(j,ie,Li,"\u2210","\\coprod"),U(j,ie,Li,"\u22C1","\\bigvee"),U(j,ie,Li,"\u22C0","\\bigwedge"),U(j,ie,Li,"\u2A04","\\biguplus"),U(j,ie,Li,"\u22C2","\\bigcap"),U(j,ie,Li,"\u22C3","\\bigcup"),U(j,ie,Li,"\u222B","\\int"),U(j,ie,Li,"\u222B","\\intop"),U(j,ie,Li,"\u222C","\\iint"),U(j,ie,Li,"\u222D","\\iiint"),U(j,ie,Li,"\u220F","\\prod"),U(j,ie,Li,"\u2211","\\sum"),U(j,ie,Li,"\u2A02","\\bigotimes"),U(j,ie,Li,"\u2A01","\\bigoplus"),U(j,ie,Li,"\u2A00","\\bigodot"),U(j,ie,Li,"\u222E","\\oint"),U(j,ie,Li,"\u222F","\\oiint"),U(j,ie,Li,"\u2230","\\oiiint"),U(j,ie,Li,"\u2A06","\\bigsqcup"),U(j,ie,Li,"\u222B","\\smallint"),U(et,ie,Ih,"\u2026","\\textellipsis"),U(j,ie,Ih,"\u2026","\\mathellipsis"),U(et,ie,Ih,"\u2026","\\ldots",!0),U(j,ie,Ih,"\u2026","\\ldots",!0),U(j,ie,Ih,"\u22EF","\\@cdots",!0),U(j,ie,Ih,"\u22F1","\\ddots",!0),U(j,ie,Ae,"\u22EE","\\varvdots"),U(et,ie,Ae,"\u22EE","\\varvdots"),U(j,ie,ai,"\u02CA","\\acute"),U(j,ie,ai,"\u02CB","\\grave"),U(j,ie,ai,"\xA8","\\ddot"),U(j,ie,ai,"~","\\tilde"),U(j,ie,ai,"\u02C9","\\bar"),U(j,ie,ai,"\u02D8","\\breve"),U(j,ie,ai,"\u02C7","\\check"),U(j,ie,ai,"^","\\hat"),U(j,ie,ai,"\u20D7","\\vec"),U(j,ie,ai,"\u02D9","\\dot"),U(j,ie,ai,"\u02DA","\\mathring"),U(j,ie,Kt,"\uE131","\\@imath"),U(j,ie,Kt,"\uE237","\\@jmath"),U(j,ie,Ae,"\u0131","\u0131"),U(j,ie,Ae,"\u0237","\u0237"),U(et,ie,Ae,"\u0131","\\i",!0),U(et,ie,Ae,"\u0237","\\j",!0),U(et,ie,Ae,"\xDF","\\ss",!0),U(et,ie,Ae,"\xE6","\\ae",!0),U(et,ie,Ae,"\u0153","\\oe",!0),U(et,ie,Ae,"\xF8","\\o",!0),U(et,ie,Ae,"\xC6","\\AE",!0),U(et,ie,Ae,"\u0152","\\OE",!0),U(et,ie,Ae,"\xD8","\\O",!0),U(et,ie,ai,"\u02CA","\\'"),U(et,ie,ai,"\u02CB","\\`"),U(et,ie,ai,"\u02C6","\\^"),U(et,ie,ai,"\u02DC","\\~"),U(et,ie,ai,"\u02C9","\\="),U(et,ie,ai,"\u02D8","\\u"),U(et,ie,ai,"\u02D9","\\."),U(et,ie,ai,"\xB8","\\c"),U(et,ie,ai,"\u02DA","\\r"),U(et,ie,ai,"\u02C7","\\v"),U(et,ie,ai,"\xA8",'\\"'),U(et,ie,ai,"\u02DD","\\H"),U(et,ie,ai,"\u25EF","\\textcircled"),$E={"--":!0,"---":!0,"``":!0,"''":!0},U(et,ie,Ae,"\u2013","--",!0),U(et,ie,Ae,"\u2013","\\textendash"),U(et,ie,Ae,"\u2014","---",!0),U(et,ie,Ae,"\u2014","\\textemdash"),U(et,ie,Ae,"\u2018","`",!0),U(et,ie,Ae,"\u2018","\\textquoteleft"),U(et,ie,Ae,"\u2019","'",!0),U(et,ie,Ae,"\u2019","\\textquoteright"),U(et,ie,Ae,"\u201C","``",!0),U(et,ie,Ae,"\u201C","\\textquotedblleft"),U(et,ie,Ae,"\u201D","''",!0),U(et,ie,Ae,"\u201D","\\textquotedblright"),U(j,ie,Ae,"\xB0","\\degree",!0),U(et,ie,Ae,"\xB0","\\degree"),U(et,ie,Ae,"\xB0","\\textdegree",!0),U(j,ie,Ae,"\xA3","\\pounds"),U(j,ie,Ae,"\xA3","\\mathsterling",!0),U(et,ie,Ae,"\xA3","\\pounds"),U(et,ie,Ae,"\xA3","\\textsterling",!0),U(j,xe,Ae,"\u2720","\\maltese"),U(et,xe,Ae,"\u2720","\\maltese"),FE='0123456789/@."',_4=0;_4<FE.length;_4++)zE=FE.charAt(_4),U(j,ie,Ae,zE,zE);for(GE='0123456789!@*()-=+";:?/.,',A4=0;A4<GE.length;A4++)UE=GE.charAt(A4),U(et,ie,Ae,UE,UE);for(dm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",L4=0;L4<dm.length;L4++)pm=dm.charAt(L4),U(j,ie,Kt,pm,pm),U(et,ie,Ae,pm,pm);for(U(j,xe,Ae,"C","\u2102"),U(et,xe,Ae,"C","\u2102"),U(j,xe,Ae,"H","\u210D"),U(et,xe,Ae,"H","\u210D"),U(j,xe,Ae,"N","\u2115"),U(et,xe,Ae,"N","\u2115"),U(j,xe,Ae,"P","\u2119"),U(et,xe,Ae,"P","\u2119"),U(j,xe,Ae,"Q","\u211A"),U(et,xe,Ae,"Q","\u211A"),U(j,xe,Ae,"R","\u211D"),U(et,xe,Ae,"R","\u211D"),U(j,xe,Ae,"Z","\u2124"),U(et,xe,Ae,"Z","\u2124"),U(j,ie,Kt,"h","\u210E"),U(et,ie,Kt,"h","\u210E"),ir="",Yn=0;Yn<dm.length;Yn++)gi=dm.charAt(Yn),ir=String.fromCharCode(55349,56320+Yn),U(j,ie,Kt,gi,ir),U(et,ie,Ae,gi,ir),ir=String.fromCharCode(55349,56372+Yn),U(j,ie,Kt,gi,ir),U(et,ie,Ae,gi,ir),ir=String.fromCharCode(55349,56424+Yn),U(j,ie,Kt,gi,ir),U(et,ie,Ae,gi,ir),ir=String.fromCharCode(55349,56580+Yn),U(j,ie,Kt,gi,ir),U(et,ie,Ae,gi,ir),ir=String.fromCharCode(55349,56684+Yn),U(j,ie,Kt,gi,ir),U(et,ie,Ae,gi,ir),ir=String.fromCharCode(55349,56736+Yn),U(j,ie,Kt,gi,ir),U(et,ie,Ae,gi,ir),ir=String.fromCharCode(55349,56788+Yn),U(j,ie,Kt,gi,ir),U(et,ie,Ae,gi,ir),ir=String.fromCharCode(55349,56840+Yn),U(j,ie,Kt,gi,ir),U(et,ie,Ae,gi,ir),ir=String.fromCharCode(55349,56944+Yn),U(j,ie,Kt,gi,ir),U(et,ie,Ae,gi,ir),Yn<26&&(ir=String.fromCharCode(55349,56632+Yn),U(j,ie,Kt,gi,ir),U(et,ie,Ae,gi,ir),ir=String.fromCharCode(55349,56476+Yn),U(j,ie,Kt,gi,ir),U(et,ie,Ae,gi,ir));for(ir="\u{1D55C}",U(j,ie,Kt,"k",ir),U(et,ie,Ae,"k",ir),uu=0;uu<10;uu++)Hl=uu.toString(),ir=String.fromCharCode(55349,57294+uu),U(j,ie,Kt,Hl,ir),U(et,ie,Ae,Hl,ir),ir=String.fromCharCode(55349,57314+uu),U(j,ie,Kt,Hl,ir),U(et,ie,Ae,Hl,ir),ir=String.fromCharCode(55349,57324+uu),U(j,ie,Kt,Hl,ir),U(et,ie,Ae,Hl,ir),ir=String.fromCharCode(55349,57334+uu),U(j,ie,Kt,Hl,ir),U(et,ie,Ae,Hl,ir);for(N4="\xD0\xDE\xFE",M4=0;M4<N4.length;M4++)gm=N4.charAt(M4),U(j,ie,Kt,gm,gm),U(et,ie,Ae,gm,gm);fm=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],qE=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],WV=l(function(e,t){var r=e.charCodeAt(0),i=e.charCodeAt(1),n=(r-55296)*1024+(i-56320)+65536,a=t==="math"?0:1;if(119808<=n&&n<120484){var s=Math.floor((n-119808)/26);return[fm[s][2],fm[s][a]]}else if(120782<=n&&n<=120831){var o=Math.floor((n-120782)/10);return[qE[o][2],qE[o][a]]}else{if(n===120485||n===120486)return[fm[0][2],fm[0][a]];if(120486<n&&n<120782)return["",""];throw new lt("Unsupported character: "+e)}},"wideCharacterFont"),mm=l(function(e,t,r){return Kr[r][e]&&Kr[r][e].replace&&(e=Kr[r][e].replace),{value:e,metrics:g4(e,t,r)}},"lookupSymbol"),Ts=l(function(e,t,r,i,n){var a=mm(e,t,r),s=a.metrics;e=a.value;var o;if(s){var u=s.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),o=new es(e,s.height,s.depth,u,s.skew,s.width,n)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+r+"'")),o=new es(e,0,0,0,0,0,n);if(i){o.maxFontSize=i.sizeMultiplier,i.style.isTight()&&o.classes.push("mtight");var h=i.getColor();h&&(o.style.color=h)}return o},"makeSymbol"),XV=l(function(e,t,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&mm(e,"Main-Bold",t).metrics?Ts(e,"Main-Bold",t,r,i.concat(["mathbf"])):e==="\\"||Kr[t][e].font==="main"?Ts(e,"Main-Regular",t,r,i):Ts(e,"AMS-Regular",t,r,i.concat(["amsrm"]))},"mathsym"),KV=l(function(e,t,r,i,n){return n!=="textord"&&mm(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},"boldsymbol"),ZV=l(function(e,t,r){var i=e.mode,n=e.text,a=["mord"],s=i==="math"||i==="text"&&t.font,o=s?t.font:t.fontFamily,u="",h="";if(n.charCodeAt(0)===55349&&([u,h]=WV(n,i)),u.length>0)return Ts(n,u,i,t,a.concat(h));if(o){var d,p;if(o==="boldsymbol"){var g=KV(n,i,t,a,r);d=g.fontName,p=[g.fontClass]}else s?(d=VE[o].fontName,p=[o]):(d=ym(o,t.fontWeight,t.fontShape),p=[o,t.fontWeight,t.fontShape]);if(mm(n,d,i).metrics)return Ts(n,d,i,t,a.concat(p));if($E.hasOwnProperty(n)&&d.slice(0,10)==="Typewriter"){for(var f=[],m=0;m<n.length;m++)f.push(Ts(n[m],d,i,t,a.concat(p)));return HE(f)}}if(r==="mathord")return Ts(n,"Math-Italic",i,t,a.concat(["mathnormal"]));if(r==="textord"){var y=Kr[i][n]&&Kr[i][n].font;if(y==="ams"){var b=ym("amsrm",t.fontWeight,t.fontShape);return Ts(n,b,i,t,a.concat("amsrm",t.fontWeight,t.fontShape))}else if(y==="main"||!y){var v=ym("textrm",t.fontWeight,t.fontShape);return Ts(n,v,i,t,a.concat(t.fontWeight,t.fontShape))}else{var x=ym(y,t.fontWeight,t.fontShape);return Ts(n,x,i,t,a.concat(x,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},"makeOrd"),QV=l((e,t)=>{if(ql(e.classes)!==ql(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var r=e.classes[0];if(r==="mbin"||r==="mord")return!1}for(var i in e.style)if(e.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;for(var n in t.style)if(t.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;return!0},"canCombine"),JV=l(e=>{for(var t=0;t<e.length-1;t++){var r=e[t],i=e[t+1];r instanceof es&&i instanceof es&&QV(r,i)&&(r.text+=i.text,r.height=Math.max(r.height,i.height),r.depth=Math.max(r.depth,i.depth),r.italic=i.italic,e.splice(t+1,1),t--)}return e},"tryCombineChars"),I4=l(function(e){for(var t=0,r=0,i=0,n=0;n<e.children.length;n++){var a=e.children[n];a.height>t&&(t=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=i},"sizeElementFromChildren"),da=l(function(e,t,r,i){var n=new Ip(e,t,r,i);return I4(n),n},"makeSpan"),jE=l((e,t,r,i)=>new Ip(e,t,r,i),"makeSvgSpan"),eY=l(function(e,t,r){var i=da([e],[],t);return i.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),i.style.borderBottomWidth=gt(i.height),i.maxFontSize=1,i},"makeLineSpan"),tY=l(function(e,t,r,i){var n=new C4(e,t,r,i);return I4(n),n},"makeAnchor"),HE=l(function(e){var t=new Mp(e);return I4(t),t},"makeFragment"),rY=l(function(e,t){return e instanceof Mp?da([],[e],t):e},"wrapFragment"),iY=l(function(e){if(e.positionType==="individualShift"){for(var t=e.children,r=[t[0]],i=-t[0].shift-t[0].elem.depth,n=i,a=1;a<t.length;a++){var s=-t[a].shift-n-t[a].elem.depth,o=s-(t[a-1].elem.height+t[a-1].elem.depth);n=n+s,r.push({type:"kern",size:o}),r.push(t[a])}return{children:r,depth:i}}var u;if(e.positionType==="top"){for(var h=e.positionData,d=0;d<e.children.length;d++){var p=e.children[d];h-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}u=h}else if(e.positionType==="bottom")u=-e.positionData;else{var g=e.children[0];if(g.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-g.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-g.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},"getVListChildrenAndDepth"),nY=l(function(e,t){for(var{children:r,depth:i}=iY(e),n=0,a=0;a<r.length;a++){var s=r[a];if(s.type==="elem"){var o=s.elem;n=Math.max(n,o.maxFontSize,o.height)}}n+=2;var u=da(["pstrut"],[]);u.style.height=gt(n);for(var h=[],d=i,p=i,g=i,f=0;f<r.length;f++){var m=r[f];if(m.type==="kern")g+=m.size;else{var y=m.elem,b=m.wrapperClasses||[],v=m.wrapperStyle||{},x=da(b,[u,y],void 0,v);x.style.top=gt(-n-g-y.depth),m.marginLeft&&(x.style.marginLeft=m.marginLeft),m.marginRight&&(x.style.marginRight=m.marginRight),h.push(x),g+=y.height+y.depth}d=Math.min(d,g),p=Math.max(p,g)}var w=da(["vlist"],h);w.style.height=gt(p);var k;if(d<0){var T=da([],[]),_=da(["vlist"],[T]);_.style.height=gt(-d);var C=da(["vlist-s"],[new es("\u200B")]);k=[da(["vlist-r"],[w,C]),da(["vlist-r"],[_])]}else k=[da(["vlist-r"],[w])];var E=da(["vlist-t"],k);return k.length===2&&E.classes.push("vlist-t2"),E.height=p,E.depth=-d,E},"makeVList"),aY=l((e,t)=>{var r=da(["mspace"],[],t),i=ui(e,t);return r.style.marginRight=gt(i),r},"makeGlue"),ym=l(function(e,t,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var n;return t==="textbf"&&r==="textit"?n="BoldItalic":t==="textbf"?n="Bold":t==="textit"?n="Italic":n="Regular",i+"-"+n},"retrieveTextFontName"),VE={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},YE={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},sY=l(function(e,t){var[r,i,n]=YE[e],a=new jl(r),s=new zo([a],{width:gt(i),height:gt(n),style:"width:"+gt(i),viewBox:"0 0 "+1e3*i+" "+1e3*n,preserveAspectRatio:"xMinYMin"}),o=jE(["overlay"],[s],t);return o.height=n,o.style.height=gt(n),o.style.width=gt(i),o},"staticSvg"),Oe={fontMap:VE,makeSymbol:Ts,mathsym:XV,makeSpan:da,makeSvgSpan:jE,makeLineSpan:eY,makeAnchor:tY,makeFragment:HE,wrapFragment:rY,makeVList:nY,makeOrd:ZV,makeGlue:aY,staticSvg:sY,svgData:YE,tryCombineChars:JV},hi={number:3,unit:"mu"},hu={number:4,unit:"mu"},Uo={number:5,unit:"mu"},oY={mord:{mop:hi,mbin:hu,mrel:Uo,minner:hi},mop:{mord:hi,mop:hi,mrel:Uo,minner:hi},mbin:{mord:hu,mop:hu,mopen:hu,minner:hu},mrel:{mord:Uo,mop:Uo,mopen:Uo,minner:Uo},mopen:{},mclose:{mop:hi,mbin:hu,mrel:Uo,minner:hi},mpunct:{mord:hi,mop:hi,mrel:Uo,mopen:hi,mclose:hi,mpunct:hi,minner:hi},minner:{mord:hi,mop:hi,mbin:hu,mrel:Uo,mopen:hi,mpunct:hi,minner:hi}},lY={mord:{mop:hi},mop:{mord:hi,mop:hi},mbin:{},mrel:{},mopen:{},mclose:{mop:hi},mpunct:{},minner:{mop:hi}},WE={},vm={},bm={},l(wt,"defineFunction"),l(cu,"defineFunctionBuilders"),xm=l(function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},"normalizeArgument"),Ti=l(function(e){return e.type==="ordgroup"?e.body:[e]},"ordargument"),qo=Oe.makeSpan,cY=["leftmost","mbin","mopen","mrel","mop","mpunct"],uY=["rightmost","mrel","mclose","mpunct"],hY={display:Xt.DISPLAY,text:Xt.TEXT,script:Xt.SCRIPT,scriptscript:Xt.SCRIPTSCRIPT},dY={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},zi=l(function(e,t,r,i){i===void 0&&(i=[null,null]);for(var n=[],a=0;a<e.length;a++){var s=Er(e[a],t);if(s instanceof Mp){var o=s.children;n.push(...o)}else n.push(s)}if(Oe.tryCombineChars(n),!r)return n;var u=t;if(e.length===1){var h=e[0];h.type==="sizing"?u=t.havingSize(h.size):h.type==="styling"&&(u=t.havingStyle(hY[h.style]))}var d=qo([i[0]||"leftmost"],[],t),p=qo([i[1]||"rightmost"],[],t),g=r==="root";return XE(n,(f,m)=>{var y=m.classes[0],b=f.classes[0];y==="mbin"&&Vt.contains(uY,b)?m.classes[0]="mord":b==="mbin"&&Vt.contains(cY,y)&&(f.classes[0]="mord")},{node:d},p,g),XE(n,(f,m)=>{var y=D4(m),b=D4(f),v=y&&b?f.hasClass("mtight")?lY[y][b]:oY[y][b]:null;if(v)return Oe.makeGlue(v,u)},{node:d},p,g),n},"buildExpression"),XE=l(function e(t,r,i,n,a){n&&t.push(n);for(var s=0;s<t.length;s++){var o=t[s],u=KE(o);if(u){e(u.children,r,i,null,a);continue}var h=!o.hasClass("mspace");if(h){var d=r(o,i.node);d&&(i.insertAfter?i.insertAfter(d):(t.unshift(d),s++))}h?i.node=o:a&&o.hasClass("newline")&&(i.node=qo(["leftmost"])),i.insertAfter=(p=>g=>{t.splice(p+1,0,g),s++})(s)}n&&t.pop()},"traverseNonSpaceNodes"),KE=l(function(e){return e instanceof Mp||e instanceof C4||e instanceof Ip&&e.hasClass("enclosing")?e:null},"checkPartialGroup"),pY=l(function e(t,r){var i=KE(t);if(i){var n=i.children;if(n.length){if(r==="right")return e(n[n.length-1],"right");if(r==="left")return e(n[0],"left")}}return t},"getOutermostNode"),D4=l(function(e,t){return e?(t&&(e=pY(e,t)),dY[e.classes[0]]||null):null},"getTypeOfDomTree"),Dp=l(function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return qo(t.concat(r))},"makeNullDelimiter"),Er=l(function(e,t,r){if(!e)return qo();if(vm[e.type]){var i=vm[e.type](e,t);if(r&&t.size!==r.size){i=qo(t.sizingClasses(r),[i],t);var n=t.sizeMultiplier/r.sizeMultiplier;i.height*=n,i.depth*=n}return i}else throw new lt("Got group of unknown type: '"+e.type+"'")},"buildGroup"),l(am,"buildHTMLUnbreakable"),l(f4,"buildHTML"),l(wE,"newDocumentFragment"),Ra=class{static{l(this,"MathNode")}constructor(e,t,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=r||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=ql(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof Zs&&this.children[r+1]instanceof Zs){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof Zs;)i+=this.children[++r].toText();e.appendChild(new Zs(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=Vt.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+Vt.escape(ql(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}},Zs=class{static{l(this,"TextNode")}constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Vt.escape(this.toText())}toText(){return this.text}},gY=class{static{l(this,"SpaceNode")}constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="\u200A":e>=.1666&&e<=.1667?this.character="\u2009":e>=.2222&&e<=.2223?this.character="\u2005":e>=.2777&&e<=.2778?this.character="\u2005\u200A":e>=-.05556&&e<=-.05555?this.character="\u200A\u2063":e>=-.1667&&e<=-.1666?this.character="\u2009\u2063":e>=-.2223&&e<=-.2222?this.character="\u205F\u2063":e>=-.2778&&e<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",gt(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+gt(this.width)+'"/>'}toText(){return this.character?this.character:" "}},it={MathNode:Ra,TextNode:Zs,SpaceNode:gY,newDocumentFragment:wE},ts=l(function(e,t,r){return Kr[t][e]&&Kr[t][e].replace&&e.charCodeAt(0)!==55349&&!($E.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Kr[t][e].replace),new it.TextNode(e)},"makeText"),R4=l(function(e){return e.length===1?e[0]:new it.MathNode("mrow",e)},"makeRow"),O4=l(function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var r=t.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var n=e.text;if(Vt.contains(["\\imath","\\jmath"],n))return null;Kr[i][n]&&Kr[i][n].replace&&(n=Kr[i][n].replace);var a=Oe.fontMap[r].fontName;return g4(n,a,i)?Oe.fontMap[r].variant:null},"getVariant"),l(m4,"isNumberPunctuation"),pa=l(function(e,t,r){if(e.length===1){var i=Yr(e[0],t);return r&&i instanceof Ra&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var n=[],a,s=0;s<e.length;s++){var o=Yr(e[s],t);if(o instanceof Ra&&a instanceof Ra){if(o.type==="mtext"&&a.type==="mtext"&&o.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...o.children);continue}else if(o.type==="mn"&&a.type==="mn"){a.children.push(...o.children);continue}else if(m4(o)&&a.type==="mn"){a.children.push(...o.children);continue}else if(o.type==="mn"&&m4(a))o.children=[...a.children,...o.children],n.pop();else if((o.type==="msup"||o.type==="msub")&&o.children.length>=1&&(a.type==="mn"||m4(a))){var u=o.children[0];u instanceof Ra&&u.type==="mn"&&(u.children=[...a.children,...u.children],n.pop())}else if(a.type==="mi"&&a.children.length===1){var h=a.children[0];if(h instanceof Zs&&h.text==="\u0338"&&(o.type==="mo"||o.type==="mi"||o.type==="mn")){var d=o.children[0];d instanceof Zs&&d.text.length>0&&(d.text=d.text.slice(0,1)+"\u0338"+d.text.slice(1),n.pop())}}}n.push(o),a=o}return n},"buildExpression"),Vl=l(function(e,t,r){return R4(pa(e,t,r))},"buildExpressionRow"),Yr=l(function(e,t){if(!e)return new it.MathNode("mrow");if(bm[e.type]){var r=bm[e.type](e,t);return r}else throw new lt("Got group of unknown type: '"+e.type+"'")},"buildGroup"),l(kE,"buildMathML"),ZE=l(function(e){return new DE({style:e.displayMode?Xt.DISPLAY:Xt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},"optionsFromSettings"),QE=l(function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=Oe.makeSpan(r,[e])}return e},"displayWrap"),fY=l(function(e,t,r){var i=ZE(r),n;if(r.output==="mathml")return kE(e,t,i,r.displayMode,!0);if(r.output==="html"){var a=f4(e,i);n=Oe.makeSpan(["katex"],[a])}else{var s=kE(e,t,i,r.displayMode,!1),o=f4(e,i);n=Oe.makeSpan(["katex"],[s,o])}return QE(n,r)},"buildTree"),mY=l(function(e,t,r){var i=ZE(r),n=f4(e,i),a=Oe.makeSpan(["katex"],[n]);return QE(a,r)},"buildHTMLTree"),yY={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},vY=l(function(e){var t=new it.MathNode("mo",[new it.TextNode(yY[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},"mathMLnode"),bY={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},xY=l(function(e){return e.type==="ordgroup"?e.body.length:1},"groupLength"),wY=l(function(e,t){function r(){var s=4e5,o=e.label.slice(1);if(Vt.contains(["widehat","widecheck","widetilde","utilde"],o)){var u=e,h=xY(u.base),d,p,g;if(h>5)o==="widehat"||o==="widecheck"?(d=420,s=2364,g=.42,p=o+"4"):(d=312,s=2340,g=.34,p="tilde4");else{var f=[1,1,2,2,3,3][h];o==="widehat"||o==="widecheck"?(s=[0,1062,2364,2364,2364][f],d=[0,239,300,360,420][f],g=[0,.24,.3,.3,.36,.42][f],p=o+f):(s=[0,600,1033,2339,2340][f],d=[0,260,286,306,312][f],g=[0,.26,.286,.3,.306,.34][f],p="tilde"+f)}var m=new jl(p),y=new zo([m],{width:"100%",height:gt(g),viewBox:"0 0 "+s+" "+d,preserveAspectRatio:"none"});return{span:Oe.makeSvgSpan([],[y],t),minWidth:0,height:g}}else{var b=[],v=bY[o],[x,w,k]=v,T=k/1e3,_=x.length,C,E;if(_===1){var N=v[3];C=["hide-tail"],E=[N]}else if(_===2)C=["halfarrow-left","halfarrow-right"],E=["xMinYMin","xMaxYMin"];else if(_===3)C=["brace-left","brace-center","brace-right"],E=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+_+" children.");for(var M=0;M<_;M++){var I=new jl(x[M]),A=new zo([I],{width:"400em",height:gt(T),viewBox:"0 0 "+s+" "+k,preserveAspectRatio:E[M]+" slice"}),B=Oe.makeSvgSpan([C[M]],[A],t);if(_===1)return{span:B,minWidth:w,height:T};B.style.height=gt(T),b.push(B)}return{span:Oe.makeSpan(["stretchy"],b,t),minWidth:w,height:T}}}l(r,"buildSvgSpan_");var{span:i,minWidth:n,height:a}=r();return i.height=a,i.style.height=gt(a),n>0&&(i.style.minWidth=gt(n)),i},"svgSpan"),kY=l(function(e,t,r,i,n){var a,s=e.height+e.depth+r+i;if(/fbox|color|angl/.test(t)){if(a=Oe.makeSpan(["stretchy",t],[],n),t==="fbox"){var o=n.color&&n.getColor();o&&(a.style.borderColor=o)}}else{var u=[];/^[bx]cancel$/.test(t)&&u.push(new S4({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&u.push(new S4({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new zo(u,{width:"100%",height:gt(s)});a=Oe.makeSvgSpan([],[h],n)}return a.height=s,a.style.height=gt(s),a},"encloseSpan"),jo={encloseSpan:kY,mathMLnode:vY,svgSpan:wY},l(dr,"assertNodeType"),l(y4,"assertSymbolNodeType"),l(sm,"checkSymbolNodeType"),P4=l((e,t)=>{var r,i,n;e&&e.type==="supsub"?(i=dr(e.base,"accent"),r=i.base,e.base=r,n=pV(Er(e,t)),e.base=i):(i=dr(e,"accent"),r=i.base);var a=Er(r,t.havingCrampedStyle()),s=i.isShifty&&Vt.isCharacterBox(r),o=0;if(s){var u=Vt.getBaseElem(r),h=Er(u,t.havingCrampedStyle());o=xE(h).skew}var d=i.label==="\\c",p=d?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),g;if(i.isStretchy)g=jo.svgSpan(i,t),g=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:g,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+gt(2*o)+")",marginLeft:gt(2*o)}:void 0}]},t);else{var f,m;i.label==="\\vec"?(f=Oe.staticSvg("vec",t),m=Oe.svgData.vec[1]):(f=Oe.makeOrd({mode:i.mode,text:i.label},t,"textord"),f=xE(f),f.italic=0,m=f.width,d&&(p+=f.depth)),g=Oe.makeSpan(["accent-body"],[f]);var y=i.label==="\\textcircled";y&&(g.classes.push("accent-full"),p=a.height);var b=o;y||(b-=m/2),g.style.left=gt(b),i.label==="\\textcircled"&&(g.style.top=".2em"),g=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-p},{type:"elem",elem:g}]},t)}var v=Oe.makeSpan(["mord","accent"],[g],t);return n?(n.children[0]=v,n.height=Math.max(v.height,n.height),n.classes[0]="mord",n):v},"htmlBuilder$a"),JE=l((e,t)=>{var r=e.isStretchy?jo.mathMLnode(e.label):new it.MathNode("mo",[ts(e.label,e.mode)]),i=new it.MathNode("mover",[Yr(e.base,t),r]);return i.setAttribute("accent","true"),i},"mathmlBuilder$9"),TY=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|")),wt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:l((e,t)=>{var r=xm(t[0]),i=!TY.test(e.funcName),n=!i||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:i,isShifty:n,base:r}},"handler"),htmlBuilder:P4,mathmlBuilder:JE}),wt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:l((e,t)=>{var r=t[0],i=e.parser.mode;return i==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},"handler"),htmlBuilder:P4,mathmlBuilder:JE}),wt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:l((e,t)=>{var{parser:r,funcName:i}=e,n=t[0];return{type:"accentUnder",mode:r.mode,label:i,base:n}},"handler"),htmlBuilder:l((e,t)=>{var r=Er(e.base,t),i=jo.svgSpan(e,t),n=e.label==="\\utilde"?.12:0,a=Oe.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:n},{type:"elem",elem:r}]},t);return Oe.makeSpan(["mord","accentunder"],[a],t)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=jo.mathMLnode(e.label),i=new it.MathNode("munder",[Yr(e.base,t),r]);return i.setAttribute("accentunder","true"),i},"mathmlBuilder")}),wm=l(e=>{var t=new it.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t},"paddedNode"),wt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:i,funcName:n}=e;return{type:"xArrow",mode:i.mode,label:n,body:t[0],below:r[0]}},htmlBuilder(e,t){var r=t.style,i=t.havingStyle(r.sup()),n=Oe.wrapFragment(Er(e.body,i,t),t),a=e.label.slice(0,2)==="\\x"?"x":"cd";n.classes.push(a+"-arrow-pad");var s;e.below&&(i=t.havingStyle(r.sub()),s=Oe.wrapFragment(Er(e.below,i,t),t),s.classes.push(a+"-arrow-pad"));var o=jo.svgSpan(e,t),u=-t.fontMetrics().axisHeight+.5*o.height,h=-t.fontMetrics().axisHeight-.5*o.height-.111;(n.depth>.25||e.label==="\\xleftequilibrium")&&(h-=n.depth);var d;if(s){var p=-t.fontMetrics().axisHeight+s.height+.5*o.height+.111;d=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:h},{type:"elem",elem:o,shift:u},{type:"elem",elem:s,shift:p}]},t)}else d=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:h},{type:"elem",elem:o,shift:u}]},t);return d.children[0].children[0].children[1].classes.push("svg-align"),Oe.makeSpan(["mrel","x-arrow"],[d],t)},mathmlBuilder(e,t){var r=jo.mathMLnode(e.label);r.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(e.body){var n=wm(Yr(e.body,t));if(e.below){var a=wm(Yr(e.below,t));i=new it.MathNode("munderover",[r,a,n])}else i=new it.MathNode("mover",[r,n])}else if(e.below){var s=wm(Yr(e.below,t));i=new it.MathNode("munder",[r,s])}else i=wm(),i=new it.MathNode("mover",[r,i]);return i}}),EY=Oe.makeSpan,l(TE,"htmlBuilder$9"),l(EE,"mathmlBuilder$8"),wt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:i}=e,n=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+i.slice(5),body:Ti(n),isCharacterBox:Vt.isCharacterBox(n)}},htmlBuilder:TE,mathmlBuilder:EE}),km=l(e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"},"binrelClass"),wt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:km(t[0]),body:Ti(t[1]),isCharacterBox:Vt.isCharacterBox(t[1])}}}),wt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:r,funcName:i}=e,n=t[1],a=t[0],s;i!=="\\stackrel"?s=km(n):s="mrel";var o={type:"op",mode:n.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:Ti(n)},u={type:"supsub",mode:a.mode,base:o,sup:i==="\\underset"?null:a,sub:i==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:s,body:[u],isCharacterBox:Vt.isCharacterBox(u)}},htmlBuilder:TE,mathmlBuilder:EE}),wt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:km(t[0]),body:Ti(t[0])}},htmlBuilder(e,t){var r=zi(e.body,t,!0),i=Oe.makeSpan([e.mclass],r,t);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(e,t){var r=pa(e.body,t),i=new it.MathNode("mstyle",r);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}}),CY={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},eC=l(()=>({type:"styling",body:[],mode:"math",style:"display"}),"newCell"),tC=l(e=>e.type==="textord"&&e.text==="@","isStartOfArrow"),SY=l((e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t,"isLabelEnd"),l(gV,"cdArrow"),l(fV,"parseCD"),wt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:i}=e;return{type:"cdlabel",mode:r.mode,side:i.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),i=Oe.wrapFragment(Er(e.label,r,t),t);return i.classes.push("cd-label-"+e.side),i.style.bottom=gt(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(e,t){var r=new it.MathNode("mrow",[Yr(e.label,t)]);return r=new it.MathNode("mpadded",[r]),r.setAttribute("width","0"),e.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new it.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}}),wt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=Oe.wrapFragment(Er(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(e,t){return new it.MathNode("mrow",[Yr(e.fragment,t)])}}),wt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,i=dr(t[0],"ordgroup"),n=i.body,a="",s=0;s<n.length;s++){var o=dr(n[s],"textord");a+=o.text}var u=parseInt(a),h;if(isNaN(u))throw new lt("\\@char has non-numeric argument "+a);if(u<0||u>=1114111)throw new lt("\\@char with invalid code point "+a);return u<=65535?h=String.fromCharCode(u):(u-=65536,h=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:r.mode,text:h}}}),rC=l((e,t)=>{var r=zi(e.body,t.withColor(e.color),!1);return Oe.makeFragment(r)},"htmlBuilder$8"),iC=l((e,t)=>{var r=pa(e.body,t.withColor(e.color)),i=new it.MathNode("mstyle",r);return i.setAttribute("mathcolor",e.color),i},"mathmlBuilder$7"),wt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,i=dr(t[0],"color-token").color,n=t[1];return{type:"color",mode:r.mode,color:i,body:Ti(n)}},htmlBuilder:rC,mathmlBuilder:iC}),wt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:i}=e,n=dr(t[0],"color-token").color;r.gullet.macros.set("\\current@color",n);var a=r.parseExpression(!0,i);return{type:"color",mode:r.mode,color:n,body:a}},htmlBuilder:rC,mathmlBuilder:iC}),wt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:i}=e,n=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,a=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:a,size:n&&dr(n,"size").value}},htmlBuilder(e,t){var r=Oe.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=gt(ui(e.size,t)))),r},mathmlBuilder(e,t){var r=new it.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",gt(ui(e.size,t)))),r}}),B4={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},nC=l(e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new lt("Expected a control sequence",e);return t},"checkControlSequence"),_Y=l(e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},"getRHS"),aC=l((e,t,r,i)=>{var n=e.gullet.macros.get(r.text);n==null&&(r.noexpand=!0,n={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,n,i)},"letCommand"),wt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var i=t.fetch();if(B4[i.text])return(r==="\\global"||r==="\\\\globallong")&&(i.text=B4[i.text]),dr(t.parseFunction(),"internal");throw new lt("Invalid token after macro prefix",i)}}),wt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,i=t.gullet.popToken(),n=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(n))throw new lt("Expected a control sequence",i);for(var a=0,s,o=[[]];t.gullet.future().text!=="{";)if(i=t.gullet.popToken(),i.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),o[a].push("{");break}if(i=t.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new lt('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==a+1)throw new lt('Argument number "'+i.text+'" out of order');a++,o.push([])}else{if(i.text==="EOF")throw new lt("Expected a macro definition");o[a].push(i.text)}var{tokens:u}=t.gullet.consumeArg();return s&&u.unshift(s),(r==="\\edef"||r==="\\xdef")&&(u=t.gullet.expandTokens(u),u.reverse()),t.gullet.macros.set(n,{tokens:u,numArgs:a,delimiters:o},r===B4[r]),{type:"internal",mode:t.mode}}}),wt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,i=nC(t.gullet.popToken());t.gullet.consumeSpaces();var n=_Y(t);return aC(t,i,n,r==="\\\\globallet"),{type:"internal",mode:t.mode}}}),wt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,i=nC(t.gullet.popToken()),n=t.gullet.popToken(),a=t.gullet.popToken();return aC(t,i,a,r==="\\\\globalfuture"),t.gullet.pushToken(a),t.gullet.pushToken(n),{type:"internal",mode:t.mode}}}),Rp=l(function(e,t,r){var i=Kr.math[e]&&Kr.math[e].replace,n=g4(i||e,t,r);if(!n)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return n},"getMetrics"),$4=l(function(e,t,r,i){var n=r.havingBaseStyle(t),a=Oe.makeSpan(i.concat(n.sizingClasses(r)),[e],r),s=n.sizeMultiplier/r.sizeMultiplier;return a.height*=s,a.depth*=s,a.maxFontSize=n.sizeMultiplier,a},"styleWrap"),sC=l(function(e,t,r){var i=t.havingBaseStyle(r),n=(1-t.sizeMultiplier/i.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=gt(n),e.height-=n,e.depth+=n},"centerSpan"),AY=l(function(e,t,r,i,n,a){var s=Oe.makeSymbol(e,"Main-Regular",n,i),o=$4(s,t,i,a);return r&&sC(o,i,t),o},"makeSmallDelim"),LY=l(function(e,t,r,i){return Oe.makeSymbol(e,"Size"+t+"-Regular",r,i)},"mathrmSize"),oC=l(function(e,t,r,i,n,a){var s=LY(e,t,n,i),o=$4(Oe.makeSpan(["delimsizing","size"+t],[s],i),Xt.TEXT,i,a);return r&&sC(o,i,Xt.TEXT),o},"makeLargeDelim"),F4=l(function(e,t,r){var i;t==="Size1-Regular"?i="delim-size1":i="delim-size4";var n=Oe.makeSpan(["delimsizinginner",i],[Oe.makeSpan([],[Oe.makeSymbol(e,t,r)])]);return{type:"elem",elem:n}},"makeGlyphSpan"),z4=l(function(e,t,r){var i=Ks["Size4-Regular"][e.charCodeAt(0)]?Ks["Size4-Regular"][e.charCodeAt(0)][4]:Ks["Size1-Regular"][e.charCodeAt(0)][4],n=new jl("inner",FV(e,Math.round(1e3*t))),a=new zo([n],{width:gt(i),height:gt(t),style:"width:"+gt(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),s=Oe.makeSvgSpan([],[a],r);return s.height=t,s.style.height=gt(t),s.style.width=gt(i),{type:"elem",elem:s}},"makeInner"),G4=.008,Tm={type:"kern",size:-1*G4},NY=["|","\\lvert","\\rvert","\\vert"],MY=["\\|","\\lVert","\\rVert","\\Vert"],lC=l(function(e,t,r,i,n,a){var s,o,u,h,d="",p=0;s=u=h=e,o=null;var g="Size1-Regular";e==="\\uparrow"?u=h="\u23D0":e==="\\Uparrow"?u=h="\u2016":e==="\\downarrow"?s=u="\u23D0":e==="\\Downarrow"?s=u="\u2016":e==="\\updownarrow"?(s="\\uparrow",u="\u23D0",h="\\downarrow"):e==="\\Updownarrow"?(s="\\Uparrow",u="\u2016",h="\\Downarrow"):Vt.contains(NY,e)?(u="\u2223",d="vert",p=333):Vt.contains(MY,e)?(u="\u2225",d="doublevert",p=556):e==="["||e==="\\lbrack"?(s="\u23A1",u="\u23A2",h="\u23A3",g="Size4-Regular",d="lbrack",p=667):e==="]"||e==="\\rbrack"?(s="\u23A4",u="\u23A5",h="\u23A6",g="Size4-Regular",d="rbrack",p=667):e==="\\lfloor"||e==="\u230A"?(u=s="\u23A2",h="\u23A3",g="Size4-Regular",d="lfloor",p=667):e==="\\lceil"||e==="\u2308"?(s="\u23A1",u=h="\u23A2",g="Size4-Regular",d="lceil",p=667):e==="\\rfloor"||e==="\u230B"?(u=s="\u23A5",h="\u23A6",g="Size4-Regular",d="rfloor",p=667):e==="\\rceil"||e==="\u2309"?(s="\u23A4",u=h="\u23A5",g="Size4-Regular",d="rceil",p=667):e==="("||e==="\\lparen"?(s="\u239B",u="\u239C",h="\u239D",g="Size4-Regular",d="lparen",p=875):e===")"||e==="\\rparen"?(s="\u239E",u="\u239F",h="\u23A0",g="Size4-Regular",d="rparen",p=875):e==="\\{"||e==="\\lbrace"?(s="\u23A7",o="\u23A8",h="\u23A9",u="\u23AA",g="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(s="\u23AB",o="\u23AC",h="\u23AD",u="\u23AA",g="Size4-Regular"):e==="\\lgroup"||e==="\u27EE"?(s="\u23A7",h="\u23A9",u="\u23AA",g="Size4-Regular"):e==="\\rgroup"||e==="\u27EF"?(s="\u23AB",h="\u23AD",u="\u23AA",g="Size4-Regular"):e==="\\lmoustache"||e==="\u23B0"?(s="\u23A7",h="\u23AD",u="\u23AA",g="Size4-Regular"):(e==="\\rmoustache"||e==="\u23B1")&&(s="\u23AB",h="\u23A9",u="\u23AA",g="Size4-Regular");var f=Rp(s,g,n),m=f.height+f.depth,y=Rp(u,g,n),b=y.height+y.depth,v=Rp(h,g,n),x=v.height+v.depth,w=0,k=1;if(o!==null){var T=Rp(o,g,n);w=T.height+T.depth,k=2}var _=m+x+w,C=Math.max(0,Math.ceil((t-_)/(k*b))),E=_+C*k*b,N=i.fontMetrics().axisHeight;r&&(N*=i.sizeMultiplier);var M=E/2-N,I=[];if(d.length>0){var A=E-m-x,B=Math.round(E*1e3),S=zV(d,Math.round(A*1e3)),O=new jl(d,S),R=(p/1e3).toFixed(3)+"em",P=(B/1e3).toFixed(3)+"em",L=new zo([O],{width:R,height:P,viewBox:"0 0 "+p+" "+B}),$=Oe.makeSvgSpan([],[L],i);$.height=B/1e3,$.style.width=R,$.style.height=P,I.push({type:"elem",elem:$})}else{if(I.push(F4(h,g,n)),I.push(Tm),o===null){var F=E-m-x+2*G4;I.push(z4(u,F,i))}else{var G=(E-m-x-w)/2+2*G4;I.push(z4(u,G,i)),I.push(Tm),I.push(F4(o,g,n)),I.push(Tm),I.push(z4(u,G,i))}I.push(Tm),I.push(F4(s,g,n))}var q=i.havingBaseStyle(Xt.TEXT),V=Oe.makeVList({positionType:"bottom",positionData:M,children:I},q);return $4(Oe.makeSpan(["delimsizing","mult"],[V],q),Xt.TEXT,i,a)},"makeStackedDelim"),U4=80,q4=.08,j4=l(function(e,t,r,i,n){var a=$V(e,i,r),s=new jl(e,a),o=new zo([s],{width:"400em",height:gt(t),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return Oe.makeSvgSpan(["hide-tail"],[o],n)},"sqrtSvg"),IY=l(function(e,t){var r=t.havingBaseSizing(),i=dC("\\surd",e*r.sizeMultiplier,hC,r),n=r.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),s,o=0,u=0,h=0,d;return i.type==="small"?(h=1e3+1e3*a+U4,e<1?n=1:e<1.4&&(n=.7),o=(1+a+q4)/n,u=(1+a)/n,s=j4("sqrtMain",o,h,a,t),s.style.minWidth="0.853em",d=.833/n):i.type==="large"?(h=(1e3+U4)*Op[i.size],u=(Op[i.size]+a)/n,o=(Op[i.size]+a+q4)/n,s=j4("sqrtSize"+i.size,o,h,a,t),s.style.minWidth="1.02em",d=1/n):(o=e+a+q4,u=e+a,h=Math.floor(1e3*e+a)+U4,s=j4("sqrtTall",o,h,a,t),s.style.minWidth="0.742em",d=1.056),s.height=u,s.style.height=gt(o),{span:s,advanceWidth:d,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*n}},"makeSqrtImage"),cC=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],DY=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],uC=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Op=[0,1.2,1.8,2.4,3],RY=l(function(e,t,r,i,n){if(e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle"),Vt.contains(cC,e)||Vt.contains(uC,e))return oC(e,t,!1,r,i,n);if(Vt.contains(DY,e))return lC(e,Op[t],!1,r,i,n);throw new lt("Illegal delimiter: '"+e+"'")},"makeSizedDelim"),OY=[{type:"small",style:Xt.SCRIPTSCRIPT},{type:"small",style:Xt.SCRIPT},{type:"small",style:Xt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],PY=[{type:"small",style:Xt.SCRIPTSCRIPT},{type:"small",style:Xt.SCRIPT},{type:"small",style:Xt.TEXT},{type:"stack"}],hC=[{type:"small",style:Xt.SCRIPTSCRIPT},{type:"small",style:Xt.SCRIPT},{type:"small",style:Xt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],BY=l(function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},"delimTypeToFont"),dC=l(function(e,t,r,i){for(var n=Math.min(2,3-i.style.size),a=n;a<r.length&&r[a].type!=="stack";a++){var s=Rp(e,BY(r[a]),"math"),o=s.height+s.depth;if(r[a].type==="small"){var u=i.havingBaseStyle(r[a].style);o*=u.sizeMultiplier}if(o>t)return r[a]}return r[r.length-1]},"traverseSequence"),pC=l(function(e,t,r,i,n,a){e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle");var s;Vt.contains(uC,e)?s=OY:Vt.contains(cC,e)?s=hC:s=PY;var o=dC(e,t,s,i);return o.type==="small"?AY(e,o.style,r,i,n,a):o.type==="large"?oC(e,o.size,r,i,n,a):lC(e,t,r,i,n,a)},"makeCustomSizedDelim"),$Y=l(function(e,t,r,i,n,a){var s=i.fontMetrics().axisHeight*i.sizeMultiplier,o=901,u=5/i.fontMetrics().ptPerEm,h=Math.max(t-s,r+s),d=Math.max(h/500*o,2*h-u);return pC(e,d,!0,i,n,a)},"makeLeftRightDelim"),Ho={sqrtImage:IY,sizedDelim:RY,sizeToMaxHeight:Op,customSizedDelim:pC,leftRightDelim:$Y},gC={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},FY=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."],l(om,"checkDelimiter"),wt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:l((e,t)=>{var r=om(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:gC[e.funcName].size,mclass:gC[e.funcName].mclass,delim:r.text}},"handler"),htmlBuilder:l((e,t)=>e.delim==="."?Oe.makeSpan([e.mclass]):Ho.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),"htmlBuilder"),mathmlBuilder:l(e=>{var t=[];e.delim!=="."&&t.push(ts(e.delim,e.mode));var r=new it.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var i=gt(Ho.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",i),r.setAttribute("maxsize",i),r},"mathmlBuilder")}),l(CE,"assertParsed"),wt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:l((e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new lt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:om(t[0],e).text,color:r}},"handler")}),wt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:l((e,t)=>{var r=om(t[0],e),i=e.parser;++i.leftrightDepth;var n=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var a=dr(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:n,left:r.text,right:a.delim,rightColor:a.color}},"handler"),htmlBuilder:l((e,t)=>{CE(e);for(var r=zi(e.body,t,!0,["mopen","mclose"]),i=0,n=0,a=!1,s=0;s<r.length;s++)r[s].isMiddle?a=!0:(i=Math.max(r[s].height,i),n=Math.max(r[s].depth,n));i*=t.sizeMultiplier,n*=t.sizeMultiplier;var o;if(e.left==="."?o=Dp(t,["mopen"]):o=Ho.leftRightDelim(e.left,i,n,t,e.mode,["mopen"]),r.unshift(o),a)for(var u=1;u<r.length;u++){var h=r[u],d=h.isMiddle;d&&(r[u]=Ho.leftRightDelim(d.delim,i,n,d.options,e.mode,[]))}var p;if(e.right===".")p=Dp(t,["mclose"]);else{var g=e.rightColor?t.withColor(e.rightColor):t;p=Ho.leftRightDelim(e.right,i,n,g,e.mode,["mclose"])}return r.push(p),Oe.makeSpan(["minner"],r,t)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{CE(e);var r=pa(e.body,t);if(e.left!=="."){var i=new it.MathNode("mo",[ts(e.left,e.mode)]);i.setAttribute("fence","true"),r.unshift(i)}if(e.right!=="."){var n=new it.MathNode("mo",[ts(e.right,e.mode)]);n.setAttribute("fence","true"),e.rightColor&&n.setAttribute("mathcolor",e.rightColor),r.push(n)}return R4(r)},"mathmlBuilder")}),wt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:l((e,t)=>{var r=om(t[0],e);if(!e.parser.leftrightDepth)throw new lt("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},"handler"),htmlBuilder:l((e,t)=>{var r;if(e.delim===".")r=Dp(t,[]);else{r=Ho.sizedDelim(e.delim,1,t,e.mode,[]);var i={delim:e.delim,options:t};r.isMiddle=i}return r},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=e.delim==="\\vert"||e.delim==="|"?ts("|","text"):ts(e.delim,e.mode),i=new it.MathNode("mo",[r]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i},"mathmlBuilder")}),H4=l((e,t)=>{var r=Oe.wrapFragment(Er(e.body,t),t),i=e.label.slice(1),n=t.sizeMultiplier,a,s=0,o=Vt.isCharacterBox(e.body);if(i==="sout")a=Oe.makeSpan(["stretchy","sout"]),a.height=t.fontMetrics().defaultRuleThickness/n,s=-.5*t.fontMetrics().xHeight;else if(i==="phase"){var u=ui({number:.6,unit:"pt"},t),h=ui({number:.35,unit:"ex"},t),d=t.havingBaseSizing();n=n/d.sizeMultiplier;var p=r.height+r.depth+u+h;r.style.paddingLeft=gt(p/2+u);var g=Math.floor(1e3*p*n),f=PV(g),m=new zo([new jl("phase",f)],{width:"400em",height:gt(g/1e3),viewBox:"0 0 400000 "+g,preserveAspectRatio:"xMinYMin slice"});a=Oe.makeSvgSpan(["hide-tail"],[m],t),a.style.height=gt(p),s=r.depth+u+h}else{/cancel/.test(i)?o||r.classes.push("cancel-pad"):i==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var y=0,b=0,v=0;/box/.test(i)?(v=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),y=t.fontMetrics().fboxsep+(i==="colorbox"?0:v),b=y):i==="angl"?(v=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),y=4*v,b=Math.max(0,.25-r.depth)):(y=o?.2:0,b=y),a=jo.encloseSpan(r,i,y,b,t),/fbox|boxed|fcolorbox/.test(i)?(a.style.borderStyle="solid",a.style.borderWidth=gt(v)):i==="angl"&&v!==.049&&(a.style.borderTopWidth=gt(v),a.style.borderRightWidth=gt(v)),s=r.depth+b,e.backgroundColor&&(a.style.backgroundColor=e.backgroundColor,e.borderColor&&(a.style.borderColor=e.borderColor))}var x;if(e.backgroundColor)x=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:r,shift:0}]},t);else{var w=/cancel|phase/.test(i)?["svg-align"]:[];x=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:w}]},t)}return/cancel/.test(i)&&(x.height=r.height,x.depth=r.depth),/cancel/.test(i)&&!o?Oe.makeSpan(["mord","cancel-lap"],[x],t):Oe.makeSpan(["mord"],[x],t)},"htmlBuilder$7"),V4=l((e,t)=>{var r=0,i=new it.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Yr(e.body,t)]);switch(e.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*r+"pt"),i.setAttribute("height","+"+2*r+"pt"),i.setAttribute("lspace",r+"pt"),i.setAttribute("voffset",r+"pt"),e.label==="\\fcolorbox"){var n=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);i.setAttribute("style","border: "+n+"em solid "+String(e.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&i.setAttribute("mathbackground",e.backgroundColor),i},"mathmlBuilder$6"),wt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:i,funcName:n}=e,a=dr(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:i.mode,label:n,backgroundColor:a,body:s}},htmlBuilder:H4,mathmlBuilder:V4}),wt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:i,funcName:n}=e,a=dr(t[0],"color-token").color,s=dr(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:i.mode,label:n,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:H4,mathmlBuilder:V4}),wt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}}),wt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:i}=e,n=t[0];return{type:"enclose",mode:r.mode,label:i,body:n}},htmlBuilder:H4,mathmlBuilder:V4}),wt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}}),fC={},l(Ys,"defineEnvironment"),mC={},l(le,"defineMacro"),l(SE,"getHLines"),Em=l(e=>{var t=e.parser.settings;if(!t.displayMode)throw new lt("{"+e.envName+"} can be used only in display mode.")},"validateAmsEnvironmentContext"),l(v4,"getAutoTag"),l(Gl,"parseArray"),l(b4,"dCellStyle"),Qs=l(function(e,t){var r,i,n=e.body.length,a=e.hLinesBeforeRow,s=0,o=new Array(n),u=[],h=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),d=1/t.fontMetrics().ptPerEm,p=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var g=t.havingStyle(Xt.SCRIPT).sizeMultiplier;p=.2778*(g/t.sizeMultiplier)}var f=e.colSeparationType==="CD"?ui({number:3,unit:"ex"},t):12*d,m=3*d,y=e.arraystretch*f,b=.7*y,v=.3*y,x=0;function w(Y){for(var _e=0;_e<Y.length;++_e)_e>0&&(x+=.25),u.push({pos:x,isDashed:Y[_e]})}for(l(w,"setHLinePos"),w(a[0]),r=0;r<e.body.length;++r){var k=e.body[r],T=b,_=v;s<k.length&&(s=k.length);var C=new Array(k.length);for(i=0;i<k.length;++i){var E=Er(k[i],t);_<E.depth&&(_=E.depth),T<E.height&&(T=E.height),C[i]=E}var N=e.rowGaps[r],M=0;N&&(M=ui(N,t),M>0&&(M+=v,_<M&&(_=M),M=0)),e.addJot&&(_+=m),C.height=T,C.depth=_,x+=T,C.pos=x,x+=_+M,o[r]=C,w(a[r+1])}var I=x/2+t.fontMetrics().axisHeight,A=e.cols||[],B=[],S,O,R=[];if(e.tags&&e.tags.some(Y=>Y))for(r=0;r<n;++r){var P=o[r],L=P.pos-I,$=e.tags[r],F=void 0;$===!0?F=Oe.makeSpan(["eqn-num"],[],t):$===!1?F=Oe.makeSpan([],[],t):F=Oe.makeSpan([],zi($,t,!0),t),F.depth=P.depth,F.height=P.height,R.push({type:"elem",elem:F,shift:L})}for(i=0,O=0;i<s||O<A.length;++i,++O){for(var G=A[O]||{},q=!0;G.type==="separator";){if(q||(S=Oe.makeSpan(["arraycolsep"],[]),S.style.width=gt(t.fontMetrics().doubleRuleSep),B.push(S)),G.separator==="|"||G.separator===":"){var V=G.separator==="|"?"solid":"dashed",H=Oe.makeSpan(["vertical-separator"],[],t);H.style.height=gt(x),H.style.borderRightWidth=gt(h),H.style.borderRightStyle=V,H.style.margin="0 "+gt(-h/2);var ae=x-I;ae&&(H.style.verticalAlign=gt(-ae)),B.push(H)}else throw new lt("Invalid separator type: "+G.separator);O++,G=A[O]||{},q=!1}if(!(i>=s)){var re=void 0;(i>0||e.hskipBeforeAndAfter)&&(re=Vt.deflt(G.pregap,p),re!==0&&(S=Oe.makeSpan(["arraycolsep"],[]),S.style.width=gt(re),B.push(S)));var oe=[];for(r=0;r<n;++r){var ue=o[r],W=ue[i];if(W){var ee=ue.pos-I;W.depth=ue.depth,W.height=ue.height,oe.push({type:"elem",elem:W,shift:ee})}}oe=Oe.makeVList({positionType:"individualShift",children:oe},t),oe=Oe.makeSpan(["col-align-"+(G.align||"c")],[oe]),B.push(oe),(i<s-1||e.hskipBeforeAndAfter)&&(re=Vt.deflt(G.postgap,p),re!==0&&(S=Oe.makeSpan(["arraycolsep"],[]),S.style.width=gt(re),B.push(S)))}}if(o=Oe.makeSpan(["mtable"],B),u.length>0){for(var X=Oe.makeLineSpan("hline",t,h),Z=Oe.makeLineSpan("hdashline",t,h),J=[{type:"elem",elem:o,shift:0}];u.length>0;){var he=u.pop(),K=he.pos-I;he.isDashed?J.push({type:"elem",elem:Z,shift:K}):J.push({type:"elem",elem:X,shift:K})}o=Oe.makeVList({positionType:"individualShift",children:J},t)}if(R.length===0)return Oe.makeSpan(["mord"],[o],t);var me=Oe.makeVList({positionType:"individualShift",children:R},t);return me=Oe.makeSpan(["tag"],[me],t),Oe.makeFragment([o,me])},"htmlBuilder"),zY={c:"center ",l:"left ",r:"right "},Js=l(function(e,t){for(var r=[],i=new it.MathNode("mtd",[],["mtr-glue"]),n=new it.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var s=e.body[a],o=[],u=0;u<s.length;u++)o.push(new it.MathNode("mtd",[Yr(s[u],t)]));e.tags&&e.tags[a]&&(o.unshift(i),o.push(i),e.leqno?o.unshift(n):o.push(n)),r.push(new it.MathNode("mtr",o))}var h=new it.MathNode("mtable",r),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",gt(d));var p="",g="";if(e.cols&&e.cols.length>0){var f=e.cols,m="",y=!1,b=0,v=f.length;f[0].type==="separator"&&(p+="top ",b=1),f[f.length-1].type==="separator"&&(p+="bottom ",v-=1);for(var x=b;x<v;x++)f[x].type==="align"?(g+=zY[f[x].align],y&&(m+="none "),y=!0):f[x].type==="separator"&&y&&(m+=f[x].separator==="|"?"solid ":"dashed ",y=!1);h.setAttribute("columnalign",g.trim()),/[sd]/.test(m)&&h.setAttribute("columnlines",m.trim())}if(e.colSeparationType==="align"){for(var w=e.cols||[],k="",T=1;T<w.length;T++)k+=T%2?"0em ":"1em ";h.setAttribute("columnspacing",k.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var _="",C=e.hLinesBeforeRow;p+=C[0].length>0?"left ":"",p+=C[C.length-1].length>0?"right ":"";for(var E=1;E<C.length-1;E++)_+=C[E].length===0?"none ":C[E][0]?"dashed ":"solid ";return/[sd]/.test(_)&&h.setAttribute("rowlines",_.trim()),p!==""&&(h=new it.MathNode("menclose",[h]),h.setAttribute("notation",p.trim())),e.arraystretch&&e.arraystretch<1&&(h=new it.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},"mathmlBuilder"),yC=l(function(e,t){e.envName.indexOf("ed")===-1&&Em(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",n=e.envName==="split",a=Gl(e.parser,{cols:r,addJot:!0,autoTag:n?void 0:v4(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:n?2:void 0,leqno:e.parser.settings.leqno},"display"),s,o=0,u={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var h="",d=0;d<t[0].body.length;d++){var p=dr(t[0].body[d],"textord");h+=p.text}s=Number(h),o=s*2}var g=!o;a.body.forEach(function(b){for(var v=1;v<b.length;v+=2){var x=dr(b[v],"styling"),w=dr(x.body[0],"ordgroup");w.body.unshift(u)}if(g)o<b.length&&(o=b.length);else{var k=b.length/2;if(s<k)throw new lt("Too many math in a row: "+("expected "+s+", but got "+k),b[0])}});for(var f=0;f<o;++f){var m="r",y=0;f%2===1?m="l":f>0&&g&&(y=1),r[f]={type:"align",align:m,pregap:y,postgap:0}}return a.colSeparationType=g?"align":"alignat",a},"alignedHandler"),Ys({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=sm(t[0]),i=r?[t[0]]:dr(t[0],"ordgroup").body,n=i.map(function(s){var o=y4(s),u=o.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new lt("Unknown column alignment: "+u,s)}),a={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Gl(e.parser,a,b4(e.envName))},htmlBuilder:Qs,mathmlBuilder:Js}),Ys({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(e.envName.charAt(e.envName.length-1)==="*"){var n=e.parser;if(n.consumeSpaces(),n.fetch().text==="["){if(n.consume(),n.consumeSpaces(),r=n.fetch().text,"lcr".indexOf(r)===-1)throw new lt("Expected l or c or r",n.nextToken);n.consume(),n.consumeSpaces(),n.expect("]"),n.consume(),i.cols=[{type:"align",align:r}]}}var a=Gl(e.parser,i,b4(e.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:Qs,mathmlBuilder:Js}),Ys({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},r=Gl(e.parser,t,"script");return r.colSeparationType="small",r},htmlBuilder:Qs,mathmlBuilder:Js}),Ys({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=sm(t[0]),i=r?[t[0]]:dr(t[0],"ordgroup").body,n=i.map(function(s){var o=y4(s),u=o.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new lt("Unknown column alignment: "+u,s)});if(n.length>1)throw new lt("{subarray} can contain only one column");var a={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Gl(e.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new lt("{subarray} can contain only one column");return a},htmlBuilder:Qs,mathmlBuilder:Js}),Ys({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Gl(e.parser,t,b4(e.envName));return{type:"leftright",mode:e.mode,body:[r],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Qs,mathmlBuilder:Js}),Ys({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:yC,htmlBuilder:Qs,mathmlBuilder:Js}),Ys({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){Vt.contains(["gather","gather*"],e.envName)&&Em(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:v4(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Gl(e.parser,t,"display")},htmlBuilder:Qs,mathmlBuilder:Js}),Ys({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:yC,htmlBuilder:Qs,mathmlBuilder:Js}),Ys({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Em(e);var t={autoTag:v4(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Gl(e.parser,t,"display")},htmlBuilder:Qs,mathmlBuilder:Js}),Ys({type:"array",names:["CD"],props:{numArgs:0},handler(e){return Em(e),fV(e.parser)},htmlBuilder:Qs,mathmlBuilder:Js}),le("\\nonumber","\\gdef\\@eqnsw{0}"),le("\\notag","\\nonumber"),wt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new lt(e.funcName+" valid only within array environment")}}),vC=fC,wt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:i}=e,n=t[0];if(n.type!=="ordgroup")throw new lt("Invalid environment name",n);for(var a="",s=0;s<n.body.length;++s)a+=dr(n.body[s],"textord").text;if(i==="\\begin"){if(!vC.hasOwnProperty(a))throw new lt("No such environment: "+a,n);var o=vC[a],{args:u,optArgs:h}=r.parseArguments("\\begin{"+a+"}",o),d={mode:r.mode,envName:a,parser:r},p=o.handler(d,u,h);r.expect("\\end",!1);var g=r.nextToken,f=dr(r.parseFunction(),"environment");if(f.name!==a)throw new lt("Mismatch: \\begin{"+a+"} matched by \\end{"+f.name+"}",g);return p}return{type:"environment",mode:r.mode,name:a,nameGroup:n}}}),bC=l((e,t)=>{var r=e.font,i=t.withFont(r);return Er(e.body,i)},"htmlBuilder$5"),xC=l((e,t)=>{var r=e.font,i=t.withFont(r);return Yr(e.body,i)},"mathmlBuilder$4"),wC={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"},wt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:l((e,t)=>{var{parser:r,funcName:i}=e,n=xm(t[0]),a=i;return a in wC&&(a=wC[a]),{type:"font",mode:r.mode,font:a.slice(1),body:n}},"handler"),htmlBuilder:bC,mathmlBuilder:xC}),wt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:l((e,t)=>{var{parser:r}=e,i=t[0],n=Vt.isCharacterBox(i);return{type:"mclass",mode:r.mode,mclass:km(i),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:i}],isCharacterBox:n}},"handler")}),wt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:l((e,t)=>{var{parser:r,funcName:i,breakOnTokenText:n}=e,{mode:a}=r,s=r.parseExpression(!0,n),o="math"+i.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:r.mode,body:s}}},"handler"),htmlBuilder:bC,mathmlBuilder:xC}),kC=l((e,t)=>{var r=t;return e==="display"?r=r.id>=Xt.SCRIPT.id?r.text():Xt.DISPLAY:e==="text"&&r.size===Xt.DISPLAY.size?r=Xt.TEXT:e==="script"?r=Xt.SCRIPT:e==="scriptscript"&&(r=Xt.SCRIPTSCRIPT),r},"adjustStyle"),Y4=l((e,t)=>{var r=kC(e.size,t.style),i=r.fracNum(),n=r.fracDen(),a;a=t.havingStyle(i);var s=Er(e.numer,a,t);if(e.continued){var o=8.5/t.fontMetrics().ptPerEm,u=3.5/t.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<u?u:s.depth}a=t.havingStyle(n);var h=Er(e.denom,a,t),d,p,g;e.hasBarLine?(e.barSize?(p=ui(e.barSize,t),d=Oe.makeLineSpan("frac-line",t,p)):d=Oe.makeLineSpan("frac-line",t),p=d.height,g=d.height):(d=null,p=0,g=t.fontMetrics().defaultRuleThickness);var f,m,y;r.size===Xt.DISPLAY.size||e.size==="display"?(f=t.fontMetrics().num1,p>0?m=3*g:m=7*g,y=t.fontMetrics().denom1):(p>0?(f=t.fontMetrics().num2,m=g):(f=t.fontMetrics().num3,m=3*g),y=t.fontMetrics().denom2);var b;if(d){var v=t.fontMetrics().axisHeight;f-s.depth-(v+.5*p)<m&&(f+=m-(f-s.depth-(v+.5*p))),v-.5*p-(h.height-y)<m&&(y+=m-(v-.5*p-(h.height-y)));var x=-(v-.5*p);b=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:d,shift:x},{type:"elem",elem:s,shift:-f}]},t)}else{var w=f-s.depth-(h.height-y);w<m&&(f+=.5*(m-w),y+=.5*(m-w)),b=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:s,shift:-f}]},t)}a=t.havingStyle(r),b.height*=a.sizeMultiplier/t.sizeMultiplier,b.depth*=a.sizeMultiplier/t.sizeMultiplier;var k;r.size===Xt.DISPLAY.size?k=t.fontMetrics().delim1:r.size===Xt.SCRIPTSCRIPT.size?k=t.havingStyle(Xt.SCRIPT).fontMetrics().delim2:k=t.fontMetrics().delim2;var T,_;return e.leftDelim==null?T=Dp(t,["mopen"]):T=Ho.customSizedDelim(e.leftDelim,k,!0,t.havingStyle(r),e.mode,["mopen"]),e.continued?_=Oe.makeSpan([]):e.rightDelim==null?_=Dp(t,["mclose"]):_=Ho.customSizedDelim(e.rightDelim,k,!0,t.havingStyle(r),e.mode,["mclose"]),Oe.makeSpan(["mord"].concat(a.sizingClasses(t)),[T,Oe.makeSpan(["mfrac"],[b]),_],t)},"htmlBuilder$4"),W4=l((e,t)=>{var r=new it.MathNode("mfrac",[Yr(e.numer,t),Yr(e.denom,t)]);if(!e.hasBarLine)r.setAttribute("linethickness","0px");else if(e.barSize){var i=ui(e.barSize,t);r.setAttribute("linethickness",gt(i))}var n=kC(e.size,t.style);if(n.size!==t.style.size){r=new it.MathNode("mstyle",[r]);var a=n.size===Xt.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var s=[];if(e.leftDelim!=null){var o=new it.MathNode("mo",[new it.TextNode(e.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(r),e.rightDelim!=null){var u=new it.MathNode("mo",[new it.TextNode(e.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),s.push(u)}return R4(s)}return r},"mathmlBuilder$3"),wt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:l((e,t)=>{var{parser:r,funcName:i}=e,n=t[0],a=t[1],s,o=null,u=null,h="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",u=")";break;case"\\\\bracefrac":s=!1,o="\\{",u="\\}";break;case"\\\\brackfrac":s=!1,o="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:n,denom:a,hasBarLine:s,leftDelim:o,rightDelim:u,size:h,barSize:null}},"handler"),htmlBuilder:Y4,mathmlBuilder:W4}),wt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:l((e,t)=>{var{parser:r,funcName:i}=e,n=t[0],a=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:n,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}},"handler")}),wt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:r,token:i}=e,n;switch(r){case"\\over":n="\\frac";break;case"\\choose":n="\\binom";break;case"\\atop":n="\\\\atopfrac";break;case"\\brace":n="\\\\bracefrac";break;case"\\brack":n="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:n,token:i}}}),TC=["display","text","script","scriptscript"],EC=l(function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t},"delimFromValue"),wt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:r}=e,i=t[4],n=t[5],a=xm(t[0]),s=a.type==="atom"&&a.family==="open"?EC(a.text):null,o=xm(t[1]),u=o.type==="atom"&&o.family==="close"?EC(o.text):null,h=dr(t[2],"size"),d,p=null;h.isBlank?d=!0:(p=h.value,d=p.number>0);var g="auto",f=t[3];if(f.type==="ordgroup"){if(f.body.length>0){var m=dr(f.body[0],"textord");g=TC[Number(m.text)]}}else f=dr(f,"textord"),g=TC[Number(f.text)];return{type:"genfrac",mode:r.mode,numer:i,denom:n,continued:!1,hasBarLine:d,barSize:p,leftDelim:s,rightDelim:u,size:g}},htmlBuilder:Y4,mathmlBuilder:W4}),wt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:i,token:n}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:dr(t[0],"size").value,token:n}}}),wt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:l((e,t)=>{var{parser:r,funcName:i}=e,n=t[0],a=TV(dr(t[1],"infix").size),s=t[2],o=a.number>0;return{type:"genfrac",mode:r.mode,numer:n,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},"handler"),htmlBuilder:Y4,mathmlBuilder:W4}),CC=l((e,t)=>{var r=t.style,i,n;e.type==="supsub"?(i=e.sup?Er(e.sup,t.havingStyle(r.sup()),t):Er(e.sub,t.havingStyle(r.sub()),t),n=dr(e.base,"horizBrace")):n=dr(e,"horizBrace");var a=Er(n.base,t.havingBaseStyle(Xt.DISPLAY)),s=jo.svgSpan(n,t),o;if(n.isOver?(o=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),o.children[0].children[0].children[1].classes.push("svg-align")):(o=Oe.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),o.children[0].children[0].children[0].classes.push("svg-align")),i){var u=Oe.makeSpan(["mord",n.isOver?"mover":"munder"],[o],t);n.isOver?o=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:i}]},t):o=Oe.makeVList({positionType:"bottom",positionData:u.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:u}]},t)}return Oe.makeSpan(["mord",n.isOver?"mover":"munder"],[o],t)},"htmlBuilder$3"),GY=l((e,t)=>{var r=jo.mathMLnode(e.label);return new it.MathNode(e.isOver?"mover":"munder",[Yr(e.base,t),r])},"mathmlBuilder$2"),wt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:i}=e;return{type:"horizBrace",mode:r.mode,label:i,isOver:/^\\over/.test(i),base:t[0]}},htmlBuilder:CC,mathmlBuilder:GY}),wt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:l((e,t)=>{var{parser:r}=e,i=t[1],n=dr(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:n})?{type:"href",mode:r.mode,href:n,body:Ti(i)}:r.formatUnsupportedCmd("\\href")},"handler"),htmlBuilder:l((e,t)=>{var r=zi(e.body,t,!1);return Oe.makeAnchor(e.href,[],r,t)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=Vl(e.body,t);return r instanceof Ra||(r=new Ra("mrow",[r])),r.setAttribute("href",e.href),r},"mathmlBuilder")}),wt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:l((e,t)=>{var{parser:r}=e,i=dr(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:i}))return r.formatUnsupportedCmd("\\url");for(var n=[],a=0;a<i.length;a++){var s=i[a];s==="~"&&(s="\\textasciitilde"),n.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:r.mode,font:"\\texttt",body:n};return{type:"href",mode:r.mode,href:i,body:Ti(o)}},"handler")}),wt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:Ti(t[0])}},htmlBuilder(e,t){var r=zi(e.body,t,!1);return Oe.makeFragment(r)},mathmlBuilder(e,t){return new it.MathNode("mrow",pa(e.body,t))}}),wt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:l((e,t)=>{var{parser:r,funcName:i,token:n}=e,a=dr(t[0],"raw").string,s=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,u={};switch(i){case"\\htmlClass":u.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":u.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":u.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var h=a.split(","),d=0;d<h.length;d++){var p=h[d].split("=");if(p.length!==2)throw new lt("Error parsing key-value for \\htmlData");u["data-"+p[0].trim()]=p[1].trim()}o={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(o)?{type:"html",mode:r.mode,attributes:u,body:Ti(s)}:r.formatUnsupportedCmd(i)},"handler"),htmlBuilder:l((e,t)=>{var r=zi(e.body,t,!1),i=["enclosing"];e.attributes.class&&i.push(...e.attributes.class.trim().split(/\s+/));var n=Oe.makeSpan(i,r,t);for(var a in e.attributes)a!=="class"&&e.attributes.hasOwnProperty(a)&&n.setAttribute(a,e.attributes[a]);return n},"htmlBuilder"),mathmlBuilder:l((e,t)=>Vl(e.body,t),"mathmlBuilder")}),wt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:l((e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:Ti(t[0]),mathml:Ti(t[1])}},"handler"),htmlBuilder:l((e,t)=>{var r=zi(e.html,t,!1);return Oe.makeFragment(r)},"htmlBuilder"),mathmlBuilder:l((e,t)=>Vl(e.mathml,t),"mathmlBuilder")}),X4=l(function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new lt("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!RE(r))throw new lt("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r},"sizeData"),wt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:l((e,t,r)=>{var{parser:i}=e,n={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(r[0])for(var u=dr(r[0],"raw").string,h=u.split(","),d=0;d<h.length;d++){var p=h[d].split("=");if(p.length===2){var g=p[1].trim();switch(p[0].trim()){case"alt":o=g;break;case"width":n=X4(g);break;case"height":a=X4(g);break;case"totalheight":s=X4(g);break;default:throw new lt("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var f=dr(t[0],"url").url;return o===""&&(o=f,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:i.mode,alt:o,width:n,height:a,totalheight:s,src:f}:i.formatUnsupportedCmd("\\includegraphics")},"handler"),htmlBuilder:l((e,t)=>{var r=ui(e.height,t),i=0;e.totalheight.number>0&&(i=ui(e.totalheight,t)-r);var n=0;e.width.number>0&&(n=ui(e.width,t));var a={height:gt(r+i)};n>0&&(a.width=gt(n)),i>0&&(a.verticalAlign=gt(-i));var s=new jV(e.src,e.alt,a);return s.height=r,s.depth=i,s},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=new it.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var i=ui(e.height,t),n=0;if(e.totalheight.number>0&&(n=ui(e.totalheight,t)-i,r.setAttribute("valign",gt(-n))),r.setAttribute("height",gt(i+n)),e.width.number>0){var a=ui(e.width,t);r.setAttribute("width",gt(a))}return r.setAttribute("src",e.src),r},"mathmlBuilder")}),wt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:i}=e,n=dr(t[0],"size");if(r.settings.strict){var a=i[1]==="m",s=n.value.unit==="mu";a?(s||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+n.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):s&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:n.value}},htmlBuilder(e,t){return Oe.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var r=ui(e.dimension,t);return new it.SpaceNode(r)}}),wt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:l((e,t)=>{var{parser:r,funcName:i}=e,n=t[0];return{type:"lap",mode:r.mode,alignment:i.slice(5),body:n}},"handler"),htmlBuilder:l((e,t)=>{var r;e.alignment==="clap"?(r=Oe.makeSpan([],[Er(e.body,t)]),r=Oe.makeSpan(["inner"],[r],t)):r=Oe.makeSpan(["inner"],[Er(e.body,t)]);var i=Oe.makeSpan(["fix"],[]),n=Oe.makeSpan([e.alignment],[r,i],t),a=Oe.makeSpan(["strut"]);return a.style.height=gt(n.height+n.depth),n.depth&&(a.style.verticalAlign=gt(-n.depth)),n.children.unshift(a),n=Oe.makeSpan(["thinbox"],[n],t),Oe.makeSpan(["mord","vbox"],[n],t)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=new it.MathNode("mpadded",[Yr(e.body,t)]);if(e.alignment!=="rlap"){var i=e.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",i+"width")}return r.setAttribute("width","0px"),r},"mathmlBuilder")}),wt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:i}=e,n=i.mode;i.switchMode("math");var a=r==="\\("?"\\)":"$",s=i.parseExpression(!1,a);return i.expect(a),i.switchMode(n),{type:"styling",mode:i.mode,style:"text",body:s}}}),wt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new lt("Mismatched "+e.funcName)}}),SC=l((e,t)=>{switch(t.style.size){case Xt.DISPLAY.size:return e.display;case Xt.TEXT.size:return e.text;case Xt.SCRIPT.size:return e.script;case Xt.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}},"chooseMathStyle"),wt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:l((e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:Ti(t[0]),text:Ti(t[1]),script:Ti(t[2]),scriptscript:Ti(t[3])}},"handler"),htmlBuilder:l((e,t)=>{var r=SC(e,t),i=zi(r,t,!1);return Oe.makeFragment(i)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=SC(e,t);return Vl(r,t)},"mathmlBuilder")}),_C=l((e,t,r,i,n,a,s)=>{e=Oe.makeSpan([],[e]);var o=r&&Vt.isCharacterBox(r),u,h;if(t){var d=Er(t,i.havingStyle(n.sup()),i);h={elem:d,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-d.depth)}}if(r){var p=Er(r,i.havingStyle(n.sub()),i);u={elem:p,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-p.height)}}var g;if(h&&u){var f=i.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+e.depth+s;g=Oe.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:gt(-a)},{type:"kern",size:u.kern},{type:"elem",elem:e},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:gt(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(u){var m=e.height-s;g=Oe.makeVList({positionType:"top",positionData:m,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:gt(-a)},{type:"kern",size:u.kern},{type:"elem",elem:e}]},i)}else if(h){var y=e.depth+s;g=Oe.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:e},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:gt(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return e;var b=[g];if(u&&a!==0&&!o){var v=Oe.makeSpan(["mspace"],[],i);v.style.marginRight=gt(a),b.unshift(v)}return Oe.makeSpan(["mop","op-limits"],b,i)},"assembleSupSub"),AC=["\\smallint"],Dh=l((e,t)=>{var r,i,n=!1,a;e.type==="supsub"?(r=e.sup,i=e.sub,a=dr(e.base,"op"),n=!0):a=dr(e,"op");var s=t.style,o=!1;s.size===Xt.DISPLAY.size&&a.symbol&&!Vt.contains(AC,a.name)&&(o=!0);var u;if(a.symbol){var h=o?"Size2-Regular":"Size1-Regular",d="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(d=a.name.slice(1),a.name=d==="oiint"?"\\iint":"\\iiint"),u=Oe.makeSymbol(a.name,h,"math",t,["mop","op-symbol",o?"large-op":"small-op"]),d.length>0){var p=u.italic,g=Oe.staticSvg(d+"Size"+(o?"2":"1"),t);u=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:g,shift:o?.08:0}]},t),a.name="\\"+d,u.classes.unshift("mop"),u.italic=p}}else if(a.body){var f=zi(a.body,t,!0);f.length===1&&f[0]instanceof es?(u=f[0],u.classes[0]="mop"):u=Oe.makeSpan(["mop"],f,t)}else{for(var m=[],y=1;y<a.name.length;y++)m.push(Oe.mathsym(a.name[y],a.mode,t));u=Oe.makeSpan(["mop"],m,t)}var b=0,v=0;return(u instanceof es||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(b=(u.height-u.depth)/2-t.fontMetrics().axisHeight,v=u.italic),n?_C(u,r,i,t,s,v,b):(b&&(u.style.position="relative",u.style.top=gt(b)),u)},"htmlBuilder$2"),Pp=l((e,t)=>{var r;if(e.symbol)r=new Ra("mo",[ts(e.name,e.mode)]),Vt.contains(AC,e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new Ra("mo",pa(e.body,t));else{r=new Ra("mi",[new Zs(e.name.slice(1))]);var i=new Ra("mo",[ts("\u2061","text")]);e.parentIsSupSub?r=new Ra("mrow",[r,i]):r=wE([r,i])}return r},"mathmlBuilder$1"),UY={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"},wt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:l((e,t)=>{var{parser:r,funcName:i}=e,n=i;return n.length===1&&(n=UY[n]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},"handler"),htmlBuilder:Dh,mathmlBuilder:Pp}),wt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:l((e,t)=>{var{parser:r}=e,i=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ti(i)}},"handler"),htmlBuilder:Dh,mathmlBuilder:Pp}),qY={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"},wt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Dh,mathmlBuilder:Pp}),wt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Dh,mathmlBuilder:Pp}),wt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,i=r;return i.length===1&&(i=qY[i]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Dh,mathmlBuilder:Pp}),LC=l((e,t)=>{var r,i,n=!1,a;e.type==="supsub"?(r=e.sup,i=e.sub,a=dr(e.base,"operatorname"),n=!0):a=dr(e,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(p=>{var g=p.text;return typeof g=="string"?{type:"textord",mode:p.mode,text:g}:p}),u=zi(o,t.withFont("mathrm"),!0),h=0;h<u.length;h++){var d=u[h];d instanceof es&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=Oe.makeSpan(["mop"],u,t)}else s=Oe.makeSpan(["mop"],[],t);return n?_C(s,r,i,t,t.style,0,0):s},"htmlBuilder$1"),jY=l((e,t)=>{for(var r=pa(e.body,t.withFont("mathrm")),i=!0,n=0;n<r.length;n++){var a=r[n];if(!(a instanceof it.SpaceNode))if(a instanceof it.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof it.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var o=r.map(d=>d.toText()).join("");r=[new it.TextNode(o)]}var u=new it.MathNode("mi",r);u.setAttribute("mathvariant","normal");var h=new it.MathNode("mo",[ts("\u2061","text")]);return e.parentIsSupSub?new it.MathNode("mrow",[u,h]):it.newDocumentFragment([u,h])},"mathmlBuilder"),wt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:l((e,t)=>{var{parser:r,funcName:i}=e,n=t[0];return{type:"operatorname",mode:r.mode,body:Ti(n),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},"handler"),htmlBuilder:LC,mathmlBuilder:jY}),le("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),cu({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?Oe.makeFragment(zi(e.body,t,!1)):Oe.makeSpan(["mord"],zi(e.body,t,!0),t)},mathmlBuilder(e,t){return Vl(e.body,t,!0)}}),wt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,i=t[0];return{type:"overline",mode:r.mode,body:i}},htmlBuilder(e,t){var r=Er(e.body,t.havingCrampedStyle()),i=Oe.makeLineSpan("overline-line",t),n=t.fontMetrics().defaultRuleThickness,a=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*n},{type:"elem",elem:i},{type:"kern",size:n}]},t);return Oe.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(e,t){var r=new it.MathNode("mo",[new it.TextNode("\u203E")]);r.setAttribute("stretchy","true");var i=new it.MathNode("mover",[Yr(e.body,t),r]);return i.setAttribute("accent","true"),i}}),wt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:l((e,t)=>{var{parser:r}=e,i=t[0];return{type:"phantom",mode:r.mode,body:Ti(i)}},"handler"),htmlBuilder:l((e,t)=>{var r=zi(e.body,t.withPhantom(),!1);return Oe.makeFragment(r)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=pa(e.body,t);return new it.MathNode("mphantom",r)},"mathmlBuilder")}),wt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:l((e,t)=>{var{parser:r}=e,i=t[0];return{type:"hphantom",mode:r.mode,body:i}},"handler"),htmlBuilder:l((e,t)=>{var r=Oe.makeSpan([],[Er(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var i=0;i<r.children.length;i++)r.children[i].height=0,r.children[i].depth=0;return r=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),Oe.makeSpan(["mord"],[r],t)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=pa(Ti(e.body),t),i=new it.MathNode("mphantom",r),n=new it.MathNode("mpadded",[i]);return n.setAttribute("height","0px"),n.setAttribute("depth","0px"),n},"mathmlBuilder")}),wt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:l((e,t)=>{var{parser:r}=e,i=t[0];return{type:"vphantom",mode:r.mode,body:i}},"handler"),htmlBuilder:l((e,t)=>{var r=Oe.makeSpan(["inner"],[Er(e.body,t.withPhantom())]),i=Oe.makeSpan(["fix"],[]);return Oe.makeSpan(["mord","rlap"],[r,i],t)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=pa(Ti(e.body),t),i=new it.MathNode("mphantom",r),n=new it.MathNode("mpadded",[i]);return n.setAttribute("width","0px"),n},"mathmlBuilder")}),wt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,i=dr(t[0],"size").value,n=t[1];return{type:"raisebox",mode:r.mode,dy:i,body:n}},htmlBuilder(e,t){var r=Er(e.body,t),i=ui(e.dy,t);return Oe.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new it.MathNode("mpadded",[Yr(e.body,t)]),i=e.dy.number+e.dy.unit;return r.setAttribute("voffset",i),r}}),wt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}}),wt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,r){var{parser:i}=e,n=r[0],a=dr(t[0],"size"),s=dr(t[1],"size");return{type:"rule",mode:i.mode,shift:n&&dr(n,"size").value,width:a.value,height:s.value}},htmlBuilder(e,t){var r=Oe.makeSpan(["mord","rule"],[],t),i=ui(e.width,t),n=ui(e.height,t),a=e.shift?ui(e.shift,t):0;return r.style.borderRightWidth=gt(i),r.style.borderTopWidth=gt(n),r.style.bottom=gt(a),r.width=i,r.height=n+a,r.depth=-a,r.maxFontSize=n*1.125*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=ui(e.width,t),i=ui(e.height,t),n=e.shift?ui(e.shift,t):0,a=t.color&&t.getColor()||"black",s=new it.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",gt(r)),s.setAttribute("height",gt(i));var o=new it.MathNode("mpadded",[s]);return n>=0?o.setAttribute("height",gt(n)):(o.setAttribute("height",gt(n)),o.setAttribute("depth",gt(-n))),o.setAttribute("voffset",gt(n)),o}}),l(_E,"sizingGroup"),NC=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],HY=l((e,t)=>{var r=t.havingSize(e.size);return _E(e.body,r,t)},"htmlBuilder"),wt({type:"sizing",names:NC,props:{numArgs:0,allowedInText:!0},handler:l((e,t)=>{var{breakOnTokenText:r,funcName:i,parser:n}=e,a=n.parseExpression(!1,r);return{type:"sizing",mode:n.mode,size:NC.indexOf(i)+1,body:a}},"handler"),htmlBuilder:HY,mathmlBuilder:l((e,t)=>{var r=t.havingSize(e.size),i=pa(e.body,r),n=new it.MathNode("mstyle",i);return n.setAttribute("mathsize",gt(r.sizeMultiplier)),n},"mathmlBuilder")}),wt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:l((e,t,r)=>{var{parser:i}=e,n=!1,a=!1,s=r[0]&&dr(r[0],"ordgroup");if(s)for(var o="",u=0;u<s.body.length;++u){var h=s.body[u];if(o=h.text,o==="t")n=!0;else if(o==="b")a=!0;else{n=!1,a=!1;break}}else n=!0,a=!0;var d=t[0];return{type:"smash",mode:i.mode,body:d,smashHeight:n,smashDepth:a}},"handler"),htmlBuilder:l((e,t)=>{var r=Oe.makeSpan([],[Er(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].depth=0;var a=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return Oe.makeSpan(["mord"],[a],t)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=new it.MathNode("mpadded",[Yr(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r},"mathmlBuilder")}),wt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:i}=e,n=r[0],a=t[0];return{type:"sqrt",mode:i.mode,body:a,index:n}},htmlBuilder(e,t){var r=Er(e.body,t.havingCrampedStyle());r.height===0&&(r.height=t.fontMetrics().xHeight),r=Oe.wrapFragment(r,t);var i=t.fontMetrics(),n=i.defaultRuleThickness,a=n;t.style.id<Xt.TEXT.id&&(a=t.fontMetrics().xHeight);var s=n+a/4,o=r.height+r.depth+s+n,{span:u,ruleWidth:h,advanceWidth:d}=Ho.sqrtImage(o,t),p=u.height-h;p>r.height+r.depth+s&&(s=(s+p-r.height-r.depth)/2);var g=u.height-r.height-s-h;r.style.paddingLeft=gt(d);var f=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+g)},{type:"elem",elem:u},{type:"kern",size:h}]},t);if(e.index){var m=t.havingStyle(Xt.SCRIPTSCRIPT),y=Er(e.index,m,t),b=.6*(f.height-f.depth),v=Oe.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:y}]},t),x=Oe.makeSpan(["root"],[v]);return Oe.makeSpan(["mord","sqrt"],[x,f],t)}else return Oe.makeSpan(["mord","sqrt"],[f],t)},mathmlBuilder(e,t){var{body:r,index:i}=e;return i?new it.MathNode("mroot",[Yr(r,t),Yr(i,t)]):new it.MathNode("msqrt",[Yr(r,t)])}}),MC={display:Xt.DISPLAY,text:Xt.TEXT,script:Xt.SCRIPT,scriptscript:Xt.SCRIPTSCRIPT},wt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:i,parser:n}=e,a=n.parseExpression(!0,r),s=i.slice(1,i.length-5);return{type:"styling",mode:n.mode,style:s,body:a}},htmlBuilder(e,t){var r=MC[e.style],i=t.havingStyle(r).withFont("");return _E(e.body,i,t)},mathmlBuilder(e,t){var r=MC[e.style],i=t.havingStyle(r),n=pa(e.body,i),a=new it.MathNode("mstyle",n),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[e.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}}),VY=l(function(e,t){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(t.style.size===Xt.DISPLAY.size||r.alwaysHandleSupSub);return i?Dh:null}else if(r.type==="operatorname"){var n=r.alwaysHandleSupSub&&(t.style.size===Xt.DISPLAY.size||r.limits);return n?LC:null}else{if(r.type==="accent")return Vt.isCharacterBox(r.base)?P4:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?CC:null}else return null}else return null},"htmlBuilderDelegate"),cu({type:"supsub",htmlBuilder(e,t){var r=VY(e,t);if(r)return r(e,t);var{base:i,sup:n,sub:a}=e,s=Er(i,t),o,u,h=t.fontMetrics(),d=0,p=0,g=i&&Vt.isCharacterBox(i);if(n){var f=t.havingStyle(t.style.sup());o=Er(n,f,t),g||(d=s.height-f.fontMetrics().supDrop*f.sizeMultiplier/t.sizeMultiplier)}if(a){var m=t.havingStyle(t.style.sub());u=Er(a,m,t),g||(p=s.depth+m.fontMetrics().subDrop*m.sizeMultiplier/t.sizeMultiplier)}var y;t.style===Xt.DISPLAY?y=h.sup1:t.style.cramped?y=h.sup3:y=h.sup2;var b=t.sizeMultiplier,v=gt(.5/h.ptPerEm/b),x=null;if(u){var w=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(s instanceof es||w)&&(x=gt(-s.italic))}var k;if(o&&u){d=Math.max(d,y,o.depth+.25*h.xHeight),p=Math.max(p,h.sub2);var T=h.defaultRuleThickness,_=4*T;if(d-o.depth-(u.height-p)<_){p=_-(d-o.depth)+u.height;var C=.8*h.xHeight-(d-o.depth);C>0&&(d+=C,p-=C)}var E=[{type:"elem",elem:u,shift:p,marginRight:v,marginLeft:x},{type:"elem",elem:o,shift:-d,marginRight:v}];k=Oe.makeVList({positionType:"individualShift",children:E},t)}else if(u){p=Math.max(p,h.sub1,u.height-.8*h.xHeight);var N=[{type:"elem",elem:u,marginLeft:x,marginRight:v}];k=Oe.makeVList({positionType:"shift",positionData:p,children:N},t)}else if(o)d=Math.max(d,y,o.depth+.25*h.xHeight),k=Oe.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:o,marginRight:v}]},t);else throw new Error("supsub must have either sup or sub.");var M=D4(s,"right")||"mord";return Oe.makeSpan([M],[s,Oe.makeSpan(["msupsub"],[k])],t)},mathmlBuilder(e,t){var r=!1,i,n;e.base&&e.base.type==="horizBrace"&&(n=!!e.sup,n===e.base.isOver&&(r=!0,i=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var a=[Yr(e.base,t)];e.sub&&a.push(Yr(e.sub,t)),e.sup&&a.push(Yr(e.sup,t));var s;if(r)s=i?"mover":"munder";else if(e.sub)if(e.sup){var o=e.base;o&&o.type==="op"&&o.limits&&t.style===Xt.DISPLAY||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(t.style===Xt.DISPLAY||o.limits)?s="munderover":s="msubsup"}else{var u=e.base;u&&u.type==="op"&&u.limits&&(t.style===Xt.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||t.style===Xt.DISPLAY)?s="munder":s="msub"}else{var h=e.base;h&&h.type==="op"&&h.limits&&(t.style===Xt.DISPLAY||h.alwaysHandleSupSub)||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(h.limits||t.style===Xt.DISPLAY)?s="mover":s="msup"}return new it.MathNode(s,a)}}),cu({type:"atom",htmlBuilder(e,t){return Oe.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var r=new it.MathNode("mo",[ts(e.text,e.mode)]);if(e.family==="bin"){var i=O4(e,t);i==="bold-italic"&&r.setAttribute("mathvariant",i)}else e.family==="punct"?r.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&r.setAttribute("stretchy","false");return r}}),IC={mi:"italic",mn:"normal",mtext:"normal"},cu({type:"mathord",htmlBuilder(e,t){return Oe.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var r=new it.MathNode("mi",[ts(e.text,e.mode,t)]),i=O4(e,t)||"italic";return i!==IC[r.type]&&r.setAttribute("mathvariant",i),r}}),cu({type:"textord",htmlBuilder(e,t){return Oe.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var r=ts(e.text,e.mode,t),i=O4(e,t)||"normal",n;return e.mode==="text"?n=new it.MathNode("mtext",[r]):/[0-9]/.test(e.text)?n=new it.MathNode("mn",[r]):e.text==="\\prime"?n=new it.MathNode("mo",[r]):n=new it.MathNode("mi",[r]),i!==IC[n.type]&&n.setAttribute("mathvariant",i),n}}),K4={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Z4={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}},cu({type:"spacing",htmlBuilder(e,t){if(Z4.hasOwnProperty(e.text)){var r=Z4[e.text].className||"";if(e.mode==="text"){var i=Oe.makeOrd(e,t,"textord");return i.classes.push(r),i}else return Oe.makeSpan(["mspace",r],[Oe.mathsym(e.text,e.mode,t)],t)}else{if(K4.hasOwnProperty(e.text))return Oe.makeSpan(["mspace",K4[e.text]],[],t);throw new lt('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var r;if(Z4.hasOwnProperty(e.text))r=new it.MathNode("mtext",[new it.TextNode("\xA0")]);else{if(K4.hasOwnProperty(e.text))return new it.MathNode("mspace");throw new lt('Unknown type of space "'+e.text+'"')}return r}}),DC=l(()=>{var e=new it.MathNode("mtd",[]);return e.setAttribute("width","50%"),e},"pad"),cu({type:"tag",mathmlBuilder(e,t){var r=new it.MathNode("mtable",[new it.MathNode("mtr",[DC(),new it.MathNode("mtd",[Vl(e.body,t)]),DC(),new it.MathNode("mtd",[Vl(e.tag,t)])])]);return r.setAttribute("width","100%"),r}}),RC={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},OC={"\\textbf":"textbf","\\textmd":"textmd"},YY={"\\textit":"textit","\\textup":"textup"},PC=l((e,t)=>{var r=e.font;if(r){if(RC[r])return t.withTextFontFamily(RC[r]);if(OC[r])return t.withTextFontWeight(OC[r]);if(r==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(YY[r])},"optionsWithFont"),wt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:i}=e,n=t[0];return{type:"text",mode:r.mode,body:Ti(n),font:i}},htmlBuilder(e,t){var r=PC(e,t),i=zi(e.body,r,!0);return Oe.makeSpan(["mord","text"],i,r)},mathmlBuilder(e,t){var r=PC(e,t);return Vl(e.body,r)}}),wt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=Er(e.body,t),i=Oe.makeLineSpan("underline-line",t),n=t.fontMetrics().defaultRuleThickness,a=Oe.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:n},{type:"elem",elem:i},{type:"kern",size:3*n},{type:"elem",elem:r}]},t);return Oe.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(e,t){var r=new it.MathNode("mo",[new it.TextNode("\u203E")]);r.setAttribute("stretchy","true");var i=new it.MathNode("munder",[Yr(e.body,t),r]);return i.setAttribute("accentunder","true"),i}}),wt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=Er(e.body,t),i=t.fontMetrics().axisHeight,n=.5*(r.height-i-(r.depth+i));return Oe.makeVList({positionType:"shift",positionData:n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){return new it.MathNode("mpadded",[Yr(e.body,t)],["vcenter"])}}),wt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new lt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=BC(e),i=[],n=t.havingStyle(t.style.text()),a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),i.push(Oe.makeSymbol(s,"Typewriter-Regular",e.mode,n,["mord","texttt"]))}return Oe.makeSpan(["mord","text"].concat(n.sizingClasses(t)),Oe.tryCombineChars(i),n)},mathmlBuilder(e,t){var r=new it.TextNode(BC(e)),i=new it.MathNode("mtext",[r]);return i.setAttribute("mathvariant","monospace"),i}}),BC=l(e=>e.body.replace(/ /g,e.star?"\u2423":"\xA0"),"makeVerb"),Yl=WE,$C=`[ \r
	]`,WY="\\\\[a-zA-Z@]+",XY="\\\\[^\uD800-\uDFFF]",KY="("+WY+")"+$C+"*",ZY=`\\\\(
|[ \r	]+
?)[ \r	]*`,Q4="[\u0300-\u036F]",QY=new RegExp(Q4+"+$"),JY="("+$C+"+)|"+(ZY+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(Q4+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Q4+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+KY)+("|"+XY+")"),FC=class{static{l(this,"Lexer")}constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(JY,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Ws("EOF",new ks(this,t,t));var r=this.tokenRegex.exec(e);if(r===null||r.index!==t)throw new lt("Unexpected character: '"+e[t]+"'",new Ws(e[t],new ks(this,t,t+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var n=e.indexOf(`
`,this.tokenRegex.lastIndex);return n===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=n+1,this.lex()}return new Ws(i,new ks(this,t,this.tokenRegex.lastIndex))}},eW=class{static{l(this,"Namespace")}constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new lt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var n=this.undefStack[this.undefStack.length-1];n&&!n.hasOwnProperty(e)&&(n[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}},tW=mC,le("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}}),le("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}}),le("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}}),le("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}}),le("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return t[0].length===1&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),le("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),le("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}}),zC={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15},le("\\char",function(e){var t=e.popToken(),r,i="";if(t.text==="'")r=8,t=e.popToken();else if(t.text==='"')r=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")i=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new lt("\\char` missing argument");i=t.text.charCodeAt(0)}else r=10;if(r){if(i=zC[t.text],i==null||i>=r)throw new lt("Invalid base-"+r+" digit "+t.text);for(var n;(n=zC[e.future().text])!=null&&n<r;)i*=r,i+=n,e.popToken()}return"\\@char{"+i+"}"}),J4=l((e,t,r,i)=>{var n=e.consumeArg().tokens;if(n.length!==1)throw new lt("\\newcommand's first argument must be a macro name");var a=n[0].text,s=e.isDefined(a);if(s&&!t)throw new lt("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!s&&!r)throw new lt("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var o=0;if(n=e.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var u="",h=e.expandNextToken();h.text!=="]"&&h.text!=="EOF";)u+=h.text,h=e.expandNextToken();if(!u.match(/^\s*[0-9]+\s*$/))throw new lt("Invalid number of arguments: "+u);o=parseInt(u),n=e.consumeArg().tokens}return s&&i||e.macros.set(a,{tokens:n,numArgs:o}),""},"newcommand"),le("\\newcommand",e=>J4(e,!1,!0,!1)),le("\\renewcommand",e=>J4(e,!0,!1,!1)),le("\\providecommand",e=>J4(e,!0,!0,!0)),le("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(r=>r.text).join("")),""}),le("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(r=>r.text).join("")),""}),le("\\show",e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),Yl[r],Kr.math[r],Kr.text[r]),""}),le("\\bgroup","{"),le("\\egroup","}"),le("~","\\nobreakspace"),le("\\lq","`"),le("\\rq","'"),le("\\aa","\\r a"),le("\\AA","\\r A"),le("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}"),le("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),le("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}"),le("\u212C","\\mathscr{B}"),le("\u2130","\\mathscr{E}"),le("\u2131","\\mathscr{F}"),le("\u210B","\\mathscr{H}"),le("\u2110","\\mathscr{I}"),le("\u2112","\\mathscr{L}"),le("\u2133","\\mathscr{M}"),le("\u211B","\\mathscr{R}"),le("\u212D","\\mathfrak{C}"),le("\u210C","\\mathfrak{H}"),le("\u2128","\\mathfrak{Z}"),le("\\Bbbk","\\Bbb{k}"),le("\xB7","\\cdotp"),le("\\llap","\\mathllap{\\textrm{#1}}"),le("\\rlap","\\mathrlap{\\textrm{#1}}"),le("\\clap","\\mathclap{\\textrm{#1}}"),le("\\mathstrut","\\vphantom{(}"),le("\\underbar","\\underline{\\text{#1}}"),le("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),le("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}"),le("\\ne","\\neq"),le("\u2260","\\neq"),le("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}"),le("\u2209","\\notin"),le("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}"),le("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}"),le("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}"),le("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}"),le("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}"),le("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}"),le("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}"),le("\u27C2","\\perp"),le("\u203C","\\mathclose{!\\mkern-0.8mu!}"),le("\u220C","\\notni"),le("\u231C","\\ulcorner"),le("\u231D","\\urcorner"),le("\u231E","\\llcorner"),le("\u231F","\\lrcorner"),le("\xA9","\\copyright"),le("\xAE","\\textregistered"),le("\uFE0F","\\textregistered"),le("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),le("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),le("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),le("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),le("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),le("\u22EE","\\vdots"),le("\\varGamma","\\mathit{\\Gamma}"),le("\\varDelta","\\mathit{\\Delta}"),le("\\varTheta","\\mathit{\\Theta}"),le("\\varLambda","\\mathit{\\Lambda}"),le("\\varXi","\\mathit{\\Xi}"),le("\\varPi","\\mathit{\\Pi}"),le("\\varSigma","\\mathit{\\Sigma}"),le("\\varUpsilon","\\mathit{\\Upsilon}"),le("\\varPhi","\\mathit{\\Phi}"),le("\\varPsi","\\mathit{\\Psi}"),le("\\varOmega","\\mathit{\\Omega}"),le("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),le("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),le("\\boxed","\\fbox{$\\displaystyle{#1}$}"),le("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),le("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),le("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),le("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),le("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}"),GC={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"},le("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in GC?t=GC[r]:(r.slice(0,4)==="\\not"||r in Kr.math&&Vt.contains(["bin","rel"],Kr.math[r].group))&&(t="\\dotsb"),t}),e3={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0},le("\\dotso",function(e){var t=e.future().text;return t in e3?"\\ldots\\,":"\\ldots"}),le("\\dotsc",function(e){var t=e.future().text;return t in e3&&t!==","?"\\ldots\\,":"\\ldots"}),le("\\cdots",function(e){var t=e.future().text;return t in e3?"\\@cdots\\,":"\\@cdots"}),le("\\dotsb","\\cdots"),le("\\dotsm","\\cdots"),le("\\dotsi","\\!\\cdots"),le("\\dotsx","\\ldots\\,"),le("\\DOTSI","\\relax"),le("\\DOTSB","\\relax"),le("\\DOTSX","\\relax"),le("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),le("\\,","\\tmspace+{3mu}{.1667em}"),le("\\thinspace","\\,"),le("\\>","\\mskip{4mu}"),le("\\:","\\tmspace+{4mu}{.2222em}"),le("\\medspace","\\:"),le("\\;","\\tmspace+{5mu}{.2777em}"),le("\\thickspace","\\;"),le("\\!","\\tmspace-{3mu}{.1667em}"),le("\\negthinspace","\\!"),le("\\negmedspace","\\tmspace-{4mu}{.2222em}"),le("\\negthickspace","\\tmspace-{5mu}{.277em}"),le("\\enspace","\\kern.5em "),le("\\enskip","\\hskip.5em\\relax"),le("\\quad","\\hskip1em\\relax"),le("\\qquad","\\hskip2em\\relax"),le("\\tag","\\@ifstar\\tag@literal\\tag@paren"),le("\\tag@paren","\\tag@literal{({#1})}"),le("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new lt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),le("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),le("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),le("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),le("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),le("\\newline","\\\\\\relax"),le("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}"),UC=gt(Ks["Main-Regular"][84][1]-.7*Ks["Main-Regular"][65][1]),le("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+UC+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),le("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+UC+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),le("\\hspace","\\@ifstar\\@hspacer\\@hspace"),le("\\@hspace","\\hskip #1\\relax"),le("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),le("\\ordinarycolon",":"),le("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),le("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),le("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),le("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),le("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),le("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),le("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),le("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),le("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),le("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),le("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),le("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),le("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),le("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),le("\u2237","\\dblcolon"),le("\u2239","\\eqcolon"),le("\u2254","\\coloneqq"),le("\u2255","\\eqqcolon"),le("\u2A74","\\Coloneqq"),le("\\ratio","\\vcentcolon"),le("\\coloncolon","\\dblcolon"),le("\\colonequals","\\coloneqq"),le("\\coloncolonequals","\\Coloneqq"),le("\\equalscolon","\\eqqcolon"),le("\\equalscoloncolon","\\Eqqcolon"),le("\\colonminus","\\coloneq"),le("\\coloncolonminus","\\Coloneq"),le("\\minuscolon","\\eqcolon"),le("\\minuscoloncolon","\\Eqcolon"),le("\\coloncolonapprox","\\Colonapprox"),le("\\coloncolonsim","\\Colonsim"),le("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),le("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),le("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),le("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),le("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}"),le("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),le("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),le("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),le("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),le("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),le("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),le("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),le("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),le("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}"),le("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}"),le("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}"),le("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}"),le("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}"),le("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}"),le("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}"),le("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}"),le("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}"),le("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}"),le("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}"),le("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}"),le("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}"),le("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}"),le("\\imath","\\html@mathml{\\@imath}{\u0131}"),le("\\jmath","\\html@mathml{\\@jmath}{\u0237}"),le("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}"),le("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}"),le("\u27E6","\\llbracket"),le("\u27E7","\\rrbracket"),le("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}"),le("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}"),le("\u2983","\\lBrace"),le("\u2984","\\rBrace"),le("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}"),le("\u29B5","\\minuso"),le("\\darr","\\downarrow"),le("\\dArr","\\Downarrow"),le("\\Darr","\\Downarrow"),le("\\lang","\\langle"),le("\\rang","\\rangle"),le("\\uarr","\\uparrow"),le("\\uArr","\\Uparrow"),le("\\Uarr","\\Uparrow"),le("\\N","\\mathbb{N}"),le("\\R","\\mathbb{R}"),le("\\Z","\\mathbb{Z}"),le("\\alef","\\aleph"),le("\\alefsym","\\aleph"),le("\\Alpha","\\mathrm{A}"),le("\\Beta","\\mathrm{B}"),le("\\bull","\\bullet"),le("\\Chi","\\mathrm{X}"),le("\\clubs","\\clubsuit"),le("\\cnums","\\mathbb{C}"),le("\\Complex","\\mathbb{C}"),le("\\Dagger","\\ddagger"),le("\\diamonds","\\diamondsuit"),le("\\empty","\\emptyset"),le("\\Epsilon","\\mathrm{E}"),le("\\Eta","\\mathrm{H}"),le("\\exist","\\exists"),le("\\harr","\\leftrightarrow"),le("\\hArr","\\Leftrightarrow"),le("\\Harr","\\Leftrightarrow"),le("\\hearts","\\heartsuit"),le("\\image","\\Im"),le("\\infin","\\infty"),le("\\Iota","\\mathrm{I}"),le("\\isin","\\in"),le("\\Kappa","\\mathrm{K}"),le("\\larr","\\leftarrow"),le("\\lArr","\\Leftarrow"),le("\\Larr","\\Leftarrow"),le("\\lrarr","\\leftrightarrow"),le("\\lrArr","\\Leftrightarrow"),le("\\Lrarr","\\Leftrightarrow"),le("\\Mu","\\mathrm{M}"),le("\\natnums","\\mathbb{N}"),le("\\Nu","\\mathrm{N}"),le("\\Omicron","\\mathrm{O}"),le("\\plusmn","\\pm"),le("\\rarr","\\rightarrow"),le("\\rArr","\\Rightarrow"),le("\\Rarr","\\Rightarrow"),le("\\real","\\Re"),le("\\reals","\\mathbb{R}"),le("\\Reals","\\mathbb{R}"),le("\\Rho","\\mathrm{P}"),le("\\sdot","\\cdot"),le("\\sect","\\S"),le("\\spades","\\spadesuit"),le("\\sub","\\subset"),le("\\sube","\\subseteq"),le("\\supe","\\supseteq"),le("\\Tau","\\mathrm{T}"),le("\\thetasym","\\vartheta"),le("\\weierp","\\wp"),le("\\Zeta","\\mathrm{Z}"),le("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),le("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),le("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),le("\\bra","\\mathinner{\\langle{#1}|}"),le("\\ket","\\mathinner{|{#1}\\rangle}"),le("\\braket","\\mathinner{\\langle{#1}\\rangle}"),le("\\Bra","\\left\\langle#1\\right|"),le("\\Ket","\\left|#1\\right\\rangle"),qC=l(e=>t=>{var r=t.consumeArg().tokens,i=t.consumeArg().tokens,n=t.consumeArg().tokens,a=t.consumeArg().tokens,s=t.macros.get("|"),o=t.macros.get("\\|");t.macros.beginGroup();var u=l(p=>g=>{e&&(g.macros.set("|",s),n.length&&g.macros.set("\\|",o));var f=p;if(!p&&n.length){var m=g.future();m.text==="|"&&(g.popToken(),f=!0)}return{tokens:f?n:i,numArgs:0}},"midMacro");t.macros.set("|",u(!1)),n.length&&t.macros.set("\\|",u(!0));var h=t.consumeArg().tokens,d=t.expandTokens([...a,...h,...r]);return t.macros.endGroup(),{tokens:d.reverse(),numArgs:0}},"braketHelper"),le("\\bra@ket",qC(!1)),le("\\bra@set",qC(!0)),le("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),le("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),le("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),le("\\angln","{\\angl n}"),le("\\blue","\\textcolor{##6495ed}{#1}"),le("\\orange","\\textcolor{##ffa500}{#1}"),le("\\pink","\\textcolor{##ff00af}{#1}"),le("\\red","\\textcolor{##df0030}{#1}"),le("\\green","\\textcolor{##28ae7b}{#1}"),le("\\gray","\\textcolor{gray}{#1}"),le("\\purple","\\textcolor{##9d38bd}{#1}"),le("\\blueA","\\textcolor{##ccfaff}{#1}"),le("\\blueB","\\textcolor{##80f6ff}{#1}"),le("\\blueC","\\textcolor{##63d9ea}{#1}"),le("\\blueD","\\textcolor{##11accd}{#1}"),le("\\blueE","\\textcolor{##0c7f99}{#1}"),le("\\tealA","\\textcolor{##94fff5}{#1}"),le("\\tealB","\\textcolor{##26edd5}{#1}"),le("\\tealC","\\textcolor{##01d1c1}{#1}"),le("\\tealD","\\textcolor{##01a995}{#1}"),le("\\tealE","\\textcolor{##208170}{#1}"),le("\\greenA","\\textcolor{##b6ffb0}{#1}"),le("\\greenB","\\textcolor{##8af281}{#1}"),le("\\greenC","\\textcolor{##74cf70}{#1}"),le("\\greenD","\\textcolor{##1fab54}{#1}"),le("\\greenE","\\textcolor{##0d923f}{#1}"),le("\\goldA","\\textcolor{##ffd0a9}{#1}"),le("\\goldB","\\textcolor{##ffbb71}{#1}"),le("\\goldC","\\textcolor{##ff9c39}{#1}"),le("\\goldD","\\textcolor{##e07d10}{#1}"),le("\\goldE","\\textcolor{##a75a05}{#1}"),le("\\redA","\\textcolor{##fca9a9}{#1}"),le("\\redB","\\textcolor{##ff8482}{#1}"),le("\\redC","\\textcolor{##f9685d}{#1}"),le("\\redD","\\textcolor{##e84d39}{#1}"),le("\\redE","\\textcolor{##bc2612}{#1}"),le("\\maroonA","\\textcolor{##ffbde0}{#1}"),le("\\maroonB","\\textcolor{##ff92c6}{#1}"),le("\\maroonC","\\textcolor{##ed5fa6}{#1}"),le("\\maroonD","\\textcolor{##ca337c}{#1}"),le("\\maroonE","\\textcolor{##9e034e}{#1}"),le("\\purpleA","\\textcolor{##ddd7ff}{#1}"),le("\\purpleB","\\textcolor{##c6b9fc}{#1}"),le("\\purpleC","\\textcolor{##aa87ff}{#1}"),le("\\purpleD","\\textcolor{##7854ab}{#1}"),le("\\purpleE","\\textcolor{##543b78}{#1}"),le("\\mintA","\\textcolor{##f5f9e8}{#1}"),le("\\mintB","\\textcolor{##edf2df}{#1}"),le("\\mintC","\\textcolor{##e0e5cc}{#1}"),le("\\grayA","\\textcolor{##f6f7f7}{#1}"),le("\\grayB","\\textcolor{##f0f1f2}{#1}"),le("\\grayC","\\textcolor{##e3e5e6}{#1}"),le("\\grayD","\\textcolor{##d6d8da}{#1}"),le("\\grayE","\\textcolor{##babec2}{#1}"),le("\\grayF","\\textcolor{##888d93}{#1}"),le("\\grayG","\\textcolor{##626569}{#1}"),le("\\grayH","\\textcolor{##3b3e40}{#1}"),le("\\grayI","\\textcolor{##21242c}{#1}"),le("\\kaBlue","\\textcolor{##314453}{#1}"),le("\\kaGreen","\\textcolor{##71B307}{#1}"),jC={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},rW=class{static{l(this,"MacroExpander")}constructor(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new eW(tW,t.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new FC(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:t,end:r}=this.consumeArg());return this.pushToken(new Ws("EOF",r.loc)),this.pushTokens(i),t.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),n,a=0,s=0;do{if(n=this.popToken(),t.push(n),n.text==="{")++a;else if(n.text==="}"){if(--a,a===-1)throw new lt("Extra }",n)}else if(n.text==="EOF")throw new lt("Unexpected end of input in a macro argument, expected '"+(e&&r?e[s]:"}")+"'",n);if(e&&r)if((a===0||a===1&&e[s]==="{")&&n.text===e[s]){if(++s,s===e.length){t.splice(-s,s);break}}else s=0}while(a!==0||r);return i.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:i,end:n}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new lt("The length of delimiters doesn't match the number of args!");for(var r=t[0],i=0;i<r.length;i++){var n=this.popToken();if(r[i]!==n.text)throw new lt("Use of the macro doesn't match its definition",n)}}for(var a=[],s=0;s<e;s++)a.push(this.consumeArg(t&&t[s+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new lt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),r=t.text,i=t.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new lt("Undefined control sequence: "+r);return this.pushToken(t),!1}this.countExpansion(1);var n=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){n=n.slice();for(var s=n.length-1;s>=0;--s){var o=n[s];if(o.text==="#"){if(s===0)throw new lt("Incomplete placeholder at end of macro body",o);if(o=n[--s],o.text==="#")n.splice(s+1,1);else if(/^[1-9]$/.test(o.text))n.splice(s,2,...a[+o.text-1]);else throw new lt("Not a valid argument number",o)}}}return this.pushTokens(n),n.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Ws(e)]):void 0}expandTokens(e){var t=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),t.push(i)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(r=>r.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof t=="function"?t(this):t;if(typeof i=="string"){var n=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(n+1))!==-1;)++n;for(var s=new FC(i,this.settings),o=[],u=s.lex();u.text!=="EOF";)o.push(u),u=s.lex();o.reverse();var h={tokens:o,numArgs:n};return h}return i}isDefined(e){return this.macros.has(e)||Yl.hasOwnProperty(e)||Kr.math.hasOwnProperty(e)||Kr.text.hasOwnProperty(e)||jC.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:Yl.hasOwnProperty(e)&&!Yl[e].primitive}},HC=/^[]/,Cm=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g",\u02B0:"h","\u2071":"i",\u02B2:"j","\u1D4F":"k",\u02E1:"l","\u1D50":"m",\u207F:"n","\u1D52":"o","\u1D56":"p",\u02B3:"r",\u02E2:"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),t3={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},VC={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"},YC=class KGe{static{l(this,"Parser")}constructor(t,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new rW(t,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(t,r){if(r===void 0&&(r=!0),this.fetch().text!==t)throw new lt("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Ws("}")),this.gullet.pushTokens(t);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,i}parseExpression(t,r){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var n=this.fetch();if(KGe.endOfExpression.indexOf(n.text)!==-1||r&&n.text===r||t&&Yl[n.text]&&Yl[n.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;i.push(a)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(t){for(var r=-1,i,n=0;n<t.length;n++)if(t[n].type==="infix"){if(r!==-1)throw new lt("only one infix operator per group",t[n].token);r=n,i=t[n].replaceWith}if(r!==-1&&i){var a,s,o=t.slice(0,r),u=t.slice(r+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},u.length===1&&u[0].type==="ordgroup"?s=u[0]:s={type:"ordgroup",mode:this.mode,body:u};var h;return i==="\\\\abovefrac"?h=this.callFunction(i,[a,t[r],s],[]):h=this.callFunction(i,[a,s],[]),[h]}else return t}handleSupSubscript(t){var r=this.fetch(),i=r.text;this.consume(),this.consumeSpaces();var n;do{var a;n=this.parseGroup(t)}while(((a=n)==null?void 0:a.type)==="internal");if(!n)throw new lt("Expected group after '"+i+"'",r);return n}formatUnsupportedCmd(t){for(var r=[],i=0;i<t.length;i++)r.push({type:"textord",mode:"text",text:t[i]});var n={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]};return a}parseAtom(t){var r=this.parseGroup("atom",t);if(r?.type==="internal"||this.mode==="text")return r;for(var i,n;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var s=a.text==="\\limits";r.limits=s,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new lt("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(i)throw new lt("Double superscript",a);i=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(n)throw new lt("Double subscript",a);n=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(i)throw new lt("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},u=[o];for(this.consume();this.fetch().text==="'";)u.push(o),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:u}}else if(Cm[a.text]){var h=HC.test(a.text),d=[];for(d.push(new Ws(Cm[a.text])),this.consume();;){var p=this.fetch().text;if(!Cm[p]||HC.test(p)!==h)break;d.unshift(new Ws(Cm[p])),this.consume()}var g=this.subparse(d);h?n={type:"ordgroup",mode:"math",body:g}:i={type:"ordgroup",mode:"math",body:g}}else break}return i||n?{type:"supsub",mode:this.mode,base:r,sup:i,sub:n}:r}parseFunction(t,r){var i=this.fetch(),n=i.text,a=Yl[n];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new lt("Got function '"+n+"' with no arguments"+(r?" as "+r:""),i);if(this.mode==="text"&&!a.allowedInText)throw new lt("Can't use function '"+n+"' in text mode",i);if(this.mode==="math"&&a.allowedInMath===!1)throw new lt("Can't use function '"+n+"' in math mode",i);var{args:s,optArgs:o}=this.parseArguments(n,a);return this.callFunction(n,s,o,i,t)}callFunction(t,r,i,n,a){var s={funcName:t,parser:this,token:n,breakOnTokenText:a},o=Yl[t];if(o&&o.handler)return o.handler(s,r,i);throw new lt("No function handler for "+t)}parseArguments(t,r){var i=r.numArgs+r.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var n=[],a=[],s=0;s<i;s++){var o=r.argTypes&&r.argTypes[s],u=s<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var h=this.parseGroupOfType("argument to '"+t+"'",o,u);if(u)a.push(h);else if(h!=null)n.push(h);else throw new lt("Null argument, please report this as a bug")}return{args:n,optArgs:a}}parseGroupOfType(t,r,i){switch(r){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,r);case"hbox":{var n=this.parseArgumentGroup(i,"text");return n!=null?{type:"styling",mode:n.mode,body:[n],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",i);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(i)throw new lt("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new lt("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new lt("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,r){var i=this.gullet.scanArgument(r);if(i==null)return null;for(var n="",a;(a=this.fetch()).text!=="EOF";)n+=a.text,this.consume();return this.consume(),i.text=n,i}parseRegexGroup(t,r){for(var i=this.fetch(),n=i,a="",s;(s=this.fetch()).text!=="EOF"&&t.test(a+s.text);)n=s,a+=n.text,this.consume();if(a==="")throw new lt("Invalid "+r+": '"+i.text+"'",i);return i.range(n,a)}parseColorGroup(t){var r=this.parseStringGroup("color",t);if(r==null)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!i)throw new lt("Invalid color: '"+r.text+"'",r);var n=i[0];return/^[0-9a-f]{6}$/i.test(n)&&(n="#"+n),{type:"color-token",mode:this.mode,color:n}}parseSizeGroup(t){var r,i=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",t),!r)return null;!t&&r.text.length===0&&(r.text="0pt",i=!0);var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!n)throw new lt("Invalid size: '"+r.text+"'",r);var a={number:+(n[1]+n[2]),unit:n[3]};if(!RE(a))throw new lt("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:i}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var i=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(t,r){var i=this.gullet.scanArgument(t);if(i==null)return null;var n=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:i.loc,body:a};return r&&this.switchMode(n),s}parseGroup(t,r){var i=this.fetch(),n=i.text,a;if(n==="{"||n==="\\begingroup"){this.consume();var s=n==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),u=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:ks.range(i,u),body:o,semisimple:n==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,t)||this.parseSymbol(),a==null&&n[0]==="\\"&&!jC.hasOwnProperty(n)){if(this.settings.throwOnError)throw new lt("Undefined control sequence: "+n,i);a=this.formatUnsupportedCmd(n),this.consume()}return a}formLigatures(t){for(var r=t.length-1,i=0;i<r;++i){var n=t[i],a=n.text;a==="-"&&t[i+1].text==="-"&&(i+1<r&&t[i+2].text==="-"?(t.splice(i,3,{type:"textord",mode:"text",loc:ks.range(n,t[i+2]),text:"---"}),r-=2):(t.splice(i,2,{type:"textord",mode:"text",loc:ks.range(n,t[i+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&t[i+1].text===a&&(t.splice(i,2,{type:"textord",mode:"text",loc:ks.range(n,t[i+1]),text:a+a}),r-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var i=r.slice(5),n=i.charAt(0)==="*";if(n&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new lt(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:n}}VC.hasOwnProperty(r[0])&&!Kr[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=VC[r[0]]+r.slice(1));var a=QY.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="\u0131":r==="j"&&(r="\u0237"));var s;if(Kr[this.mode][r]){this.settings.strict&&this.mode==="math"&&N4.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var o=Kr[this.mode][r].group,u=ks.range(t),h;if(VV.hasOwnProperty(o)){var d=o;h={type:"atom",mode:this.mode,family:d,loc:u,text:r}}else h={type:o,mode:this.mode,loc:u,text:r};s=h}else if(r.charCodeAt(0)>=128)this.settings.strict&&(vE(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:ks.range(t),text:r};else return null;if(this.consume(),a)for(var p=0;p<a[0].length;p++){var g=a[0][p];if(!t3[g])throw new lt("Unknown accent ' "+g+"'",t);var f=t3[g][this.mode]||t3[g].text;if(!f)throw new lt("Accent "+g+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:ks.range(t),label:f,isStretchy:!1,isShifty:!0,base:s}}return s}},YC.endOfExpression=["}","\\endgroup","\\end","\\right","&"],r3=l(function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new YC(e,t);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new lt("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Ws("\\df@tag")])}]}return i},"parseTree"),i3=l(function(e,t,r){t.textContent="";var i=Sm(e,r).toNode();t.appendChild(i)},"render"),typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),i3=l(function(){throw new lt("KaTeX doesn't work in quirks mode.")},"render")),WC=l(function(e,t){var r=Sm(e,t).toMarkup();return r},"renderToString"),XC=l(function(e,t){var r=new x4(t);return r3(e,r)},"generateParseTree"),KC=l(function(e,t,r){if(r.throwOnError||!(e instanceof lt))throw e;var i=Oe.makeSpan(["katex-error"],[new es(t)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},"renderError"),Sm=l(function(e,t){var r=new x4(t);try{var i=r3(e,r);return fY(i,e,r)}catch(n){return KC(n,e,r)}},"renderToDomTree"),ZC=l(function(e,t){var r=new x4(t);try{var i=r3(e,r);return mY(i,e,r)}catch(n){return KC(n,e,r)}},"renderToHTMLTree"),QC="0.16.22",JC={Span:Ip,Anchor:C4,SymbolNode:es,SvgNode:zo,PathNode:jl,LineNode:S4},iW={version:QC,render:i3,renderToString:WC,ParseError:lt,SETTINGS_SCHEMA:Lp,__parse:XC,__renderToDomTree:Sm,__renderToHTMLTree:ZC,__setFontMetrics:bE,__defineSymbol:U,__defineFunction:wt,__defineMacro:le,__domTree:JC}});function nW(){let e="data-temp-href-target";Ah.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Ah.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}var Rh,aW,sW,eS,tS,wr,oW,lW,cW,uW,rS,_m,Gr,hW,dW,Wl,n3,pW,gW,iS,Am,fi,Bp,fW,$p,nt,cr=D(()=>{"use strict";oV(),Rh=/<br\s*\/?>/gi,aW=l(e=>e?rS(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),sW=(()=>{let e=!1;return()=>{e||(nW(),e=!0)}})(),l(nW,"setupDompurifyHooks"),eS=l(e=>(sW(),Ah.sanitize(e)),"removeScript"),tS=l((e,t)=>{if(t.flowchart?.htmlLabels!==!1){let r=t.securityLevel;r==="antiscript"||r==="strict"?e=eS(e):r!=="loose"&&(e=rS(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=uW(e))}return e},"sanitizeMore"),wr=l((e,t)=>e&&(t.dompurifyConfig?e=Ah.sanitize(tS(e,t),t.dompurifyConfig).toString():e=Ah.sanitize(tS(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),oW=l((e,t)=>typeof e=="string"?wr(e,t):e.flat().map(r=>wr(r,t)),"sanitizeTextOrArray"),lW=l(e=>Rh.test(e),"hasBreaks"),cW=l(e=>e.split(Rh),"splitBreaks"),uW=l(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),rS=l(e=>e.replace(Rh,"#br#"),"breakToPlaceholder"),_m=l(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),Gr=l(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),hW=l(function(...e){let t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),dW=l(function(...e){let t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),Wl=l(function(e){let t=e.split(/(,)/),r=[];for(let i=0;i<t.length;i++){let n=t[i];if(n===","&&i>0&&i+1<t.length){let a=t[i-1],s=t[i+1];pW(a,s)&&(n=a+","+s,i++,r.pop())}r.push(gW(n))}return r.join("")},"parseGenericTypes"),n3=l((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),pW=l((e,t)=>{let r=n3(e,"~"),i=n3(t,"~");return r===1&&i===1},"shouldCombineSets"),gW=l(e=>{let t=n3(e,"~"),r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);let i=[...e],n=i.indexOf("~"),a=i.lastIndexOf("~");for(;n!==-1&&a!==-1&&n!==a;)i[n]="<",i[a]=">",n=i.indexOf("~"),a=i.lastIndexOf("~");return r&&i.unshift("~"),i.join("")},"processSet"),iS=l(()=>window.MathMLElement!==void 0,"isMathMLSupported"),Am=/\$\$(.*)\$\$/g,fi=l(e=>(e.match(Am)?.length??0)>0,"hasKatex"),Bp=l(async(e,t)=>{let r=document.createElement("div");r.innerHTML=await $p(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",r);let i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),fW=l(async(e,t)=>{if(!fi(e))return e;if(!(iS()||t.legacyMathML||t.forceLegacyMathML))return e.replace(Am,"MathML is unsupported in this environment.");{let{default:r}=await Promise.resolve().then(()=>(UUe(),lV)),i=t.forceLegacyMathML||!iS()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(Rh).map(n=>fi(n)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${n}</div>`:`<div>${n}</div>`).join("").replace(Am,(n,a)=>r.renderToString(a,{throwOnError:!0,displayMode:!0,output:i}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}return e.replace(Am,"Katex is not supported in @mermaid-js/tiny. Please use the full mermaid library.")},"renderKatexUnsanitized"),$p=l(async(e,t)=>wr(await fW(e,t),t),"renderKatexSanitized"),nt={getRows:aW,sanitizeText:wr,sanitizeTextOrArray:oW,hasBreaks:lW,splitBreaks:cW,lineBreakRegex:Rh,removeScript:eS,getUrl:_m,evaluate:Gr,getMax:hW,getMin:dW}}),nS,a3,aS,sS,oS,mW,Xl,Kl=D(()=>{"use strict";vUe(),pi(),cr(),st(),nS={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},a3=new Map,aS=new Map,sS=l(e=>{for(let t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(ne.debug("Registering icon pack:",t.name),"loader"in t)aS.set(t.name,t.loader);else if("icons"in t)a3.set(t.name,t.icons);else throw ne.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),oS=l(async(e,t)=>{let r=_j(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);let i=r.prefix||t;if(!i)throw new Error(`Icon name must contain a prefix: ${e}`);let n=a3.get(i);if(!n){let s=aS.get(i);if(!s)throw new Error(`Icon set not found: ${r.prefix}`);try{n={...await s(),prefix:i},a3.set(i,n)}catch(o){throw ne.error(o),new Error(`Failed to load icon set: ${r.prefix}`)}}let a=Nj(n,r.name);if(!a)throw new Error(`Icon not found: ${e}`);return a},"getRegisteredIconData"),mW=l(async e=>{try{return await oS(e),!0}catch{return!1}},"isIconAvailable"),Xl=l(async(e,t,r)=>{let i;try{i=await oS(e,t?.fallbackPrefix)}catch(s){ne.error(s),i=nS}let n=Pj(i,t),a=Uj($j(n.body),{...n.attributes,...r});return wr(a,Tr())},"getIconSVG")});function lS(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=Array.from(typeof e=="string"?[e]:e);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var n=i.reduce(function(o,u){var h=u.match(/\n([\t ]+|(?!\s).)/g);return h?o.concat(h.map(function(d){var p,g;return(g=(p=d.match(/[\t ]/g))===null||p===void 0?void 0:p.length)!==null&&g!==void 0?g:0})):o},[]);if(n.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,n)+"}","g");i=i.map(function(o){return o.replace(a,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var s=i[0];return t.forEach(function(o,u){var h=s.match(/(?:^|\n)( *)$/),d=h?h[1]:"",p=o;typeof o=="string"&&o.includes(`
`)&&(p=String(o).split(`
`).map(function(g,f){return f===0?g:""+d+g}).join(`
`)),s+=p+i[u+1]}),s}var yW=D(()=>{"use strict";l(lS,"dedent")}),cS,Fp,vW,uS=D(()=>{"use strict";cS=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Fp=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,vW=/\s*%%.*\n/gm}),hS,bW=D(()=>{"use strict";hS=class extends Error{static{l(this,"UnknownDiagramError")}constructor(e){super(e),this.name="UnknownDiagramError"}}}),du,s3,o3,dS,xW,zp=D(()=>{"use strict";st(),uS(),bW(),du={},s3=l(function(e,t){e=e.replace(cS,"").replace(Fp,"").replace(vW,`
`);for(let[r,{detector:i}]of Object.entries(du))if(i(e,t))return r;throw new hS(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),o3=l((...e)=>{for(let{id:t,detector:r,loader:i}of e)dS(t,r,i)},"registerLazyLoadedDiagrams"),dS=l((e,t,r)=>{du[e]&&ne.warn(`Detector with key ${e} already exists. Overwriting.`),du[e]={detector:t,loader:r},ne.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),xW=l(e=>du[e].loader,"getDiagramLoader")}),Lm,wW,kW=D(()=>{"use strict";Lm=function(){var e=l(function(qe,Se,Re,ve){for(Re=Re||{},ve=qe.length;ve--;Re[qe[ve]]=Se);return Re},"o"),t=[1,24],r=[1,25],i=[1,26],n=[1,27],a=[1,28],s=[1,63],o=[1,64],u=[1,65],h=[1,66],d=[1,67],p=[1,68],g=[1,69],f=[1,29],m=[1,30],y=[1,31],b=[1,32],v=[1,33],x=[1,34],w=[1,35],k=[1,36],T=[1,37],_=[1,38],C=[1,39],E=[1,40],N=[1,41],M=[1,42],I=[1,43],A=[1,44],B=[1,45],S=[1,46],O=[1,47],R=[1,48],P=[1,50],L=[1,51],$=[1,52],F=[1,53],G=[1,54],q=[1,55],V=[1,56],H=[1,57],ae=[1,58],re=[1,59],oe=[1,60],ue=[14,42],W=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],ee=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],X=[1,82],Z=[1,83],J=[1,84],he=[1,85],K=[12,14,42],me=[12,14,33,42],Y=[12,14,33,42,76,77,79,80],_e=[12,33],ce=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Ne={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:l(function(qe,Se,Re,ve,Fe,de,Ve){var Q=de.length-1;switch(Fe){case 3:ve.setDirection("TB");break;case 4:ve.setDirection("BT");break;case 5:ve.setDirection("RL");break;case 6:ve.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:ve.setC4Type(de[Q-3]);break;case 19:ve.setTitle(de[Q].substring(6)),this.$=de[Q].substring(6);break;case 20:ve.setAccDescription(de[Q].substring(15)),this.$=de[Q].substring(15);break;case 21:this.$=de[Q].trim(),ve.setTitle(this.$);break;case 22:case 23:this.$=de[Q].trim(),ve.setAccDescription(this.$);break;case 28:de[Q].splice(2,0,"ENTERPRISE"),ve.addPersonOrSystemBoundary(...de[Q]),this.$=de[Q];break;case 29:de[Q].splice(2,0,"SYSTEM"),ve.addPersonOrSystemBoundary(...de[Q]),this.$=de[Q];break;case 30:ve.addPersonOrSystemBoundary(...de[Q]),this.$=de[Q];break;case 31:de[Q].splice(2,0,"CONTAINER"),ve.addContainerBoundary(...de[Q]),this.$=de[Q];break;case 32:ve.addDeploymentNode("node",...de[Q]),this.$=de[Q];break;case 33:ve.addDeploymentNode("nodeL",...de[Q]),this.$=de[Q];break;case 34:ve.addDeploymentNode("nodeR",...de[Q]),this.$=de[Q];break;case 35:ve.popBoundaryParseStack();break;case 39:ve.addPersonOrSystem("person",...de[Q]),this.$=de[Q];break;case 40:ve.addPersonOrSystem("external_person",...de[Q]),this.$=de[Q];break;case 41:ve.addPersonOrSystem("system",...de[Q]),this.$=de[Q];break;case 42:ve.addPersonOrSystem("system_db",...de[Q]),this.$=de[Q];break;case 43:ve.addPersonOrSystem("system_queue",...de[Q]),this.$=de[Q];break;case 44:ve.addPersonOrSystem("external_system",...de[Q]),this.$=de[Q];break;case 45:ve.addPersonOrSystem("external_system_db",...de[Q]),this.$=de[Q];break;case 46:ve.addPersonOrSystem("external_system_queue",...de[Q]),this.$=de[Q];break;case 47:ve.addContainer("container",...de[Q]),this.$=de[Q];break;case 48:ve.addContainer("container_db",...de[Q]),this.$=de[Q];break;case 49:ve.addContainer("container_queue",...de[Q]),this.$=de[Q];break;case 50:ve.addContainer("external_container",...de[Q]),this.$=de[Q];break;case 51:ve.addContainer("external_container_db",...de[Q]),this.$=de[Q];break;case 52:ve.addContainer("external_container_queue",...de[Q]),this.$=de[Q];break;case 53:ve.addComponent("component",...de[Q]),this.$=de[Q];break;case 54:ve.addComponent("component_db",...de[Q]),this.$=de[Q];break;case 55:ve.addComponent("component_queue",...de[Q]),this.$=de[Q];break;case 56:ve.addComponent("external_component",...de[Q]),this.$=de[Q];break;case 57:ve.addComponent("external_component_db",...de[Q]),this.$=de[Q];break;case 58:ve.addComponent("external_component_queue",...de[Q]),this.$=de[Q];break;case 60:ve.addRel("rel",...de[Q]),this.$=de[Q];break;case 61:ve.addRel("birel",...de[Q]),this.$=de[Q];break;case 62:ve.addRel("rel_u",...de[Q]),this.$=de[Q];break;case 63:ve.addRel("rel_d",...de[Q]),this.$=de[Q];break;case 64:ve.addRel("rel_l",...de[Q]),this.$=de[Q];break;case 65:ve.addRel("rel_r",...de[Q]),this.$=de[Q];break;case 66:ve.addRel("rel_b",...de[Q]),this.$=de[Q];break;case 67:de[Q].splice(0,1),ve.addRel("rel",...de[Q]),this.$=de[Q];break;case 68:ve.updateElStyle("update_el_style",...de[Q]),this.$=de[Q];break;case 69:ve.updateRelStyle("update_rel_style",...de[Q]),this.$=de[Q];break;case 70:ve.updateLayoutConfig("update_layout_config",...de[Q]),this.$=de[Q];break;case 71:this.$=[de[Q]];break;case 72:de[Q].unshift(de[Q-1]),this.$=de[Q];break;case 73:case 75:this.$=de[Q].trim();break;case 74:let Me={};Me[de[Q-1].trim()]=de[Q].trim(),this.$=Me;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:t,23:r,24:i,26:n,28:a,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:g,43:23,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:_,54:C,55:E,56:N,57:M,58:I,59:A,60:B,61:S,62:O,63:R,64:P,65:L,66:$,67:F,68:G,69:q,70:V,71:H,72:ae,73:re,74:oe},{13:70,19:20,20:21,21:22,22:t,23:r,24:i,26:n,28:a,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:g,43:23,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:_,54:C,55:E,56:N,57:M,58:I,59:A,60:B,61:S,62:O,63:R,64:P,65:L,66:$,67:F,68:G,69:q,70:V,71:H,72:ae,73:re,74:oe},{13:71,19:20,20:21,21:22,22:t,23:r,24:i,26:n,28:a,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:g,43:23,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:_,54:C,55:E,56:N,57:M,58:I,59:A,60:B,61:S,62:O,63:R,64:P,65:L,66:$,67:F,68:G,69:q,70:V,71:H,72:ae,73:re,74:oe},{13:72,19:20,20:21,21:22,22:t,23:r,24:i,26:n,28:a,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:g,43:23,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:_,54:C,55:E,56:N,57:M,58:I,59:A,60:B,61:S,62:O,63:R,64:P,65:L,66:$,67:F,68:G,69:q,70:V,71:H,72:ae,73:re,74:oe},{13:73,19:20,20:21,21:22,22:t,23:r,24:i,26:n,28:a,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:g,43:23,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:_,54:C,55:E,56:N,57:M,58:I,59:A,60:B,61:S,62:O,63:R,64:P,65:L,66:$,67:F,68:G,69:q,70:V,71:H,72:ae,73:re,74:oe},{14:[1,74]},e(ue,[2,13],{43:23,29:49,30:61,32:62,20:75,34:s,36:o,37:u,38:h,39:d,40:p,41:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:_,54:C,55:E,56:N,57:M,58:I,59:A,60:B,61:S,62:O,63:R,64:P,65:L,66:$,67:F,68:G,69:q,70:V,71:H,72:ae,73:re,74:oe}),e(ue,[2,14]),e(W,[2,16],{12:[1,76]}),e(ue,[2,36],{12:[1,77]}),e(ee,[2,19]),e(ee,[2,20]),{25:[1,78]},{27:[1,79]},e(ee,[2,23]),{35:80,75:81,76:X,77:Z,79:J,80:he},{35:86,75:81,76:X,77:Z,79:J,80:he},{35:87,75:81,76:X,77:Z,79:J,80:he},{35:88,75:81,76:X,77:Z,79:J,80:he},{35:89,75:81,76:X,77:Z,79:J,80:he},{35:90,75:81,76:X,77:Z,79:J,80:he},{35:91,75:81,76:X,77:Z,79:J,80:he},{35:92,75:81,76:X,77:Z,79:J,80:he},{35:93,75:81,76:X,77:Z,79:J,80:he},{35:94,75:81,76:X,77:Z,79:J,80:he},{35:95,75:81,76:X,77:Z,79:J,80:he},{35:96,75:81,76:X,77:Z,79:J,80:he},{35:97,75:81,76:X,77:Z,79:J,80:he},{35:98,75:81,76:X,77:Z,79:J,80:he},{35:99,75:81,76:X,77:Z,79:J,80:he},{35:100,75:81,76:X,77:Z,79:J,80:he},{35:101,75:81,76:X,77:Z,79:J,80:he},{35:102,75:81,76:X,77:Z,79:J,80:he},{35:103,75:81,76:X,77:Z,79:J,80:he},{35:104,75:81,76:X,77:Z,79:J,80:he},e(K,[2,59]),{35:105,75:81,76:X,77:Z,79:J,80:he},{35:106,75:81,76:X,77:Z,79:J,80:he},{35:107,75:81,76:X,77:Z,79:J,80:he},{35:108,75:81,76:X,77:Z,79:J,80:he},{35:109,75:81,76:X,77:Z,79:J,80:he},{35:110,75:81,76:X,77:Z,79:J,80:he},{35:111,75:81,76:X,77:Z,79:J,80:he},{35:112,75:81,76:X,77:Z,79:J,80:he},{35:113,75:81,76:X,77:Z,79:J,80:he},{35:114,75:81,76:X,77:Z,79:J,80:he},{35:115,75:81,76:X,77:Z,79:J,80:he},{20:116,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:g,43:23,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:_,54:C,55:E,56:N,57:M,58:I,59:A,60:B,61:S,62:O,63:R,64:P,65:L,66:$,67:F,68:G,69:q,70:V,71:H,72:ae,73:re,74:oe},{12:[1,118],33:[1,117]},{35:119,75:81,76:X,77:Z,79:J,80:he},{35:120,75:81,76:X,77:Z,79:J,80:he},{35:121,75:81,76:X,77:Z,79:J,80:he},{35:122,75:81,76:X,77:Z,79:J,80:he},{35:123,75:81,76:X,77:Z,79:J,80:he},{35:124,75:81,76:X,77:Z,79:J,80:he},{35:125,75:81,76:X,77:Z,79:J,80:he},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},e(ue,[2,15]),e(W,[2,17],{21:22,19:130,22:t,23:r,24:i,26:n,28:a}),e(ue,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:t,23:r,24:i,26:n,28:a,34:s,36:o,37:u,38:h,39:d,40:p,41:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:_,54:C,55:E,56:N,57:M,58:I,59:A,60:B,61:S,62:O,63:R,64:P,65:L,66:$,67:F,68:G,69:q,70:V,71:H,72:ae,73:re,74:oe}),e(ee,[2,21]),e(ee,[2,22]),e(K,[2,39]),e(me,[2,71],{75:81,35:132,76:X,77:Z,79:J,80:he}),e(Y,[2,73]),{78:[1,133]},e(Y,[2,75]),e(Y,[2,76]),e(K,[2,40]),e(K,[2,41]),e(K,[2,42]),e(K,[2,43]),e(K,[2,44]),e(K,[2,45]),e(K,[2,46]),e(K,[2,47]),e(K,[2,48]),e(K,[2,49]),e(K,[2,50]),e(K,[2,51]),e(K,[2,52]),e(K,[2,53]),e(K,[2,54]),e(K,[2,55]),e(K,[2,56]),e(K,[2,57]),e(K,[2,58]),e(K,[2,60]),e(K,[2,61]),e(K,[2,62]),e(K,[2,63]),e(K,[2,64]),e(K,[2,65]),e(K,[2,66]),e(K,[2,67]),e(K,[2,68]),e(K,[2,69]),e(K,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},e(_e,[2,28]),e(_e,[2,29]),e(_e,[2,30]),e(_e,[2,31]),e(_e,[2,32]),e(_e,[2,33]),e(_e,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},e(W,[2,18]),e(ue,[2,38]),e(me,[2,72]),e(Y,[2,74]),e(K,[2,24]),e(K,[2,35]),e(ce,[2,25]),e(ce,[2,26],{12:[1,138]}),e(ce,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:l(function(qe,Se){if(Se.recoverable)this.trace(qe);else{var Re=new Error(qe);throw Re.hash=Se,Re}},"parseError"),parse:l(function(qe){var Se=this,Re=[0],ve=[],Fe=[null],de=[],Ve=this.table,Q="",Me=0,z=0,te=0,se=2,pe=1,fe=de.slice.call(arguments,1),we=Object.create(this.lexer),Ce={yy:{}};for(var Te in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Te)&&(Ce.yy[Te]=this.yy[Te]);we.setInput(qe,Ce.yy),Ce.yy.lexer=we,Ce.yy.parser=this,typeof we.yylloc>"u"&&(we.yylloc={});var ze=we.yylloc;de.push(ze);var He=we.options&&we.options.ranges;typeof Ce.yy.parseError=="function"?this.parseError=Ce.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function at(Ze){Re.length=Re.length-2*Ze,Fe.length=Fe.length-Ze,de.length=de.length-Ze}l(at,"popStack");function $e(){var Ze;return Ze=ve.pop()||we.lex()||pe,typeof Ze!="number"&&(Ze instanceof Array&&(ve=Ze,Ze=ve.pop()),Ze=Se.symbols_[Ze]||Ze),Ze}l($e,"lex");for(var Ye,Ue,Ge,Xe,kt,ct,ot={},Et,tt,ht,ft;;){if(Ge=Re[Re.length-1],this.defaultActions[Ge]?Xe=this.defaultActions[Ge]:((Ye===null||typeof Ye>"u")&&(Ye=$e()),Xe=Ve[Ge]&&Ve[Ge][Ye]),typeof Xe>"u"||!Xe.length||!Xe[0]){var Qe="";ft=[];for(Et in Ve[Ge])this.terminals_[Et]&&Et>se&&ft.push("'"+this.terminals_[Et]+"'");we.showPosition?Qe="Parse error on line "+(Me+1)+`:
`+we.showPosition()+`
Expecting `+ft.join(", ")+", got '"+(this.terminals_[Ye]||Ye)+"'":Qe="Parse error on line "+(Me+1)+": Unexpected "+(Ye==pe?"end of input":"'"+(this.terminals_[Ye]||Ye)+"'"),this.parseError(Qe,{text:we.match,token:this.terminals_[Ye]||Ye,line:we.yylineno,loc:ze,expected:ft})}if(Xe[0]instanceof Array&&Xe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ge+", token: "+Ye);switch(Xe[0]){case 1:Re.push(Ye),Fe.push(we.yytext),de.push(we.yylloc),Re.push(Xe[1]),Ye=null,Ue?(Ye=Ue,Ue=null):(z=we.yyleng,Q=we.yytext,Me=we.yylineno,ze=we.yylloc,te>0&&te--);break;case 2:if(tt=this.productions_[Xe[1]][1],ot.$=Fe[Fe.length-tt],ot._$={first_line:de[de.length-(tt||1)].first_line,last_line:de[de.length-1].last_line,first_column:de[de.length-(tt||1)].first_column,last_column:de[de.length-1].last_column},He&&(ot._$.range=[de[de.length-(tt||1)].range[0],de[de.length-1].range[1]]),ct=this.performAction.apply(ot,[Q,z,Me,Ce.yy,Xe[1],Fe,de].concat(fe)),typeof ct<"u")return ct;tt&&(Re=Re.slice(0,-1*tt*2),Fe=Fe.slice(0,-1*tt),de=de.slice(0,-1*tt)),Re.push(this.productions_[Xe[1]][0]),Fe.push(ot.$),de.push(ot._$),ht=Ve[Re[Re.length-2]][Re[Re.length-1]],Re.push(ht);break;case 3:return!0}}return!0},"parse")},Be=function(){var qe={EOF:1,parseError:l(function(Se,Re){if(this.yy.parser)this.yy.parser.parseError(Se,Re);else throw new Error(Se)},"parseError"),setInput:l(function(Se,Re){return this.yy=Re||this.yy||{},this._input=Se,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var Se=this._input[0];this.yytext+=Se,this.yyleng++,this.offset++,this.match+=Se,this.matched+=Se;var Re=Se.match(/(?:\r\n?|\n).*/g);return Re?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Se},"input"),unput:l(function(Se){var Re=Se.length,ve=Se.split(/(?:\r\n?|\n)/g);this._input=Se+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Re),this.offset-=Re;var Fe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ve.length-1&&(this.yylineno-=ve.length-1);var de=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ve?(ve.length===Fe.length?this.yylloc.first_column:0)+Fe[Fe.length-ve.length].length-ve[0].length:this.yylloc.first_column-Re},this.options.ranges&&(this.yylloc.range=[de[0],de[0]+this.yyleng-Re]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(Se){this.unput(this.match.slice(Se))},"less"),pastInput:l(function(){var Se=this.matched.substr(0,this.matched.length-this.match.length);return(Se.length>20?"...":"")+Se.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var Se=this.match;return Se.length<20&&(Se+=this._input.substr(0,20-Se.length)),(Se.substr(0,20)+(Se.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var Se=this.pastInput(),Re=new Array(Se.length+1).join("-");return Se+this.upcomingInput()+`
`+Re+"^"},"showPosition"),test_match:l(function(Se,Re){var ve,Fe,de;if(this.options.backtrack_lexer&&(de={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(de.yylloc.range=this.yylloc.range.slice(0))),Fe=Se[0].match(/(?:\r\n?|\n).*/g),Fe&&(this.yylineno+=Fe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Fe?Fe[Fe.length-1].length-Fe[Fe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Se[0].length},this.yytext+=Se[0],this.match+=Se[0],this.matches=Se,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Se[0].length),this.matched+=Se[0],ve=this.performAction.call(this,this.yy,this,Re,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ve)return ve;if(this._backtrack){for(var Ve in de)this[Ve]=de[Ve];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Se,Re,ve,Fe;this._more||(this.yytext="",this.match="");for(var de=this._currentRules(),Ve=0;Ve<de.length;Ve++)if(ve=this._input.match(this.rules[de[Ve]]),ve&&(!Re||ve[0].length>Re[0].length)){if(Re=ve,Fe=Ve,this.options.backtrack_lexer){if(Se=this.test_match(ve,de[Ve]),Se!==!1)return Se;if(this._backtrack){Re=!1;continue}else return!1}else if(!this.options.flex)break}return Re?(Se=this.test_match(Re,de[Fe]),Se!==!1?Se:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var Se=this.next();return Se||this.lex()},"lex"),begin:l(function(Se){this.conditionStack.push(Se)},"begin"),popState:l(function(){var Se=this.conditionStack.length-1;return Se>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(Se){return Se=this.conditionStack.length-1-Math.abs(Se||0),Se>=0?this.conditionStack[Se]:"INITIAL"},"topState"),pushState:l(function(Se){this.begin(Se)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(Se,Re,ve,Fe){var de=Fe;switch(ve){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:return this.begin("node"),39;case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:return this.begin("rel_u"),66;case 53:return this.begin("rel_u"),66;case 54:return this.begin("rel_d"),67;case 55:return this.begin("rel_d"),67;case 56:return this.begin("rel_l"),68;case 57:return this.begin("rel_l"),68;case 58:return this.begin("rel_r"),69;case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return qe}();Ne.lexer=Be;function je(){this.yy={}}return l(je,"Parser"),je.prototype=Ne,Ne.Parser=je,new je}(),Lm.parser=Lm,wW=Lm}),TW,EW,Wn,Gp,an=D(()=>{"use strict";st(),TW=l(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),EW=l(function(e,t,r){let i=new Map;return r?(i.set("width","100%"),i.set("style",`max-width: ${t}px;`)):(i.set("height",e),i.set("width",t)),i},"calculateSvgSizeAttrs"),Wn=l(function(e,t,r,i){let n=EW(t,r,i);TW(e,n)},"configureSvgSize"),Gp=l(function(e,t,r,i){let n=t.node().getBBox(),a=n.width,s=n.height;ne.info(`SVG bounds: ${a}x${s}`,n);let o=0,u=0;ne.info(`Graph bounds: ${o}x${u}`,e),o=a+r*2,u=s+r*2,ne.info(`Calculated bounds: ${o}x${u}`),Wn(t,u,o,i);let h=`${n.x-r} ${n.y-r} ${n.width+2*r} ${n.height+2*r}`;t.attr("viewBox",h)},"setupGraphViewbox")}),Nm,CW,SW,_W,AW=D(()=>{"use strict";st(),Nm={},CW=l((e,t,r)=>{let i="";return e in Nm&&Nm[e]?i=Nm[e](r):ne.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${i}

  ${t}
`},"getStyles"),SW=l((e,t)=>{t!==void 0&&(Nm[e]=t)},"addStylesForDiagram"),_W=CW}),pS={};sr(pS,{clear:()=>Ni,getAccDescription:()=>qi,getAccTitle:()=>Gi,getDiagramTitle:()=>Ii,setAccDescription:()=>Ui,setAccTitle:()=>Mi,setDiagramTitle:()=>sn});var l3,c3,u3,h3,Ni,Mi,Gi,Ui,qi,sn,Ii,Di=D(()=>{"use strict";cr(),pi(),l3="",c3="",u3="",h3=l(e=>wr(e,Tr()),"sanitizeText"),Ni=l(()=>{l3="",u3="",c3=""},"clear"),Mi=l(e=>{l3=h3(e).replace(/^\s+/g,"")},"setAccTitle"),Gi=l(()=>l3,"getAccTitle"),Ui=l(e=>{u3=h3(e).replace(/\n\s+/g,`
`)},"setAccDescription"),qi=l(()=>u3,"getAccDescription"),sn=l(e=>{c3=h3(e)},"setDiagramTitle"),Ii=l(()=>c3,"getDiagramTitle")}),gS,LW,Ee,d3,fS,p3,mS,NW,Mm,Im,g3,MW,Gt=D(()=>{"use strict";zp(),st(),pi(),cr(),an(),AW(),Di(),gS=ne,LW=e4,Ee=Tr,d3=eE,fS=_h,p3=l(e=>wr(e,Ee()),"sanitizeText"),mS=Gp,NW=l(()=>pS,"getCommonDb"),Mm={},Im=l((e,t,r)=>{Mm[e]&&gS.warn(`Diagram with id ${e} already registered. Overwriting.`),Mm[e]=t,r&&dS(e,r),SW(e,t.styles),t.injectUtils?.(gS,LW,Ee,p3,mS,NW(),()=>{})},"registerDiagram"),g3=l(e=>{if(e in Mm)return Mm[e];throw new MW(e)},"getDiagram"),MW=class extends Error{static{l(this,"DiagramNotFoundError")}constructor(e){super(`Diagram ${e} not found.`)}}}),Es,Zl,Xn,Cs,eo,Up,f3,m3,Dm,Rm,IW,DW,RW,OW,PW,BW,$W,FW,zW,GW,UW,qW,jW,HW,VW,YW,WW,XW,yS,KW,ZW,vS,QW,JW,eX,tX,Ql,rX,iX,nX,aX,sX,y3,oX=D(()=>{"use strict";Gt(),cr(),Di(),Es=[],Zl=[""],Xn="global",Cs="",eo=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Up=[],f3="",m3=!1,Dm=4,Rm=2,DW=l(function(){return IW},"getC4Type"),RW=l(function(e){IW=wr(e,Ee())},"setC4Type"),OW=l(function(e,t,r,i,n,a,s,o,u){if(e==null||t===void 0||t===null||r===void 0||r===null||i===void 0||i===null)return;let h={},d=Up.find(p=>p.from===t&&p.to===r);if(d?h=d:Up.push(h),h.type=e,h.from=t,h.to=r,h.label={text:i},n==null)h.techn={text:""};else if(typeof n=="object"){let[p,g]=Object.entries(n)[0];h[p]={text:g}}else h.techn={text:n};if(a==null)h.descr={text:""};else if(typeof a=="object"){let[p,g]=Object.entries(a)[0];h[p]={text:g}}else h.descr={text:a};if(typeof s=="object"){let[p,g]=Object.entries(s)[0];h[p]=g}else h.sprite=s;if(typeof o=="object"){let[p,g]=Object.entries(o)[0];h[p]=g}else h.tags=o;if(typeof u=="object"){let[p,g]=Object.entries(u)[0];h[p]=g}else h.link=u;h.wrap=Ql()},"addRel"),PW=l(function(e,t,r,i,n,a,s){if(t===null||r===null)return;let o={},u=Es.find(h=>h.alias===t);if(u&&t===u.alias?o=u:(o.alias=t,Es.push(o)),r==null?o.label={text:""}:o.label={text:r},i==null)o.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];o[h]={text:d}}else o.descr={text:i};if(typeof n=="object"){let[h,d]=Object.entries(n)[0];o[h]=d}else o.sprite=n;if(typeof a=="object"){let[h,d]=Object.entries(a)[0];o[h]=d}else o.tags=a;if(typeof s=="object"){let[h,d]=Object.entries(s)[0];o[h]=d}else o.link=s;o.typeC4Shape={text:e},o.parentBoundary=Xn,o.wrap=Ql()},"addPersonOrSystem"),BW=l(function(e,t,r,i,n,a,s,o){if(t===null||r===null)return;let u={},h=Es.find(d=>d.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,Es.push(u)),r==null?u.label={text:""}:u.label={text:r},i==null)u.techn={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.techn={text:i};if(n==null)u.descr={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];u[d]={text:p}}else u.descr={text:n};if(typeof a=="object"){let[d,p]=Object.entries(a)[0];u[d]=p}else u.sprite=a;if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof o=="object"){let[d,p]=Object.entries(o)[0];u[d]=p}else u.link=o;u.wrap=Ql(),u.typeC4Shape={text:e},u.parentBoundary=Xn},"addContainer"),$W=l(function(e,t,r,i,n,a,s,o){if(t===null||r===null)return;let u={},h=Es.find(d=>d.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,Es.push(u)),r==null?u.label={text:""}:u.label={text:r},i==null)u.techn={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.techn={text:i};if(n==null)u.descr={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];u[d]={text:p}}else u.descr={text:n};if(typeof a=="object"){let[d,p]=Object.entries(a)[0];u[d]=p}else u.sprite=a;if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof o=="object"){let[d,p]=Object.entries(o)[0];u[d]=p}else u.link=o;u.wrap=Ql(),u.typeC4Shape={text:e},u.parentBoundary=Xn},"addComponent"),FW=l(function(e,t,r,i,n){if(e===null||t===null)return;let a={},s=eo.find(o=>o.alias===e);if(s&&e===s.alias?a=s:(a.alias=e,eo.push(a)),t==null?a.label={text:""}:a.label={text:t},r==null)a.type={text:"system"};else if(typeof r=="object"){let[o,u]=Object.entries(r)[0];a[o]={text:u}}else a.type={text:r};if(typeof i=="object"){let[o,u]=Object.entries(i)[0];a[o]=u}else a.tags=i;if(typeof n=="object"){let[o,u]=Object.entries(n)[0];a[o]=u}else a.link=n;a.parentBoundary=Xn,a.wrap=Ql(),Cs=Xn,Xn=e,Zl.push(Cs)},"addPersonOrSystemBoundary"),zW=l(function(e,t,r,i,n){if(e===null||t===null)return;let a={},s=eo.find(o=>o.alias===e);if(s&&e===s.alias?a=s:(a.alias=e,eo.push(a)),t==null?a.label={text:""}:a.label={text:t},r==null)a.type={text:"container"};else if(typeof r=="object"){let[o,u]=Object.entries(r)[0];a[o]={text:u}}else a.type={text:r};if(typeof i=="object"){let[o,u]=Object.entries(i)[0];a[o]=u}else a.tags=i;if(typeof n=="object"){let[o,u]=Object.entries(n)[0];a[o]=u}else a.link=n;a.parentBoundary=Xn,a.wrap=Ql(),Cs=Xn,Xn=e,Zl.push(Cs)},"addContainerBoundary"),GW=l(function(e,t,r,i,n,a,s,o){if(t===null||r===null)return;let u={},h=eo.find(d=>d.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,eo.push(u)),r==null?u.label={text:""}:u.label={text:r},i==null)u.type={text:"node"};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.type={text:i};if(n==null)u.descr={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];u[d]={text:p}}else u.descr={text:n};if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof o=="object"){let[d,p]=Object.entries(o)[0];u[d]=p}else u.link=o;u.nodeType=e,u.parentBoundary=Xn,u.wrap=Ql(),Cs=Xn,Xn=t,Zl.push(Cs)},"addDeploymentNode"),UW=l(function(){Xn=Cs,Zl.pop(),Cs=Zl.pop(),Zl.push(Cs)},"popBoundaryParseStack"),qW=l(function(e,t,r,i,n,a,s,o,u,h,d){let p=Es.find(g=>g.alias===t);if(!(p===void 0&&(p=eo.find(g=>g.alias===t),p===void 0))){if(r!=null)if(typeof r=="object"){let[g,f]=Object.entries(r)[0];p[g]=f}else p.bgColor=r;if(i!=null)if(typeof i=="object"){let[g,f]=Object.entries(i)[0];p[g]=f}else p.fontColor=i;if(n!=null)if(typeof n=="object"){let[g,f]=Object.entries(n)[0];p[g]=f}else p.borderColor=n;if(a!=null)if(typeof a=="object"){let[g,f]=Object.entries(a)[0];p[g]=f}else p.shadowing=a;if(s!=null)if(typeof s=="object"){let[g,f]=Object.entries(s)[0];p[g]=f}else p.shape=s;if(o!=null)if(typeof o=="object"){let[g,f]=Object.entries(o)[0];p[g]=f}else p.sprite=o;if(u!=null)if(typeof u=="object"){let[g,f]=Object.entries(u)[0];p[g]=f}else p.techn=u;if(h!=null)if(typeof h=="object"){let[g,f]=Object.entries(h)[0];p[g]=f}else p.legendText=h;if(d!=null)if(typeof d=="object"){let[g,f]=Object.entries(d)[0];p[g]=f}else p.legendSprite=d}},"updateElStyle"),jW=l(function(e,t,r,i,n,a,s){let o=Up.find(u=>u.from===t&&u.to===r);if(o!==void 0){if(i!=null)if(typeof i=="object"){let[u,h]=Object.entries(i)[0];o[u]=h}else o.textColor=i;if(n!=null)if(typeof n=="object"){let[u,h]=Object.entries(n)[0];o[u]=h}else o.lineColor=n;if(a!=null)if(typeof a=="object"){let[u,h]=Object.entries(a)[0];o[u]=parseInt(h)}else o.offsetX=parseInt(a);if(s!=null)if(typeof s=="object"){let[u,h]=Object.entries(s)[0];o[u]=parseInt(h)}else o.offsetY=parseInt(s)}},"updateRelStyle"),HW=l(function(e,t,r){let i=Dm,n=Rm;if(typeof t=="object"){let a=Object.values(t)[0];i=parseInt(a)}else i=parseInt(t);if(typeof r=="object"){let a=Object.values(r)[0];n=parseInt(a)}else n=parseInt(r);i>=1&&(Dm=i),n>=1&&(Rm=n)},"updateLayoutConfig"),VW=l(function(){return Dm},"getC4ShapeInRow"),YW=l(function(){return Rm},"getC4BoundaryInRow"),WW=l(function(){return Xn},"getCurrentBoundaryParse"),XW=l(function(){return Cs},"getParentBoundaryParse"),yS=l(function(e){return e==null?Es:Es.filter(t=>t.parentBoundary===e)},"getC4ShapeArray"),KW=l(function(e){return Es.find(t=>t.alias===e)},"getC4Shape"),ZW=l(function(e){return Object.keys(yS(e))},"getC4ShapeKeys"),vS=l(function(e){return e==null?eo:eo.filter(t=>t.parentBoundary===e)},"getBoundaries"),QW=vS,JW=l(function(){return Up},"getRels"),eX=l(function(){return f3},"getTitle"),tX=l(function(e){m3=e},"setWrap"),Ql=l(function(){return m3},"autoWrap"),rX=l(function(){Es=[],eo=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Cs="",Xn="global",Zl=[""],Up=[],Zl=[""],f3="",m3=!1,Dm=4,Rm=2},"clear"),iX={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},nX={FILLED:0,OPEN:1},aX={LEFTOF:0,RIGHTOF:1,OVER:2},sX=l(function(e){f3=wr(e,Ee())},"setTitle"),y3={addPersonOrSystem:PW,addPersonOrSystemBoundary:FW,addContainer:BW,addContainerBoundary:zW,addComponent:$W,addDeploymentNode:GW,popBoundaryParseStack:UW,addRel:OW,updateElStyle:qW,updateRelStyle:jW,updateLayoutConfig:HW,autoWrap:Ql,setWrap:tX,getC4ShapeArray:yS,getC4Shape:KW,getC4ShapeKeys:ZW,getBoundaries:vS,getBoundarys:QW,getCurrentBoundaryParse:WW,getParentBoundaryParse:XW,getRels:JW,getTitle:eX,getC4Type:DW,getC4ShapeInRow:VW,getC4BoundaryInRow:YW,setAccTitle:Mi,getAccTitle:Gi,getAccDescription:qi,setAccDescription:Ui,getConfig:l(()=>Ee().c4,"getConfig"),clear:rX,LINETYPE:iX,ARROWTYPE:nX,PLACEMENT:aX,setTitle:sX,setC4Type:RW}});function Om(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var lX=D(()=>{"use strict";l(Om,"ascending")});function cX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var qUe=D(()=>{"use strict";l(cX,"descending")});function v3(e){let t,r,i;e.length!==2?(t=Om,r=l((o,u)=>Om(e(o),u),"compare2"),i=l((o,u)=>e(o)-u,"delta")):(t=e===Om||e===cX?e:uX,r=e,i=e);function n(o,u,h=0,d=o.length){if(h<d){if(t(u,u)!==0)return d;do{let p=h+d>>>1;r(o[p],u)<0?h=p+1:d=p}while(h<d)}return h}l(n,"left");function a(o,u,h=0,d=o.length){if(h<d){if(t(u,u)!==0)return d;do{let p=h+d>>>1;r(o[p],u)<=0?h=p+1:d=p}while(h<d)}return h}l(a,"right");function s(o,u,h=0,d=o.length){let p=n(o,u,h,d-1);return p>h&&i(o[p-1],u)>-i(o[p],u)?p-1:p}return l(s,"center"),{left:n,center:s,right:a}}function uX(){return 0}var hX=D(()=>{"use strict";lX(),qUe(),l(v3,"bisector"),l(uX,"zero")});function dX(e){return e===null?NaN:+e}var jUe=D(()=>{"use strict";l(dX,"number")}),bS,pX,HUe,VUe,gX,YUe=D(()=>{"use strict";lX(),hX(),jUe(),bS=v3(Om),pX=bS.right,HUe=bS.left,VUe=v3(dX).center,gX=pX});function xS({_intern:e,_key:t},r){let i=t(r);return e.has(i)?e.get(i):r}function fX({_intern:e,_key:t},r){let i=t(r);return e.has(i)?e.get(i):(e.set(i,r),r)}function mX({_intern:e,_key:t},r){let i=t(r);return e.has(i)&&(r=e.get(i),e.delete(i)),r}function yX(e){return e!==null&&typeof e=="object"?e.valueOf():e}var wS,WUe=D(()=>{"use strict";wS=class extends Map{static{l(this,"InternMap")}constructor(e,t=yX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(let[r,i]of e)this.set(r,i)}get(e){return super.get(xS(this,e))}has(e){return super.has(xS(this,e))}set(e,t){return super.set(fX(this,e),t)}delete(e){return super.delete(mX(this,e))}},l(xS,"intern_get"),l(fX,"intern_set"),l(mX,"intern_delete"),l(yX,"keyof")});function Pm(e,t,r){let i=(t-e)/Math.max(0,r),n=Math.floor(Math.log10(i)),a=i/Math.pow(10,n),s=a>=bX?10:a>=xX?5:a>=wX?2:1,o,u,h;return n<0?(h=Math.pow(10,-n)/s,o=Math.round(e*h),u=Math.round(t*h),o/h<e&&++o,u/h>t&&--u,h=-h):(h=Math.pow(10,n)*s,o=Math.round(e/h),u=Math.round(t/h),o*h<e&&++o,u*h>t&&--u),u<o&&.5<=r&&r<2?Pm(e,t,r*2):[o,u,h]}function vX(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];let i=t<e,[n,a,s]=i?Pm(t,e,r):Pm(e,t,r);if(!(a>=n))return[];let o=a-n+1,u=new Array(o);if(i)if(s<0)for(let h=0;h<o;++h)u[h]=(a-h)/-s;else for(let h=0;h<o;++h)u[h]=(a-h)*s;else if(s<0)for(let h=0;h<o;++h)u[h]=(n+h)/-s;else for(let h=0;h<o;++h)u[h]=(n+h)*s;return u}function b3(e,t,r){return t=+t,e=+e,r=+r,Pm(e,t,r)[2]}function x3(e,t,r){t=+t,e=+e,r=+r;let i=t<e,n=i?b3(t,e,r):b3(e,t,r);return(i?-1:1)*(n<0?1/-n:n)}var bX,xX,wX,XUe=D(()=>{"use strict";bX=Math.sqrt(50),xX=Math.sqrt(10),wX=Math.sqrt(2),l(Pm,"tickSpec"),l(vX,"ticks"),l(b3,"tickIncrement"),l(x3,"tickStep")});function kX(e,t){let r;if(t===void 0)for(let i of e)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let n of e)(n=t(n,++i,e))!=null&&(r<n||r===void 0&&n>=n)&&(r=n)}return r}var KUe=D(()=>{"use strict";l(kX,"max")});function TX(e,t){let r;if(t===void 0)for(let i of e)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let n of e)(n=t(n,++i,e))!=null&&(r>n||r===void 0&&n>=n)&&(r=n)}return r}var ZUe=D(()=>{"use strict";l(TX,"min")});function EX(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var i=-1,n=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(n);++i<n;)a[i]=e+i*r;return a}var QUe=D(()=>{"use strict";l(EX,"range")}),Oh=D(()=>{"use strict";YUe(),hX(),KUe(),ZUe(),QUe(),XUe(),WUe()});function CX(e){return e}var JUe=D(()=>{"use strict";l(CX,"default")});function SX(e){return"translate("+e+",0)"}function _X(e){return"translate(0,"+e+")"}function AX(e){return t=>+e(t)}function LX(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function NX(){return!this.__axis}function kS(e,t){var r=[],i=null,n=null,a=6,s=6,o=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,h=e===Bm||e===$m?-1:1,d=e===$m||e===w3?"x":"y",p=e===Bm||e===k3?SX:_X;function g(f){var m=i??(t.ticks?t.ticks.apply(t,r):t.domain()),y=n??(t.tickFormat?t.tickFormat.apply(t,r):CX),b=Math.max(a,0)+o,v=t.range(),x=+v[0]+u,w=+v[v.length-1]+u,k=(t.bandwidth?LX:AX)(t.copy(),u),T=f.selection?f.selection():f,_=T.selectAll(".domain").data([null]),C=T.selectAll(".tick").data(m,t).order(),E=C.exit(),N=C.enter().append("g").attr("class","tick"),M=C.select("line"),I=C.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(N),M=M.merge(N.append("line").attr("stroke","currentColor").attr(d+"2",h*a)),I=I.merge(N.append("text").attr("fill","currentColor").attr(d,h*b).attr("dy",e===Bm?"0em":e===k3?"0.71em":"0.32em")),f!==T&&(_=_.transition(f),C=C.transition(f),M=M.transition(f),I=I.transition(f),E=E.transition(f).attr("opacity",TS).attr("transform",function(A){return isFinite(A=k(A))?p(A+u):this.getAttribute("transform")}),N.attr("opacity",TS).attr("transform",function(A){var B=this.parentNode.__axis;return p((B&&isFinite(B=B(A))?B:k(A))+u)})),E.remove(),_.attr("d",e===$m||e===w3?s?"M"+h*s+","+x+"H"+u+"V"+w+"H"+h*s:"M"+u+","+x+"V"+w:s?"M"+x+","+h*s+"V"+u+"H"+w+"V"+h*s:"M"+x+","+u+"H"+w),C.attr("opacity",1).attr("transform",function(A){return p(k(A)+u)}),M.attr(d+"2",h*a),I.attr(d,h*b).text(y),T.filter(NX).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===w3?"start":e===$m?"end":"middle"),T.each(function(){this.__axis=k})}return l(g,"axis"),g.scale=function(f){return arguments.length?(t=f,g):t},g.ticks=function(){return r=Array.from(arguments),g},g.tickArguments=function(f){return arguments.length?(r=f==null?[]:Array.from(f),g):r.slice()},g.tickValues=function(f){return arguments.length?(i=f==null?null:Array.from(f),g):i&&i.slice()},g.tickFormat=function(f){return arguments.length?(n=f,g):n},g.tickSize=function(f){return arguments.length?(a=s=+f,g):a},g.tickSizeInner=function(f){return arguments.length?(a=+f,g):a},g.tickSizeOuter=function(f){return arguments.length?(s=+f,g):s},g.tickPadding=function(f){return arguments.length?(o=+f,g):o},g.offset=function(f){return arguments.length?(u=+f,g):u},g}function MX(e){return kS(Bm,e)}function IX(e){return kS(k3,e)}var Bm,w3,k3,$m,TS,eqe=D(()=>{"use strict";JUe(),Bm=1,w3=2,k3=3,$m=4,TS=1e-6,l(SX,"translateX"),l(_X,"translateY"),l(AX,"number"),l(LX,"center"),l(NX,"entering"),l(kS,"axis"),l(MX,"axisTop"),l(IX,"axisBottom")}),tqe=D(()=>{"use strict";eqe()});function ES(){for(var e=0,t=arguments.length,r={},i;e<t;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Fm(r)}function Fm(e){this._=e}function DX(e,t){return e.trim().split(/^|\s+/).map(function(r){var i="",n=r.indexOf(".");if(n>=0&&(i=r.slice(n+1),r=r.slice(0,n)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}function RX(e,t){for(var r=0,i=e.length,n;r<i;++r)if((n=e[r]).name===t)return n.value}function CS(e,t,r){for(var i=0,n=e.length;i<n;++i)if(e[i].name===t){e[i]=OX,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:t,value:r}),e}var OX,PX,rqe=D(()=>{"use strict";OX={value:l(()=>{},"value")},l(ES,"dispatch"),l(Fm,"Dispatch"),l(DX,"parseTypenames"),Fm.prototype=ES.prototype={constructor:Fm,on:l(function(e,t){var r=this._,i=DX(e+"",r),n,a=-1,s=i.length;if(arguments.length<2){for(;++a<s;)if((n=(e=i[a]).type)&&(n=RX(r[n],e.name)))return n;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=i[a]).type)r[n]=CS(r[n],e.name,t);else if(t==null)for(n in r)r[n]=CS(r[n],e.name,null);return this},"on"),copy:l(function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Fm(e)},"copy"),call:l(function(e,t){if((n=arguments.length-2)>0)for(var r=new Array(n),i=0,n,a;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,n=a.length;i<n;++i)a[i].value.apply(t,r)},"call"),apply:l(function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],n=0,a=i.length;n<a;++n)i[n].value.apply(t,r)},"apply")},l(RX,"get"),l(CS,"set"),PX=ES}),BX=D(()=>{"use strict";rqe()}),T3,SS,$X=D(()=>{"use strict";T3="http://www.w3.org/1999/xhtml",SS={svg:"http://www.w3.org/2000/svg",xhtml:T3,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function zm(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),SS.hasOwnProperty(t)?{space:SS[t],local:e}:e}var _S=D(()=>{"use strict";$X(),l(zm,"default")});function FX(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===T3&&t.documentElement.namespaceURI===T3?t.createElement(e):t.createElementNS(r,e)}}function zX(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function AS(e){var t=zm(e);return(t.local?zX:FX)(t)}var GX=D(()=>{"use strict";_S(),$X(),l(FX,"creatorInherit"),l(zX,"creatorFixed"),l(AS,"default")});function UX(){}function E3(e){return e==null?UX:function(){return this.querySelector(e)}}var LS=D(()=>{"use strict";l(UX,"none"),l(E3,"default")});function qX(e){typeof e!="function"&&(e=E3(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var a=t[n],s=a.length,o=i[n]=new Array(s),u,h,d=0;d<s;++d)(u=a[d])&&(h=e.call(u,u.__data__,d,a))&&("__data__"in u&&(h.__data__=u.__data__),o[d]=h);return new Oa(i,this._parents)}var iqe=D(()=>{"use strict";Vo(),LS(),l(qX,"default")});function jX(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}var nqe=D(()=>{"use strict";l(jX,"array")});function HX(){return[]}function NS(e){return e==null?HX:function(){return this.querySelectorAll(e)}}var VX=D(()=>{"use strict";l(HX,"empty"),l(NS,"default")});function YX(e){return function(){return jX(e.apply(this,arguments))}}function WX(e){typeof e=="function"?e=YX(e):e=NS(e);for(var t=this._groups,r=t.length,i=[],n=[],a=0;a<r;++a)for(var s=t[a],o=s.length,u,h=0;h<o;++h)(u=s[h])&&(i.push(e.call(u,u.__data__,h,s)),n.push(u));return new Oa(i,n)}var aqe=D(()=>{"use strict";Vo(),nqe(),VX(),l(YX,"arrayAll"),l(WX,"default")});function MS(e){return function(){return this.matches(e)}}function IS(e){return function(t){return t.matches(e)}}var C3=D(()=>{"use strict";l(MS,"default"),l(IS,"childMatcher")});function XX(e){return function(){return QX.call(this.children,e)}}function KX(){return this.firstElementChild}function ZX(e){return this.select(e==null?KX:XX(typeof e=="function"?e:IS(e)))}var QX,sqe=D(()=>{"use strict";C3(),QX=Array.prototype.find,l(XX,"childFind"),l(KX,"childFirst"),l(ZX,"default")});function JX(){return Array.from(this.children)}function eK(e){return function(){return rK.call(this.children,e)}}function tK(e){return this.selectAll(e==null?JX:eK(typeof e=="function"?e:IS(e)))}var rK,oqe=D(()=>{"use strict";C3(),rK=Array.prototype.filter,l(JX,"children"),l(eK,"childrenFilter"),l(tK,"default")});function iK(e){typeof e!="function"&&(e=MS(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var a=t[n],s=a.length,o=i[n]=[],u,h=0;h<s;++h)(u=a[h])&&e.call(u,u.__data__,h,a)&&o.push(u);return new Oa(i,this._parents)}var lqe=D(()=>{"use strict";Vo(),C3(),l(iK,"default")});function DS(e){return new Array(e.length)}var nK=D(()=>{"use strict";l(DS,"default")});function aK(){return new Oa(this._enter||this._groups.map(DS),this._parents)}function Gm(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var sK=D(()=>{"use strict";nK(),Vo(),l(aK,"default"),l(Gm,"EnterNode"),Gm.prototype={constructor:Gm,appendChild:l(function(e){return this._parent.insertBefore(e,this._next)},"appendChild"),insertBefore:l(function(e,t){return this._parent.insertBefore(e,t)},"insertBefore"),querySelector:l(function(e){return this._parent.querySelector(e)},"querySelector"),querySelectorAll:l(function(e){return this._parent.querySelectorAll(e)},"querySelectorAll")}});function oK(e){return function(){return e}}var cqe=D(()=>{"use strict";l(oK,"default")});function lK(e,t,r,i,n,a){for(var s=0,o,u=t.length,h=a.length;s<h;++s)(o=t[s])?(o.__data__=a[s],i[s]=o):r[s]=new Gm(e,a[s]);for(;s<u;++s)(o=t[s])&&(n[s]=o)}function cK(e,t,r,i,n,a,s){var o,u,h=new Map,d=t.length,p=a.length,g=new Array(d),f;for(o=0;o<d;++o)(u=t[o])&&(g[o]=f=s.call(u,u.__data__,o,t)+"",h.has(f)?n[o]=u:h.set(f,u));for(o=0;o<p;++o)f=s.call(e,a[o],o,a)+"",(u=h.get(f))?(i[o]=u,u.__data__=a[o],h.delete(f)):r[o]=new Gm(e,a[o]);for(o=0;o<d;++o)(u=t[o])&&h.get(g[o])===u&&(n[o]=u)}function uK(e){return e.__data__}function hK(e,t){if(!arguments.length)return Array.from(this,uK);var r=t?cK:lK,i=this._parents,n=this._groups;typeof e!="function"&&(e=oK(e));for(var a=n.length,s=new Array(a),o=new Array(a),u=new Array(a),h=0;h<a;++h){var d=i[h],p=n[h],g=p.length,f=dK(e.call(d,d&&d.__data__,h,i)),m=f.length,y=o[h]=new Array(m),b=s[h]=new Array(m),v=u[h]=new Array(g);r(d,p,y,b,v,f,t);for(var x=0,w=0,k,T;x<m;++x)if(k=y[x]){for(x>=w&&(w=x+1);!(T=b[w])&&++w<m;);k._next=T||null}}return s=new Oa(s,i),s._enter=o,s._exit=u,s}function dK(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var uqe=D(()=>{"use strict";Vo(),sK(),cqe(),l(lK,"bindIndex"),l(cK,"bindKey"),l(uK,"datum"),l(hK,"default"),l(dK,"arraylike")});function pK(){return new Oa(this._exit||this._groups.map(DS),this._parents)}var hqe=D(()=>{"use strict";nK(),Vo(),l(pK,"default")});function gK(e,t,r){var i=this.enter(),n=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(n=t(n),n&&(n=n.selection())),r==null?a.remove():r(a),i&&n?i.merge(n).order():n}var dqe=D(()=>{"use strict";l(gK,"default")});function fK(e){for(var t=e.selection?e.selection():e,r=this._groups,i=t._groups,n=r.length,a=i.length,s=Math.min(n,a),o=new Array(n),u=0;u<s;++u)for(var h=r[u],d=i[u],p=h.length,g=o[u]=new Array(p),f,m=0;m<p;++m)(f=h[m]||d[m])&&(g[m]=f);for(;u<n;++u)o[u]=r[u];return new Oa(o,this._parents)}var pqe=D(()=>{"use strict";Vo(),l(fK,"default")});function mK(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var i=e[t],n=i.length-1,a=i[n],s;--n>=0;)(s=i[n])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}var gqe=D(()=>{"use strict";l(mK,"default")});function yK(e){e||(e=vK);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}l(t,"compareNode");for(var r=this._groups,i=r.length,n=new Array(i),a=0;a<i;++a){for(var s=r[a],o=s.length,u=n[a]=new Array(o),h,d=0;d<o;++d)(h=s[d])&&(u[d]=h);u.sort(t)}return new Oa(n,this._parents).order()}function vK(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var fqe=D(()=>{"use strict";Vo(),l(yK,"default"),l(vK,"ascending")});function bK(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var mqe=D(()=>{"use strict";l(bK,"default")});function xK(){return Array.from(this)}var yqe=D(()=>{"use strict";l(xK,"default")});function wK(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,a=i.length;n<a;++n){var s=i[n];if(s)return s}return null}var vqe=D(()=>{"use strict";l(wK,"default")});function kK(){let e=0;for(let t of this)++e;return e}var bqe=D(()=>{"use strict";l(kK,"default")});function TK(){return!this.node()}var xqe=D(()=>{"use strict";l(TK,"default")});function EK(e){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var n=t[r],a=0,s=n.length,o;a<s;++a)(o=n[a])&&e.call(o,o.__data__,a,n);return this}var wqe=D(()=>{"use strict";l(EK,"default")});function CK(e){return function(){this.removeAttribute(e)}}function SK(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _K(e,t){return function(){this.setAttribute(e,t)}}function AK(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function LK(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function NK(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function MK(e,t){var r=zm(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((t==null?r.local?SK:CK:typeof t=="function"?r.local?NK:LK:r.local?AK:_K)(r,t))}var kqe=D(()=>{"use strict";_S(),l(CK,"attrRemove"),l(SK,"attrRemoveNS"),l(_K,"attrConstant"),l(AK,"attrConstantNS"),l(LK,"attrFunction"),l(NK,"attrFunctionNS"),l(MK,"default")});function RS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var IK=D(()=>{"use strict";l(RS,"default")});function DK(e){return function(){this.style.removeProperty(e)}}function RK(e,t,r){return function(){this.style.setProperty(e,t,r)}}function OK(e,t,r){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function PK(e,t,r){return arguments.length>1?this.each((t==null?DK:typeof t=="function"?OK:RK)(e,t,r??"")):Ph(this.node(),e)}function Ph(e,t){return e.style.getPropertyValue(t)||RS(e).getComputedStyle(e,null).getPropertyValue(t)}var BK=D(()=>{"use strict";IK(),l(DK,"styleRemove"),l(RK,"styleConstant"),l(OK,"styleFunction"),l(PK,"default"),l(Ph,"styleValue")});function $K(e){return function(){delete this[e]}}function FK(e,t){return function(){this[e]=t}}function zK(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function GK(e,t){return arguments.length>1?this.each((t==null?$K:typeof t=="function"?zK:FK)(e,t)):this.node()[e]}var Tqe=D(()=>{"use strict";l($K,"propertyRemove"),l(FK,"propertyConstant"),l(zK,"propertyFunction"),l(GK,"default")});function OS(e){return e.trim().split(/^|\s+/)}function S3(e){return e.classList||new PS(e)}function PS(e){this._node=e,this._names=OS(e.getAttribute("class")||"")}function BS(e,t){for(var r=S3(e),i=-1,n=t.length;++i<n;)r.add(t[i])}function $S(e,t){for(var r=S3(e),i=-1,n=t.length;++i<n;)r.remove(t[i])}function UK(e){return function(){BS(this,e)}}function qK(e){return function(){$S(this,e)}}function jK(e,t){return function(){(t.apply(this,arguments)?BS:$S)(this,e)}}function HK(e,t){var r=OS(e+"");if(arguments.length<2){for(var i=S3(this.node()),n=-1,a=r.length;++n<a;)if(!i.contains(r[n]))return!1;return!0}return this.each((typeof t=="function"?jK:t?UK:qK)(r,t))}var Eqe=D(()=>{"use strict";l(OS,"classArray"),l(S3,"classList"),l(PS,"ClassList"),PS.prototype={add:l(function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},"add"),remove:l(function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},"remove"),contains:l(function(e){return this._names.indexOf(e)>=0},"contains")},l(BS,"classedAdd"),l($S,"classedRemove"),l(UK,"classedTrue"),l(qK,"classedFalse"),l(jK,"classedFunction"),l(HK,"default")});function VK(){this.textContent=""}function YK(e){return function(){this.textContent=e}}function WK(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function XK(e){return arguments.length?this.each(e==null?VK:(typeof e=="function"?WK:YK)(e)):this.node().textContent}var Cqe=D(()=>{"use strict";l(VK,"textRemove"),l(YK,"textConstant"),l(WK,"textFunction"),l(XK,"default")});function KK(){this.innerHTML=""}function ZK(e){return function(){this.innerHTML=e}}function QK(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function JK(e){return arguments.length?this.each(e==null?KK:(typeof e=="function"?QK:ZK)(e)):this.node().innerHTML}var Sqe=D(()=>{"use strict";l(KK,"htmlRemove"),l(ZK,"htmlConstant"),l(QK,"htmlFunction"),l(JK,"default")});function eZ(){this.nextSibling&&this.parentNode.appendChild(this)}function tZ(){return this.each(eZ)}var _qe=D(()=>{"use strict";l(eZ,"raise"),l(tZ,"default")});function rZ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function iZ(){return this.each(rZ)}var Aqe=D(()=>{"use strict";l(rZ,"lower"),l(iZ,"default")});function nZ(e){var t=typeof e=="function"?e:AS(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var Lqe=D(()=>{"use strict";GX(),l(nZ,"default")});function aZ(){return null}function sZ(e,t){var r=typeof e=="function"?e:AS(e),i=t==null?aZ:typeof t=="function"?t:E3(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}var Nqe=D(()=>{"use strict";GX(),LS(),l(aZ,"constantNull"),l(sZ,"default")});function oZ(){var e=this.parentNode;e&&e.removeChild(this)}function lZ(){return this.each(oZ)}var Mqe=D(()=>{"use strict";l(oZ,"remove"),l(lZ,"default")});function cZ(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uZ(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hZ(e){return this.select(e?uZ:cZ)}var Iqe=D(()=>{"use strict";l(cZ,"selection_cloneShallow"),l(uZ,"selection_cloneDeep"),l(hZ,"default")});function dZ(e){return arguments.length?this.property("__data__",e):this.node().__data__}var Dqe=D(()=>{"use strict";l(dZ,"default")});function pZ(e){return function(t){e.call(this,t,this.__data__)}}function gZ(e){return e.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");return i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),{type:t,name:r}})}function fZ(e){return function(){var t=this.__on;if(t){for(var r=0,i=-1,n=t.length,a;r<n;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function mZ(e,t,r){return function(){var i=this.__on,n,a=pZ(t);if(i){for(var s=0,o=i.length;s<o;++s)if((n=i[s]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=a,n.options=r),n.value=t;return}}this.addEventListener(e.type,a,r),n={type:e.type,name:e.name,value:t,listener:a,options:r},i?i.push(n):this.__on=[n]}}function yZ(e,t,r){var i=gZ(e+""),n,a=i.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var u=0,h=o.length,d;u<h;++u)for(n=0,d=o[u];n<a;++n)if((s=i[n]).type===d.type&&s.name===d.name)return d.value}return}for(o=t?mZ:fZ,n=0;n<a;++n)this.each(o(i[n],t,r));return this}var Rqe=D(()=>{"use strict";l(pZ,"contextListener"),l(gZ,"parseTypenames"),l(fZ,"onRemove"),l(mZ,"onAdd"),l(yZ,"default")});function FS(e,t,r){var i=RS(e),n=i.CustomEvent;typeof n=="function"?n=new n(t,r):(n=i.document.createEvent("Event"),r?(n.initEvent(t,r.bubbles,r.cancelable),n.detail=r.detail):n.initEvent(t,!1,!1)),e.dispatchEvent(n)}function vZ(e,t){return function(){return FS(this,e,t)}}function bZ(e,t){return function(){return FS(this,e,t.apply(this,arguments))}}function xZ(e,t){return this.each((typeof t=="function"?bZ:vZ)(e,t))}var Oqe=D(()=>{"use strict";IK(),l(FS,"dispatchEvent"),l(vZ,"dispatchConstant"),l(bZ,"dispatchFunction"),l(xZ,"default")});function*wZ(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,a=i.length,s;n<a;++n)(s=i[n])&&(yield s)}var Pqe=D(()=>{"use strict";l(wZ,"default")});function Oa(e,t){this._groups=e,this._parents=t}function zS(){return new Oa([[document.documentElement]],GS)}function kZ(){return this}var GS,qp,Vo=D(()=>{"use strict";iqe(),aqe(),sqe(),oqe(),lqe(),uqe(),sK(),hqe(),dqe(),pqe(),gqe(),fqe(),mqe(),yqe(),vqe(),bqe(),xqe(),wqe(),kqe(),BK(),Tqe(),Eqe(),Cqe(),Sqe(),_qe(),Aqe(),Lqe(),Nqe(),Mqe(),Iqe(),Dqe(),Rqe(),Oqe(),Pqe(),GS=[null],l(Oa,"Selection"),l(zS,"selection"),l(kZ,"selection_selection"),Oa.prototype=zS.prototype={constructor:Oa,select:qX,selectAll:WX,selectChild:ZX,selectChildren:tK,filter:iK,data:hK,enter:aK,exit:pK,join:gK,merge:fK,selection:kZ,order:mK,sort:yK,call:bK,nodes:xK,node:wK,size:kK,empty:TK,each:EK,attr:MK,style:PK,property:GK,classed:HK,text:XK,html:JK,raise:tZ,lower:iZ,append:nZ,insert:sZ,remove:lZ,clone:hZ,datum:dZ,on:yZ,dispatch:xZ,[Symbol.iterator]:wZ},qp=zS});function Ke(e){return typeof e=="string"?new Oa([[document.querySelector(e)]],[document.documentElement]):new Oa([[e]],GS)}var Bqe=D(()=>{"use strict";Vo(),l(Ke,"default")}),Yo=D(()=>{"use strict";C3(),_S(),Bqe(),Vo(),LS(),VX(),BK()}),$qe=D(()=>{"use strict"});function jp(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Um(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}var TZ=D(()=>{"use strict";l(jp,"default"),l(Um,"extend")});function pu(){}function US(){return this.rgb().formatHex()}function EZ(){return this.rgb().formatHex8()}function CZ(){return XS(this).formatHsl()}function qS(){return this.rgb().formatRgb()}function gu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=AZ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?jS(t):r===3?new Ln(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=LZ.exec(e))?new Ln(t[1],t[2],t[3],1):(t=NZ.exec(e))?new Ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=MZ.exec(e))?qm(t[1],t[2],t[3],t[4]):(t=IZ.exec(e))?qm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=DZ.exec(e))?WS(t[1],t[2]/100,t[3]/100,1):(t=RZ.exec(e))?WS(t[1],t[2]/100,t[3]/100,t[4]):ZS.hasOwnProperty(e)?jS(ZS[e]):e==="transparent"?new Ln(NaN,NaN,NaN,0):null}function jS(e){return new Ln(e>>16&255,e>>8&255,e&255,1)}function qm(e,t,r,i){return i<=0&&(e=t=r=NaN),new Ln(e,t,r,i)}function HS(e){return e instanceof pu||(e=gu(e)),e?(e=e.rgb(),new Ln(e.r,e.g,e.b,e.opacity)):new Ln}function jm(e,t,r,i){return arguments.length===1?HS(e):new Ln(e,t,r,i??1)}function Ln(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}function VS(){return`#${mu(this.r)}${mu(this.g)}${mu(this.b)}`}function SZ(){return`#${mu(this.r)}${mu(this.g)}${mu(this.b)}${mu((isNaN(this.opacity)?1:this.opacity)*255)}`}function YS(){let e=Hm(this.opacity);return`${e===1?"rgb(":"rgba("}${fu(this.r)}, ${fu(this.g)}, ${fu(this.b)}${e===1?")":`, ${e})`}`}function Hm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mu(e){return e=fu(e),(e<16?"0":"")+e.toString(16)}function WS(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ss(e,t,r,i)}function XS(e){if(e instanceof Ss)return new Ss(e.h,e.s,e.l,e.opacity);if(e instanceof pu||(e=gu(e)),!e)return new Ss;if(e instanceof Ss)return e;e=e.rgb();var t=e.r/255,r=e.g/255,i=e.b/255,n=Math.min(t,r,i),a=Math.max(t,r,i),s=NaN,o=a-n,u=(a+n)/2;return o?(t===a?s=(r-i)/o+(r<i)*6:r===a?s=(i-t)/o+2:s=(t-r)/o+4,o/=u<.5?a+n:2-a-n,s*=60):o=u>0&&u<1?0:s,new Ss(s,o,u,e.opacity)}function _Z(e,t,r,i){return arguments.length===1?XS(e):new Ss(e,t,r,i??1)}function Ss(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}function KS(e){return e=(e||0)%360,e<0?e+360:e}function Vm(e){return Math.max(0,Math.min(1,e||0))}function _3(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var Hp,Ym,Bh,Vp,to,AZ,LZ,NZ,MZ,IZ,DZ,RZ,ZS,OZ=D(()=>{"use strict";TZ(),l(pu,"Color"),Hp=.7,Ym=1/Hp,Bh="\\s*([+-]?\\d+)\\s*",Vp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",to="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AZ=/^#([0-9a-f]{3,8})$/,LZ=new RegExp(`^rgb\\(${Bh},${Bh},${Bh}\\)$`),NZ=new RegExp(`^rgb\\(${to},${to},${to}\\)$`),MZ=new RegExp(`^rgba\\(${Bh},${Bh},${Bh},${Vp}\\)$`),IZ=new RegExp(`^rgba\\(${to},${to},${to},${Vp}\\)$`),DZ=new RegExp(`^hsl\\(${Vp},${to},${to}\\)$`),RZ=new RegExp(`^hsla\\(${Vp},${to},${to},${Vp}\\)$`),ZS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},jp(pu,gu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:US,formatHex:US,formatHex8:EZ,formatHsl:CZ,formatRgb:qS,toString:qS}),l(US,"color_formatHex"),l(EZ,"color_formatHex8"),l(CZ,"color_formatHsl"),l(qS,"color_formatRgb"),l(gu,"color"),l(jS,"rgbn"),l(qm,"rgba"),l(HS,"rgbConvert"),l(jm,"rgb"),l(Ln,"Rgb"),jp(Ln,jm,Um(pu,{brighter(e){return e=e==null?Ym:Math.pow(Ym,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hp:Math.pow(Hp,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ln(fu(this.r),fu(this.g),fu(this.b),Hm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VS,formatHex:VS,formatHex8:SZ,formatRgb:YS,toString:YS})),l(VS,"rgb_formatHex"),l(SZ,"rgb_formatHex8"),l(YS,"rgb_formatRgb"),l(Hm,"clampa"),l(fu,"clampi"),l(mu,"hex"),l(WS,"hsla"),l(XS,"hslConvert"),l(_Z,"hsl"),l(Ss,"Hsl"),jp(Ss,_Z,Um(pu,{brighter(e){return e=e==null?Ym:Math.pow(Ym,e),new Ss(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hp:Math.pow(Hp,e),new Ss(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,n=2*r-i;return new Ln(_3(e>=240?e-240:e+120,n,i),_3(e,n,i),_3(e<120?e+240:e-120,n,i),this.opacity)},clamp(){return new Ss(KS(this.h),Vm(this.s),Vm(this.l),Hm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Hm(this.opacity);return`${e===1?"hsl(":"hsla("}${KS(this.h)}, ${Vm(this.s)*100}%, ${Vm(this.l)*100}%${e===1?")":`, ${e})`}`}})),l(KS,"clamph"),l(Vm,"clampt"),l(_3,"hsl2rgb")}),PZ,BZ,Fqe=D(()=>{"use strict";PZ=Math.PI/180,BZ=180/Math.PI});function QS(e){if(e instanceof ro)return new ro(e.l,e.a,e.b,e.opacity);if(e instanceof Wo)return JS(e);e instanceof Ln||(e=HS(e));var t=M3(e.r),r=M3(e.g),i=M3(e.b),n=A3((.2225045*t+.7168786*r+.0606169*i)/t_),a,s;return t===r&&r===i?a=s=n:(a=A3((.4360747*t+.3850649*r+.1430804*i)/e_),s=A3((.0139322*t+.0971045*r+.7141733*i)/r_)),new ro(116*n-16,500*(a-n),200*(n-s),e.opacity)}function $Z(e,t,r,i){return arguments.length===1?QS(e):new ro(e,t,r,i??1)}function ro(e,t,r,i){this.l=+e,this.a=+t,this.b=+r,this.opacity=+i}function A3(e){return e>zZ?Math.pow(e,1/3):e/n_+i_}function L3(e){return e>$h?e*e*e:n_*(e-i_)}function N3(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function M3(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function FZ(e){if(e instanceof Wo)return new Wo(e.h,e.c,e.l,e.opacity);if(e instanceof ro||(e=QS(e)),e.a===0&&e.b===0)return new Wo(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*BZ;return new Wo(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function I3(e,t,r,i){return arguments.length===1?FZ(e):new Wo(e,t,r,i??1)}function Wo(e,t,r,i){this.h=+e,this.c=+t,this.l=+r,this.opacity=+i}function JS(e){if(isNaN(e.h))return new ro(e.l,0,0,e.opacity);var t=e.h*PZ;return new ro(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}var Wm,e_,t_,r_,i_,$h,n_,zZ,zqe=D(()=>{"use strict";TZ(),OZ(),Fqe(),Wm=18,e_=.96422,t_=1,r_=.82521,i_=4/29,$h=6/29,n_=3*$h*$h,zZ=$h*$h*$h,l(QS,"labConvert"),l($Z,"lab"),l(ro,"Lab"),jp(ro,$Z,Um(pu,{brighter(e){return new ro(this.l+Wm*(e??1),this.a,this.b,this.opacity)},darker(e){return new ro(this.l-Wm*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=e_*L3(t),e=t_*L3(e),r=r_*L3(r),new Ln(N3(3.1338561*t-1.6168667*e-.4906146*r),N3(-.9787684*t+1.9161415*e+.033454*r),N3(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}})),l(A3,"xyz2lab"),l(L3,"lab2xyz"),l(N3,"lrgb2rgb"),l(M3,"rgb2lrgb"),l(FZ,"hclConvert"),l(I3,"hcl"),l(Wo,"Hcl"),l(JS,"hcl2lab"),jp(Wo,I3,Um(pu,{brighter(e){return new Wo(this.h,this.c,this.l+Wm*(e??1),this.opacity)},darker(e){return new Wo(this.h,this.c,this.l-Wm*(e??1),this.opacity)},rgb(){return JS(this).rgb()}}))}),Xm=D(()=>{"use strict";OZ(),zqe()});function a_(e,t,r,i,n){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*r+(1+3*e+3*a-3*s)*i+s*n)/6}function GZ(e){var t=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),n=e[i],a=e[i+1],s=i>0?e[i-1]:2*n-a,o=i<t-1?e[i+2]:2*a-n;return a_((r-i/t)*t,s,n,a,o)}}var UZ=D(()=>{"use strict";l(a_,"basis"),l(GZ,"default")});function qZ(e){var t=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*t),n=e[(i+t-1)%t],a=e[i%t],s=e[(i+1)%t],o=e[(i+2)%t];return a_((r-i/t)*t,n,a,s,o)}}var Gqe=D(()=>{"use strict";UZ(),l(qZ,"default")}),Km,jZ=D(()=>{"use strict";Km=l(e=>()=>e,"default")});function s_(e,t){return function(r){return e+r*t}}function HZ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}function VZ(e,t){var r=t-e;return r?s_(e,r>180||r<-180?r-360*Math.round(r/360):r):Km(isNaN(e)?t:e)}function YZ(e){return(e=+e)==1?Fh:function(t,r){return r-t?HZ(t,r,e):Km(isNaN(t)?r:t)}}function Fh(e,t){var r=t-e;return r?s_(e,r):Km(isNaN(e)?t:e)}var WZ=D(()=>{"use strict";jZ(),l(s_,"linear"),l(HZ,"exponential"),l(VZ,"hue"),l(YZ,"gamma"),l(Fh,"nogamma")});function o_(e){return function(t){var r=t.length,i=new Array(r),n=new Array(r),a=new Array(r),s,o;for(s=0;s<r;++s)o=jm(t[s]),i[s]=o.r||0,n[s]=o.g||0,a[s]=o.b||0;return i=e(i),n=e(n),a=e(a),o.opacity=1,function(u){return o.r=i(u),o.g=n(u),o.b=a(u),o+""}}}var Zm,Uqe,qqe,XZ=D(()=>{"use strict";Xm(),UZ(),Gqe(),WZ(),Zm=l(function e(t){var r=YZ(t);function i(n,a){var s=r((n=jm(n)).r,(a=jm(a)).r),o=r(n.g,a.g),u=r(n.b,a.b),h=Fh(n.opacity,a.opacity);return function(d){return n.r=s(d),n.g=o(d),n.b=u(d),n.opacity=h(d),n+""}}return l(i,"rgb"),i.gamma=e,i},"rgbGamma")(1),l(o_,"rgbSpline"),Uqe=o_(GZ),qqe=o_(qZ)});function KZ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,i=t.slice(),n;return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function ZZ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var jqe=D(()=>{"use strict";l(KZ,"default"),l(ZZ,"isNumberArray")});function QZ(e,t){var r=t?t.length:0,i=e?Math.min(r,e.length):0,n=new Array(i),a=new Array(r),s;for(s=0;s<i;++s)n[s]=P3(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<i;++s)a[s]=n[s](o);return a}}var Hqe=D(()=>{"use strict";c_(),l(QZ,"genericArray")});function JZ(e,t){var r=new Date;return e=+e,t=+t,function(i){return r.setTime(e*(1-i)+t*i),r}}var Vqe=D(()=>{"use strict";l(JZ,"default")});function _s(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var D3=D(()=>{"use strict";l(_s,"default")});function eQ(e,t){var r={},i={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?r[n]=P3(e[n],t[n]):i[n]=t[n];return function(a){for(n in r)i[n]=r[n](a);return i}}var Yqe=D(()=>{"use strict";c_(),l(eQ,"default")});function tQ(e){return function(){return e}}function rQ(e){return function(t){return e(t)+""}}function l_(e,t){var r=R3.lastIndex=O3.lastIndex=0,i,n,a,s=-1,o=[],u=[];for(e=e+"",t=t+"";(i=R3.exec(e))&&(n=O3.exec(t));)(a=n.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(i=i[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,u.push({i:s,x:_s(i,n)})),r=O3.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?u[0]?rQ(u[0].x):tQ(t):(t=u.length,function(h){for(var d=0,p;d<t;++d)o[(p=u[d]).i]=p.x(h);return o.join("")})}var R3,O3,iQ=D(()=>{"use strict";D3(),R3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O3=new RegExp(R3.source,"g"),l(tQ,"zero"),l(rQ,"one"),l(l_,"default")});function P3(e,t){var r=typeof t,i;return t==null||r==="boolean"?Km(t):(r==="number"?_s:r==="string"?(i=gu(t))?(t=i,Zm):l_:t instanceof gu?Zm:t instanceof Date?JZ:ZZ(t)?KZ:Array.isArray(t)?QZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eQ:_s)(e,t)}var c_=D(()=>{"use strict";Xm(),XZ(),Hqe(),Vqe(),D3(),Yqe(),iQ(),jZ(),jqe(),l(P3,"default")});function nQ(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Wqe=D(()=>{"use strict";l(nQ,"default")});function u_(e,t,r,i,n,a){var s,o,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*r+t*i)&&(r-=e*u,i-=t*u),(o=Math.sqrt(r*r+i*i))&&(r/=o,i/=o,u/=o),e*i<t*r&&(e=-e,t=-t,u=-u,s=-s),{translateX:n,translateY:a,rotate:Math.atan2(t,e)*h_,skewX:Math.atan(u)*h_,scaleX:s,scaleY:o}}var h_,B3,Xqe=D(()=>{"use strict";h_=180/Math.PI,B3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},l(u_,"default")});function aQ(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?B3:u_(t.a,t.b,t.c,t.d,t.e,t.f)}function sQ(e){return e==null?B3:($3||($3=document.createElementNS("http://www.w3.org/2000/svg","g")),$3.setAttribute("transform",e),(e=$3.transform.baseVal.consolidate())?(e=e.matrix,u_(e.a,e.b,e.c,e.d,e.e,e.f)):B3)}var $3,Kqe=D(()=>{"use strict";Xqe(),l(aQ,"parseCss"),l(sQ,"parseSvg")});function d_(e,t,r,i){function n(h){return h.length?h.pop()+" ":""}l(n,"pop");function a(h,d,p,g,f,m){if(h!==p||d!==g){var y=f.push("translate(",null,t,null,r);m.push({i:y-4,x:_s(h,p)},{i:y-2,x:_s(d,g)})}else(p||g)&&f.push("translate("+p+t+g+r)}l(a,"translate");function s(h,d,p,g){h!==d?(h-d>180?d+=360:d-h>180&&(h+=360),g.push({i:p.push(n(p)+"rotate(",null,i)-2,x:_s(h,d)})):d&&p.push(n(p)+"rotate("+d+i)}l(s,"rotate");function o(h,d,p,g){h!==d?g.push({i:p.push(n(p)+"skewX(",null,i)-2,x:_s(h,d)}):d&&p.push(n(p)+"skewX("+d+i)}l(o,"skewX");function u(h,d,p,g,f,m){if(h!==p||d!==g){var y=f.push(n(f)+"scale(",null,",",null,")");m.push({i:y-4,x:_s(h,p)},{i:y-2,x:_s(d,g)})}else(p!==1||g!==1)&&f.push(n(f)+"scale("+p+","+g+")")}return l(u,"scale"),function(h,d){var p=[],g=[];return h=e(h),d=e(d),a(h.translateX,h.translateY,d.translateX,d.translateY,p,g),s(h.rotate,d.rotate,p,g),o(h.skewX,d.skewX,p,g),u(h.scaleX,h.scaleY,d.scaleX,d.scaleY,p,g),h=d=null,function(f){for(var m=-1,y=g.length,b;++m<y;)p[(b=g[m]).i]=b.x(f);return p.join("")}}}var oQ,lQ,Zqe=D(()=>{"use strict";D3(),Kqe(),l(d_,"interpolateTransform"),oQ=d_(aQ,"px, ","px)","deg)"),lQ=d_(sQ,", ",")",")")});function p_(e){return function(t,r){var i=e((t=I3(t)).h,(r=I3(r)).h),n=Fh(t.c,r.c),a=Fh(t.l,r.l),s=Fh(t.opacity,r.opacity);return function(o){return t.h=i(o),t.c=n(o),t.l=a(o),t.opacity=s(o),t+""}}}var cQ,Qqe,Jqe=D(()=>{"use strict";Xm(),WZ(),l(p_,"hcl"),cQ=p_(VZ),Qqe=p_(Fh)}),Qm=D(()=>{"use strict";c_(),D3(),Wqe(),iQ(),Zqe(),XZ(),Jqe()});function F3(){return yu||(y_(uQ),yu=Xp.now()+ry)}function uQ(){yu=0}function Jm(){this._call=this._time=this._next=null}function g_(e,t,r){var i=new Jm;return i.restart(e,t,r),i}function hQ(){F3(),++zh;for(var e=G3,t;e;)(t=yu-e._time)>=0&&e._call.call(void 0,t),e=e._next;--zh}function f_(){yu=(ty=Xp.now())+ry,zh=Yp=0;try{hQ()}finally{zh=0,pQ(),yu=0}}function dQ(){var e=Xp.now(),t=e-ty;t>m_&&(ry-=t,ty=e)}function pQ(){for(var e,t=G3,r,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:G3=r);ey=e,z3(i)}function z3(e){if(!zh){Yp&&(Yp=clearTimeout(Yp));var t=e-yu;t>24?(e<1/0&&(Yp=setTimeout(f_,e-Xp.now()-ry)),Wp&&(Wp=clearInterval(Wp))):(Wp||(ty=Xp.now(),Wp=setInterval(dQ,m_)),zh=1,y_(f_))}}var zh,Yp,Wp,m_,G3,ey,ty,yu,ry,Xp,y_,gQ=D(()=>{"use strict";zh=0,Yp=0,Wp=0,m_=1e3,ty=0,yu=0,ry=0,Xp=typeof performance=="object"&&performance.now?performance:Date,y_=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)},l(F3,"now"),l(uQ,"clearNow"),l(Jm,"Timer"),Jm.prototype=g_.prototype={constructor:Jm,restart:l(function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?F3():+r)+(t==null?0:+t),!this._next&&ey!==this&&(ey?ey._next=this:G3=this,ey=this),this._call=e,this._time=r,z3()},"restart"),stop:l(function(){this._call&&(this._call=null,this._time=1/0,z3())},"stop")},l(g_,"timer"),l(hQ,"timerFlush"),l(f_,"wake"),l(dQ,"poke"),l(pQ,"nap"),l(z3,"sleep")});function v_(e,t,r){var i=new Jm;return t=t==null?0:+t,i.restart(n=>{i.stop(),e(n+t)},t,r),i}var eje=D(()=>{"use strict";gQ(),l(v_,"default")}),b_=D(()=>{"use strict";gQ(),eje()});function iy(e,t,r,i,n,a){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;fQ(e,r,{name:t,index:i,group:n,on:mQ,tween:yQ,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:x_})}function U3(e,t){var r=As(e,t);if(r.state>x_)throw new Error("too late; already scheduled");return r}function io(e,t){var r=As(e,t);if(r.state>ny)throw new Error("too late; already running");return r}function As(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function fQ(e,t,r){var i=e.__transition,n;i[t]=r,r.timer=g_(a,0,r.time);function a(h){r.state=w_,r.timer.restart(s,r.delay,r.time),r.delay<=h&&s(h-r.delay)}l(a,"schedule");function s(h){var d,p,g,f;if(r.state!==w_)return u();for(d in i)if(f=i[d],f.name===r.name){if(f.state===ny)return v_(s);f.state===k_?(f.state=ay,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[d]):+d<t&&(f.state=ay,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[d])}if(v_(function(){r.state===ny&&(r.state=k_,r.timer.restart(o,r.delay,r.time),o(h))}),r.state=q3,r.on.call("start",e,e.__data__,r.index,r.group),r.state===q3){for(r.state=ny,n=new Array(g=r.tween.length),d=0,p=-1;d<g;++d)(f=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(n[++p]=f);n.length=p+1}}l(s,"start");function o(h){for(var d=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(u),r.state=j3,1),p=-1,g=n.length;++p<g;)n[p].call(e,d);r.state===j3&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}l(o,"tick");function u(){r.state=ay,r.timer.stop(),delete i[t];for(var h in i)return;delete e.__transition}l(u,"stop")}var mQ,yQ,x_,w_,q3,ny,k_,j3,ay,rs=D(()=>{"use strict";BX(),b_(),mQ=PX("start","end","cancel","interrupt"),yQ=[],x_=0,w_=1,q3=2,ny=3,k_=4,j3=5,ay=6,l(iy,"default"),l(U3,"init"),l(io,"set"),l(As,"get"),l(fQ,"create")});function vQ(e,t){var r=e.__transition,i,n,a=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((i=r[s]).name!==t){a=!1;continue}n=i.state>q3&&i.state<j3,i.state=ay,i.timer.stop(),i.on.call(n?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[s]}a&&delete e.__transition}}var tje=D(()=>{"use strict";rs(),l(vQ,"default")});function bQ(e){return this.each(function(){vQ(this,e)})}var rje=D(()=>{"use strict";tje(),l(bQ,"default")});function xQ(e,t){var r,i;return function(){var n=io(this,e),a=n.tween;if(a!==r){i=r=a;for(var s=0,o=i.length;s<o;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}n.tween=i}}function wQ(e,t,r){var i,n;if(typeof r!="function")throw new Error;return function(){var a=io(this,e),s=a.tween;if(s!==i){n=(i=s).slice();for(var o={name:t,value:r},u=0,h=n.length;u<h;++u)if(n[u].name===t){n[u]=o;break}u===h&&n.push(o)}a.tween=n}}function kQ(e,t){var r=this._id;if(e+="",arguments.length<2){for(var i=As(this.node(),r).tween,n=0,a=i.length,s;n<a;++n)if((s=i[n]).name===e)return s.value;return null}return this.each((t==null?xQ:wQ)(r,e,t))}function H3(e,t,r){var i=e._id;return e.each(function(){var n=io(this,i);(n.value||(n.value={}))[t]=r.apply(this,arguments)}),function(n){return As(n,i).value[t]}}var V3=D(()=>{"use strict";rs(),l(xQ,"tweenRemove"),l(wQ,"tweenFunction"),l(kQ,"default"),l(H3,"tweenValue")});function T_(e,t){var r;return(typeof t=="number"?_s:t instanceof gu?Zm:(r=gu(t))?(t=r,Zm):l_)(e,t)}var TQ=D(()=>{"use strict";Xm(),Qm(),l(T_,"default")});function EQ(e){return function(){this.removeAttribute(e)}}function CQ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function SQ(e,t,r){var i,n=r+"",a;return function(){var s=this.getAttribute(e);return s===n?null:s===i?a:a=t(i=s,r)}}function _Q(e,t,r){var i,n=r+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===n?null:s===i?a:a=t(i=s,r)}}function AQ(e,t,r){var i,n,a;return function(){var s,o=r(this),u;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=o+"",s===u?null:s===i&&u===n?a:(n=u,a=t(i=s,o)))}}function LQ(e,t,r){var i,n,a;return function(){var s,o=r(this),u;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=o+"",s===u?null:s===i&&u===n?a:(n=u,a=t(i=s,o)))}}function NQ(e,t){var r=zm(e),i=r==="transform"?lQ:T_;return this.attrTween(e,typeof t=="function"?(r.local?LQ:AQ)(r,i,H3(this,"attr."+e,t)):t==null?(r.local?CQ:EQ)(r):(r.local?_Q:SQ)(r,i,t))}var ije=D(()=>{"use strict";Qm(),Yo(),V3(),TQ(),l(EQ,"attrRemove"),l(CQ,"attrRemoveNS"),l(SQ,"attrConstant"),l(_Q,"attrConstantNS"),l(AQ,"attrFunction"),l(LQ,"attrFunctionNS"),l(NQ,"default")});function MQ(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function IQ(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function DQ(e,t){var r,i;function n(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&IQ(e,a)),r}return l(n,"tween"),n._value=t,n}function RQ(e,t){var r,i;function n(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&MQ(e,a)),r}return l(n,"tween"),n._value=t,n}function OQ(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var i=zm(e);return this.tween(r,(i.local?DQ:RQ)(i,t))}var nje=D(()=>{"use strict";Yo(),l(MQ,"attrInterpolate"),l(IQ,"attrInterpolateNS"),l(DQ,"attrTweenNS"),l(RQ,"attrTween"),l(OQ,"default")});function PQ(e,t){return function(){U3(this,e).delay=+t.apply(this,arguments)}}function BQ(e,t){return t=+t,function(){U3(this,e).delay=t}}function $Q(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?PQ:BQ)(t,e)):As(this.node(),t).delay}var aje=D(()=>{"use strict";rs(),l(PQ,"delayFunction"),l(BQ,"delayConstant"),l($Q,"default")});function FQ(e,t){return function(){io(this,e).duration=+t.apply(this,arguments)}}function zQ(e,t){return t=+t,function(){io(this,e).duration=t}}function GQ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?FQ:zQ)(t,e)):As(this.node(),t).duration}var sje=D(()=>{"use strict";rs(),l(FQ,"durationFunction"),l(zQ,"durationConstant"),l(GQ,"default")});function UQ(e,t){if(typeof t!="function")throw new Error;return function(){io(this,e).ease=t}}function qQ(e){var t=this._id;return arguments.length?this.each(UQ(t,e)):As(this.node(),t).ease}var oje=D(()=>{"use strict";rs(),l(UQ,"easeConstant"),l(qQ,"default")});function jQ(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;io(this,e).ease=r}}function HQ(e){if(typeof e!="function")throw new Error;return this.each(jQ(this._id,e))}var lje=D(()=>{"use strict";rs(),l(jQ,"easeVarying"),l(HQ,"default")});function VQ(e){typeof e!="function"&&(e=MS(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var a=t[n],s=a.length,o=i[n]=[],u,h=0;h<s;++h)(u=a[h])&&e.call(u,u.__data__,h,a)&&o.push(u);return new Xo(i,this._parents,this._name,this._id)}var cje=D(()=>{"use strict";Yo(),Kp(),l(VQ,"default")});function YQ(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,i=t.length,n=r.length,a=Math.min(i,n),s=new Array(i),o=0;o<a;++o)for(var u=t[o],h=r[o],d=u.length,p=s[o]=new Array(d),g,f=0;f<d;++f)(g=u[f]||h[f])&&(p[f]=g);for(;o<i;++o)s[o]=t[o];return new Xo(s,this._parents,this._name,this._id)}var uje=D(()=>{"use strict";Kp(),l(YQ,"default")});function WQ(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function XQ(e,t,r){var i,n,a=WQ(t)?U3:io;return function(){var s=a(this,e),o=s.on;o!==i&&(n=(i=o).copy()).on(t,r),s.on=n}}function KQ(e,t){var r=this._id;return arguments.length<2?As(this.node(),r).on.on(e):this.each(XQ(r,e,t))}var hje=D(()=>{"use strict";rs(),l(WQ,"start"),l(XQ,"onFunction"),l(KQ,"default")});function ZQ(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function QQ(){return this.on("end.remove",ZQ(this._id))}var dje=D(()=>{"use strict";l(ZQ,"removeFunction"),l(QQ,"default")});function JQ(e){var t=this._name,r=this._id;typeof e!="function"&&(e=E3(e));for(var i=this._groups,n=i.length,a=new Array(n),s=0;s<n;++s)for(var o=i[s],u=o.length,h=a[s]=new Array(u),d,p,g=0;g<u;++g)(d=o[g])&&(p=e.call(d,d.__data__,g,o))&&("__data__"in d&&(p.__data__=d.__data__),h[g]=p,iy(h[g],t,r,g,h,As(d,r)));return new Xo(a,this._parents,t,r)}var pje=D(()=>{"use strict";Yo(),Kp(),rs(),l(JQ,"default")});function eJ(e){var t=this._name,r=this._id;typeof e!="function"&&(e=NS(e));for(var i=this._groups,n=i.length,a=[],s=[],o=0;o<n;++o)for(var u=i[o],h=u.length,d,p=0;p<h;++p)if(d=u[p]){for(var g=e.call(d,d.__data__,p,u),f,m=As(d,r),y=0,b=g.length;y<b;++y)(f=g[y])&&iy(f,t,r,y,g,m);a.push(g),s.push(d)}return new Xo(a,s,t,r)}var gje=D(()=>{"use strict";Yo(),Kp(),rs(),l(eJ,"default")});function tJ(){return new rJ(this._groups,this._parents)}var rJ,fje=D(()=>{"use strict";Yo(),rJ=qp.prototype.constructor,l(tJ,"default")});function iJ(e,t){var r,i,n;return function(){var a=Ph(this,e),s=(this.style.removeProperty(e),Ph(this,e));return a===s?null:a===r&&s===i?n:n=t(r=a,i=s)}}function E_(e){return function(){this.style.removeProperty(e)}}function nJ(e,t,r){var i,n=r+"",a;return function(){var s=Ph(this,e);return s===n?null:s===i?a:a=t(i=s,r)}}function aJ(e,t,r){var i,n,a;return function(){var s=Ph(this,e),o=r(this),u=o+"";return o==null&&(u=o=(this.style.removeProperty(e),Ph(this,e))),s===u?null:s===i&&u===n?a:(n=u,a=t(i=s,o))}}function sJ(e,t){var r,i,n,a="style."+t,s="end."+a,o;return function(){var u=io(this,e),h=u.on,d=u.value[a]==null?o||(o=E_(t)):void 0;(h!==r||n!==d)&&(i=(r=h).copy()).on(s,n=d),u.on=i}}function oJ(e,t,r){var i=(e+="")=="transform"?oQ:T_;return t==null?this.styleTween(e,iJ(e,i)).on("end.style."+e,E_(e)):typeof t=="function"?this.styleTween(e,aJ(e,i,H3(this,"style."+e,t))).each(sJ(this._id,e)):this.styleTween(e,nJ(e,i,t),r).on("end.style."+e,null)}var mje=D(()=>{"use strict";Qm(),Yo(),rs(),V3(),TQ(),l(iJ,"styleNull"),l(E_,"styleRemove"),l(nJ,"styleConstant"),l(aJ,"styleFunction"),l(sJ,"styleMaybeRemove"),l(oJ,"default")});function lJ(e,t,r){return function(i){this.style.setProperty(e,t.call(this,i),r)}}function cJ(e,t,r){var i,n;function a(){var s=t.apply(this,arguments);return s!==n&&(i=(n=s)&&lJ(e,s,r)),i}return l(a,"tween"),a._value=t,a}function uJ(e,t,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,cJ(e,t,r??""))}var yje=D(()=>{"use strict";l(lJ,"styleInterpolate"),l(cJ,"styleTween"),l(uJ,"default")});function hJ(e){return function(){this.textContent=e}}function dJ(e){return function(){var t=e(this);this.textContent=t??""}}function pJ(e){return this.tween("text",typeof e=="function"?dJ(H3(this,"text",e)):hJ(e==null?"":e+""))}var vje=D(()=>{"use strict";V3(),l(hJ,"textConstant"),l(dJ,"textFunction"),l(pJ,"default")});function gJ(e){return function(t){this.textContent=e.call(this,t)}}function fJ(e){var t,r;function i(){var n=e.apply(this,arguments);return n!==r&&(t=(r=n)&&gJ(n)),t}return l(i,"tween"),i._value=e,i}function mJ(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,fJ(e))}var bje=D(()=>{"use strict";l(gJ,"textInterpolate"),l(fJ,"textTween"),l(mJ,"default")});function yJ(){for(var e=this._name,t=this._id,r=C_(),i=this._groups,n=i.length,a=0;a<n;++a)for(var s=i[a],o=s.length,u,h=0;h<o;++h)if(u=s[h]){var d=As(u,t);iy(u,e,r,h,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Xo(i,this._parents,e,r)}var xje=D(()=>{"use strict";Kp(),rs(),l(yJ,"default")});function vJ(){var e,t,r=this,i=r._id,n=r.size();return new Promise(function(a,s){var o={value:s},u={value:l(function(){--n===0&&a()},"value")};r.each(function(){var h=io(this,i),d=h.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(u)),h.on=t}),n===0&&a()})}var wje=D(()=>{"use strict";rs(),l(vJ,"default")});function Xo(e,t,r,i){this._groups=e,this._parents=t,this._name=r,this._id=i}function bJ(e){return qp().transition(e)}function C_(){return++xJ}var xJ,Ko,Kp=D(()=>{"use strict";Yo(),ije(),nje(),aje(),sje(),oje(),lje(),cje(),uje(),hje(),dje(),pje(),gje(),fje(),mje(),yje(),vje(),bje(),xje(),V3(),wje(),xJ=0,l(Xo,"Transition"),l(bJ,"transition"),l(C_,"newId"),Ko=qp.prototype,Xo.prototype=bJ.prototype={constructor:Xo,select:JQ,selectAll:eJ,selectChild:Ko.selectChild,selectChildren:Ko.selectChildren,filter:VQ,merge:YQ,selection:tJ,transition:yJ,call:Ko.call,nodes:Ko.nodes,node:Ko.node,size:Ko.size,empty:Ko.empty,each:Ko.each,on:KQ,attr:NQ,attrTween:OQ,style:oJ,styleTween:uJ,text:pJ,textTween:mJ,remove:QQ,tween:kQ,delay:$Q,duration:GQ,ease:qQ,easeVarying:HQ,end:vJ,[Symbol.iterator]:Ko[Symbol.iterator]}});function wJ(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var kje=D(()=>{"use strict";l(wJ,"cubicInOut")}),kJ=D(()=>{"use strict";kje()});function TJ(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function EJ(e){var t,r;e instanceof Xo?(t=e._id,e=e._name):(t=C_(),(r=CJ).time=F3(),e=e==null?null:e+"");for(var i=this._groups,n=i.length,a=0;a<n;++a)for(var s=i[a],o=s.length,u,h=0;h<o;++h)(u=s[h])&&iy(u,e,t,h,s,r||TJ(u,t));return new Xo(i,this._parents,e,t)}var CJ,Tje=D(()=>{"use strict";Kp(),rs(),kJ(),b_(),CJ={time:null,delay:0,duration:250,ease:wJ},l(TJ,"inherit"),l(EJ,"default")}),Eje=D(()=>{"use strict";Yo(),rje(),Tje(),qp.prototype.interrupt=bQ,qp.prototype.transition=EJ}),S_=D(()=>{"use strict";Eje()}),Cje=D(()=>{"use strict"}),Sje=D(()=>{"use strict"}),_je=D(()=>{"use strict"});function __(e){return[+e[0],+e[1]]}function SJ(e){return[__(e[0]),__(e[1])]}function Y3(e){return{type:e}}var Aje,Lje,Nje,Mje,Ije,Dje,Rje=D(()=>{"use strict";S_(),Cje(),Sje(),_je(),{abs:Aje,max:Lje,min:Nje}=Math,l(__,"number1"),l(SJ,"number2"),Mje={name:"x",handles:["w","e"].map(Y3),input:l(function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},"input"),output:l(function(e){return e&&[e[0][0],e[1][0]]},"output")},Ije={name:"y",handles:["n","s"].map(Y3),input:l(function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},"input"),output:l(function(e){return e&&[e[0][1],e[1][1]]},"output")},Dje={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Y3),input:l(function(e){return e==null?null:SJ(e)},"input"),output:l(function(e){return e},"output")},l(Y3,"type")}),Oje=D(()=>{"use strict";Rje()});function A_(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function _J(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return A_;let r=10**t;return function(i){this._+=i[0];for(let n=1,a=i.length;n<a;++n)this._+=Math.round(arguments[n]*r)/r+i[n]}}function AJ(){return new K3}var W3,X3,vu,LJ,K3,Pje=D(()=>{"use strict";W3=Math.PI,X3=2*W3,vu=1e-6,LJ=X3-vu,l(A_,"append"),l(_J,"appendRound"),K3=class{static{l(this,"Path")}constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?A_:_J(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,n,a){this._append`C${+e},${+t},${+r},${+i},${this._x1=+n},${this._y1=+a}`}arcTo(e,t,r,i,n){if(e=+e,t=+t,r=+r,i=+i,n=+n,n<0)throw new Error(`negative radius: ${n}`);let a=this._x1,s=this._y1,o=r-e,u=i-t,h=a-e,d=s-t,p=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(p>vu)if(!(Math.abs(d*o-u*h)>vu)||!n)this._append`L${this._x1=e},${this._y1=t}`;else{let g=r-a,f=i-s,m=o*o+u*u,y=g*g+f*f,b=Math.sqrt(m),v=Math.sqrt(p),x=n*Math.tan((W3-Math.acos((m+p-y)/(2*b*v)))/2),w=x/v,k=x/b;Math.abs(w-1)>vu&&this._append`L${e+w*h},${t+w*d}`,this._append`A${n},${n},0,0,${+(d*g>h*f)},${this._x1=e+k*o},${this._y1=t+k*u}`}}arc(e,t,r,i,n,a){if(e=+e,t=+t,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),o=r*Math.sin(i),u=e+s,h=t+o,d=1^a,p=a?i-n:n-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>vu||Math.abs(this._y1-h)>vu)&&this._append`L${u},${h}`,r&&(p<0&&(p=p%X3+X3),p>LJ?this._append`A${r},${r},0,1,${d},${e-s},${t-o}A${r},${r},0,1,${d},${this._x1=u},${this._y1=h}`:p>vu&&this._append`A${r},${r},0,${+(p>=W3)},${d},${this._x1=e+r*Math.cos(n)},${this._y1=t+r*Math.sin(n)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}},l(AJ,"path"),AJ.prototype=K3.prototype}),NJ=D(()=>{"use strict";Pje()}),Bje=D(()=>{"use strict"}),$je=D(()=>{"use strict"}),Fje=D(()=>{"use strict"}),zje=D(()=>{"use strict"}),Gje=D(()=>{"use strict"}),Uje=D(()=>{"use strict"}),qje=D(()=>{"use strict"});function MJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,i=e.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+e.slice(r+1)]}var Z3=D(()=>{"use strict";l(MJ,"default"),l(sy,"formatDecimalParts")});function Gh(e){return e=sy(Math.abs(e)),e?e[1]:NaN}var Q3=D(()=>{"use strict";Z3(),l(Gh,"default")});function IJ(e,t){return function(r,i){for(var n=r.length,a=[],s=0,o=e[0],u=0;n>0&&o>0&&(u+o+1>i&&(o=Math.max(1,i-u)),a.push(r.substring(n-=o,n+o)),!((u+=o+1)>i));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}var jje=D(()=>{"use strict";l(IJ,"default")});function DJ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Hje=D(()=>{"use strict";l(DJ,"default")});function oy(e){if(!(t=RJ.exec(e)))throw new Error("invalid format: "+e);var t;return new J3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function J3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}var RJ,OJ=D(()=>{"use strict";RJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,l(oy,"formatSpecifier"),oy.prototype=J3.prototype,l(J3,"FormatSpecifier"),J3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function PJ(e){e:for(var t=e.length,r=1,i=-1,n;r<t;++r)switch(e[r]){case".":i=n=r;break;case"0":i===0&&(i=r),n=r;break;default:if(!+e[r])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(n+1):e}var Vje=D(()=>{"use strict";l(PJ,"default")});function BJ(e,t){var r=sy(e,t);if(!r)return e+"";var i=r[0],n=r[1],a=n-($J=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+sy(e,Math.max(0,t+a-1))[0]}var $J,FJ=D(()=>{"use strict";Z3(),l(BJ,"default")});function L_(e,t){var r=sy(e,t);if(!r)return e+"";var i=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+i:i.length>n+1?i.slice(0,n+1)+"."+i.slice(n+1):i+new Array(n-i.length+2).join("0")}var Yje=D(()=>{"use strict";Z3(),l(L_,"default")}),N_,Wje=D(()=>{"use strict";Z3(),FJ(),Yje(),N_={"%":l((e,t)=>(e*100).toFixed(t),"%"),b:l(e=>Math.round(e).toString(2),"b"),c:l(e=>e+"","c"),d:MJ,e:l((e,t)=>e.toExponential(t),"e"),f:l((e,t)=>e.toFixed(t),"f"),g:l((e,t)=>e.toPrecision(t),"g"),o:l(e=>Math.round(e).toString(8),"o"),p:l((e,t)=>L_(e*100,t),"p"),r:L_,s:BJ,X:l(e=>Math.round(e).toString(16).toUpperCase(),"X"),x:l(e=>Math.round(e).toString(16),"x")}});function M_(e){return e}var Xje=D(()=>{"use strict";l(M_,"default")});function zJ(e){var t=e.grouping===void 0||e.thousands===void 0?M_:IJ(I_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?M_:DJ(I_.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(p){p=oy(p);var g=p.fill,f=p.align,m=p.sign,y=p.symbol,b=p.zero,v=p.width,x=p.comma,w=p.precision,k=p.trim,T=p.type;T==="n"?(x=!0,T="g"):N_[T]||(w===void 0&&(w=12),k=!0,T="g"),(b||g==="0"&&f==="=")&&(b=!0,g="0",f="=");var _=y==="$"?r:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",C=y==="$"?i:/[%p]/.test(T)?s:"",E=N_[T],N=/[defgprs%]/.test(T);w=w===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function M(I){var A=_,B=C,S,O,R;if(T==="c")B=E(I)+B,I="";else{I=+I;var P=I<0||1/I<0;if(I=isNaN(I)?u:E(Math.abs(I),w),k&&(I=PJ(I)),P&&+I==0&&m!=="+"&&(P=!1),A=(P?m==="("?m:o:m==="-"||m==="("?"":m)+A,B=(T==="s"?D_[8+$J/3]:"")+B+(P&&m==="("?")":""),N){for(S=-1,O=I.length;++S<O;)if(R=I.charCodeAt(S),48>R||R>57){B=(R===46?n+I.slice(S+1):I.slice(S))+B,I=I.slice(0,S);break}}}x&&!b&&(I=t(I,1/0));var L=A.length+I.length+B.length,$=L<v?new Array(v-L+1).join(g):"";switch(x&&b&&(I=t($+I,$.length?v-B.length:1/0),$=""),f){case"<":I=A+I+B+$;break;case"=":I=A+$+I+B;break;case"^":I=$.slice(0,L=$.length>>1)+A+I+B+$.slice(L);break;default:I=$+A+I+B;break}return a(I)}return l(M,"format"),M.toString=function(){return p+""},M}l(h,"newFormat");function d(p,g){var f=h((p=oy(p),p.type="f",p)),m=Math.max(-8,Math.min(8,Math.floor(Gh(g)/3)))*3,y=Math.pow(10,-m),b=D_[8+m/3];return function(v){return f(y*v)+b}}return l(d,"formatPrefix"),{format:h,formatPrefix:d}}var I_,D_,Kje=D(()=>{"use strict";Q3(),jje(),Hje(),OJ(),Vje(),Wje(),FJ(),Xje(),I_=Array.prototype.map,D_=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"],l(zJ,"default")});function GJ(e){return e5=zJ(e),Uh=e5.format,UJ=e5.formatPrefix,e5}var e5,Uh,UJ,Zje=D(()=>{"use strict";Kje(),GJ({thousands:",",grouping:[3],currency:["$",""]}),l(GJ,"defaultLocale")});function qJ(e){return Math.max(0,-Gh(Math.abs(e)))}var Qje=D(()=>{"use strict";Q3(),l(qJ,"default")});function jJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gh(t)/3)))*3-Gh(Math.abs(e)))}var Jje=D(()=>{"use strict";Q3(),l(jJ,"default")});function HJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gh(t)-Gh(e))+1}var eHe=D(()=>{"use strict";Q3(),l(HJ,"default")}),VJ=D(()=>{"use strict";Zje(),OJ(),Qje(),Jje(),eHe()}),tHe=D(()=>{"use strict"});function YJ(e){var t=0,r=e.children,i=r&&r.length;if(!i)t=1;else for(;--i>=0;)t+=r[i].value;e.value=t}function WJ(){return this.eachAfter(YJ)}var rHe=D(()=>{"use strict";l(YJ,"count"),l(WJ,"default")});function XJ(e,t){let r=-1;for(let i of this)e.call(t,i,++r,this);return this}var iHe=D(()=>{"use strict";l(XJ,"default")});function KJ(e,t){for(var r=this,i=[r],n,a,s=-1;r=i.pop();)if(e.call(t,r,++s,this),n=r.children)for(a=n.length-1;a>=0;--a)i.push(n[a]);return this}var nHe=D(()=>{"use strict";l(KJ,"default")});function ZJ(e,t){for(var r=this,i=[r],n=[],a,s,o,u=-1;r=i.pop();)if(n.push(r),a=r.children)for(s=0,o=a.length;s<o;++s)i.push(a[s]);for(;r=n.pop();)e.call(t,r,++u,this);return this}var aHe=D(()=>{"use strict";l(ZJ,"default")});function QJ(e,t){let r=-1;for(let i of this)if(e.call(t,i,++r,this))return i}var sHe=D(()=>{"use strict";l(QJ,"default")});function JJ(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,i=t.children,n=i&&i.length;--n>=0;)r+=i[n].value;t.value=r})}var oHe=D(()=>{"use strict";l(JJ,"default")});function eee(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}var lHe=D(()=>{"use strict";l(eee,"default")});function tee(e){for(var t=this,r=ree(t,e),i=[t];t!==r;)t=t.parent,i.push(t);for(var n=i.length;e!==r;)i.splice(n,0,e),e=e.parent;return i}function ree(e,t){if(e===t)return e;var r=e.ancestors(),i=t.ancestors(),n=null;for(e=r.pop(),t=i.pop();e===t;)n=e,e=r.pop(),t=i.pop();return n}var cHe=D(()=>{"use strict";l(tee,"default"),l(ree,"leastCommonAncestor")});function iee(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}var uHe=D(()=>{"use strict";l(iee,"default")});function nee(){return Array.from(this)}var hHe=D(()=>{"use strict";l(nee,"default")});function aee(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}var dHe=D(()=>{"use strict";l(aee,"default")});function see(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t}var pHe=D(()=>{"use strict";l(see,"default")});function*oee(){var e=this,t,r=[e],i,n,a;do for(t=r.reverse(),r=[];e=t.pop();)if(yield e,i=e.children)for(n=0,a=i.length;n<a;++n)r.push(i[n]);while(r.length)}var gHe=D(()=>{"use strict";l(oee,"default")});function t5(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=uee)):t===void 0&&(t=cee);for(var r=new ly(e),i,n=[r],a,s,o,u;i=n.pop();)if((s=t(i.data))&&(u=(s=Array.from(s)).length))for(i.children=s,o=u-1;o>=0;--o)n.push(a=s[o]=new ly(s[o])),a.parent=i,a.depth=i.depth+1;return r.eachBefore(dee)}function lee(){return t5(this).eachBefore(hee)}function cee(e){return e.children}function uee(e){return Array.isArray(e)?e[1]:null}function hee(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function dee(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function ly(e){this.data=e,this.depth=this.height=0,this.parent=null}var fHe=D(()=>{"use strict";rHe(),iHe(),nHe(),aHe(),sHe(),oHe(),lHe(),cHe(),uHe(),hHe(),dHe(),pHe(),gHe(),l(t5,"hierarchy"),l(lee,"node_copy"),l(cee,"objectChildren"),l(uee,"mapChildren"),l(hee,"copyData"),l(dee,"computeHeight"),l(ly,"Node"),ly.prototype=t5.prototype={constructor:ly,count:WJ,each:XJ,eachAfter:ZJ,eachBefore:KJ,find:QJ,sum:JJ,sort:eee,path:tee,ancestors:iee,descendants:nee,leaves:aee,links:see,copy:lee,[Symbol.iterator]:oee}});function pee(e){if(typeof e!="function")throw new Error;return e}var mHe=D(()=>{"use strict";l(pee,"required")});function Zp(){return 0}function Qp(e){return function(){return e}}var yHe=D(()=>{"use strict";l(Zp,"constantZero"),l(Qp,"default")});function gee(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}var vHe=D(()=>{"use strict";l(gee,"default")});function fee(e,t,r,i,n){for(var a=e.children,s,o=-1,u=a.length,h=e.value&&(i-t)/e.value;++o<u;)s=a[o],s.y0=r,s.y1=n,s.x0=t,s.x1=t+=s.value*h}var bHe=D(()=>{"use strict";l(fee,"default")});function mee(e,t,r,i,n){for(var a=e.children,s,o=-1,u=a.length,h=e.value&&(n-r)/e.value;++o<u;)s=a[o],s.x0=t,s.x1=i,s.y0=r,s.y1=r+=s.value*h}var xHe=D(()=>{"use strict";l(mee,"default")});function yee(e,t,r,i,n,a){for(var s=[],o=t.children,u,h,d=0,p=0,g=o.length,f,m,y=t.value,b,v,x,w,k,T,_;d<g;){f=n-r,m=a-i;do b=o[p++].value;while(!b&&p<g);for(v=x=b,T=Math.max(m/f,f/m)/(y*e),_=b*b*T,k=Math.max(x/_,_/v);p<g;++p){if(b+=h=o[p].value,h<v&&(v=h),h>x&&(x=h),_=b*b*T,w=Math.max(x/_,_/v),w>k){b-=h;break}k=w}s.push(u={value:b,dice:f<m,children:o.slice(d,p)}),u.dice?fee(u,r,i,n,y?i+=m*b/y:a):mee(u,r,i,y?r+=f*b/y:n,a),y-=b,d=p}return s}var vee,bee,wHe=D(()=>{"use strict";bHe(),xHe(),vee=(1+Math.sqrt(5))/2,l(yee,"squarifyRatio"),bee=l(function e(t){function r(i,n,a,s,o){yee(t,i,n,a,s,o)}return l(r,"squarify"),r.ratio=function(i){return e((i=+i)>1?i:1)},r},"custom")(vee)});function xee(){var e=bee,t=!1,r=1,i=1,n=[0],a=Zp,s=Zp,o=Zp,u=Zp,h=Zp;function d(g){return g.x0=g.y0=0,g.x1=r,g.y1=i,g.eachBefore(p),n=[0],t&&g.eachBefore(gee),g}l(d,"treemap");function p(g){var f=n[g.depth],m=g.x0+f,y=g.y0+f,b=g.x1-f,v=g.y1-f;b<m&&(m=b=(m+b)/2),v<y&&(y=v=(y+v)/2),g.x0=m,g.y0=y,g.x1=b,g.y1=v,g.children&&(f=n[g.depth+1]=a(g)/2,m+=h(g)-f,y+=s(g)-f,b-=o(g)-f,v-=u(g)-f,b<m&&(m=b=(m+b)/2),v<y&&(y=v=(y+v)/2),e(g,m,y,b,v))}return l(p,"positionNode"),d.round=function(g){return arguments.length?(t=!!g,d):t},d.size=function(g){return arguments.length?(r=+g[0],i=+g[1],d):[r,i]},d.tile=function(g){return arguments.length?(e=pee(g),d):e},d.padding=function(g){return arguments.length?d.paddingInner(g).paddingOuter(g):d.paddingInner()},d.paddingInner=function(g){return arguments.length?(a=typeof g=="function"?g:Qp(+g),d):a},d.paddingOuter=function(g){return arguments.length?d.paddingTop(g).paddingRight(g).paddingBottom(g).paddingLeft(g):d.paddingTop()},d.paddingTop=function(g){return arguments.length?(s=typeof g=="function"?g:Qp(+g),d):s},d.paddingRight=function(g){return arguments.length?(o=typeof g=="function"?g:Qp(+g),d):o},d.paddingBottom=function(g){return arguments.length?(u=typeof g=="function"?g:Qp(+g),d):u},d.paddingLeft=function(g){return arguments.length?(h=typeof g=="function"?g:Qp(+g),d):h},d}var kHe=D(()=>{"use strict";vHe(),wHe(),mHe(),yHe(),l(xee,"default")}),THe=D(()=>{"use strict";fHe(),kHe()}),EHe=D(()=>{"use strict"}),CHe=D(()=>{"use strict"});function cy(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var r5=D(()=>{"use strict";l(cy,"initRange")});function bu(){var e=new wS,t=[],r=[],i=R_;function n(a){let s=e.get(a);if(s===void 0){if(i!==R_)return i;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return l(n,"scale"),n.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new wS;for(let s of a)e.has(s)||e.set(s,t.push(s)-1);return n},n.range=function(a){return arguments.length?(r=Array.from(a),n):r.slice()},n.unknown=function(a){return arguments.length?(i=a,n):i},n.copy=function(){return bu(t,r).unknown(i)},cy.apply(n,arguments),n}var R_,wee=D(()=>{"use strict";Oh(),r5(),R_=Symbol("implicit"),l(bu,"ordinal")});function i5(){var e=bu().unknown(void 0),t=e.domain,r=e.range,i=0,n=1,a,s,o=!1,u=0,h=0,d=.5;delete e.unknown;function p(){var g=t().length,f=n<i,m=f?n:i,y=f?i:n;a=(y-m)/Math.max(1,g-u+h*2),o&&(a=Math.floor(a)),m+=(y-m-a*(g-u))*d,s=a*(1-u),o&&(m=Math.round(m),s=Math.round(s));var b=EX(g).map(function(v){return m+a*v});return r(f?b.reverse():b)}return l(p,"rescale"),e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([i,n]=g,i=+i,n=+n,p()):[i,n]},e.rangeRound=function(g){return[i,n]=g,i=+i,n=+n,o=!0,p()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(g){return arguments.length?(o=!!g,p()):o},e.padding=function(g){return arguments.length?(u=Math.min(1,h=+g),p()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},e.paddingOuter=function(g){return arguments.length?(h=+g,p()):h},e.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),p()):d},e.copy=function(){return i5(t(),[i,n]).round(o).paddingInner(u).paddingOuter(h).align(d)},cy.apply(p(),arguments)}var SHe=D(()=>{"use strict";Oh(),r5(),wee(),l(i5,"band")});function kee(e){return function(){return e}}var _He=D(()=>{"use strict";l(kee,"constants")});function Tee(e){return+e}var AHe=D(()=>{"use strict";l(Tee,"number")});function qh(e){return e}function n5(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:kee(isNaN(t)?NaN:.5)}function Eee(e,t){var r;return e>t&&(r=e,e=t,t=r),function(i){return Math.max(e,Math.min(t,i))}}function Cee(e,t,r){var i=e[0],n=e[1],a=t[0],s=t[1];return n<i?(i=n5(n,i),a=r(s,a)):(i=n5(i,n),a=r(a,s)),function(o){return a(i(o))}}function See(e,t,r){var i=Math.min(e.length,t.length)-1,n=new Array(i),a=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)n[s]=n5(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var u=gX(e,o,1,i)-1;return a[u](n[u](o))}}function O_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _ee(){var e=B_,t=B_,r=P3,i,n,a,s=qh,o,u,h;function d(){var g=Math.min(e.length,t.length);return s!==qh&&(s=Eee(e[0],e[g-1])),o=g>2?See:Cee,u=h=null,p}l(d,"rescale");function p(g){return g==null||isNaN(g=+g)?a:(u||(u=o(e.map(i),t,r)))(i(s(g)))}return l(p,"scale"),p.invert=function(g){return s(n((h||(h=o(t,e.map(i),_s)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,Tee),d()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),d()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),r=nQ,d()},p.clamp=function(g){return arguments.length?(s=g?!0:qh,d()):s!==qh},p.interpolate=function(g){return arguments.length?(r=g,d()):r},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,f){return i=g,n=f,d()}}function P_(){return _ee()(qh,qh)}var B_,Aee=D(()=>{"use strict";Oh(),Qm(),_He(),AHe(),B_=[0,1],l(qh,"identity"),l(n5,"normalize"),l(Eee,"clamper"),l(Cee,"bimap"),l(See,"polymap"),l(O_,"copy"),l(_ee,"transformer"),l(P_,"continuous")});function Lee(e,t,r,i){var n=x3(e,t,r),a;switch(i=oy(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(a=jJ(n,s))&&(i.precision=a),UJ(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=HJ(n,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=qJ(n))&&(i.precision=a-(i.type==="%")*2);break}}return Uh(i)}var LHe=D(()=>{"use strict";Oh(),VJ(),l(Lee,"tickFormat")});function Nee(e){var t=e.domain;return e.ticks=function(r){var i=t();return vX(i[0],i[i.length-1],r??10)},e.tickFormat=function(r,i){var n=t();return Lee(n[0],n[n.length-1],r??10,i)},e.nice=function(r){r==null&&(r=10);var i=t(),n=0,a=i.length-1,s=i[n],o=i[a],u,h,d=10;for(o<s&&(h=s,s=o,o=h,h=n,n=a,a=h);d-- >0;){if(h=b3(s,o,r),h===u)return i[n]=s,i[a]=o,t(i);if(h>0)s=Math.floor(s/h)*h,o=Math.ceil(o/h)*h;else if(h<0)s=Math.ceil(s*h)/h,o=Math.floor(o*h)/h;else break;u=h}return e},e}function jh(){var e=P_();return e.copy=function(){return O_(e,jh())},cy.apply(e,arguments),Nee(e)}var NHe=D(()=>{"use strict";Oh(),Aee(),r5(),LHe(),l(Nee,"linearish"),l(jh,"linear")});function Mee(e,t){e=e.slice();var r=0,i=e.length-1,n=e[r],a=e[i],s;return a<n&&(s=r,r=i,i=s,s=n,n=a,a=s),e[r]=t.floor(n),e[i]=t.ceil(a),e}var MHe=D(()=>{"use strict";l(Mee,"nice")});function ji(e,t,r,i){function n(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return l(n,"interval"),n.floor=a=>(e(a=new Date(+a)),a),n.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),n.round=a=>{let s=n(a),o=n.ceil(a);return a-s<o-a?s:o},n.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),n.range=(a,s,o)=>{let u=[];if(a=n.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return u;let h;do u.push(h=new Date(+a)),t(a,o),e(a);while(h<a&&a<s);return u},n.filter=a=>ji(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(n.count=(a,s)=>(a5.setTime(+a),s5.setTime(+s),e(a5),e(s5),Math.floor(r(a5,s5))),n.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?n.filter(i?s=>i(s)%a===0:s=>n.count(0,s)%a===0):n)),n}var a5,s5,xu=D(()=>{"use strict";a5=new Date,s5=new Date,l(ji,"timeInterval")}),Hh,IHe,Iee=D(()=>{"use strict";xu(),Hh=ji(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e),Hh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ji(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Hh),IHe=Hh.range}),Jl,DHe,Dee=D(()=>{"use strict";xu(),Jl=ji(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),DHe=Jl.range}),Jp,RHe,$_,OHe,Ree=D(()=>{"use strict";xu(),Jp=ji(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),RHe=Jp.range,$_=ji(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),OHe=$_.range}),eg,PHe,F_,BHe,Oee=D(()=>{"use strict";xu(),eg=ji(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),PHe=eg.range,F_=ji(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),BHe=F_.range}),wu,$He,o5,FHe,z_,zHe,Pee=D(()=>{"use strict";xu(),wu=ji(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),$He=wu.range,o5=ji(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),FHe=o5.range,z_=ji(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),zHe=z_.range});function ku(e){return ji(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}function Tu(e){return ji(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/6048e5)}var tg,rg,G_,U_,Eu,q_,j_,GHe,UHe,qHe,jHe,HHe,VHe,YHe,l5,uy,Bee,$ee,Vh,Fee,zee,WHe,XHe,KHe,ZHe,QHe,JHe,eVe,Gee=D(()=>{"use strict";xu(),l(ku,"timeWeekday"),tg=ku(0),rg=ku(1),G_=ku(2),U_=ku(3),Eu=ku(4),q_=ku(5),j_=ku(6),GHe=tg.range,UHe=rg.range,qHe=G_.range,jHe=U_.range,HHe=Eu.range,VHe=q_.range,YHe=j_.range,l(Tu,"utcWeekday"),l5=Tu(0),uy=Tu(1),Bee=Tu(2),$ee=Tu(3),Vh=Tu(4),Fee=Tu(5),zee=Tu(6),WHe=l5.range,XHe=uy.range,KHe=Bee.range,ZHe=$ee.range,QHe=Vh.range,JHe=Fee.range,eVe=zee.range}),ig,tVe,H_,rVe,Uee=D(()=>{"use strict";xu(),ig=ji(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),tVe=ig.range,H_=ji(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),rVe=H_.range}),Zo,iVe,ec,nVe,qee=D(()=>{"use strict";xu(),Zo=ji(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()),Zo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ji(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}),iVe=Zo.range,ec=ji(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear()),ec.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ji(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}),nVe=ec.range});function V_(e,t,r,i,n,a){let s=[[Jl,1,1e3],[Jl,5,5e3],[Jl,15,15e3],[Jl,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[n,1,36e5],[n,3,108e5],[n,6,216e5],[n,12,432e5],[i,1,864e5],[i,2,1728e5],[r,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function o(h,d,p){let g=d<h;g&&([h,d]=[d,h]);let f=p&&typeof p.range=="function"?p:u(h,d,p),m=f?f.range(h,+d+1):[];return g?m.reverse():m}l(o,"ticks");function u(h,d,p){let g=Math.abs(d-h)/p,f=v3(([,,b])=>b).right(s,g);if(f===s.length)return e.every(x3(h/31536e6,d/31536e6,p));if(f===0)return Hh.every(Math.max(x3(h,d,p),1));let[m,y]=s[g/s[f-1][2]<s[f][2]/g?f-1:f];return m.every(y)}return l(u,"tickInterval"),[o,u]}var aVe,sVe,jee,Hee,oVe=D(()=>{"use strict";Oh(),Iee(),Dee(),Ree(),Oee(),Pee(),Gee(),Uee(),qee(),l(V_,"ticker"),[aVe,sVe]=V_(ec,H_,l5,z_,F_,$_),[jee,Hee]=V_(Zo,ig,tg,wu,eg,Jp)}),Y_=D(()=>{"use strict";Iee(),Dee(),Ree(),Oee(),Pee(),Gee(),Uee(),qee(),oVe()});function c5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function u5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ng(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Vee(e){var t=e.dateTime,r=e.date,i=e.time,n=e.periods,a=e.days,s=e.shortDays,o=e.months,u=e.shortMonths,h=ag(n),d=sg(n),p=ag(a),g=sg(a),f=ag(s),m=sg(s),y=ag(o),b=sg(o),v=ag(u),x=sg(u),w={a:P,A:L,b:$,B:F,c:null,d:Q_,e:Q_,f:pte,g:Tte,G:Cte,H:ute,I:hte,j:dte,L:J_,m:gte,M:fte,p:G,q,Q:aA,s:sA,S:mte,u:yte,U:vte,V:bte,w:xte,W:wte,x:null,X:null,y:kte,Y:Ete,Z:Ste,"%":nA},k={a:V,A:H,b:ae,B:re,c:null,d:tA,e:tA,f:Nte,g:zte,G:Ute,H:_te,I:Ate,j:Lte,L:rA,m:Mte,M:Ite,p:oe,q:ue,Q:aA,s:sA,S:Dte,u:Rte,U:Ote,V:Pte,w:Bte,W:$te,x:null,X:null,y:Fte,Y:Gte,Z:qte,"%":nA},T={a:M,A:I,b:A,B,c:S,d:K_,e:K_,f:ste,g:X_,G:W_,H:Z_,I:Z_,j:rte,L:ate,m:tte,M:ite,p:N,q:ete,Q:lte,s:cte,S:nte,u:Xee,U:Kee,V:Zee,w:Wee,W:Qee,x:O,X:R,y:X_,Y:W_,Z:Jee,"%":ote};w.x=_(r,w),w.X=_(i,w),w.c=_(t,w),k.x=_(r,k),k.X=_(i,k),k.c=_(t,k);function _(W,ee){return function(X){var Z=[],J=-1,he=0,K=W.length,me,Y,_e;for(X instanceof Date||(X=new Date(+X));++J<K;)W.charCodeAt(J)===37&&(Z.push(W.slice(he,J)),(Y=oA[me=W.charAt(++J)])!=null?me=W.charAt(++J):Y=me==="e"?" ":"0",(_e=ee[me])&&(me=_e(X,Y)),Z.push(me),he=J+1);return Z.push(W.slice(he,J)),Z.join("")}}l(_,"newFormat");function C(W,ee){return function(X){var Z=ng(1900,void 0,1),J=E(Z,W,X+="",0),he,K;if(J!=X.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(ee&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(he=u5(ng(Z.y,0,1)),K=he.getUTCDay(),he=K>4||K===0?uy.ceil(he):uy(he),he=o5.offset(he,(Z.V-1)*7),Z.y=he.getUTCFullYear(),Z.m=he.getUTCMonth(),Z.d=he.getUTCDate()+(Z.w+6)%7):(he=c5(ng(Z.y,0,1)),K=he.getDay(),he=K>4||K===0?rg.ceil(he):rg(he),he=wu.offset(he,(Z.V-1)*7),Z.y=he.getFullYear(),Z.m=he.getMonth(),Z.d=he.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),K="Z"in Z?u5(ng(Z.y,0,1)).getUTCDay():c5(ng(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(K+5)%7:Z.w+Z.U*7-(K+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,u5(Z)):c5(Z)}}l(C,"newParse");function E(W,ee,X,Z){for(var J=0,he=ee.length,K=X.length,me,Y;J<he;){if(Z>=K)return-1;if(me=ee.charCodeAt(J++),me===37){if(me=ee.charAt(J++),Y=T[me in oA?ee.charAt(J++):me],!Y||(Z=Y(W,X,Z))<0)return-1}else if(me!=X.charCodeAt(Z++))return-1}return Z}l(E,"parseSpecifier");function N(W,ee,X){var Z=h.exec(ee.slice(X));return Z?(W.p=d.get(Z[0].toLowerCase()),X+Z[0].length):-1}l(N,"parsePeriod");function M(W,ee,X){var Z=f.exec(ee.slice(X));return Z?(W.w=m.get(Z[0].toLowerCase()),X+Z[0].length):-1}l(M,"parseShortWeekday");function I(W,ee,X){var Z=p.exec(ee.slice(X));return Z?(W.w=g.get(Z[0].toLowerCase()),X+Z[0].length):-1}l(I,"parseWeekday");function A(W,ee,X){var Z=v.exec(ee.slice(X));return Z?(W.m=x.get(Z[0].toLowerCase()),X+Z[0].length):-1}l(A,"parseShortMonth");function B(W,ee,X){var Z=y.exec(ee.slice(X));return Z?(W.m=b.get(Z[0].toLowerCase()),X+Z[0].length):-1}l(B,"parseMonth");function S(W,ee,X){return E(W,t,ee,X)}l(S,"parseLocaleDateTime");function O(W,ee,X){return E(W,r,ee,X)}l(O,"parseLocaleDate");function R(W,ee,X){return E(W,i,ee,X)}l(R,"parseLocaleTime");function P(W){return s[W.getDay()]}l(P,"formatShortWeekday");function L(W){return a[W.getDay()]}l(L,"formatWeekday");function $(W){return u[W.getMonth()]}l($,"formatShortMonth");function F(W){return o[W.getMonth()]}l(F,"formatMonth");function G(W){return n[+(W.getHours()>=12)]}l(G,"formatPeriod");function q(W){return 1+~~(W.getMonth()/3)}l(q,"formatQuarter");function V(W){return s[W.getUTCDay()]}l(V,"formatUTCShortWeekday");function H(W){return a[W.getUTCDay()]}l(H,"formatUTCWeekday");function ae(W){return u[W.getUTCMonth()]}l(ae,"formatUTCShortMonth");function re(W){return o[W.getUTCMonth()]}l(re,"formatUTCMonth");function oe(W){return n[+(W.getUTCHours()>=12)]}l(oe,"formatUTCPeriod");function ue(W){return 1+~~(W.getUTCMonth()/3)}return l(ue,"formatUTCQuarter"),{format:l(function(W){var ee=_(W+="",w);return ee.toString=function(){return W},ee},"format"),parse:l(function(W){var ee=C(W+="",!1);return ee.toString=function(){return W},ee},"parse"),utcFormat:l(function(W){var ee=_(W+="",k);return ee.toString=function(){return W},ee},"utcFormat"),utcParse:l(function(W){var ee=C(W+="",!0);return ee.toString=function(){return W},ee},"utcParse")}}function Lr(e,t,r){var i=e<0?"-":"",n=(i?-e:e)+"",a=n.length;return i+(a<r?new Array(r-a+1).join(t)+n:n)}function Yee(e){return e.replace(Hte,"\\$&")}function ag(e){return new RegExp("^(?:"+e.map(Yee).join("|")+")","i")}function sg(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Wee(e,t,r){var i=on.exec(t.slice(r,r+1));return i?(e.w=+i[0],r+i[0].length):-1}function Xee(e,t,r){var i=on.exec(t.slice(r,r+1));return i?(e.u=+i[0],r+i[0].length):-1}function Kee(e,t,r){var i=on.exec(t.slice(r,r+2));return i?(e.U=+i[0],r+i[0].length):-1}function Zee(e,t,r){var i=on.exec(t.slice(r,r+2));return i?(e.V=+i[0],r+i[0].length):-1}function Qee(e,t,r){var i=on.exec(t.slice(r,r+2));return i?(e.W=+i[0],r+i[0].length):-1}function W_(e,t,r){var i=on.exec(t.slice(r,r+4));return i?(e.y=+i[0],r+i[0].length):-1}function X_(e,t,r){var i=on.exec(t.slice(r,r+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function Jee(e,t,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function ete(e,t,r){var i=on.exec(t.slice(r,r+1));return i?(e.q=i[0]*3-3,r+i[0].length):-1}function tte(e,t,r){var i=on.exec(t.slice(r,r+2));return i?(e.m=i[0]-1,r+i[0].length):-1}function K_(e,t,r){var i=on.exec(t.slice(r,r+2));return i?(e.d=+i[0],r+i[0].length):-1}function rte(e,t,r){var i=on.exec(t.slice(r,r+3));return i?(e.m=0,e.d=+i[0],r+i[0].length):-1}function Z_(e,t,r){var i=on.exec(t.slice(r,r+2));return i?(e.H=+i[0],r+i[0].length):-1}function ite(e,t,r){var i=on.exec(t.slice(r,r+2));return i?(e.M=+i[0],r+i[0].length):-1}function nte(e,t,r){var i=on.exec(t.slice(r,r+2));return i?(e.S=+i[0],r+i[0].length):-1}function ate(e,t,r){var i=on.exec(t.slice(r,r+3));return i?(e.L=+i[0],r+i[0].length):-1}function ste(e,t,r){var i=on.exec(t.slice(r,r+6));return i?(e.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function ote(e,t,r){var i=jte.exec(t.slice(r,r+1));return i?r+i[0].length:-1}function lte(e,t,r){var i=on.exec(t.slice(r));return i?(e.Q=+i[0],r+i[0].length):-1}function cte(e,t,r){var i=on.exec(t.slice(r));return i?(e.s=+i[0],r+i[0].length):-1}function Q_(e,t){return Lr(e.getDate(),t,2)}function ute(e,t){return Lr(e.getHours(),t,2)}function hte(e,t){return Lr(e.getHours()%12||12,t,2)}function dte(e,t){return Lr(1+wu.count(Zo(e),e),t,3)}function J_(e,t){return Lr(e.getMilliseconds(),t,3)}function pte(e,t){return J_(e,t)+"000"}function gte(e,t){return Lr(e.getMonth()+1,t,2)}function fte(e,t){return Lr(e.getMinutes(),t,2)}function mte(e,t){return Lr(e.getSeconds(),t,2)}function yte(e){var t=e.getDay();return t===0?7:t}function vte(e,t){return Lr(tg.count(Zo(e)-1,e),t,2)}function eA(e){var t=e.getDay();return t>=4||t===0?Eu(e):Eu.ceil(e)}function bte(e,t){return e=eA(e),Lr(Eu.count(Zo(e),e)+(Zo(e).getDay()===4),t,2)}function xte(e){return e.getDay()}function wte(e,t){return Lr(rg.count(Zo(e)-1,e),t,2)}function kte(e,t){return Lr(e.getFullYear()%100,t,2)}function Tte(e,t){return e=eA(e),Lr(e.getFullYear()%100,t,2)}function Ete(e,t){return Lr(e.getFullYear()%1e4,t,4)}function Cte(e,t){var r=e.getDay();return e=r>=4||r===0?Eu(e):Eu.ceil(e),Lr(e.getFullYear()%1e4,t,4)}function Ste(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Lr(t/60|0,"0",2)+Lr(t%60,"0",2)}function tA(e,t){return Lr(e.getUTCDate(),t,2)}function _te(e,t){return Lr(e.getUTCHours(),t,2)}function Ate(e,t){return Lr(e.getUTCHours()%12||12,t,2)}function Lte(e,t){return Lr(1+o5.count(ec(e),e),t,3)}function rA(e,t){return Lr(e.getUTCMilliseconds(),t,3)}function Nte(e,t){return rA(e,t)+"000"}function Mte(e,t){return Lr(e.getUTCMonth()+1,t,2)}function Ite(e,t){return Lr(e.getUTCMinutes(),t,2)}function Dte(e,t){return Lr(e.getUTCSeconds(),t,2)}function Rte(e){var t=e.getUTCDay();return t===0?7:t}function Ote(e,t){return Lr(l5.count(ec(e)-1,e),t,2)}function iA(e){var t=e.getUTCDay();return t>=4||t===0?Vh(e):Vh.ceil(e)}function Pte(e,t){return e=iA(e),Lr(Vh.count(ec(e),e)+(ec(e).getUTCDay()===4),t,2)}function Bte(e){return e.getUTCDay()}function $te(e,t){return Lr(uy.count(ec(e)-1,e),t,2)}function Fte(e,t){return Lr(e.getUTCFullYear()%100,t,2)}function zte(e,t){return e=iA(e),Lr(e.getUTCFullYear()%100,t,2)}function Gte(e,t){return Lr(e.getUTCFullYear()%1e4,t,4)}function Ute(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Vh(e):Vh.ceil(e),Lr(e.getUTCFullYear()%1e4,t,4)}function qte(){return"+0000"}function nA(){return"%"}function aA(e){return+e}function sA(e){return Math.floor(+e/1e3)}var oA,on,jte,Hte,lVe=D(()=>{"use strict";Y_(),l(c5,"localDate"),l(u5,"utcDate"),l(ng,"newDate"),l(Vee,"formatLocale"),oA={"-":"",_:" ",0:"0"},on=/^\s*\d+/,jte=/^%/,Hte=/[\\^$*+?|[\]().{}]/g,l(Lr,"pad"),l(Yee,"requote"),l(ag,"formatRe"),l(sg,"formatLookup"),l(Wee,"parseWeekdayNumberSunday"),l(Xee,"parseWeekdayNumberMonday"),l(Kee,"parseWeekNumberSunday"),l(Zee,"parseWeekNumberISO"),l(Qee,"parseWeekNumberMonday"),l(W_,"parseFullYear"),l(X_,"parseYear"),l(Jee,"parseZone"),l(ete,"parseQuarter"),l(tte,"parseMonthNumber"),l(K_,"parseDayOfMonth"),l(rte,"parseDayOfYear"),l(Z_,"parseHour24"),l(ite,"parseMinutes"),l(nte,"parseSeconds"),l(ate,"parseMilliseconds"),l(ste,"parseMicroseconds"),l(ote,"parseLiteralPercent"),l(lte,"parseUnixTimestamp"),l(cte,"parseUnixTimestampSeconds"),l(Q_,"formatDayOfMonth"),l(ute,"formatHour24"),l(hte,"formatHour12"),l(dte,"formatDayOfYear"),l(J_,"formatMilliseconds"),l(pte,"formatMicroseconds"),l(gte,"formatMonthNumber"),l(fte,"formatMinutes"),l(mte,"formatSeconds"),l(yte,"formatWeekdayNumberMonday"),l(vte,"formatWeekNumberSunday"),l(eA,"dISO"),l(bte,"formatWeekNumberISO"),l(xte,"formatWeekdayNumberSunday"),l(wte,"formatWeekNumberMonday"),l(kte,"formatYear"),l(Tte,"formatYearISO"),l(Ete,"formatFullYear"),l(Cte,"formatFullYearISO"),l(Ste,"formatZone"),l(tA,"formatUTCDayOfMonth"),l(_te,"formatUTCHour24"),l(Ate,"formatUTCHour12"),l(Lte,"formatUTCDayOfYear"),l(rA,"formatUTCMilliseconds"),l(Nte,"formatUTCMicroseconds"),l(Mte,"formatUTCMonthNumber"),l(Ite,"formatUTCMinutes"),l(Dte,"formatUTCSeconds"),l(Rte,"formatUTCWeekdayNumberMonday"),l(Ote,"formatUTCWeekNumberSunday"),l(iA,"UTCdISO"),l(Pte,"formatUTCWeekNumberISO"),l(Bte,"formatUTCWeekdayNumberSunday"),l($te,"formatUTCWeekNumberMonday"),l(Fte,"formatUTCYear"),l(zte,"formatUTCYearISO"),l(Gte,"formatUTCFullYear"),l(Ute,"formatUTCFullYearISO"),l(qte,"formatUTCZone"),l(nA,"formatLiteralPercent"),l(aA,"formatUnixTimestamp"),l(sA,"formatUnixTimestampSeconds")});function Vte(e){return og=Vee(e),h5=og.format,cVe=og.parse,uVe=og.utcFormat,hVe=og.utcParse,og}var og,h5,cVe,uVe,hVe,dVe=D(()=>{"use strict";lVe(),Vte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),l(Vte,"defaultLocale")}),Yte=D(()=>{"use strict";dVe()});function Wte(e){return new Date(e)}function Xte(e){return e instanceof Date?+e:+new Date(+e)}function lA(e,t,r,i,n,a,s,o,u,h){var d=P_(),p=d.invert,g=d.domain,f=h(".%L"),m=h(":%S"),y=h("%I:%M"),b=h("%I %p"),v=h("%a %d"),x=h("%b %d"),w=h("%B"),k=h("%Y");function T(_){return(u(_)<_?f:o(_)<_?m:s(_)<_?y:a(_)<_?b:i(_)<_?n(_)<_?v:x:r(_)<_?w:k)(_)}return l(T,"tickFormat"),d.invert=function(_){return new Date(p(_))},d.domain=function(_){return arguments.length?g(Array.from(_,Xte)):g().map(Wte)},d.ticks=function(_){var C=g();return e(C[0],C[C.length-1],_??10)},d.tickFormat=function(_,C){return C==null?T:h(C)},d.nice=function(_){var C=g();return(!_||typeof _.range!="function")&&(_=t(C[0],C[C.length-1],_??10)),_?g(Mee(C,_)):d},d.copy=function(){return O_(d,lA(e,t,r,i,n,a,s,o,u,h))},d}function Kte(){return cy.apply(lA(jee,Hee,Zo,ig,tg,wu,eg,Jp,Jl,h5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var pVe=D(()=>{"use strict";Y_(),Yte(),Aee(),r5(),MHe(),l(Wte,"date"),l(Xte,"number"),l(lA,"calendar"),l(Kte,"time")}),gVe=D(()=>{"use strict";SHe(),NHe(),wee(),pVe()});function Zte(e){for(var t=e.length/6|0,r=new Array(t),i=0;i<t;)r[i]="#"+e.slice(i*6,++i*6);return r}var fVe=D(()=>{"use strict";l(Zte,"default")}),Qte,mVe=D(()=>{"use strict";fVe(),Qte=Zte("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")}),yVe=D(()=>{"use strict";mVe()});function Ei(e){return l(function(){return e},"constant")}var cA=D(()=>{"use strict";l(Ei,"default")});function Jte(e){return e>1?0:e<-1?lg:Math.acos(e)}function uA(e){return e>=1?hy:e<=-1?-hy:Math.asin(e)}var hA,Nn,Cu,ere,d5,no,Yh,Mn,lg,hy,dy,dA=D(()=>{"use strict";hA=Math.abs,Nn=Math.atan2,Cu=Math.cos,ere=Math.max,d5=Math.min,no=Math.sin,Yh=Math.sqrt,Mn=1e-12,lg=Math.PI,hy=lg/2,dy=2*lg,l(Jte,"acos"),l(uA,"asin")});function pA(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);t=i}return e},()=>new K3(t)}var tre=D(()=>{"use strict";NJ(),l(pA,"withPath")});function rre(e){return e.innerRadius}function ire(e){return e.outerRadius}function nre(e){return e.startAngle}function are(e){return e.endAngle}function sre(e){return e&&e.padAngle}function ore(e,t,r,i,n,a,s,o){var u=r-e,h=i-t,d=s-n,p=o-a,g=p*u-d*h;if(!(g*g<Mn))return g=(d*(t-a)-p*(e-n))/g,[e+g*u,t+g*h]}function py(e,t,r,i,n,a,s){var o=e-r,u=t-i,h=(s?a:-a)/Yh(o*o+u*u),d=h*u,p=-h*o,g=e+d,f=t+p,m=r+d,y=i+p,b=(g+m)/2,v=(f+y)/2,x=m-g,w=y-f,k=x*x+w*w,T=n-a,_=g*y-m*f,C=(w<0?-1:1)*Yh(ere(0,T*T*k-_*_)),E=(_*w-x*C)/k,N=(-_*x-w*C)/k,M=(_*w+x*C)/k,I=(-_*x+w*C)/k,A=E-b,B=N-v,S=M-b,O=I-v;return A*A+B*B>S*S+O*O&&(E=M,N=I),{cx:E,cy:N,x01:-d,y01:-p,x11:E*(n/T-1),y11:N*(n/T-1)}}function Wh(){var e=rre,t=ire,r=Ei(0),i=null,n=nre,a=are,s=sre,o=null,u=pA(h);function h(){var d,p,g=+e.apply(this,arguments),f=+t.apply(this,arguments),m=n.apply(this,arguments)-hy,y=a.apply(this,arguments)-hy,b=hA(y-m),v=y>m;if(o||(o=d=u()),f<g&&(p=f,f=g,g=p),!(f>Mn))o.moveTo(0,0);else if(b>dy-Mn)o.moveTo(f*Cu(m),f*no(m)),o.arc(0,0,f,m,y,!v),g>Mn&&(o.moveTo(g*Cu(y),g*no(y)),o.arc(0,0,g,y,m,v));else{var x=m,w=y,k=m,T=y,_=b,C=b,E=s.apply(this,arguments)/2,N=E>Mn&&(i?+i.apply(this,arguments):Yh(g*g+f*f)),M=d5(hA(f-g)/2,+r.apply(this,arguments)),I=M,A=M,B,S;if(N>Mn){var O=uA(N/g*no(E)),R=uA(N/f*no(E));(_-=O*2)>Mn?(O*=v?1:-1,k+=O,T-=O):(_=0,k=T=(m+y)/2),(C-=R*2)>Mn?(R*=v?1:-1,x+=R,w-=R):(C=0,x=w=(m+y)/2)}var P=f*Cu(x),L=f*no(x),$=g*Cu(T),F=g*no(T);if(M>Mn){var G=f*Cu(w),q=f*no(w),V=g*Cu(k),H=g*no(k),ae;if(b<lg)if(ae=ore(P,L,V,H,G,q,$,F)){var re=P-ae[0],oe=L-ae[1],ue=G-ae[0],W=q-ae[1],ee=1/no(Jte((re*ue+oe*W)/(Yh(re*re+oe*oe)*Yh(ue*ue+W*W)))/2),X=Yh(ae[0]*ae[0]+ae[1]*ae[1]);I=d5(M,(g-X)/(ee-1)),A=d5(M,(f-X)/(ee+1))}else I=A=0}C>Mn?A>Mn?(B=py(V,H,P,L,f,A,v),S=py(G,q,$,F,f,A,v),o.moveTo(B.cx+B.x01,B.cy+B.y01),A<M?o.arc(B.cx,B.cy,A,Nn(B.y01,B.x01),Nn(S.y01,S.x01),!v):(o.arc(B.cx,B.cy,A,Nn(B.y01,B.x01),Nn(B.y11,B.x11),!v),o.arc(0,0,f,Nn(B.cy+B.y11,B.cx+B.x11),Nn(S.cy+S.y11,S.cx+S.x11),!v),o.arc(S.cx,S.cy,A,Nn(S.y11,S.x11),Nn(S.y01,S.x01),!v))):(o.moveTo(P,L),o.arc(0,0,f,x,w,!v)):o.moveTo(P,L),!(g>Mn)||!(_>Mn)?o.lineTo($,F):I>Mn?(B=py($,F,G,q,g,-I,v),S=py(P,L,V,H,g,-I,v),o.lineTo(B.cx+B.x01,B.cy+B.y01),I<M?o.arc(B.cx,B.cy,I,Nn(B.y01,B.x01),Nn(S.y01,S.x01),!v):(o.arc(B.cx,B.cy,I,Nn(B.y01,B.x01),Nn(B.y11,B.x11),!v),o.arc(0,0,g,Nn(B.cy+B.y11,B.cx+B.x11),Nn(S.cy+S.y11,S.cx+S.x11),v),o.arc(S.cx,S.cy,I,Nn(S.y11,S.x11),Nn(S.y01,S.x01),!v))):o.arc(0,0,g,T,k,v)}if(o.closePath(),d)return o=null,d+""||null}return l(h,"arc"),h.centroid=function(){var d=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,p=(+n.apply(this,arguments)+ +a.apply(this,arguments))/2-lg/2;return[Cu(p)*d,no(p)*d]},h.innerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:Ei(+d),h):e},h.outerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:Ei(+d),h):t},h.cornerRadius=function(d){return arguments.length?(r=typeof d=="function"?d:Ei(+d),h):r},h.padRadius=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:Ei(+d),h):i},h.startAngle=function(d){return arguments.length?(n=typeof d=="function"?d:Ei(+d),h):n},h.endAngle=function(d){return arguments.length?(a=typeof d=="function"?d:Ei(+d),h):a},h.padAngle=function(d){return arguments.length?(s=typeof d=="function"?d:Ei(+d),h):s},h.context=function(d){return arguments.length?(o=d??null,h):o},h}var vVe=D(()=>{"use strict";cA(),dA(),tre(),l(rre,"arcInnerRadius"),l(ire,"arcOuterRadius"),l(nre,"arcStartAngle"),l(are,"arcEndAngle"),l(sre,"arcPadAngle"),l(ore,"intersect"),l(py,"cornerTangents"),l(Wh,"default")});function gA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var bVe,lre=D(()=>{"use strict";bVe=Array.prototype.slice,l(gA,"default")});function fA(e){this._context=e}function gy(e){return new fA(e)}var cre=D(()=>{"use strict";l(fA,"Linear"),fA.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}},"point")},l(gy,"default")});function ure(e){return e[0]}function hre(e){return e[1]}var xVe=D(()=>{"use strict";l(ure,"x"),l(hre,"y")});function cg(e,t){var r=Ei(!0),i=null,n=gy,a=null,s=pA(o);e=typeof e=="function"?e:e===void 0?ure:Ei(e),t=typeof t=="function"?t:t===void 0?hre:Ei(t);function o(u){var h,d=(u=gA(u)).length,p,g=!1,f;for(i==null&&(a=n(f=s())),h=0;h<=d;++h)!(h<d&&r(p=u[h],h,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(p,h,u),+t(p,h,u));if(f)return a=null,f+""||null}return l(o,"line"),o.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ei(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ei(+u),o):t},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Ei(!!u),o):r},o.curve=function(u){return arguments.length?(n=u,i!=null&&(a=n(i)),o):n},o.context=function(u){return arguments.length?(u==null?i=a=null:a=n(i=u),o):i},o}var wVe=D(()=>{"use strict";lre(),cA(),cre(),tre(),xVe(),l(cg,"default")});function dre(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}var kVe=D(()=>{"use strict";l(dre,"default")});function pre(e){return e}var TVe=D(()=>{"use strict";l(pre,"default")});function gre(){var e=pre,t=dre,r=null,i=Ei(0),n=Ei(dy),a=Ei(0);function s(o){var u,h=(o=gA(o)).length,d,p,g=0,f=new Array(h),m=new Array(h),y=+i.apply(this,arguments),b=Math.min(dy,Math.max(-dy,n.apply(this,arguments)-y)),v,x=Math.min(Math.abs(b)/h,a.apply(this,arguments)),w=x*(b<0?-1:1),k;for(u=0;u<h;++u)(k=m[f[u]=u]=+e(o[u],u,o))>0&&(g+=k);for(t!=null?f.sort(function(T,_){return t(m[T],m[_])}):r!=null&&f.sort(function(T,_){return r(o[T],o[_])}),u=0,p=g?(b-h*w)/g:0;u<h;++u,y=v)d=f[u],k=m[d],v=y+(k>0?k*p:0)+w,m[d]={data:o[d],index:u,value:k,startAngle:y,endAngle:v,padAngle:x};return m}return l(s,"pie"),s.value=function(o){return arguments.length?(e=typeof o=="function"?o:Ei(+o),s):e},s.sortValues=function(o){return arguments.length?(t=o,r=null,s):t},s.sort=function(o){return arguments.length?(r=o,t=null,s):r},s.startAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Ei(+o),s):i},s.endAngle=function(o){return arguments.length?(n=typeof o=="function"?o:Ei(+o),s):n},s.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:Ei(+o),s):a},s}var EVe=D(()=>{"use strict";lre(),cA(),kVe(),TVe(),dA(),l(gre,"default")});function mA(e){return new vA(e,!0)}function yA(e){return new vA(e,!1)}var vA,CVe=D(()=>{"use strict";vA=class{static{l(this,"Bump")}constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}},l(mA,"bumpX"),l(yA,"bumpY")});function tc(){}var p5=D(()=>{"use strict";l(tc,"default")});function fy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function my(e){this._context=e}function Xh(e){return new my(e)}var g5=D(()=>{"use strict";l(fy,"point"),l(my,"Basis"),my.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 3:fy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},l(Xh,"default")});function bA(e){this._context=e}function fre(e){return new bA(e)}var SVe=D(()=>{"use strict";p5(),g5(),l(bA,"BasisClosed"),bA.prototype={areaStart:tc,areaEnd:tc,lineStart:l(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:fy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},l(fre,"default")});function xA(e){this._context=e}function mre(e){return new xA(e)}var _Ve=D(()=>{"use strict";g5(),l(xA,"BasisOpen"),xA.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:fy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},l(mre,"default")});function wA(e,t){this._basis=new my(e),this._beta=t}var yre,AVe=D(()=>{"use strict";g5(),l(wA,"Bundle"),wA.prototype={lineStart:l(function(){this._x=[],this._y=[],this._basis.lineStart()},"lineStart"),lineEnd:l(function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var i=e[0],n=t[0],a=e[r]-i,s=t[r]-n,o=-1,u;++o<=r;)u=o/r,this._basis.point(this._beta*e[o]+(1-this._beta)*(i+u*a),this._beta*t[o]+(1-this._beta)*(n+u*s));this._x=this._y=null,this._basis.lineEnd()},"lineEnd"),point:l(function(e,t){this._x.push(+e),this._y.push(+t)},"point")},yre=l(function e(t){function r(i){return t===1?new my(i):new wA(i,t)}return l(r,"bundle"),r.beta=function(i){return e(+i)},r},"custom")(.85)});function yy(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function f5(e,t){this._context=e,this._k=(1-t)/6}var kA,m5=D(()=>{"use strict";l(yy,"point"),l(f5,"Cardinal"),f5.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:yy(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:yy(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},kA=l(function e(t){function r(i){return new f5(i,t)}return l(r,"cardinal"),r.tension=function(i){return e(+i)},r},"custom")(0)});function y5(e,t){this._context=e,this._k=(1-t)/6}var vre,bre=D(()=>{"use strict";p5(),m5(),l(y5,"CardinalClosed"),y5.prototype={areaStart:tc,areaEnd:tc,lineStart:l(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:yy(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},vre=l(function e(t){function r(i){return new y5(i,t)}return l(r,"cardinal"),r.tension=function(i){return e(+i)},r},"custom")(0)});function v5(e,t){this._context=e,this._k=(1-t)/6}var xre,wre=D(()=>{"use strict";m5(),l(v5,"CardinalOpen"),v5.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:yy(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},xre=l(function e(t){function r(i){return new v5(i,t)}return l(r,"cardinal"),r.tension=function(i){return e(+i)},r},"custom")(0)});function b5(e,t,r){var i=e._x1,n=e._y1,a=e._x2,s=e._y2;if(e._l01_a>Mn){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,n=(n*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>Mn){var h=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*h+e._x1*e._l23_2a-t*e._l12_2a)/d,s=(s*h+e._y1*e._l23_2a-r*e._l12_2a)/d}e._context.bezierCurveTo(i,n,a,s,e._x2,e._y2)}function TA(e,t){this._context=e,this._alpha=t}var EA,CA=D(()=>{"use strict";dA(),m5(),l(b5,"point"),l(TA,"CatmullRom"),TA.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:b5(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},EA=l(function e(t){function r(i){return t?new TA(i,t):new f5(i,0)}return l(r,"catmullRom"),r.alpha=function(i){return e(+i)},r},"custom")(.5)});function SA(e,t){this._context=e,this._alpha=t}var kre,LVe=D(()=>{"use strict";bre(),p5(),CA(),l(SA,"CatmullRomClosed"),SA.prototype={areaStart:tc,areaEnd:tc,lineStart:l(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},"lineEnd"),point:l(function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:b5(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},kre=l(function e(t){function r(i){return t?new SA(i,t):new y5(i,0)}return l(r,"catmullRom"),r.alpha=function(i){return e(+i)},r},"custom")(.5)});function _A(e,t){this._context=e,this._alpha=t}var Tre,NVe=D(()=>{"use strict";wre(),CA(),l(_A,"CatmullRomOpen"),_A.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:b5(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},Tre=l(function e(t){function r(i){return t?new _A(i,t):new v5(i,0)}return l(r,"catmullRom"),r.alpha=function(i){return e(+i)},r},"custom")(.5)});function AA(e){this._context=e}function Ere(e){return new AA(e)}var MVe=D(()=>{"use strict";p5(),l(AA,"LinearClosed"),AA.prototype={areaStart:tc,areaEnd:tc,lineStart:l(function(){this._point=0},"lineStart"),lineEnd:l(function(){this._point&&this._context.closePath()},"lineEnd"),point:l(function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))},"point")},l(Ere,"default")});function LA(e){return e<0?-1:1}function NA(e,t,r){var i=e._x1-e._x0,n=t-e._x1,a=(e._y1-e._y0)/(i||n<0&&-0),s=(r-e._y1)/(n||i<0&&-0),o=(a*n+s*i)/(i+n);return(LA(a)+LA(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function MA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function x5(e,t,r){var i=e._x0,n=e._y0,a=e._x1,s=e._y1,o=(a-i)/3;e._context.bezierCurveTo(i+o,n+o*t,a-o,s-o*r,a,s)}function vy(e){this._context=e}function IA(e){this._context=new DA(e)}function DA(e){this._context=e}function RA(e){return new vy(e)}function OA(e){return new IA(e)}var IVe=D(()=>{"use strict";l(LA,"sign"),l(NA,"slope3"),l(MA,"slope2"),l(x5,"point"),l(vy,"MonotoneX"),vy.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:x5(this,this._t0,MA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,x5(this,MA(this,r=NA(this,e,t)),r);break;default:x5(this,this._t0,r=NA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}},"point")},l(IA,"MonotoneY"),(IA.prototype=Object.create(vy.prototype)).point=function(e,t){vy.prototype.point.call(this,t,e)},l(DA,"ReflectContext"),DA.prototype={moveTo:l(function(e,t){this._context.moveTo(t,e)},"moveTo"),closePath:l(function(){this._context.closePath()},"closePath"),lineTo:l(function(e,t){this._context.lineTo(t,e)},"lineTo"),bezierCurveTo:l(function(e,t,r,i,n,a){this._context.bezierCurveTo(t,e,i,r,a,n)},"bezierCurveTo")},l(RA,"monotoneX"),l(OA,"monotoneY")});function PA(e){this._context=e}function BA(e){var t,r=e.length-1,i,n=new Array(r),a=new Array(r),s=new Array(r);for(n[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)n[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(n[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)i=n[t]/a[t-1],a[t]-=i,s[t]-=i*s[t-1];for(n[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)n[t]=(s[t]-n[t+1])/a[t];for(a[r-1]=(e[r]+n[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-n[t+1];return[n,a]}function $A(e){return new PA(e)}var DVe=D(()=>{"use strict";l(PA,"Natural"),PA.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x=[],this._y=[]},"lineStart"),lineEnd:l(function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var i=BA(e),n=BA(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(i[0][a],n[0][a],i[1][a],n[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},"lineEnd"),point:l(function(e,t){this._x.push(+e),this._y.push(+t)},"point")},l(BA,"controlPoints"),l($A,"default")});function by(e,t){this._context=e,this._t=t}function FA(e){return new by(e,.5)}function zA(e){return new by(e,0)}function GA(e){return new by(e,1)}var RVe=D(()=>{"use strict";l(by,"Step"),by.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x=this._y=NaN,this._point=0},"lineStart"),lineEnd:l(function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t},"point")},l(FA,"default"),l(zA,"stepBefore"),l(GA,"stepAfter")}),OVe=D(()=>{"use strict";vVe(),wVe(),EVe(),SVe(),_Ve(),g5(),CVe(),AVe(),bre(),wre(),m5(),LVe(),NVe(),CA(),MVe(),cre(),IVe(),DVe(),RVe()}),PVe=D(()=>{"use strict"}),BVe=D(()=>{"use strict"});function Kh(e,t,r){this.k=e,this.x=t,this.y=r}function Cre(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Sre;return e.__zoom}var Sre,_re=D(()=>{"use strict";l(Kh,"Transform"),Kh.prototype={constructor:Kh,scale:l(function(e){return e===1?this:new Kh(this.k*e,this.x,this.y)},"scale"),translate:l(function(e,t){return e===0&t===0?this:new Kh(this.k,this.x+this.k*e,this.y+this.k*t)},"translate"),apply:l(function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},"apply"),applyX:l(function(e){return e*this.k+this.x},"applyX"),applyY:l(function(e){return e*this.k+this.y},"applyY"),invert:l(function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},"invert"),invertX:l(function(e){return(e-this.x)/this.k},"invertX"),invertY:l(function(e){return(e-this.y)/this.k},"invertY"),rescaleX:l(function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},"rescaleX"),rescaleY:l(function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},"rescaleY"),toString:l(function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"},"toString")},Sre=new Kh(1,0,0),Cre.prototype=Kh.prototype,l(Cre,"transform")}),$Ve=D(()=>{"use strict"}),FVe=D(()=>{"use strict";S_(),PVe(),BVe(),_re(),$Ve()}),zVe=D(()=>{"use strict";FVe(),_re()}),hr=D(()=>{"use strict";Oh(),tqe(),Oje(),Bje(),Xm(),$je(),Fje(),BX(),$qe(),zje(),kJ(),Gje(),qje(),VJ(),tHe(),THe(),Qm(),NJ(),EHe(),Uje(),CHe(),gVe(),yVe(),Yo(),OVe(),Y_(),Yte(),b_(),S_(),zVe()}),GVe=_n(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BLANK_URL=e.relativeFirstCharacters=e.whitespaceEscapeCharsRegex=e.urlSchemeRegex=e.ctrlCharactersRegex=e.htmlCtrlEntityRegex=e.htmlEntitiesRegex=e.invalidProtocolRegex=void 0,e.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,e.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,e.htmlCtrlEntityRegex=/&(newline|tab);/gi,e.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,e.urlSchemeRegex=/^.+(:|&colon;)/gim,e.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,e.relativeFirstCharacters=[".","/"],e.BLANK_URL="about:blank"}),xy=_n(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=void 0;var t=GVe();function r(o){return t.relativeFirstCharacters.indexOf(o[0])>-1}l(r,"isRelativeUrlWithoutProtocol");function i(o){var u=o.replace(t.ctrlCharactersRegex,"");return u.replace(t.htmlEntitiesRegex,function(h,d){return String.fromCharCode(d)})}l(i,"decodeHtmlCharacters");function n(o){return URL.canParse(o)}l(n,"isValidUrl");function a(o){try{return decodeURIComponent(o)}catch{return o}}l(a,"decodeURI");function s(o){if(!o)return t.BLANK_URL;var u,h=a(o.trim());do h=i(h).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),h=a(h),u=h.match(t.ctrlCharactersRegex)||h.match(t.htmlEntitiesRegex)||h.match(t.htmlCtrlEntityRegex)||h.match(t.whitespaceEscapeCharsRegex);while(u&&u.length>0);var d=h;if(!d)return t.BLANK_URL;if(r(d))return d;var p=d.trimStart(),g=p.match(t.urlSchemeRegex);if(!g)return d;var f=g[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(f))return t.BLANK_URL;var m=p.replace(/\\/g,"/");if(f==="mailto:"||f.includes("://"))return m;if(f==="http:"||f==="https:"){if(!n(m))return t.BLANK_URL;var y=new URL(m);return y.protocol=y.protocol.toLowerCase(),y.hostname=y.hostname.toLowerCase(),y.toString()}return m}l(s,"sanitizeUrl"),e.sanitizeUrl=s}),UA,wy,qA,Are,w5,k5,Pa,T5,E5=D(()=>{"use strict";UA=zn(xy(),1),cr(),wy=l((e,t)=>{let r=e.append("rect");if(r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),t.name&&r.attr("name",t.name),t.rx&&r.attr("rx",t.rx),t.ry&&r.attr("ry",t.ry),t.attrs!==void 0)for(let i in t.attrs)r.attr(i,t.attrs[i]);return t.class&&r.attr("class",t.class),r},"drawRect"),qA=l((e,t)=>{let r={x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,stroke:t.stroke,class:"rect"};wy(e,r).lower()},"drawBackgroundRect"),Are=l((e,t)=>{let r=t.text.replace(Rh," "),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.attr("class","legend"),i.style("text-anchor",t.anchor),t.class&&i.attr("class",t.class);let n=i.append("tspan");return n.attr("x",t.x+t.textMargin*2),n.text(r),i},"drawText"),w5=l((e,t,r,i)=>{let n=e.append("image");n.attr("x",t),n.attr("y",r);let a=(0,UA.sanitizeUrl)(i);n.attr("xlink:href",a)},"drawImage"),k5=l((e,t,r,i)=>{let n=e.append("use");n.attr("x",t),n.attr("y",r);let a=(0,UA.sanitizeUrl)(i);n.attr("xlink:href",`#${a}`)},"drawEmbeddedImage"),Pa=l(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),T5=l(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj")}),Lre,C5,jA,Nre,Mre,Ire,Dre,Rre,Ore,Pre,Bre,$re,Fre,zre,Gre,Qo,ao,UVe=D(()=>{"use strict";cr(),E5(),Lre=zn(xy(),1),C5=l(function(e,t){return wy(e,t)},"drawRect"),jA=l(function(e,t,r,i,n,a){let s=e.append("image");s.attr("width",t),s.attr("height",r),s.attr("x",i),s.attr("y",n);let o=a.startsWith("data:image/png;base64")?a:(0,Lre.sanitizeUrl)(a);s.attr("xlink:href",o)},"drawImage"),Nre=l((e,t,r)=>{let i=e.append("g"),n=0;for(let a of t){let s=a.textColor?a.textColor:"#444444",o=a.lineColor?a.lineColor:"#444444",u=a.offsetX?parseInt(a.offsetX):0,h=a.offsetY?parseInt(a.offsetY):0,d="";if(n===0){let g=i.append("line");g.attr("x1",a.startPoint.x),g.attr("y1",a.startPoint.y),g.attr("x2",a.endPoint.x),g.attr("y2",a.endPoint.y),g.attr("stroke-width","1"),g.attr("stroke",o),g.style("fill","none"),a.type!=="rel_b"&&g.attr("marker-end","url("+d+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&g.attr("marker-start","url("+d+"#arrowend)"),n=-1}else{let g=i.append("path");g.attr("fill","none").attr("stroke-width","1").attr("stroke",o).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",a.startPoint.x).replaceAll("starty",a.startPoint.y).replaceAll("controlx",a.startPoint.x+(a.endPoint.x-a.startPoint.x)/2-(a.endPoint.x-a.startPoint.x)/4).replaceAll("controly",a.startPoint.y+(a.endPoint.y-a.startPoint.y)/2).replaceAll("stopx",a.endPoint.x).replaceAll("stopy",a.endPoint.y)),a.type!=="rel_b"&&g.attr("marker-end","url("+d+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&g.attr("marker-start","url("+d+"#arrowend)")}let p=r.messageFont();Qo(r)(a.label.text,i,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+u,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+h,a.label.width,a.label.height,{fill:s},p),a.techn&&a.techn.text!==""&&(p=r.messageFont(),Qo(r)("["+a.techn.text+"]",i,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+u,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+r.messageFontSize+5+h,Math.max(a.label.width,a.techn.width),a.techn.height,{fill:s,"font-style":"italic"},p))}},"drawRels"),Mre=l(function(e,t,r){let i=e.append("g"),n=t.bgColor?t.bgColor:"none",a=t.borderColor?t.borderColor:"#444444",s=t.fontColor?t.fontColor:"black",o={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(o={"stroke-width":1});let u={x:t.x,y:t.y,fill:n,stroke:a,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:o};C5(i,u);let h=r.boundaryFont();h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=s,Qo(r)(t.label.text,i,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},h),t.type&&t.type.text!==""&&(h=r.boundaryFont(),h.fontColor=s,Qo(r)(t.type.text,i,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},h)),t.descr&&t.descr.text!==""&&(h=r.boundaryFont(),h.fontSize=h.fontSize-2,h.fontColor=s,Qo(r)(t.descr.text,i,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},h))},"drawBoundary"),Ire=l(function(e,t,r){let i=t.bgColor?t.bgColor:r[t.typeC4Shape.text+"_bg_color"],n=t.borderColor?t.borderColor:r[t.typeC4Shape.text+"_border_color"],a=t.fontColor?t.fontColor:"#FFFFFF",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}let o=e.append("g");o.attr("class","person-man");let u=Pa();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":u.x=t.x,u.y=t.y,u.fill=i,u.width=t.width,u.height=t.height,u.stroke=n,u.rx=2.5,u.ry=2.5,u.attrs={"stroke-width":.5},C5(o,u);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":o.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",n).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",n).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":o.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",n).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",n).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let h=Gre(r,t.typeC4Shape.text);switch(o.append("text").attr("fill",a).attr("font-family",h.fontFamily).attr("font-size",h.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":jA(o,48,48,t.x+t.width/2-24,t.y+t.image.Y,s);break}let d=r[t.typeC4Shape.text+"Font"]();return d.fontWeight="bold",d.fontSize=d.fontSize+2,d.fontColor=a,Qo(r)(t.label.text,o,t.x,t.y+t.label.Y,t.width,t.height,{fill:a},d),d=r[t.typeC4Shape.text+"Font"](),d.fontColor=a,t.techn&&t.techn?.text!==""?Qo(r)(t.techn.text,o,t.x,t.y+t.techn.Y,t.width,t.height,{fill:a,"font-style":"italic"},d):t.type&&t.type.text!==""&&Qo(r)(t.type.text,o,t.x,t.y+t.type.Y,t.width,t.height,{fill:a,"font-style":"italic"},d),t.descr&&t.descr.text!==""&&(d=r.personFont(),d.fontColor=a,Qo(r)(t.descr.text,o,t.x,t.y+t.descr.Y,t.width,t.height,{fill:a},d)),t.height},"drawC4Shape"),Dre=l(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),Rre=l(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),Ore=l(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),Pre=l(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),Bre=l(function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),$re=l(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),Fre=l(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),zre=l(function(e){let t=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);t.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),t.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),Gre=l((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"getC4ShapeFont"),Qo=function(){function e(n,a,s,o,u,h,d){let p=a.append("text").attr("x",s+u/2).attr("y",o+h/2+5).style("text-anchor","middle").text(n);i(p,d)}l(e,"byText");function t(n,a,s,o,u,h,d,p){let{fontSize:g,fontFamily:f,fontWeight:m}=p,y=n.split(nt.lineBreakRegex);for(let b=0;b<y.length;b++){let v=b*g-g*(y.length-1)/2,x=a.append("text").attr("x",s+u/2).attr("y",o).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",g).style("font-weight",m).style("font-family",f);x.append("tspan").attr("dy",v).text(y[b]).attr("alignment-baseline","mathematical"),i(x,d)}}l(t,"byTspan");function r(n,a,s,o,u,h,d,p){let g=a.append("switch"),f=g.append("foreignObject").attr("x",s).attr("y",o).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,g,s,o,u,h,d,p),i(f,d)}l(r,"byFo");function i(n,a){for(let s in a)a.hasOwnProperty(s)&&n.attr(s,a[s])}return l(i,"_setTextAttrs"),function(n){return n.textPlacement==="fo"?r:n.textPlacement==="old"?e:t}}(),ao={drawRect:C5,drawBoundary:Mre,drawC4Shape:Ire,drawRels:Nre,drawImage:jA,insertArrowHead:Pre,insertArrowEnd:Bre,insertArrowFilledHead:$re,insertDynamicNumber:Fre,insertArrowCrossHead:zre,insertDatabaseIcon:Dre,insertComputerIcon:Rre,insertClockIcon:Ore}}),Ure,HA,qre=D(()=>{"use strict";Ure=typeof global=="object"&&global&&global.Object===Object&&global,HA=Ure}),jre,Hre,Ls,so=D(()=>{"use strict";qre(),jre=typeof self=="object"&&self&&self.Object===Object&&self,Hre=HA||jre||Function("return this")(),Ls=Hre}),Vre,is,ug=D(()=>{"use strict";so(),Vre=Ls.Symbol,is=Vre});function Yre(e){var t=Wre.call(e,hg),r=e[hg];try{e[hg]=void 0;var i=!0}catch{}var n=Xre.call(e);return i&&(t?e[hg]=r:delete e[hg]),n}var VA,Wre,Xre,hg,Kre,qVe=D(()=>{"use strict";ug(),VA=Object.prototype,Wre=VA.hasOwnProperty,Xre=VA.toString,hg=is?is.toStringTag:void 0,l(Yre,"getRawTag"),Kre=Yre});function Zre(e){return Jre.call(e)}var Qre,Jre,eie,jVe=D(()=>{"use strict";Qre=Object.prototype,Jre=Qre.toString,l(Zre,"objectToString"),eie=Zre});function tie(e){return e==null?e===void 0?iie:rie:YA&&YA in Object(e)?Kre(e):eie(e)}var rie,iie,YA,Jo,Su=D(()=>{"use strict";ug(),qVe(),jVe(),rie="[object Null]",iie="[object Undefined]",YA=is?is.toStringTag:void 0,l(tie,"baseGetTag"),Jo=tie});function nie(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ga,Ns=D(()=>{"use strict";l(nie,"isObject"),ga=nie});function aie(e){if(!ga(e))return!1;var t=Jo(e);return t==oie||t==lie||t==sie||t==cie}var sie,oie,lie,cie,ns,S5=D(()=>{"use strict";Su(),Ns(),sie="[object AsyncFunction]",oie="[object Function]",lie="[object GeneratorFunction]",cie="[object Proxy]",l(aie,"isFunction"),ns=aie}),uie,_5,HVe=D(()=>{"use strict";so(),uie=Ls["__core-js_shared__"],_5=uie});function hie(e){return!!WA&&WA in e}var WA,die,VVe=D(()=>{"use strict";HVe(),WA=function(){var e=/[^.]+$/.exec(_5&&_5.keys&&_5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),l(hie,"isMasked"),die=hie});function pie(e){if(e!=null){try{return fie.call(e)}catch{}try{return e+""}catch{}}return""}var gie,fie,_u,mie=D(()=>{"use strict";gie=Function.prototype,fie=gie.toString,l(pie,"toSource"),_u=pie});function yie(e){if(!ga(e)||die(e))return!1;var t=ns(e)?Eie:bie;return t.test(_u(e))}var vie,bie,xie,wie,kie,Tie,Eie,Cie,YVe=D(()=>{"use strict";S5(),VVe(),Ns(),mie(),vie=/[\\^$.*+?()[\]{}|]/g,bie=/^\[object .+?Constructor\]$/,xie=Function.prototype,wie=Object.prototype,kie=xie.toString,Tie=wie.hasOwnProperty,Eie=RegExp("^"+kie.call(Tie).replace(vie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),l(yie,"baseIsNative"),Cie=yie});function Sie(e,t){return e?.[t]}var _ie,WVe=D(()=>{"use strict";l(Sie,"getValue"),_ie=Sie});function Aie(e,t){var r=_ie(e,t);return Cie(r)?r:void 0}var Au,Zh=D(()=>{"use strict";YVe(),WVe(),l(Aie,"getNative"),Au=Aie}),Lie,dg,A5=D(()=>{"use strict";Zh(),Lie=Au(Object,"create"),dg=Lie});function Nie(){this.__data__=dg?dg(null):{},this.size=0}var Mie,XVe=D(()=>{"use strict";A5(),l(Nie,"hashClear"),Mie=Nie});function Iie(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Die,KVe=D(()=>{"use strict";l(Iie,"hashDelete"),Die=Iie});function Rie(e){var t=this.__data__;if(dg){var r=t[e];return r===Oie?void 0:r}return Bie.call(t,e)?t[e]:void 0}var Oie,Pie,Bie,$ie,ZVe=D(()=>{"use strict";A5(),Oie="__lodash_hash_undefined__",Pie=Object.prototype,Bie=Pie.hasOwnProperty,l(Rie,"hashGet"),$ie=Rie});function Fie(e){var t=this.__data__;return dg?t[e]!==void 0:Gie.call(t,e)}var zie,Gie,Uie,QVe=D(()=>{"use strict";A5(),zie=Object.prototype,Gie=zie.hasOwnProperty,l(Fie,"hashHas"),Uie=Fie});function qie(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=dg&&t===void 0?jie:t,this}var jie,Hie,JVe=D(()=>{"use strict";A5(),jie="__lodash_hash_undefined__",l(qie,"hashSet"),Hie=qie});function Qh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}var XA,eYe=D(()=>{"use strict";XVe(),KVe(),ZVe(),QVe(),JVe(),l(Qh,"Hash"),Qh.prototype.clear=Mie,Qh.prototype.delete=Die,Qh.prototype.get=$ie,Qh.prototype.has=Uie,Qh.prototype.set=Hie,XA=Qh});function Vie(){this.__data__=[],this.size=0}var Yie,tYe=D(()=>{"use strict";l(Vie,"listCacheClear"),Yie=Vie});function Wie(e,t){return e===t||e!==e&&t!==t}var Jh,pg=D(()=>{"use strict";l(Wie,"eq"),Jh=Wie});function Xie(e,t){for(var r=e.length;r--;)if(Jh(e[r][0],t))return r;return-1}var ky,L5=D(()=>{"use strict";pg(),l(Xie,"assocIndexOf"),ky=Xie});function Kie(e){var t=this.__data__,r=ky(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():Qie.call(t,r,1),--this.size,!0}var Zie,Qie,Jie,rYe=D(()=>{"use strict";L5(),Zie=Array.prototype,Qie=Zie.splice,l(Kie,"listCacheDelete"),Jie=Kie});function ene(e){var t=this.__data__,r=ky(t,e);return r<0?void 0:t[r][1]}var tne,iYe=D(()=>{"use strict";L5(),l(ene,"listCacheGet"),tne=ene});function rne(e){return ky(this.__data__,e)>-1}var ine,nYe=D(()=>{"use strict";L5(),l(rne,"listCacheHas"),ine=rne});function nne(e,t){var r=this.__data__,i=ky(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}var ane,aYe=D(()=>{"use strict";L5(),l(nne,"listCacheSet"),ane=nne});function ed(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}var Ty,N5=D(()=>{"use strict";tYe(),rYe(),iYe(),nYe(),aYe(),l(ed,"ListCache"),ed.prototype.clear=Yie,ed.prototype.delete=Jie,ed.prototype.get=tne,ed.prototype.has=ine,ed.prototype.set=ane,Ty=ed}),sne,gg,KA=D(()=>{"use strict";Zh(),so(),sne=Au(Ls,"Map"),gg=sne});function one(){this.size=0,this.__data__={hash:new XA,map:new(gg||Ty),string:new XA}}var lne,sYe=D(()=>{"use strict";eYe(),N5(),KA(),l(one,"mapCacheClear"),lne=one});function cne(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var une,oYe=D(()=>{"use strict";l(cne,"isKeyable"),une=cne});function hne(e,t){var r=e.__data__;return une(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ey,M5=D(()=>{"use strict";oYe(),l(hne,"getMapData"),Ey=hne});function dne(e){var t=Ey(this,e).delete(e);return this.size-=t?1:0,t}var pne,lYe=D(()=>{"use strict";M5(),l(dne,"mapCacheDelete"),pne=dne});function gne(e){return Ey(this,e).get(e)}var fne,cYe=D(()=>{"use strict";M5(),l(gne,"mapCacheGet"),fne=gne});function mne(e){return Ey(this,e).has(e)}var yne,uYe=D(()=>{"use strict";M5(),l(mne,"mapCacheHas"),yne=mne});function vne(e,t){var r=Ey(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}var bne,hYe=D(()=>{"use strict";M5(),l(vne,"mapCacheSet"),bne=vne});function td(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}var Cy,ZA=D(()=>{"use strict";sYe(),lYe(),cYe(),uYe(),hYe(),l(td,"MapCache"),td.prototype.clear=lne,td.prototype.delete=pne,td.prototype.get=fne,td.prototype.has=yne,td.prototype.set=bne,Cy=td});function I5(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(xne);var r=l(function(){var i=arguments,n=t?t.apply(this,i):i[0],a=r.cache;if(a.has(n))return a.get(n);var s=e.apply(this,i);return r.cache=a.set(n,s)||a,s},"memoized");return r.cache=new(I5.Cache||Cy),r}var xne,Sy,wne=D(()=>{"use strict";ZA(),xne="Expected a function",l(I5,"memoize"),I5.Cache=Cy,Sy=I5});function kne(){this.__data__=new Ty,this.size=0}var Tne,dYe=D(()=>{"use strict";N5(),l(kne,"stackClear"),Tne=kne});function Ene(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Cne,pYe=D(()=>{"use strict";l(Ene,"stackDelete"),Cne=Ene});function Sne(e){return this.__data__.get(e)}var _ne,gYe=D(()=>{"use strict";l(Sne,"stackGet"),_ne=Sne});function Ane(e){return this.__data__.has(e)}var Lne,fYe=D(()=>{"use strict";l(Ane,"stackHas"),Lne=Ane});function Nne(e,t){var r=this.__data__;if(r instanceof Ty){var i=r.__data__;if(!gg||i.length<Mne-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new Cy(i)}return r.set(e,t),this.size=r.size,this}var Mne,Ine,mYe=D(()=>{"use strict";N5(),KA(),ZA(),Mne=200,l(Nne,"stackSet"),Ine=Nne});function rd(e){var t=this.__data__=new Ty(e);this.size=t.size}var id,D5=D(()=>{"use strict";N5(),dYe(),pYe(),gYe(),fYe(),mYe(),l(rd,"Stack"),rd.prototype.clear=Tne,rd.prototype.delete=Cne,rd.prototype.get=_ne,rd.prototype.has=Lne,rd.prototype.set=Ine,id=rd}),Dne,_y,Rne=D(()=>{"use strict";Zh(),Dne=function(){try{var e=Au(Object,"defineProperty");return e({},"",{}),e}catch{}}(),_y=Dne});function One(e,t,r){t=="__proto__"&&_y?_y(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var fg,Ay=D(()=>{"use strict";Rne(),l(One,"baseAssignValue"),fg=One});function Pne(e,t,r){(r!==void 0&&!Jh(e[t],r)||r===void 0&&!(t in e))&&fg(e,t,r)}var R5,Bne=D(()=>{"use strict";Ay(),pg(),l(Pne,"assignMergeValue"),R5=Pne});function $ne(e){return function(t,r,i){for(var n=-1,a=Object(t),s=i(t),o=s.length;o--;){var u=s[e?o:++n];if(r(a[u],u,a)===!1)break}return t}}var Fne,yYe=D(()=>{"use strict";l($ne,"createBaseFor"),Fne=$ne}),zne,O5,QA=D(()=>{"use strict";yYe(),zne=Fne(),O5=zne});function Gne(e,t){if(t)return e.slice();var r=e.length,i=r9?r9(r):new e.constructor(r);return e.copy(i),i}var JA,e9,Une,t9,r9,i9,qne=D(()=>{"use strict";so(),JA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,e9=JA&&typeof module=="object"&&module&&!module.nodeType&&module,Une=e9&&e9.exports===JA,t9=Une?Ls.Buffer:void 0,r9=t9?t9.allocUnsafe:void 0,l(Gne,"cloneBuffer"),i9=Gne}),jne,Ly,Hne=D(()=>{"use strict";so(),jne=Ls.Uint8Array,Ly=jne});function Vne(e){var t=new e.constructor(e.byteLength);return new Ly(t).set(new Ly(e)),t}var P5,n9=D(()=>{"use strict";Hne(),l(Vne,"cloneArrayBuffer"),P5=Vne});function Yne(e,t){var r=t?P5(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var a9,Wne=D(()=>{"use strict";n9(),l(Yne,"cloneTypedArray"),a9=Yne});function Xne(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}var s9,Kne=D(()=>{"use strict";l(Xne,"copyArray"),s9=Xne}),o9,Zne,Qne,vYe=D(()=>{"use strict";Ns(),o9=Object.create,Zne=function(){function e(){}return l(e,"object"),function(t){if(!ga(t))return{};if(o9)return o9(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Qne=Zne});function Jne(e,t){return function(r){return e(t(r))}}var l9,eae=D(()=>{"use strict";l(Jne,"overArg"),l9=Jne}),tae,B5,c9=D(()=>{"use strict";eae(),tae=l9(Object.getPrototypeOf,Object),B5=tae});function rae(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||iae;return e===r}var iae,mg,Ny=D(()=>{"use strict";iae=Object.prototype,l(rae,"isPrototype"),mg=rae});function nae(e){return typeof e.constructor=="function"&&!mg(e)?Qne(B5(e)):{}}var u9,aae=D(()=>{"use strict";vYe(),c9(),Ny(),l(nae,"initCloneObject"),u9=nae});function sae(e){return e!=null&&typeof e=="object"}var as,oo=D(()=>{"use strict";l(sae,"isObjectLike"),as=sae});function oae(e){return as(e)&&Jo(e)==lae}var lae,h9,bYe=D(()=>{"use strict";Su(),oo(),lae="[object Arguments]",l(oae,"baseIsArguments"),h9=oae}),d9,cae,uae,hae,nd,My=D(()=>{"use strict";bYe(),oo(),d9=Object.prototype,cae=d9.hasOwnProperty,uae=d9.propertyIsEnumerable,hae=h9(function(){return arguments}())?h9:function(e){return as(e)&&cae.call(e,"callee")&&!uae.call(e,"callee")},nd=hae}),dae,yr,mi=D(()=>{"use strict";dae=Array.isArray,yr=dae});function pae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gae}var gae,$5,p9=D(()=>{"use strict";gae=9007199254740991,l(pae,"isLength"),$5=pae});function fae(e){return e!=null&&$5(e.length)&&!ns(e)}var Ms,lo=D(()=>{"use strict";S5(),p9(),l(fae,"isArrayLike"),Ms=fae});function mae(e){return as(e)&&Ms(e)}var Iy,g9=D(()=>{"use strict";lo(),oo(),l(mae,"isArrayLikeObject"),Iy=mae});function yae(){return!1}var vae,xYe=D(()=>{"use strict";l(yae,"stubFalse"),vae=yae}),f9,m9,bae,y9,xae,wae,ad,Dy=D(()=>{"use strict";so(),xYe(),f9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,m9=f9&&typeof module=="object"&&module&&!module.nodeType&&module,bae=m9&&m9.exports===f9,y9=bae?Ls.Buffer:void 0,xae=y9?y9.isBuffer:void 0,wae=xae||vae,ad=wae});function kae(e){if(!as(e)||Jo(e)!=Tae)return!1;var t=B5(e);if(t===null)return!0;var r=Sae.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&v9.call(r)==_ae}var Tae,Eae,Cae,v9,Sae,_ae,Aae,wYe=D(()=>{"use strict";Su(),c9(),oo(),Tae="[object Object]",Eae=Function.prototype,Cae=Object.prototype,v9=Eae.toString,Sae=Cae.hasOwnProperty,_ae=v9.call(Object),l(kae,"isPlainObject"),Aae=kae});function Lae(e){return as(e)&&$5(e.length)&&!!ei[Jo(e)]}var Nae,Mae,Iae,Dae,Rae,Oae,Pae,Bae,$ae,Fae,zae,Gae,Uae,qae,jae,Hae,Vae,Yae,Wae,Xae,Kae,Zae,Qae,Jae,ei,ese,kYe=D(()=>{"use strict";Su(),p9(),oo(),Nae="[object Arguments]",Mae="[object Array]",Iae="[object Boolean]",Dae="[object Date]",Rae="[object Error]",Oae="[object Function]",Pae="[object Map]",Bae="[object Number]",$ae="[object Object]",Fae="[object RegExp]",zae="[object Set]",Gae="[object String]",Uae="[object WeakMap]",qae="[object ArrayBuffer]",jae="[object DataView]",Hae="[object Float32Array]",Vae="[object Float64Array]",Yae="[object Int8Array]",Wae="[object Int16Array]",Xae="[object Int32Array]",Kae="[object Uint8Array]",Zae="[object Uint8ClampedArray]",Qae="[object Uint16Array]",Jae="[object Uint32Array]",ei={},ei[Hae]=ei[Vae]=ei[Yae]=ei[Wae]=ei[Xae]=ei[Kae]=ei[Zae]=ei[Qae]=ei[Jae]=!0,ei[Nae]=ei[Mae]=ei[qae]=ei[Iae]=ei[jae]=ei[Dae]=ei[Rae]=ei[Oae]=ei[Pae]=ei[Bae]=ei[$ae]=ei[Fae]=ei[zae]=ei[Gae]=ei[Uae]=!1,l(Lae,"baseIsTypedArray"),ese=Lae});function tse(e){return function(t){return e(t)}}var sd,yg=D(()=>{"use strict";l(tse,"baseUnary"),sd=tse}),b9,vg,rse,F5,ise,rc,z5=D(()=>{"use strict";qre(),b9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,vg=b9&&typeof module=="object"&&module&&!module.nodeType&&module,rse=vg&&vg.exports===b9,F5=rse&&HA.process,ise=function(){try{var e=vg&&vg.require&&vg.require("util").types;return e||F5&&F5.binding&&F5.binding("util")}catch{}}(),rc=ise}),x9,nse,Ry,G5=D(()=>{"use strict";kYe(),yg(),z5(),x9=rc&&rc.isTypedArray,nse=x9?sd(x9):ese,Ry=nse});function ase(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var U5,sse=D(()=>{"use strict";l(ase,"safeGet"),U5=ase});function ose(e,t,r){var i=e[t];(!(cse.call(e,t)&&Jh(i,r))||r===void 0&&!(t in e))&&fg(e,t,r)}var lse,cse,bg,Oy=D(()=>{"use strict";Ay(),pg(),lse=Object.prototype,cse=lse.hasOwnProperty,l(ose,"assignValue"),bg=ose});function use(e,t,r,i){var n=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var o=t[a],u=i?i(r[o],e[o],o,r,e):void 0;u===void 0&&(u=e[o]),n?fg(r,o,u):bg(r,o,u)}return r}var od,xg=D(()=>{"use strict";Oy(),Ay(),l(use,"copyObject"),od=use});function hse(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var dse,TYe=D(()=>{"use strict";l(hse,"baseTimes"),dse=hse});function pse(e,t){var r=typeof e;return t=t??gse,!!t&&(r=="number"||r!="symbol"&&fse.test(e))&&e>-1&&e%1==0&&e<t}var gse,fse,Py,q5=D(()=>{"use strict";gse=9007199254740991,fse=/^(?:0|[1-9]\d*)$/,l(pse,"isIndex"),Py=pse});function mse(e,t){var r=yr(e),i=!r&&nd(e),n=!r&&!i&&ad(e),a=!r&&!i&&!n&&Ry(e),s=r||i||n||a,o=s?dse(e.length,String):[],u=o.length;for(var h in e)(t||vse.call(e,h))&&!(s&&(h=="length"||n&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Py(h,u)))&&o.push(h);return o}var yse,vse,w9,bse=D(()=>{"use strict";TYe(),My(),mi(),Dy(),q5(),G5(),yse=Object.prototype,vse=yse.hasOwnProperty,l(mse,"arrayLikeKeys"),w9=mse});function xse(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var wse,EYe=D(()=>{"use strict";l(xse,"nativeKeysIn"),wse=xse});function kse(e){if(!ga(e))return wse(e);var t=mg(e),r=[];for(var i in e)i=="constructor"&&(t||!Ese.call(e,i))||r.push(i);return r}var Tse,Ese,Cse,CYe=D(()=>{"use strict";Ns(),Ny(),EYe(),Tse=Object.prototype,Ese=Tse.hasOwnProperty,l(kse,"baseKeysIn"),Cse=kse});function Sse(e){return Ms(e)?w9(e,!0):Cse(e)}var Lu,ld=D(()=>{"use strict";bse(),CYe(),lo(),l(Sse,"keysIn"),Lu=Sse});function _se(e){return od(e,Lu(e))}var Ase,SYe=D(()=>{"use strict";xg(),ld(),l(_se,"toPlainObject"),Ase=_se});function Lse(e,t,r,i,n,a,s){var o=U5(e,r),u=U5(t,r),h=s.get(u);if(h){R5(e,r,h);return}var d=a?a(o,u,r+"",e,t,s):void 0,p=d===void 0;if(p){var g=yr(u),f=!g&&ad(u),m=!g&&!f&&Ry(u);d=u,g||f||m?yr(o)?d=o:Iy(o)?d=s9(o):f?(p=!1,d=i9(u,!0)):m?(p=!1,d=a9(u,!0)):d=[]:Aae(u)||nd(u)?(d=o,nd(o)?d=Ase(o):(!ga(o)||ns(o))&&(d=u9(u))):p=!1}p&&(s.set(u,d),n(d,u,i,a,s),s.delete(u)),R5(e,r,d)}var Nse,_Ye=D(()=>{"use strict";Bne(),qne(),Wne(),Kne(),aae(),My(),mi(),g9(),Dy(),S5(),Ns(),wYe(),G5(),sse(),SYe(),l(Lse,"baseMergeDeep"),Nse=Lse});function k9(e,t,r,i,n){e!==t&&O5(t,function(a,s){if(n||(n=new id),ga(a))Nse(e,t,s,r,k9,i,n);else{var o=i?i(U5(e,s),a,s+"",e,t,n):void 0;o===void 0&&(o=a),R5(e,s,o)}},Lu)}var Mse,AYe=D(()=>{"use strict";D5(),Bne(),QA(),_Ye(),Ns(),ld(),sse(),l(k9,"baseMerge"),Mse=k9});function Ise(e){return e}var el,Nu=D(()=>{"use strict";l(Ise,"identity"),el=Ise});function Dse(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Rse,LYe=D(()=>{"use strict";l(Dse,"apply"),Rse=Dse});function Ose(e,t,r){return t=T9(t===void 0?e.length-1:t,0),function(){for(var i=arguments,n=-1,a=T9(i.length-t,0),s=Array(a);++n<a;)s[n]=i[t+n];n=-1;for(var o=Array(t+1);++n<t;)o[n]=i[n];return o[t]=r(s),Rse(e,this,o)}}var T9,E9,Pse=D(()=>{"use strict";LYe(),T9=Math.max,l(Ose,"overRest"),E9=Ose});function Bse(e){return function(){return e}}var ic,$se=D(()=>{"use strict";l(Bse,"constant"),ic=Bse}),Fse,zse,NYe=D(()=>{"use strict";$se(),Rne(),Nu(),Fse=_y?function(e,t){return _y(e,"toString",{configurable:!0,enumerable:!1,value:ic(t),writable:!0})}:el,zse=Fse});function Gse(e){var t=0,r=0;return function(){var i=jse(),n=qse-(i-r);if(r=i,n>0){if(++t>=Use)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Use,qse,jse,Hse,MYe=D(()=>{"use strict";Use=800,qse=16,jse=Date.now,l(Gse,"shortOut"),Hse=Gse}),Vse,C9,Yse=D(()=>{"use strict";NYe(),MYe(),Vse=Hse(zse),C9=Vse});function Wse(e,t){return C9(E9(e,t,el),e+"")}var wg,By=D(()=>{"use strict";Nu(),Pse(),Yse(),l(Wse,"baseRest"),wg=Wse});function Xse(e,t,r){if(!ga(r))return!1;var i=typeof t;return(i=="number"?Ms(r)&&Py(t,r.length):i=="string"&&t in r)?Jh(r[t],e):!1}var Mu,kg=D(()=>{"use strict";pg(),lo(),q5(),Ns(),l(Xse,"isIterateeCall"),Mu=Xse});function Kse(e){return wg(function(t,r){var i=-1,n=r.length,a=n>1?r[n-1]:void 0,s=n>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(n--,a):void 0,s&&Mu(r[0],r[1],s)&&(a=n<3?void 0:a,n=1),t=Object(t);++i<n;){var o=r[i];o&&e(t,o,i,a)}return t})}var S9,Zse=D(()=>{"use strict";By(),kg(),l(Kse,"createAssigner"),S9=Kse}),Qse,$y,Jse=D(()=>{"use strict";AYe(),Zse(),Qse=S9(function(e,t,r){Mse(e,t,r)}),$y=Qse});function _9(e,t){if(!e)return t;let r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return ooe[r]??t}function eoe(e,t){let r=e.trim();if(r)return t.securityLevel!=="loose"?(0,soe.sanitizeUrl)(r):r}function A9(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function toe(e){let t,r=0;e.forEach(n=>{r+=A9(n,t),t=n});let i=r/2;return H5(e,i)}function roe(e){return e.length===1?e[0]:toe(e)}function ioe(e,t,r){let i=structuredClone(r);ne.info("our points",i),t!=="start_left"&&t!=="start_right"&&i.reverse();let n=25+e,a=H5(i,n),s=10+e*.5,o=Math.atan2(i[0].y-a.y,i[0].x-a.x),u={x:0,y:0};return t==="start_left"?(u.x=Math.sin(o+Math.PI)*s+(i[0].x+a.x)/2,u.y=-Math.cos(o+Math.PI)*s+(i[0].y+a.y)/2):t==="end_right"?(u.x=Math.sin(o-Math.PI)*s+(i[0].x+a.x)/2-5,u.y=-Math.cos(o-Math.PI)*s+(i[0].y+a.y)/2-5):t==="end_left"?(u.x=Math.sin(o)*s+(i[0].x+a.x)/2-5,u.y=-Math.cos(o)*s+(i[0].y+a.y)/2-5):(u.x=Math.sin(o)*s+(i[0].x+a.x)/2,u.y=-Math.cos(o)*s+(i[0].y+a.y)/2),u}function L9(e){let t="",r="";for(let i of e)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?r=r+i+";":t=t+i+";");return{style:t,labelStyle:r}}function noe(e){let t="",r="0123456789abcdef",i=r.length;for(let n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*i));return t}function j5(e,t){return V5(e,t).height}function fa(e,t){return V5(e,t).width}function N9(e){return"str"in e}function ma(e,t){return $y({},e,t)}function Kn(e){return e??null}function aoe(e,t){let r=Math.round(e.x),i=Math.round(e.y),n=t.replace(/(\d+\.\d+)/g,a=>Math.round(parseFloat(a)).toString());return n.includes(r.toString())||n.includes(i.toString())}var soe,M9,ooe,loe,coe,I9,uoe,hoe,doe,D9,H5,poe,R9,O9,P9,goe,foe,B9,moe,V5,yoe,Y5,voe,boe,Iu,or,xoe,co,cd,Zt=D(()=>{"use strict";soe=zn(xy(),1),hr(),cr(),IH(),st(),zp(),Uf(),wne(),Jse(),uS(),M9="\u200B",ooe={curveBasis:Xh,curveBasisClosed:fre,curveBasisOpen:mre,curveBumpX:mA,curveBumpY:yA,curveBundle:yre,curveCardinalClosed:vre,curveCardinalOpen:xre,curveCardinal:kA,curveCatmullRomClosed:kre,curveCatmullRomOpen:Tre,curveCatmullRom:EA,curveLinear:gy,curveLinearClosed:Ere,curveMonotoneX:RA,curveMonotoneY:OA,curveNatural:$A,curveStep:FA,curveStepAfter:GA,curveStepBefore:zA},loe=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,coe=l(function(e,t){let r=I9(e,/(?:init\b)|(?:initialize\b)/),i={};if(Array.isArray(r)){let s=r.map(o=>o.args);Jf(s),i=ki(i,[...s])}else i=r.args;if(!i)return;let n=s3(e,t),a="config";return i[a]!==void 0&&(n==="flowchart-v2"&&(n="flowchart"),i[n]=i[a],delete i[a]),i},"detectInit"),I9=l(function(e,t=null){try{let r=new RegExp(`[%]{2}(?![{]${loe.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),ne.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let i,n=[];for(;(i=Fp.exec(e))!==null;)if(i.index===Fp.lastIndex&&Fp.lastIndex++,i&&!t||t&&i[1]?.match(t)||t&&i[2]?.match(t)){let a=i[1]?i[1]:i[2],s=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;n.push({type:a,args:s})}return n.length===0?{type:e,args:null}:n.length===1?n[0]:n}catch(r){return ne.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),uoe=l(function(e){return e.replace(Fp,"")},"removeDirectives"),hoe=l(function(e,t){for(let[r,i]of t.entries())if(i.match(e))return r;return-1},"isSubstringInArray"),l(_9,"interpolateToCurve"),l(eoe,"formatUrl"),doe=l((e,...t)=>{let r=e.split("."),i=r.length-1,n=r[i],a=window;for(let s=0;s<i;s++)if(a=a[r[s]],!a){ne.error(`Function name: ${e} not found in window`);return}a[n](...t)},"runFunc"),l(A9,"distance"),l(toe,"traverseEdge"),l(roe,"calcLabelPosition"),D9=l((e,t=2)=>{let r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),H5=l((e,t)=>{let r,i=t;for(let n of e){if(r){let a=A9(n,r);if(a===0)return r;if(a<i)i-=a;else{let s=i/a;if(s<=0)return r;if(s>=1)return{x:n.x,y:n.y};if(s>0&&s<1)return{x:D9((1-s)*r.x+s*n.x,5),y:D9((1-s)*r.y+s*n.y,5)}}}r=n}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),poe=l((e,t,r)=>{ne.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());let i=H5(t,25),n=e?10:5,a=Math.atan2(t[0].y-i.y,t[0].x-i.x),s={x:0,y:0};return s.x=Math.sin(a)*n+(t[0].x+i.x)/2,s.y=-Math.cos(a)*n+(t[0].y+i.y)/2,s},"calcCardinalityPosition"),l(ioe,"calcTerminalLabelPosition"),l(L9,"getStylesFromArray"),R9=0,O9=l(()=>(R9++,"id-"+Math.random().toString(36).substr(2,12)+"-"+R9),"generateId"),l(noe,"makeRandomHex"),P9=l(e=>noe(e.length),"random"),goe=l(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),foe=l(function(e,t){let r=t.text.replace(nt.lineBreakRegex," "),[,i]=Iu(t.fontSize),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.style("text-anchor",t.anchor),n.style("font-family",t.fontFamily),n.style("font-size",i),n.style("font-weight",t.fontWeight),n.attr("fill",t.fill),t.class!==void 0&&n.attr("class",t.class);let a=n.append("tspan");return a.attr("x",t.x+t.textMargin*2),a.attr("fill",t.fill),a.text(r),n},"drawSimpleText"),B9=Sy((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),nt.lineBreakRegex.test(e)))return e;let i=e.split(" ").filter(Boolean),n=[],a="";return i.forEach((s,o)=>{let u=fa(`${s} `,r),h=fa(a,r);if(u>t){let{hyphenatedStrings:d,remainingWord:p}=moe(s,t,"-",r);n.push(a,...d),a=p}else h+u>=t?(n.push(a),a=s):a=[a,s].filter(Boolean).join(" ");o+1===i.length&&n.push(a)}),n.filter(s=>s!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),moe=Sy((e,t,r="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);let n=[...e],a=[],s="";return n.forEach((o,u)=>{let h=`${s}${o}`;if(fa(h,i)>=t){let d=u+1,p=n.length===d,g=`${h}${r}`;a.push(p?h:g),s=""}else s=h}),{hyphenatedStrings:a,remainingWord:s}},(e,t,r="-",i)=>`${e}${t}${r}${i.fontSize}${i.fontWeight}${i.fontFamily}`),l(j5,"calculateTextHeight"),l(fa,"calculateTextWidth"),V5=Sy((e,t)=>{let{fontSize:r=12,fontFamily:i="Arial",fontWeight:n=400}=t;if(!e)return{width:0,height:0};let[,a]=Iu(r),s=["sans-serif",i],o=e.split(nt.lineBreakRegex),u=[],h=Ke("body");if(!h.remove)return{width:0,height:0,lineHeight:0};let d=h.append("svg");for(let g of s){let f=0,m={width:0,height:0,lineHeight:0};for(let y of o){let b=goe();b.text=y||M9;let v=foe(d,b).style("font-size",a).style("font-weight",n).style("font-family",g),x=(v._groups||v)[0][0].getBBox();if(x.width===0&&x.height===0)throw new Error("svg element not in render tree");m.width=Math.round(Math.max(m.width,x.width)),f=Math.round(x.height),m.height+=f,m.lineHeight=Math.round(Math.max(m.lineHeight,f))}u.push(m)}d.remove();let p=isNaN(u[1].height)||isNaN(u[1].width)||isNaN(u[1].lineHeight)||u[0].height>u[1].height&&u[0].width>u[1].width&&u[0].lineHeight>u[1].lineHeight?0:1;return u[p]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),yoe=class{constructor(e=!1,t){this.count=0,this.count=t?t.length:0,this.next=e?()=>this.count++:()=>Date.now()}static{l(this,"InitIDGenerator")}},voe=l(function(e){return Y5=Y5||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Y5.innerHTML=e,unescape(Y5.textContent)},"entityDecode"),l(N9,"isDetailedError"),boe=l((e,t,r,i)=>{if(!i)return;let n=e.node()?.getBBox();n&&e.append("text").text(i).attr("text-anchor","middle").attr("x",n.x+n.width/2).attr("y",-r).attr("class",t)},"insertTitle"),Iu=l(e=>{if(typeof e=="number")return[e,e+"px"];let t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize"),l(ma,"cleanAndMerge"),or={assignWithDepth:ki,wrapLabel:B9,calculateTextHeight:j5,calculateTextWidth:fa,calculateTextDimensions:V5,cleanAndMerge:ma,detectInit:coe,detectDirective:I9,isSubstringInArray:hoe,interpolateToCurve:_9,calcLabelPosition:roe,calcCardinalityPosition:poe,calcTerminalLabelPosition:ioe,formatUrl:eoe,getStylesFromArray:L9,generateId:O9,random:P9,runFunc:doe,entityDecode:voe,insertTitle:boe,isLabelCoordinateInPath:aoe,parseFontSize:Iu,InitIDGenerator:yoe},xoe=l(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){let i=r.substring(1,r.length-1);return/^\+?\d+$/.test(i)?"\uFB02\xB0\xB0"+i+"\xB6\xDF":"\uFB02\xB0"+i+"\xB6\xDF"}),t},"encodeEntities"),co=l(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),cd=l((e,t,{counter:r=0,prefix:i,suffix:n},a)=>a||`${i?`${i}_`:""}${e}_${t}_${r}${n?`_${n}`:""}`,"getEdgeId"),l(Kn,"handleUndefinedAttr"),l(aoe,"isLabelCoordinateInPath")});function Is(e,t,r,i,n){if(!t[e].width)if(r)t[e].text=B9(t[e].text,n,i),t[e].textLines=t[e].text.split(nt.lineBreakRegex).length,t[e].width=n,t[e].height=j5(t[e].text,i);else{let a=t[e].text.split(nt.lineBreakRegex);t[e].textLines=a.length;let s=0;t[e].height=0,t[e].width=0;for(let o of a)t[e].width=Math.max(fa(o,i),t[e].width),s=j5(o,i),t[e].height=t[e].height+s}}function $9(e,t,r,i,n){let a=new z9(n);a.data.widthLimit=r.data.widthLimit/Math.min(W5,i.length);for(let[s,o]of i.entries()){let u=0;o.image={width:0,height:0,Y:0},o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=u,u=o.image.Y+o.image.height);let h=o.wrap&&Bt.wrap,d=Gy(Bt);if(d.fontSize=d.fontSize+2,d.fontWeight="bold",Is("label",o,h,d,a.data.widthLimit),o.label.Y=u+8,u=o.label.Y+o.label.height,o.type&&o.type.text!==""){o.type.text="["+o.type.text+"]";let m=Gy(Bt);Is("type",o,h,m,a.data.widthLimit),o.type.Y=u+5,u=o.type.Y+o.type.height}if(o.descr&&o.descr.text!==""){let m=Gy(Bt);m.fontSize=m.fontSize-2,Is("descr",o,h,m,a.data.widthLimit),o.descr.Y=u+20,u=o.descr.Y+o.descr.height}if(s==0||s%W5===0){let m=r.data.startx+Bt.diagramMarginX,y=r.data.stopy+Bt.diagramMarginY+u;a.setData(m,m,y,y)}else{let m=a.data.stopx!==a.data.startx?a.data.stopx+Bt.diagramMarginX:a.data.startx,y=a.data.starty;a.setData(m,m,y,y)}a.name=o.alias;let p=n.db.getC4ShapeArray(o.alias),g=n.db.getC4ShapeKeys(o.alias);g.length>0&&U9(a,e,p,g),t=o.alias;let f=n.db.getBoundaries(t);f.length>0&&$9(e,t,a,f,n),o.alias!=="global"&&G9(e,o,a),r.data.stopy=Math.max(a.data.stopy+Bt.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(a.data.stopx+Bt.c4ShapeMargin,r.data.stopx),Fy=Math.max(Fy,r.data.stopx),zy=Math.max(zy,r.data.stopy)}}var Fy,zy,F9,W5,Bt,z9,X5,Tg,Gy,woe,G9,U9,ss,q9,koe,Toe,Eoe,j9,IYe=D(()=>{"use strict";hr(),UVe(),st(),kW(),cr(),oX(),Gt(),Uf(),Zt(),an(),Fy=0,zy=0,F9=4,W5=2,Lm.yy=y3,Bt={},z9=class{static{l(this,"Bounds")}constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,X5(e.db.getConfig())}setData(e,t,r,i){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=t,this.nextData.starty=this.data.starty=r,this.nextData.stopy=this.data.stopy=i}updateVal(e,t,r,i){e[t]===void 0?e[t]=r:e[t]=i(r,e[t])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let t=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,r=t+e.width,i=this.nextData.starty+e.margin*2,n=i+e.height;(t>=this.data.widthLimit||r>=this.data.widthLimit||this.nextData.cnt>F9)&&(t=this.nextData.startx+e.margin+Bt.nextLinePaddingX,i=this.nextData.stopy+e.margin*2,this.nextData.stopx=r=t+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=n=i+e.height,this.nextData.cnt=1),e.x=t,e.y=i,this.updateVal(this.data,"startx",t,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",r,Math.max),this.updateVal(this.data,"stopy",n,Math.max),this.updateVal(this.nextData,"startx",t,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",r,Math.max),this.updateVal(this.nextData,"stopy",n,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},X5(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}},X5=l(function(e){ki(Bt,e),e.fontFamily&&(Bt.personFontFamily=Bt.systemFontFamily=Bt.messageFontFamily=e.fontFamily),e.fontSize&&(Bt.personFontSize=Bt.systemFontSize=Bt.messageFontSize=e.fontSize),e.fontWeight&&(Bt.personFontWeight=Bt.systemFontWeight=Bt.messageFontWeight=e.fontWeight)},"setConf"),Tg=l((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"c4ShapeFont"),Gy=l(e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),"boundaryFont"),woe=l(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),l(Is,"calcC4ShapeTextWH"),G9=l(function(e,t,r){t.x=r.data.startx,t.y=r.data.starty,t.width=r.data.stopx-r.data.startx,t.height=r.data.stopy-r.data.starty,t.label.y=Bt.c4ShapeMargin-35;let i=t.wrap&&Bt.wrap,n=Gy(Bt);n.fontSize=n.fontSize+2,n.fontWeight="bold";let a=fa(t.label.text,n);Is("label",t,i,n,a),ao.drawBoundary(e,t,Bt)},"drawBoundary"),U9=l(function(e,t,r,i){let n=0;for(let a of i){n=0;let s=r[a],o=Tg(Bt,s.typeC4Shape.text);switch(o.fontSize=o.fontSize-2,s.typeC4Shape.width=fa("\xAB"+s.typeC4Shape.text+"\xBB",o),s.typeC4Shape.height=o.fontSize+2,s.typeC4Shape.Y=Bt.c4ShapePadding,n=s.typeC4Shape.Y+s.typeC4Shape.height-4,s.image={width:0,height:0,Y:0},s.typeC4Shape.text){case"person":case"external_person":s.image.width=48,s.image.height=48,s.image.Y=n,n=s.image.Y+s.image.height;break}s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=n,n=s.image.Y+s.image.height);let u=s.wrap&&Bt.wrap,h=Bt.width-Bt.c4ShapePadding*2,d=Tg(Bt,s.typeC4Shape.text);if(d.fontSize=d.fontSize+2,d.fontWeight="bold",Is("label",s,u,d,h),s.label.Y=n+8,n=s.label.Y+s.label.height,s.type&&s.type.text!==""){s.type.text="["+s.type.text+"]";let f=Tg(Bt,s.typeC4Shape.text);Is("type",s,u,f,h),s.type.Y=n+5,n=s.type.Y+s.type.height}else if(s.techn&&s.techn.text!==""){s.techn.text="["+s.techn.text+"]";let f=Tg(Bt,s.techn.text);Is("techn",s,u,f,h),s.techn.Y=n+5,n=s.techn.Y+s.techn.height}let p=n,g=s.label.width;if(s.descr&&s.descr.text!==""){let f=Tg(Bt,s.typeC4Shape.text);Is("descr",s,u,f,h),s.descr.Y=n+20,n=s.descr.Y+s.descr.height,g=Math.max(s.label.width,s.descr.width),p=n-s.descr.textLines*5}g=g+Bt.c4ShapePadding,s.width=Math.max(s.width||Bt.width,g,Bt.width),s.height=Math.max(s.height||Bt.height,p,Bt.height),s.margin=s.margin||Bt.c4ShapeMargin,e.insert(s),ao.drawC4Shape(t,s,Bt)}e.bumpLastMargin(Bt.c4ShapeMargin)},"drawC4ShapeArray"),ss=class{static{l(this,"Point")}constructor(e,t){this.x=e,this.y=t}},q9=l(function(e,t){let r=e.x,i=e.y,n=t.x,a=t.y,s=r+e.width/2,o=i+e.height/2,u=Math.abs(r-n),h=Math.abs(i-a),d=h/u,p=e.height/e.width,g=null;return i==a&&r<n?g=new ss(r+e.width,o):i==a&&r>n?g=new ss(r,o):r==n&&i<a?g=new ss(s,i+e.height):r==n&&i>a&&(g=new ss(s,i)),r>n&&i<a?p>=d?g=new ss(r,o+d*e.width/2):g=new ss(s-u/h*e.height/2,i+e.height):r<n&&i<a?p>=d?g=new ss(r+e.width,o+d*e.width/2):g=new ss(s+u/h*e.height/2,i+e.height):r<n&&i>a?p>=d?g=new ss(r+e.width,o-d*e.width/2):g=new ss(s+e.height/2*u/h,i):r>n&&i>a&&(p>=d?g=new ss(r,o-e.width/2*d):g=new ss(s-e.height/2*u/h,i)),g},"getIntersectPoint"),koe=l(function(e,t){let r={x:0,y:0};r.x=t.x+t.width/2,r.y=t.y+t.height/2;let i=q9(e,r);r.x=e.x+e.width/2,r.y=e.y+e.height/2;let n=q9(t,r);return{startPoint:i,endPoint:n}},"getIntersectPoints"),Toe=l(function(e,t,r,i){let n=0;for(let a of t){n=n+1;let s=a.wrap&&Bt.wrap,o=woe(Bt);i.db.getC4Type()==="C4Dynamic"&&(a.label.text=n+": "+a.label.text);let u=fa(a.label.text,o);Is("label",a,s,o,u),a.techn&&a.techn.text!==""&&(u=fa(a.techn.text,o),Is("techn",a,s,o,u)),a.descr&&a.descr.text!==""&&(u=fa(a.descr.text,o),Is("descr",a,s,o,u));let h=r(a.from),d=r(a.to),p=koe(h,d);a.startPoint=p.startPoint,a.endPoint=p.endPoint}ao.drawRels(e,t,Bt)},"drawRels"),l($9,"drawInsideBoundary"),Eoe=l(function(e,t,r,i){Bt=Ee().c4;let n=Ee().securityLevel,a;n==="sandbox"&&(a=Ke("#i"+t));let s=Ke(n==="sandbox"?a.nodes()[0].contentDocument.body:"body"),o=i.db;i.db.setWrap(Bt.wrap),F9=o.getC4ShapeInRow(),W5=o.getC4BoundaryInRow(),ne.debug(`C:${JSON.stringify(Bt,null,2)}`);let u=n==="sandbox"?s.select(`[id="${t}"]`):Ke(`[id="${t}"]`);ao.insertComputerIcon(u),ao.insertDatabaseIcon(u),ao.insertClockIcon(u);let h=new z9(i);h.setData(Bt.diagramMarginX,Bt.diagramMarginX,Bt.diagramMarginY,Bt.diagramMarginY),h.data.widthLimit=screen.availWidth,Fy=Bt.diagramMarginX,zy=Bt.diagramMarginY;let d=i.db.getTitle(),p=i.db.getBoundaries("");$9(u,"",h,p,i),ao.insertArrowHead(u),ao.insertArrowEnd(u),ao.insertArrowCrossHead(u),ao.insertArrowFilledHead(u),Toe(u,i.db.getRels(),i.db.getC4Shape,i),h.data.stopx=Fy,h.data.stopy=zy;let g=h.data,f=g.stopy-g.starty+2*Bt.diagramMarginY,m=g.stopx-g.startx+2*Bt.diagramMarginX;d&&u.append("text").text(d).attr("x",(g.stopx-g.startx)/2-4*Bt.diagramMarginX).attr("y",g.starty+Bt.diagramMarginY),Wn(u,f,m,Bt.useMaxWidth);let y=d?60:0;u.attr("viewBox",g.startx-Bt.diagramMarginX+" -"+(Bt.diagramMarginY+y)+" "+m+" "+(f+y)),ne.debug("models:",g)},"draw"),j9={drawPersonOrSystemArray:U9,drawBoundary:G9,setConf:X5,draw:Eoe}}),Coe,Soe,DYe=D(()=>{"use strict";Coe=l(e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,"getStyles"),Soe=Coe}),_oe={};sr(_oe,{diagram:()=>Aoe});var Aoe,RYe=D(()=>{"use strict";kW(),oX(),IYe(),DYe(),Aoe={parser:wW,db:y3,renderer:j9,styles:Soe,init:l(({c4:e,wrap:t})=>{j9.setConf(e),y3.setWrap(t)},"init")}});function H9(e){return typeof e>"u"||e===null}function Loe(e){return typeof e=="object"&&e!==null}function Noe(e){return Array.isArray(e)?e:H9(e)?[]:[e]}function Moe(e,t){var r,i,n,a;if(t)for(a=Object.keys(t),r=0,i=a.length;r<i;r+=1)n=a[r],e[n]=t[n];return e}function Ioe(e,t){var r="",i;for(i=0;i<t;i+=1)r+=e;return r}function Doe(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}function V9(e,t){var r="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),i+" "+r):i}function Eg(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=V9(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}function K5(e,t,r,i,n){var a="",s="",o=Math.floor(n/2)-1;return i-t>o&&(a=" ... ",t=i-o+a.length),r-i>o&&(s=" ...",r=i+o-s.length),{str:a+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:i-t+a.length}}function Z5(e,t){return Hi.repeat(" ",t-e.length)+e}function Roe(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,i=[0],n=[],a,s=-1;a=r.exec(e.buffer);)n.push(a.index),i.push(a.index+a[0].length),e.position<=a.index&&s<0&&(s=i.length-2);s<0&&(s=i.length-1);var o="",u,h,d=Math.min(e.line+t.linesAfter,n.length).toString().length,p=t.maxLength-(t.indent+d+3);for(u=1;u<=t.linesBefore&&!(s-u<0);u++)h=K5(e.buffer,i[s-u],n[s-u],e.position-(i[s]-i[s-u]),p),o=Hi.repeat(" ",t.indent)+Z5((e.line-u+1).toString(),d)+" | "+h.str+`
`+o;for(h=K5(e.buffer,i[s],n[s],e.position,p),o+=Hi.repeat(" ",t.indent)+Z5((e.line+1).toString(),d)+" | "+h.str+`
`,o+=Hi.repeat("-",t.indent+d+3+h.pos)+`^
`,u=1;u<=t.linesAfter&&!(s+u>=n.length);u++)h=K5(e.buffer,i[s+u],n[s+u],e.position-(i[s]-i[s+u]),p),o+=Hi.repeat(" ",t.indent)+Z5((e.line+u+1).toString(),d)+" | "+h.str+`
`;return o.replace(/\n$/,"")}function Ooe(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(i){t[String(i)]=r})}),t}function Poe(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(Jle.indexOf(r)===-1)throw new va('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Ooe(t.styleAliases||null),ece.indexOf(this.kind)===-1)throw new va('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}function Y9(e,t){var r=[];return e[t].forEach(function(i){var n=r.length;r.forEach(function(a,s){a.tag===i.tag&&a.kind===i.kind&&a.multi===i.multi&&(n=s)}),r[n]=i}),r}function Boe(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function i(n){n.multi?(e.multi[n.kind].push(n),e.multi.fallback.push(n)):e[n.kind][n.tag]=e.fallback[n.tag]=n}for(l(i,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(i);return e}function Q5(e){return this.extend(e)}function $oe(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Foe(){return null}function zoe(e){return e===null}function Goe(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Uoe(e){return e==="true"||e==="True"||e==="TRUE"}function qoe(e){return Object.prototype.toString.call(e)==="[object Boolean]"}function joe(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Hoe(e){return 48<=e&&e<=55}function Voe(e){return 48<=e&&e<=57}function Yoe(e){if(e===null)return!1;var t=e.length,r=0,i=!1,n;if(!t)return!1;if(n=e[r],(n==="-"||n==="+")&&(n=e[++r]),n==="0"){if(r+1===t)return!0;if(n=e[++r],n==="b"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(n!=="0"&&n!=="1")return!1;i=!0}return i&&n!=="_"}if(n==="x"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!joe(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}if(n==="o"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!Hoe(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}}if(n==="_")return!1;for(;r<t;r++)if(n=e[r],n!=="_"){if(!Voe(e.charCodeAt(r)))return!1;i=!0}return!(!i||n==="_")}function Woe(e){var t=e,r=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function Xoe(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Hi.isNegativeZero(e)}function Koe(e){return!(e===null||!cce.test(e)||e[e.length-1]==="_")}function Zoe(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}function Qoe(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Hi.isNegativeZero(e))return"-0.0";return r=e.toString(10),uce.test(r)?r.replace("e",".e"):r}function Joe(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Hi.isNegativeZero(e))}function ele(e){return e===null?!1:uL.exec(e)!==null||hL.exec(e)!==null}function tle(e){var t,r,i,n,a,s,o,u=0,h=null,d,p,g;if(t=uL.exec(e),t===null&&(t=hL.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],i=+t[2]-1,n=+t[3],!t[4])return new Date(Date.UTC(r,i,n));if(a=+t[4],s=+t[5],o=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(d=+t[10],p=+(t[11]||0),h=(d*60+p)*6e4,t[9]==="-"&&(h=-h)),g=new Date(Date.UTC(r,i,n,a,s,o,u)),h&&g.setTime(g.getTime()-h),g}function rle(e){return e.toISOString()}function ile(e){return e==="<<"||e===null}function nle(e){if(e===null)return!1;var t,r,i=0,n=e.length,a=n6;for(r=0;r<n;r++)if(t=a.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function ale(e){var t,r,i=e.replace(/[\r\n=]/g,""),n=i.length,a=n6,s=0,o=[];for(t=0;t<n;t++)t%4===0&&t&&(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)),s=s<<6|a.indexOf(i.charAt(t));return r=n%4*6,r===0?(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)):r===18?(o.push(s>>10&255),o.push(s>>2&255)):r===12&&o.push(s>>4&255),new Uint8Array(o)}function sle(e){var t="",r=0,i,n,a=e.length,s=n6;for(i=0;i<a;i++)i%3===0&&i&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[i];return n=a%3,n===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):n===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):n===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function ole(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}function lle(e){if(e===null)return!0;var t=[],r,i,n,a,s,o=e;for(r=0,i=o.length;r<i;r+=1){if(n=o[r],s=!1,yce.call(n)!=="[object Object]")return!1;for(a in n)if(mce.call(n,a))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function cle(e){return e!==null?e:[]}function ule(e){if(e===null)return!0;var t,r,i,n,a,s=e;for(a=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(i=s[t],bce.call(i)!=="[object Object]"||(n=Object.keys(i),n.length!==1))return!1;a[t]=[n[0],i[n[0]]]}return!0}function hle(e){if(e===null)return[];var t,r,i,n,a,s=e;for(a=new Array(s.length),t=0,r=s.length;t<r;t+=1)i=s[t],n=Object.keys(i),a[t]=[n[0],i[n[0]]];return a}function dle(e){if(e===null)return!0;var t,r=e;for(t in r)if(wce.call(r,t)&&r[t]!==null)return!1;return!0}function ple(e){return e!==null?e:{}}function W9(e){return Object.prototype.toString.call(e)}function uo(e){return e===10||e===13}function Du(e){return e===9||e===32}function ya(e){return e===9||e===32||e===10||e===13}function ud(e){return e===44||e===91||e===93||e===123||e===125}function gle(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function fle(e){return e===120?2:e===117?4:e===85?8:0}function mle(e){return 48<=e&&e<=57?e-48:-1}function X9(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function yle(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function vle(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||dL,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function K9(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Qle(r),new va(t,r)}function Ut(e,t){throw K9(e,t)}function Uy(e,t){e.onWarning&&e.onWarning.call(null,K9(e,t))}function nc(e,t,r,i){var n,a,s,o;if(t<r){if(o=e.input.slice(t,r),i)for(n=0,a=o.length;n<a;n+=1)s=o.charCodeAt(n),s===9||32<=s&&s<=1114111||Ut(e,"expected valid JSON character");else Ece.test(o)&&Ut(e,"the stream contains non-printable characters");e.result+=o}}function Z9(e,t,r,i){var n,a,s,o;for(Hi.isObject(r)||Ut(e,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(r),s=0,o=n.length;s<o;s+=1)a=n[s],ac.call(t,a)||(t[a]=r[a],i[a]=!0)}function hd(e,t,r,i,n,a,s,o,u){var h,d;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),h=0,d=n.length;h<d;h+=1)Array.isArray(n[h])&&Ut(e,"nested arrays are not supported inside keys"),typeof n=="object"&&W9(n[h])==="[object Object]"&&(n[h]="[object Object]");if(typeof n=="object"&&W9(n)==="[object Object]"&&(n="[object Object]"),n=String(n),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(h=0,d=a.length;h<d;h+=1)Z9(e,t,a[h],r);else Z9(e,t,a,r);else!e.json&&!ac.call(r,n)&&ac.call(t,n)&&(e.line=s||e.line,e.lineStart=o||e.lineStart,e.position=u||e.position,Ut(e,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(t,n,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[n]=a,delete r[n];return t}function J5(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Ut(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Ri(e,t,r){for(var i=0,n=e.input.charCodeAt(e.position);n!==0;){for(;Du(n);)n===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),n=e.input.charCodeAt(++e.position);if(t&&n===35)do n=e.input.charCodeAt(++e.position);while(n!==10&&n!==13&&n!==0);if(uo(n))for(J5(e),n=e.input.charCodeAt(e.position),i++,e.lineIndent=0;n===32;)e.lineIndent++,n=e.input.charCodeAt(++e.position);else break}return r!==-1&&i!==0&&e.lineIndent<r&&Uy(e,"deficient indentation"),i}function qy(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||ya(r)))}function e6(e,t){t===1?e.result+=" ":t>1&&(e.result+=Hi.repeat(`
`,t-1))}function ble(e,t,r){var i,n,a,s,o,u,h,d,p=e.kind,g=e.result,f;if(f=e.input.charCodeAt(e.position),ya(f)||ud(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(n=e.input.charCodeAt(e.position+1),ya(n)||r&&ud(n)))return!1;for(e.kind="scalar",e.result="",a=s=e.position,o=!1;f!==0;){if(f===58){if(n=e.input.charCodeAt(e.position+1),ya(n)||r&&ud(n))break}else if(f===35){if(i=e.input.charCodeAt(e.position-1),ya(i))break}else{if(e.position===e.lineStart&&qy(e)||r&&ud(f))break;if(uo(f))if(u=e.line,h=e.lineStart,d=e.lineIndent,Ri(e,!1,-1),e.lineIndent>=t){o=!0,f=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=u,e.lineStart=h,e.lineIndent=d;break}}o&&(nc(e,a,s,!1),e6(e,e.line-u),a=s=e.position,o=!1),Du(f)||(s=e.position+1),f=e.input.charCodeAt(++e.position)}return nc(e,a,s,!1),e.result?!0:(e.kind=p,e.result=g,!1)}function xle(e,t){var r,i,n;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=n=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(nc(e,i,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)i=e.position,e.position++,n=e.position;else return!0;else uo(r)?(nc(e,i,n,!0),e6(e,Ri(e,!1,t)),i=n=e.position):e.position===e.lineStart&&qy(e)?Ut(e,"unexpected end of the document within a single quoted scalar"):(e.position++,n=e.position);Ut(e,"unexpected end of the stream within a single quoted scalar")}function wle(e,t){var r,i,n,a,s,o;if(o=e.input.charCodeAt(e.position),o!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(o=e.input.charCodeAt(e.position))!==0;){if(o===34)return nc(e,r,e.position,!0),e.position++,!0;if(o===92){if(nc(e,r,e.position,!0),o=e.input.charCodeAt(++e.position),uo(o))Ri(e,!1,t);else if(o<256&&vL[o])e.result+=bL[o],e.position++;else if((s=fle(o))>0){for(n=s,a=0;n>0;n--)o=e.input.charCodeAt(++e.position),(s=gle(o))>=0?a=(a<<4)+s:Ut(e,"expected hexadecimal character");e.result+=yle(a),e.position++}else Ut(e,"unknown escape sequence");r=i=e.position}else uo(o)?(nc(e,r,i,!0),e6(e,Ri(e,!1,t)),r=i=e.position):e.position===e.lineStart&&qy(e)?Ut(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}Ut(e,"unexpected end of the stream within a double quoted scalar")}function kle(e,t){var r=!0,i,n,a,s=e.tag,o,u=e.anchor,h,d,p,g,f,m=Object.create(null),y,b,v,x;if(x=e.input.charCodeAt(e.position),x===91)d=93,f=!1,o=[];else if(x===123)d=125,f=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),x=e.input.charCodeAt(++e.position);x!==0;){if(Ri(e,!0,t),x=e.input.charCodeAt(e.position),x===d)return e.position++,e.tag=s,e.anchor=u,e.kind=f?"mapping":"sequence",e.result=o,!0;r?x===44&&Ut(e,"expected the node content, but found ','"):Ut(e,"missed comma between flow collection entries"),b=y=v=null,p=g=!1,x===63&&(h=e.input.charCodeAt(e.position+1),ya(h)&&(p=g=!0,e.position++,Ri(e,!0,t))),i=e.line,n=e.lineStart,a=e.position,dd(e,t,Hy,!1,!0),b=e.tag,y=e.result,Ri(e,!0,t),x=e.input.charCodeAt(e.position),(g||e.line===i)&&x===58&&(p=!0,x=e.input.charCodeAt(++e.position),Ri(e,!0,t),dd(e,t,Hy,!1,!0),v=e.result),f?hd(e,o,m,b,y,v,i,n,a):p?o.push(hd(e,null,m,b,y,v,i,n,a)):o.push(y),Ri(e,!0,t),x=e.input.charCodeAt(e.position),x===44?(r=!0,x=e.input.charCodeAt(++e.position)):r=!1}Ut(e,"unexpected end of the stream within a flow collection")}function Tle(e,t){var r,i,n=a6,a=!1,s=!1,o=t,u=0,h=!1,d,p;if(p=e.input.charCodeAt(e.position),p===124)i=!1;else if(p===62)i=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)a6===n?n=p===43?fL:Tce:Ut(e,"repeat of a chomping mode identifier");else if((d=mle(p))>=0)d===0?Ut(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Ut(e,"repeat of an indentation width identifier"):(o=t+d-1,s=!0);else break;if(Du(p)){do p=e.input.charCodeAt(++e.position);while(Du(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!uo(p)&&p!==0)}for(;p!==0;){for(J5(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!s||e.lineIndent<o)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>o&&(o=e.lineIndent),uo(p)){u++;continue}if(e.lineIndent<o){n===fL?e.result+=Hi.repeat(`
`,a?1+u:u):n===a6&&a&&(e.result+=`
`);break}for(i?Du(p)?(h=!0,e.result+=Hi.repeat(`
`,a?1+u:u)):h?(h=!1,e.result+=Hi.repeat(`
`,u+1)):u===0?a&&(e.result+=" "):e.result+=Hi.repeat(`
`,u):e.result+=Hi.repeat(`
`,a?1+u:u),a=!0,s=!0,u=0,r=e.position;!uo(p)&&p!==0;)p=e.input.charCodeAt(++e.position);nc(e,r,e.position,!1)}return!0}function Q9(e,t){var r,i=e.tag,n=e.anchor,a=[],s,o=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ut(e,"tab characters must not be used in indentation")),!(u!==45||(s=e.input.charCodeAt(e.position+1),!ya(s))));){if(o=!0,e.position++,Ri(e,!0,-1)&&e.lineIndent<=t){a.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,dd(e,t,gL,!1,!0),a.push(e.result),Ri(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)Ut(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return o?(e.tag=i,e.anchor=n,e.kind="sequence",e.result=a,!0):!1}function Ele(e,t,r){var i,n,a,s,o,u,h=e.tag,d=e.anchor,p={},g=Object.create(null),f=null,m=null,y=null,b=!1,v=!1,x;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),x=e.input.charCodeAt(e.position);x!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ut(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),a=e.line,(x===63||x===58)&&ya(i))x===63?(b&&(hd(e,p,g,f,m,null,s,o,u),f=m=y=null),v=!0,b=!0,n=!0):b?(b=!1,n=!0):Ut(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,x=i;else{if(s=e.line,o=e.lineStart,u=e.position,!dd(e,r,pL,!1,!0))break;if(e.line===a){for(x=e.input.charCodeAt(e.position);Du(x);)x=e.input.charCodeAt(++e.position);if(x===58)x=e.input.charCodeAt(++e.position),ya(x)||Ut(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(hd(e,p,g,f,m,null,s,o,u),f=m=y=null),v=!0,b=!1,n=!1,f=e.tag,m=e.result;else if(v)Ut(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=h,e.anchor=d,!0}else if(v)Ut(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=h,e.anchor=d,!0}if((e.line===a||e.lineIndent>t)&&(b&&(s=e.line,o=e.lineStart,u=e.position),dd(e,t,Vy,!0,n)&&(b?m=e.result:y=e.result),b||(hd(e,p,g,f,m,y,s,o,u),f=m=y=null),Ri(e,!0,-1),x=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&x!==0)Ut(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&hd(e,p,g,f,m,null,s,o,u),v&&(e.tag=h,e.anchor=d,e.kind="mapping",e.result=p),v}function Cle(e){var t,r=!1,i=!1,n,a,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&Ut(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(i=!0,n="!!",s=e.input.charCodeAt(++e.position)):n="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(a=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):Ut(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!ya(s);)s===33&&(i?Ut(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),mL.test(n)||Ut(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),Sce.test(a)&&Ut(e,"tag suffix cannot contain flow indicator characters")}a&&!yL.test(a)&&Ut(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{Ut(e,"tag name is malformed: "+a)}return r?e.tag=a:ac.call(e.tagMap,n)?e.tag=e.tagMap[n]+a:n==="!"?e.tag="!"+a:n==="!!"?e.tag="tag:yaml.org,2002:"+a:Ut(e,'undeclared tag handle "'+n+'"'),!0}function Sle(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Ut(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!ya(r)&&!ud(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Ut(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function _le(e){var t,r,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!ya(i)&&!ud(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&Ut(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),ac.call(e.anchorMap,r)||Ut(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Ri(e,!0,-1),!0}function dd(e,t,r,i,n){var a,s,o,u=1,h=!1,d=!1,p,g,f,m,y,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=o=Vy===r||gL===r,i&&Ri(e,!0,-1)&&(h=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;Cle(e)||Sle(e);)Ri(e,!0,-1)?(h=!0,o=a,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):o=!1;if(o&&(o=h||n),(u===1||Vy===r)&&(Hy===r||pL===r?y=t:y=t+1,b=e.position-e.lineStart,u===1?o&&(Q9(e,b)||Ele(e,b,y))||kle(e,y)?d=!0:(s&&Tle(e,y)||xle(e,y)||wle(e,y)?d=!0:_le(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&Ut(e,"alias node should not have any properties")):ble(e,y,Hy===r)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(d=o&&Q9(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Ut(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,g=e.implicitTypes.length;p<g;p+=1)if(m=e.implicitTypes[p],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ac.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,f=e.typeMap.multi[e.kind||"fallback"],p=0,g=f.length;p<g;p+=1)if(e.tag.slice(0,f[p].tag.length)===f[p].tag){m=f[p];break}m||Ut(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&Ut(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Ut(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function Ale(e){var t=e.position,r,i,n,a=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(Ri(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(a=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!ya(s);)s=e.input.charCodeAt(++e.position);for(i=e.input.slice(r,e.position),n=[],i.length<1&&Ut(e,"directive name must not be less than one character in length");s!==0;){for(;Du(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!uo(s));break}if(uo(s))break;for(r=e.position;s!==0&&!ya(s);)s=e.input.charCodeAt(++e.position);n.push(e.input.slice(r,e.position))}s!==0&&J5(e),ac.call(xL,i)?xL[i](e,i,n):Uy(e,'unknown document directive "'+i+'"')}if(Ri(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ri(e,!0,-1)):a&&Ut(e,"directives end mark is expected"),dd(e,e.lineIndent-1,Vy,!1,!0),Ri(e,!0,-1),e.checkLineBreaks&&Cce.test(e.input.slice(t,e.position))&&Uy(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&qy(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ri(e,!0,-1));return}if(e.position<e.length-1)Ut(e,"end of the stream or a document separator is expected");else return}function J9(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new vle(e,t),i=e.indexOf("\0");for(i!==-1&&(r.position=i,Ut(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Ale(r);return r.documents}function Lle(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var i=J9(e,r);if(typeof t!="function")return i;for(var n=0,a=i.length;n<a;n+=1)t(i[n])}function Nle(e,t){var r=J9(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new va("expected a single document in the stream, but found more")}}function Mle(e,t){var r,i,n,a,s,o,u;if(t===null)return{};for(r={},i=Object.keys(t),n=0,a=i.length;n<a;n+=1)s=i[n],o=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),u=e.compiledTypeMap.fallback[s],u&&TL.call(u.styleAliases,o)&&(o=u.styleAliases[o]),r[s]=o;return r}function Ile(e){var t,r,i;if(t=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else if(e<=4294967295)r="U",i=8;else throw new va("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Hi.repeat("0",i-t.length)+t}function Dle(e){this.schema=e.schema||dL,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Hi.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Mle(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Ag:Yce,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function eL(e,t){for(var r=Hi.repeat(" ",t),i=0,n=-1,a="",s,o=e.length;i<o;)n=e.indexOf(`
`,i),n===-1?(s=e.slice(i),i=o):(s=e.slice(i,n+1),i=n+1),s.length&&s!==`
`&&(a+=r),a+=s;return a}function t6(e,t){return`
`+Hi.repeat(" ",e.indent*t)}function Rle(e,t){var r,i,n;for(r=0,i=e.implicitTypes.length;r<i;r+=1)if(n=e.implicitTypes[r],n.resolve(t))return!0;return!1}function jy(e){return e===Mce||e===Lce}function Cg(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==s6||65536<=e&&e<=1114111}function tL(e){return Cg(e)&&e!==s6&&e!==Nce&&e!==_g}function rL(e,t,r){var i=tL(e),n=i&&!jy(e);return(r?i:i&&e!==EL&&e!==CL&&e!==SL&&e!==_L&&e!==AL)&&e!==o6&&!(t===Yy&&!n)||tL(t)&&!jy(t)&&e===o6||t===Yy&&n}function Ole(e){return Cg(e)&&e!==s6&&!jy(e)&&e!==$ce&&e!==Gce&&e!==Yy&&e!==EL&&e!==CL&&e!==SL&&e!==_L&&e!==AL&&e!==o6&&e!==Oce&&e!==Bce&&e!==Ice&&e!==jce&&e!==Fce&&e!==zce&&e!==Pce&&e!==Dce&&e!==Rce&&e!==Uce&&e!==qce}function Ple(e){return!jy(e)&&e!==Yy}function Sg(e,t){var r=e.charCodeAt(t),i;return r>=55296&&r<=56319&&t+1<e.length&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function iL(e){var t=/^\n* /;return t.test(e)}function Ble(e,t,r,i,n,a,s,o){var u,h=0,d=null,p=!1,g=!1,f=i!==-1,m=-1,y=Ole(Sg(e,0))&&Ple(Sg(e,e.length-1));if(t||s)for(u=0;u<e.length;h>=65536?u+=2:u++){if(h=Sg(e,u),!Cg(h))return gd;y=y&&rL(h,d,o),d=h}else{for(u=0;u<e.length;h>=65536?u+=2:u++){if(h=Sg(e,u),h===_g)p=!0,f&&(g=g||u-m-1>i&&e[m+1]!==" ",m=u);else if(!Cg(h))return gd;y=y&&rL(h,d,o),d=h}g=g||f&&u-m-1>i&&e[m+1]!==" "}return!p&&!g?y&&!s&&!n(e)?LL:a===Ag?gd:l6:r>9&&iL(e)?gd:s?a===Ag?gd:l6:g?ML:NL}function $le(e,t,r,i,n){e.dump=function(){if(t.length===0)return e.quotingType===Ag?'""':"''";if(!e.noCompatMode&&(Hce.indexOf(t)!==-1||Vce.test(t)))return e.quotingType===Ag?'"'+t+'"':"'"+t+"'";var a=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),o=i||e.flowLevel>-1&&r>=e.flowLevel;function u(h){return Rle(e,h)}switch(l(u,"testAmbiguity"),Ble(t,o,e.indent,s,u,e.quotingType,e.forceQuotes&&!i,n)){case LL:return t;case l6:return"'"+t.replace(/'/g,"''")+"'";case NL:return"|"+nL(t,e.indent)+aL(eL(t,a));case ML:return">"+nL(t,e.indent)+aL(eL(Fle(t,s),a));case gd:return'"'+zle(t)+'"';default:throw new va("impossible error: invalid scalar style")}}()}function nL(e,t){var r=iL(e)?String(t):"",i=e[e.length-1]===`
`,n=i&&(e[e.length-2]===`
`||e===`
`),a=n?"+":i?"":"-";return r+a+`
`}function aL(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Fle(e,t){for(var r=/(\n+)([^\n]*)/g,i=function(){var h=e.indexOf(`
`);return h=h!==-1?h:e.length,r.lastIndex=h,sL(e.slice(0,h),t)}(),n=e[0]===`
`||e[0]===" ",a,s;s=r.exec(e);){var o=s[1],u=s[2];a=u[0]===" ",i+=o+(!n&&!a&&u!==""?`
`:"")+sL(u,t),n=a}return i}function sL(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,i,n=0,a,s=0,o=0,u="";i=r.exec(e);)o=i.index,o-n>t&&(a=s>n?s:o,u+=`
`+e.slice(n,a),n=a+1),s=o;return u+=`
`,e.length-n>t&&s>n?u+=e.slice(n,s)+`
`+e.slice(s+1):u+=e.slice(n),u.slice(1)}function zle(e){for(var t="",r=0,i,n=0;n<e.length;r>=65536?n+=2:n++)r=Sg(e,n),i=Dn[r],!i&&Cg(r)?(t+=e[n],r>=65536&&(t+=e[n+1])):t+=i||Ile(r);return t}function Gle(e,t,r){var i="",n=e.tag,a,s,o;for(a=0,s=r.length;a<s;a+=1)o=r[a],e.replacer&&(o=e.replacer.call(r,String(a),o)),(tl(e,t,o,!1,!1)||typeof o>"u"&&tl(e,t,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=n,e.dump="["+i+"]"}function oL(e,t,r,i){var n="",a=e.tag,s,o,u;for(s=0,o=r.length;s<o;s+=1)u=r[s],e.replacer&&(u=e.replacer.call(r,String(s),u)),(tl(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&tl(e,t+1,null,!0,!0,!1,!0))&&((!i||n!=="")&&(n+=t6(e,t)),e.dump&&_g===e.dump.charCodeAt(0)?n+="-":n+="- ",n+=e.dump);e.tag=a,e.dump=n||"[]"}function Ule(e,t,r){var i="",n=e.tag,a=Object.keys(r),s,o,u,h,d;for(s=0,o=a.length;s<o;s+=1)d="",i!==""&&(d+=", "),e.condenseFlow&&(d+='"'),u=a[s],h=r[u],e.replacer&&(h=e.replacer.call(r,u,h)),tl(e,t,u,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),tl(e,t,h,!1,!1)&&(d+=e.dump,i+=d));e.tag=n,e.dump="{"+i+"}"}function qle(e,t,r,i){var n="",a=e.tag,s=Object.keys(r),o,u,h,d,p,g;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new va("sortKeys must be a boolean or a function");for(o=0,u=s.length;o<u;o+=1)g="",(!i||n!=="")&&(g+=t6(e,t)),h=s[o],d=r[h],e.replacer&&(d=e.replacer.call(r,h,d)),tl(e,t+1,h,!0,!0,!0)&&(p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,p&&(e.dump&&_g===e.dump.charCodeAt(0)?g+="?":g+="? "),g+=e.dump,p&&(g+=t6(e,t)),tl(e,t+1,d,!0,p)&&(e.dump&&_g===e.dump.charCodeAt(0)?g+=":":g+=": ",g+=e.dump,n+=g));e.tag=a,e.dump=n||"{}"}function lL(e,t,r){var i,n,a,s,o,u;for(n=r?e.explicitTypes:e.implicitTypes,a=0,s=n.length;a<s;a+=1)if(o=n[a],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof t=="object"&&t instanceof o.instanceOf)&&(!o.predicate||o.predicate(t))){if(r?o.multi&&o.representName?e.tag=o.representName(t):e.tag=o.tag:e.tag="?",o.represent){if(u=e.styleMap[o.tag]||o.defaultStyle,kL.call(o.represent)==="[object Function]")i=o.represent(t,u);else if(TL.call(o.represent,u))i=o.represent[u](t,u);else throw new va("!<"+o.tag+'> tag resolver accepts not "'+u+'" style');e.dump=i}return!0}return!1}function tl(e,t,r,i,n,a,s){e.tag=null,e.dump=r,lL(e,r,!1)||lL(e,r,!0);var o=kL.call(e.dump),u=i,h;i&&(i=e.flowLevel<0||e.flowLevel>t);var d=o==="[object Object]"||o==="[object Array]",p,g;if(d&&(p=e.duplicates.indexOf(r),g=p!==-1),(e.tag!==null&&e.tag!=="?"||g||e.indent!==2&&t>0)&&(n=!1),g&&e.usedDuplicates[p])e.dump="*ref_"+p;else{if(d&&g&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),o==="[object Object]")i&&Object.keys(e.dump).length!==0?(qle(e,t,e.dump,n),g&&(e.dump="&ref_"+p+e.dump)):(Ule(e,t,e.dump),g&&(e.dump="&ref_"+p+" "+e.dump));else if(o==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?oL(e,t-1,e.dump,n):oL(e,t,e.dump,n),g&&(e.dump="&ref_"+p+e.dump)):(Gle(e,t,e.dump),g&&(e.dump="&ref_"+p+" "+e.dump));else if(o==="[object String]")e.tag!=="?"&&$le(e,e.dump,t,a,u);else{if(o==="[object Undefined]"||e.skipInvalid)return!1;throw new va("unacceptable kind of an object to dump "+o)}e.tag!==null&&e.tag!=="?"&&(h=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?h="!"+h:h.slice(0,18)==="tag:yaml.org,2002:"?h="!!"+h.slice(18):h="!<"+h+">",e.dump=h+" "+e.dump)}return!0}function jle(e,t){var r=[],i=[],n,a;for(r6(e,r,i),n=0,a=i.length;n<a;n+=1)t.duplicates.push(r[i[n]]);t.usedDuplicates=new Array(a)}function r6(e,t,r){var i,n,a;if(e!==null&&typeof e=="object")if(n=t.indexOf(e),n!==-1)r.indexOf(n)===-1&&r.push(n);else if(t.push(e),Array.isArray(e))for(n=0,a=e.length;n<a;n+=1)r6(e[n],t,r);else for(i=Object.keys(e),n=0,a=i.length;n<a;n+=1)r6(e[i[n]],t,r)}function Hle(e,t){t=t||{};var r=new Dle(t);r.noRefs||jle(e,r);var i=e;return r.replacer&&(i=r.replacer.call({"":i},"",i)),tl(r,0,i,!0,!0)?r.dump+`
`:""}function i6(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var Vle,Yle,Wle,Xle,Kle,Zle,Hi,va,Qle,Jle,ece,In,tce,rce,ice,nce,ace,sce,oce,lce,cce,uce,hce,cL,dce,uL,hL,pce,gce,n6,fce,mce,yce,vce,bce,xce,wce,kce,dL,ac,Hy,pL,gL,Vy,a6,Tce,fL,Ece,Cce,Sce,mL,yL,vL,bL,pd,xL,_ce,Ace,wL,kL,TL,s6,Lce,_g,Nce,Mce,Ice,Dce,o6,Rce,Oce,Pce,Bce,EL,$ce,Yy,Fce,zce,Gce,Uce,CL,SL,qce,_L,jce,AL,Dn,Hce,Vce,Yce,Ag,LL,l6,NL,ML,gd,Wce,Xce,Wy,Xy,OYe,PYe,BYe,$Ye,FYe,c6=D(()=>{"use strict";for(l(H9,"isNothing"),l(Loe,"isObject"),l(Noe,"toArray"),l(Moe,"extend"),l(Ioe,"repeat"),l(Doe,"isNegativeZero"),Vle=H9,Yle=Loe,Wle=Noe,Xle=Ioe,Kle=Doe,Zle=Moe,Hi={isNothing:Vle,isObject:Yle,toArray:Wle,repeat:Xle,isNegativeZero:Kle,extend:Zle},l(V9,"formatError"),l(Eg,"YAMLException$1"),Eg.prototype=Object.create(Error.prototype),Eg.prototype.constructor=Eg,Eg.prototype.toString=l(function(e){return this.name+": "+V9(this,e)},"toString"),va=Eg,l(K5,"getLine"),l(Z5,"padStart"),l(Roe,"makeSnippet"),Qle=Roe,Jle=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],ece=["scalar","sequence","mapping"],l(Ooe,"compileStyleAliases"),l(Poe,"Type$1"),In=Poe,l(Y9,"compileList"),l(Boe,"compileMap"),l(Q5,"Schema$1"),Q5.prototype.extend=l(function(e){var t=[],r=[];if(e instanceof In)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new va("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(n){if(!(n instanceof In))throw new va("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(n.loadKind&&n.loadKind!=="scalar")throw new va("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(n.multi)throw new va("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(n){if(!(n instanceof In))throw new va("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Q5.prototype);return i.implicit=(this.implicit||[]).concat(t),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=Y9(i,"implicit"),i.compiledExplicit=Y9(i,"explicit"),i.compiledTypeMap=Boe(i.compiledImplicit,i.compiledExplicit),i},"extend"),tce=Q5,rce=new In("tag:yaml.org,2002:str",{kind:"scalar",construct:l(function(e){return e!==null?e:""},"construct")}),ice=new In("tag:yaml.org,2002:seq",{kind:"sequence",construct:l(function(e){return e!==null?e:[]},"construct")}),nce=new In("tag:yaml.org,2002:map",{kind:"mapping",construct:l(function(e){return e!==null?e:{}},"construct")}),ace=new tce({explicit:[rce,ice,nce]}),l($oe,"resolveYamlNull"),l(Foe,"constructYamlNull"),l(zoe,"isNull"),sce=new In("tag:yaml.org,2002:null",{kind:"scalar",resolve:$oe,construct:Foe,predicate:zoe,represent:{canonical:l(function(){return"~"},"canonical"),lowercase:l(function(){return"null"},"lowercase"),uppercase:l(function(){return"NULL"},"uppercase"),camelcase:l(function(){return"Null"},"camelcase"),empty:l(function(){return""},"empty")},defaultStyle:"lowercase"}),l(Goe,"resolveYamlBoolean"),l(Uoe,"constructYamlBoolean"),l(qoe,"isBoolean"),oce=new In("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Goe,construct:Uoe,predicate:qoe,represent:{lowercase:l(function(e){return e?"true":"false"},"lowercase"),uppercase:l(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:l(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"}),l(joe,"isHexCode"),l(Hoe,"isOctCode"),l(Voe,"isDecCode"),l(Yoe,"resolveYamlInteger"),l(Woe,"constructYamlInteger"),l(Xoe,"isInteger"),lce=new In("tag:yaml.org,2002:int",{kind:"scalar",resolve:Yoe,construct:Woe,predicate:Xoe,represent:{binary:l(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:l(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:l(function(e){return e.toString(10)},"decimal"),hexadecimal:l(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),cce=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),l(Koe,"resolveYamlFloat"),l(Zoe,"constructYamlFloat"),uce=/^[-+]?[0-9]+e/,l(Qoe,"representYamlFloat"),l(Joe,"isFloat"),hce=new In("tag:yaml.org,2002:float",{kind:"scalar",resolve:Koe,construct:Zoe,predicate:Joe,represent:Qoe,defaultStyle:"lowercase"}),cL=ace.extend({implicit:[sce,oce,lce,hce]}),dce=cL,uL=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),hL=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),l(ele,"resolveYamlTimestamp"),l(tle,"constructYamlTimestamp"),l(rle,"representYamlTimestamp"),pce=new In("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ele,construct:tle,instanceOf:Date,represent:rle}),l(ile,"resolveYamlMerge"),gce=new In("tag:yaml.org,2002:merge",{kind:"scalar",resolve:ile}),n6=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`,l(nle,"resolveYamlBinary"),l(ale,"constructYamlBinary"),l(sle,"representYamlBinary"),l(ole,"isBinary"),fce=new In("tag:yaml.org,2002:binary",{kind:"scalar",resolve:nle,construct:ale,predicate:ole,represent:sle}),mce=Object.prototype.hasOwnProperty,yce=Object.prototype.toString,l(lle,"resolveYamlOmap"),l(cle,"constructYamlOmap"),vce=new In("tag:yaml.org,2002:omap",{kind:"sequence",resolve:lle,construct:cle}),bce=Object.prototype.toString,l(ule,"resolveYamlPairs"),l(hle,"constructYamlPairs"),xce=new In("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:ule,construct:hle}),wce=Object.prototype.hasOwnProperty,l(dle,"resolveYamlSet"),l(ple,"constructYamlSet"),kce=new In("tag:yaml.org,2002:set",{kind:"mapping",resolve:dle,construct:ple}),dL=dce.extend({implicit:[pce,gce],explicit:[fce,vce,xce,kce]}),ac=Object.prototype.hasOwnProperty,Hy=1,pL=2,gL=3,Vy=4,a6=1,Tce=2,fL=3,Ece=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Cce=/[\x85\u2028\u2029]/,Sce=/[,\[\]\{\}]/,mL=/^(?:!|!!|![a-z\-]+!)$/i,yL=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,l(W9,"_class"),l(uo,"is_EOL"),l(Du,"is_WHITE_SPACE"),l(ya,"is_WS_OR_EOL"),l(ud,"is_FLOW_INDICATOR"),l(gle,"fromHexCode"),l(fle,"escapedHexLen"),l(mle,"fromDecimalCode"),l(X9,"simpleEscapeSequence"),l(yle,"charFromCodepoint"),vL=new Array(256),bL=new Array(256),pd=0;pd<256;pd++)vL[pd]=X9(pd)?1:0,bL[pd]=X9(pd);l(vle,"State$1"),l(K9,"generateError"),l(Ut,"throwError"),l(Uy,"throwWarning"),xL={YAML:l(function(e,t,r){var i,n,a;e.version!==null&&Ut(e,"duplication of %YAML directive"),r.length!==1&&Ut(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&Ut(e,"ill-formed argument of the YAML directive"),n=parseInt(i[1],10),a=parseInt(i[2],10),n!==1&&Ut(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&Uy(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:l(function(e,t,r){var i,n;r.length!==2&&Ut(e,"TAG directive accepts exactly two arguments"),i=r[0],n=r[1],mL.test(i)||Ut(e,"ill-formed tag handle (first argument) of the TAG directive"),ac.call(e.tagMap,i)&&Ut(e,'there is a previously declared suffix for "'+i+'" tag handle'),yL.test(n)||Ut(e,"ill-formed tag prefix (second argument) of the TAG directive");try{n=decodeURIComponent(n)}catch{Ut(e,"tag prefix is malformed: "+n)}e.tagMap[i]=n},"handleTagDirective")},l(nc,"captureSegment"),l(Z9,"mergeMappings"),l(hd,"storeMappingPair"),l(J5,"readLineBreak"),l(Ri,"skipSeparationSpace"),l(qy,"testDocumentSeparator"),l(e6,"writeFoldedLines"),l(ble,"readPlainScalar"),l(xle,"readSingleQuotedScalar"),l(wle,"readDoubleQuotedScalar"),l(kle,"readFlowCollection"),l(Tle,"readBlockScalar"),l(Q9,"readBlockSequence"),l(Ele,"readBlockMapping"),l(Cle,"readTagProperty"),l(Sle,"readAnchorProperty"),l(_le,"readAlias"),l(dd,"composeNode"),l(Ale,"readDocument"),l(J9,"loadDocuments"),l(Lle,"loadAll$1"),l(Nle,"load$1"),_ce=Lle,Ace=Nle,wL={loadAll:_ce,load:Ace},kL=Object.prototype.toString,TL=Object.prototype.hasOwnProperty,s6=65279,Lce=9,_g=10,Nce=13,Mce=32,Ice=33,Dce=34,o6=35,Rce=37,Oce=38,Pce=39,Bce=42,EL=44,$ce=45,Yy=58,Fce=61,zce=62,Gce=63,Uce=64,CL=91,SL=93,qce=96,_L=123,jce=124,AL=125,Dn={},Dn[0]="\\0",Dn[7]="\\a",Dn[8]="\\b",Dn[9]="\\t",Dn[10]="\\n",Dn[11]="\\v",Dn[12]="\\f",Dn[13]="\\r",Dn[27]="\\e",Dn[34]='\\"',Dn[92]="\\\\",Dn[133]="\\N",Dn[160]="\\_",Dn[8232]="\\L",Dn[8233]="\\P",Hce=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Vce=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/,l(Mle,"compileStyleMap"),l(Ile,"encodeHex"),Yce=1,Ag=2,l(Dle,"State"),l(eL,"indentString"),l(t6,"generateNextLine"),l(Rle,"testImplicitResolving"),l(jy,"isWhitespace"),l(Cg,"isPrintable"),l(tL,"isNsCharOrWhitespace"),l(rL,"isPlainSafe"),l(Ole,"isPlainSafeFirst"),l(Ple,"isPlainSafeLast"),l(Sg,"codePointAt"),l(iL,"needIndentIndicator"),LL=1,l6=2,NL=3,ML=4,gd=5,l(Ble,"chooseScalarStyle"),l($le,"writeScalar"),l(nL,"blockHeader"),l(aL,"dropEndingNewline"),l(Fle,"foldString"),l(sL,"foldLine"),l(zle,"escapeString"),l(Gle,"writeFlowSequence"),l(oL,"writeBlockSequence"),l(Ule,"writeFlowMapping"),l(qle,"writeBlockMapping"),l(lL,"detectType"),l(tl,"writeNode"),l(jle,"getDuplicateReferences"),l(r6,"inspectNode"),l(Hle,"dump$1"),Wce=Hle,Xce={dump:Wce},l(i6,"renamed"),Wy=cL,Xy=wL.load,OYe=wL.loadAll,PYe=Xce.dump,BYe=i6("safeLoad","load"),$Ye=i6("safeLoadAll","loadAll"),FYe=i6("safeDump","dump")});function u6(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function IL(e){Ru=e}function Or(e,t=""){let r=typeof e=="string"?e:e.source,i={replace:l((n,a)=>{let s=typeof a=="string"?a:a.source;return s=s.replace(Zn.caret,"$1"),r=r.replace(n,s),i},"replace"),getRegex:l(()=>new RegExp(r,t),"getRegex")};return i}function ho(e,t){if(t){if(Zn.escapeTest.test(e))return e.replace(Zn.escapeReplace,YL)}else if(Zn.escapeTestNoEncode.test(e))return e.replace(Zn.escapeReplaceNoEncode,YL);return e}function DL(e){try{e=encodeURI(e).replace(Zn.percentDecode,"%")}catch{return null}return e}function RL(e,t){let r=e.replace(Zn.findPipe,(a,s,o)=>{let u=!1,h=s;for(;--h>=0&&o[h]==="\\";)u=!u;return u?"|":" |"}),i=r.split(Zn.splitPipe),n=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(Zn.slashPipe,"|");return i}function Lg(e,t,r){let i=e.length;if(i===0)return"";let n=0;for(;n<i;){let a=e.charAt(i-n-1);if(a===t&&!r)n++;else if(a!==t&&r)n++;else break}return e.slice(0,i-n)}function Kce(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return r>0?-2:-1}function OL(e,t,r,i,n){let a=t.href,s=t.title||null,o=e[1].replace(n.other.outputLinkReplace,"$1");i.state.inLink=!0;let u={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:a,title:s,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,u}function Zce(e,t,r){let i=e.match(r.other.indentCodeCompensation);if(i===null)return t;let n=i[1];return t.split(`
`).map(a=>{let s=a.match(r.other.beginningSpace);if(s===null)return a;let[o]=s;return o.length>=n.length?a.slice(n.length):a}).join(`
`)}function Pr(e,t){return Ou.parse(e,t)}var Ru,Ng,Zn,Qce,Jce,eue,Mg,tue,h6,PL,BL,rue,d6,iue,p6,nue,aue,Ky,g6,sue,$L,oue,f6,FL,lue,cue,uue,hue,zL,due,Zy,m6,GL,pue,UL,gue,fue,mue,qL,yue,vue,jL,bue,xue,wue,kue,Tue,Eue,Cue,Qy,Sue,HL,VL,_ue,y6,Aue,v6,Lue,Jy,Ig,Nue,YL,e2,rl,t2,b6,il,Dg,Mue,Ou,zYe,GYe,UYe,qYe,jYe,HYe,VYe,YYe=D(()=>{"use strict";l(u6,"L"),Ru=u6(),l(IL,"G"),Ng={exec:l(()=>null,"exec")},l(Or,"h"),Zn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:l(e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),"listItemRegex"),nextBulletRegex:l(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),"nextBulletRegex"),hrRegex:l(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),"hrRegex"),fencesBeginRegex:l(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),"fencesBeginRegex"),headingBeginRegex:l(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),"headingBeginRegex"),htmlBeginRegex:l(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i"),"htmlBeginRegex")},Qce=/^(?:[ \t]*(?:\n|$))+/,Jce=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,eue=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Mg=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,tue=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,h6=/(?:[*+-]|\d{1,9}[.)])/,PL=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,BL=Or(PL).replace(/bull/g,h6).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),rue=Or(PL).replace(/bull/g,h6).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),d6=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,iue=/^[^\n]+/,p6=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,nue=Or(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",p6).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),aue=Or(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,h6).getRegex(),Ky="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",g6=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,sue=Or("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",g6).replace("tag",Ky).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),$L=Or(d6).replace("hr",Mg).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ky).getRegex(),oue=Or(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",$L).getRegex(),f6={blockquote:oue,code:Jce,def:nue,fences:eue,heading:tue,hr:Mg,html:sue,lheading:BL,list:aue,newline:Qce,paragraph:$L,table:Ng,text:iue},FL=Or("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Mg).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ky).getRegex(),lue={...f6,lheading:rue,table:FL,paragraph:Or(d6).replace("hr",Mg).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",FL).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ky).getRegex()},cue={...f6,html:Or(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",g6).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ng,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Or(d6).replace("hr",Mg).replace("heading",` *#{1,6} *[^
]`).replace("lheading",BL).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},uue=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,hue=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,zL=/^( {2,}|\\)\n(?!\s*$)/,due=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Zy=/[\p{P}\p{S}]/u,m6=/[\s\p{P}\p{S}]/u,GL=/[^\s\p{P}\p{S}]/u,pue=Or(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,m6).getRegex(),UL=/(?!~)[\p{P}\p{S}]/u,gue=/(?!~)[\s\p{P}\p{S}]/u,fue=/(?:[^\s\p{P}\p{S}]|~)/u,mue=/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,qL=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,yue=Or(qL,"u").replace(/punct/g,Zy).getRegex(),vue=Or(qL,"u").replace(/punct/g,UL).getRegex(),jL="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",bue=Or(jL,"gu").replace(/notPunctSpace/g,GL).replace(/punctSpace/g,m6).replace(/punct/g,Zy).getRegex(),xue=Or(jL,"gu").replace(/notPunctSpace/g,fue).replace(/punctSpace/g,gue).replace(/punct/g,UL).getRegex(),wue=Or("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,GL).replace(/punctSpace/g,m6).replace(/punct/g,Zy).getRegex(),kue=Or(/\\(punct)/,"gu").replace(/punct/g,Zy).getRegex(),Tue=Or(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Eue=Or(g6).replace("(?:-->|$)","-->").getRegex(),Cue=Or("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Eue).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Qy=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,Sue=Or(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Qy).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),HL=Or(/^!?\[(label)\]\[(ref)\]/).replace("label",Qy).replace("ref",p6).getRegex(),VL=Or(/^!?\[(ref)\](?:\[\])?/).replace("ref",p6).getRegex(),_ue=Or("reflink|nolink(?!\\()","g").replace("reflink",HL).replace("nolink",VL).getRegex(),y6={_backpedal:Ng,anyPunctuation:kue,autolink:Tue,blockSkip:mue,br:zL,code:hue,del:Ng,emStrongLDelim:yue,emStrongRDelimAst:bue,emStrongRDelimUnd:wue,escape:uue,link:Sue,nolink:VL,punctuation:pue,reflink:HL,reflinkSearch:_ue,tag:Cue,text:due,url:Ng},Aue={...y6,link:Or(/^!?\[(label)\]\((.*?)\)/).replace("label",Qy).getRegex(),reflink:Or(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Qy).getRegex()},v6={...y6,emStrongRDelimAst:xue,emStrongLDelim:vue,url:Or(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Lue={...v6,br:Or(zL).replace("{2,}","*").getRegex(),text:Or(v6.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Jy={normal:f6,gfm:lue,pedantic:cue},Ig={normal:y6,gfm:v6,breaks:Lue,pedantic:Aue},Nue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},YL=l(e=>Nue[e],"ke"),l(ho,"w"),l(DL,"J"),l(RL,"V"),l(Lg,"z"),l(Kce,"ge"),l(OL,"fe"),l(Zce,"Je"),e2=class{static{l(this,"y")}options;rules;lexer;constructor(e){this.options=e||Ru}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Lg(r,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let r=t[0],i=Zce(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){let i=Lg(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Lg(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let r=Lg(t[0],`
`).split(`
`),i="",n="",a=[];for(;r.length>0;){let s=!1,o=[],u;for(u=0;u<r.length;u++)if(this.rules.other.blockquoteStart.test(r[u]))o.push(r[u]),s=!0;else if(!s)o.push(r[u]);else break;r=r.slice(u);let h=o.join(`
`),d=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${h}`:h,n=n?`${n}
${d}`:d;let p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,a,!0),this.lexer.state.top=p,r.length===0)break;let g=a.at(-1);if(g?.type==="code")break;if(g?.type==="blockquote"){let f=g,m=f.raw+`
`+r.join(`
`),y=this.blockquote(m);a[a.length-1]=y,i=i.substring(0,i.length-f.raw.length)+y.raw,n=n.substring(0,n.length-f.text.length)+y.text;break}else if(g?.type==="list"){let f=g,m=f.raw+`
`+r.join(`
`),y=this.list(m);a[a.length-1]=y,i=i.substring(0,i.length-g.raw.length)+y.raw,n=n.substring(0,n.length-f.raw.length)+y.raw,r=m.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:a,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim(),i=r.length>1,n={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let a=this.rules.other.listItemRegex(r),s=!1;for(;e;){let u=!1,h="",d="";if(!(t=a.exec(e))||this.rules.block.hr.test(e))break;h=t[0],e=e.substring(h.length);let p=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,v=>" ".repeat(3*v.length)),g=e.split(`
`,1)[0],f=!p.trim(),m=0;if(this.options.pedantic?(m=2,d=p.trimStart()):f?m=t[1].length+1:(m=t[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,d=p.slice(m),m+=t[1].length),f&&this.rules.other.blankLine.test(g)&&(h+=g+`
`,e=e.substring(g.length+1),u=!0),!u){let v=this.rules.other.nextBulletRegex(m),x=this.rules.other.hrRegex(m),w=this.rules.other.fencesBeginRegex(m),k=this.rules.other.headingBeginRegex(m),T=this.rules.other.htmlBeginRegex(m);for(;e;){let _=e.split(`
`,1)[0],C;if(g=_,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),C=g):C=g.replace(this.rules.other.tabCharGlobal,"    "),w.test(g)||k.test(g)||T.test(g)||v.test(g)||x.test(g))break;if(C.search(this.rules.other.nonSpaceChar)>=m||!g.trim())d+=`
`+C.slice(m);else{if(f||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||w.test(p)||k.test(p)||x.test(p))break;d+=`
`+g}!f&&!g.trim()&&(f=!0),h+=_+`
`,e=e.substring(_.length+1),p=C.slice(m)}}n.loose||(s?n.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(s=!0));let y=null,b;this.options.gfm&&(y=this.rules.other.listIsTask.exec(d),y&&(b=y[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),n.items.push({type:"list_item",raw:h,task:!!y,checked:b,loose:!1,text:d,tokens:[]}),n.raw+=h}let o=n.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;n.raw=n.raw.trimEnd();for(let u=0;u<n.items.length;u++)if(this.lexer.state.top=!1,n.items[u].tokens=this.lexer.blockTokens(n.items[u].text,[]),!n.loose){let h=n.items[u].tokens.filter(p=>p.type==="space"),d=h.length>0&&h.some(p=>this.rules.other.anyLine.test(p.raw));n.loose=d}if(n.loose)for(let u=0;u<n.items.length;u++)n.items[u].loose=!0;return n}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:i,title:n}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let r=RL(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),n=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let s of i)this.rules.other.tableAlignRight.test(s)?a.align.push("right"):this.rules.other.tableAlignCenter.test(s)?a.align.push("center"):this.rules.other.tableAlignLeft.test(s)?a.align.push("left"):a.align.push(null);for(let s=0;s<r.length;s++)a.header.push({text:r[s],tokens:this.lexer.inline(r[s]),header:!0,align:a.align[s]});for(let s of n)a.rows.push(RL(s,a.header.length).map((o,u)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:a.align[u]})));return a}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let a=Lg(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{let a=Kce(t[2],"()");if(a===-2)return;if(a>-1){let s=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let i=t[2],n="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(i);a&&(i=a[1],n=a[3])}else n=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),OL(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:n&&n.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),n=t[i.toLowerCase()];if(!n){let a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return OL(r,n,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!r||this.rules.inline.punctuation.exec(r))){let n=[...i[0]].length-1,a,s,o=n,u=0,h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+n);(i=h.exec(t))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(s=[...a].length,i[3]||i[4]){o+=s;continue}else if((i[5]||i[6])&&n%3&&!((n+s)%3)){u+=s;continue}if(o-=s,o>0)continue;s=Math.min(s,s+o+u);let d=[...i[0]][0].length,p=e.slice(0,n+i.index+d+s);if(Math.min(n,s)%2){let f=p.slice(1,-1);return{type:"em",raw:p,text:f,tokens:this.lexer.inlineTokens(f)}}let g=p.slice(2,-2);return{type:"strong",raw:p,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),n=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&n&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let r,i;return t[2]==="@"?(r=t[1],i="mailto:"+r):(r=t[1],i=r),{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let r,i;if(t[2]==="@")r=t[0],i="mailto:"+r;else{let n;do n=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(n!==t[0]);r=t[0],t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}},rl=class bj{static{l(this,"l")}tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ru,this.options.tokenizer=this.options.tokenizer||new e2,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:Zn,block:Jy.normal,inline:Ig.normal};this.options.pedantic?(r.block=Jy.pedantic,r.inline=Ig.pedantic):this.options.gfm&&(r.block=Jy.gfm,this.options.breaks?r.inline=Ig.breaks:r.inline=Ig.gfm),this.tokenizer.rules=r}static get rules(){return{block:Jy,inline:Ig}}static lex(t,r){return new bj(r).lex(t)}static lexInline(t,r){return new bj(r).inlineTokens(t)}lex(t){t=t.replace(Zn.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let i=this.inlineQueue[r];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],i=!1){for(this.options.pedantic&&(t=t.replace(Zn.tabCharGlobal,"    ").replace(Zn.spaceLine,""));t;){let n;if(this.options.extensions?.block?.some(s=>(n=s.call({lexer:this},t,r))?(t=t.substring(n.raw.length),r.push(n),!0):!1))continue;if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length);let s=r.at(-1);n.raw.length===1&&s!==void 0?s.raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length);let s=r.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+n.raw,s.text+=`
`+n.text,this.inlineQueue.at(-1).src=s.text):r.push(n);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length);let s=r.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+n.raw,s.text+=`
`+n.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title},r.push(n));continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}let a=t;if(this.options.extensions?.startBlock){let s=1/0,o=t.slice(1),u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},o),typeof u=="number"&&u>=0&&(s=Math.min(s,u))}),s<1/0&&s>=0&&(a=t.substring(0,s+1))}if(this.state.top&&(n=this.tokenizer.paragraph(a))){let s=r.at(-1);i&&s?.type==="paragraph"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+n.raw,s.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):r.push(n),i=a.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length);let s=r.at(-1);s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+n.raw,s.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):r.push(n);continue}if(t){let s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let i=t,n=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)o.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,n.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(n=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=this.options.hooks?.emStrongMask?.call({lexer:this},i)??i;let a=!1,s="";for(;t;){a||(s=""),a=!1;let o;if(this.options.extensions?.inline?.some(h=>(o=h.call({lexer:this},t,r))?(t=t.substring(o.raw.length),r.push(o),!0):!1))continue;if(o=this.tokenizer.escape(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.tag(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.link(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(o.raw.length);let h=r.at(-1);o.type==="text"&&h?.type==="text"?(h.raw+=o.raw,h.text+=o.text):r.push(o);continue}if(o=this.tokenizer.emStrong(t,i,s)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.codespan(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.br(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.del(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.autolink(t)){t=t.substring(o.raw.length),r.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(t))){t=t.substring(o.raw.length),r.push(o);continue}let u=t;if(this.options.extensions?.startInline){let h=1/0,d=t.slice(1),p;this.options.extensions.startInline.forEach(g=>{p=g.call({lexer:this},d),typeof p=="number"&&p>=0&&(h=Math.min(h,p))}),h<1/0&&h>=0&&(u=t.substring(0,h+1))}if(o=this.tokenizer.inlineText(u)){t=t.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(s=o.raw.slice(-1)),a=!0;let h=r.at(-1);h?.type==="text"?(h.raw+=o.raw,h.text+=o.text):r.push(o);continue}if(t){let h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return r}},t2=class{static{l(this,"P")}options;parser;constructor(e){this.options=e||Ru}space(e){return""}code({text:e,lang:t,escaped:r}){let i=(t||"").match(Zn.notSpaceStart)?.[0],n=e.replace(Zn.endingNewline,"")+`
`;return i?'<pre><code class="language-'+ho(i)+'">'+(r?n:ho(n,!0))+`</code></pre>
`:"<pre><code>"+(r?n:ho(n,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,r=e.start,i="";for(let s=0;s<e.items.length;s++){let o=e.items[s];i+=this.listitem(o)}let n=t?"ol":"ul",a=t&&r!==1?' start="'+r+'"':"";return"<"+n+a+`>
`+i+"</"+n+`>
`}listitem(e){let t="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+ho(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let n=0;n<e.header.length;n++)r+=this.tablecell(e.header[n]);t+=this.tablerow({text:r});let i="";for(let n=0;n<e.rows.length;n++){let a=e.rows[n];r="";for(let s=0;s<a.length;s++)r+=this.tablecell(a[s]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${ho(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){let i=this.parser.parseInline(r),n=DL(e);if(n===null)return i;e=n;let a='<a href="'+e+'"';return t&&(a+=' title="'+ho(t)+'"'),a+=">"+i+"</a>",a}image({href:e,title:t,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));let n=DL(e);if(n===null)return ho(r);e=n;let a=`<img src="${e}" alt="${r}"`;return t&&(a+=` title="${ho(t)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:ho(e.text)}},b6=class{static{l(this,"$")}strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},il=class xj{static{l(this,"l")}options;renderer;textRenderer;constructor(t){this.options=t||Ru,this.options.renderer=this.options.renderer||new t2,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new b6}static parse(t,r){return new xj(r).parse(t)}static parseInline(t,r){return new xj(r).parseInline(t)}parse(t,r=!0){let i="";for(let n=0;n<t.length;n++){let a=t[n];if(this.options.extensions?.renderers?.[a.type]){let o=a,u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){i+=u||"";continue}}let s=a;switch(s.type){case"space":{i+=this.renderer.space(s);continue}case"hr":{i+=this.renderer.hr(s);continue}case"heading":{i+=this.renderer.heading(s);continue}case"code":{i+=this.renderer.code(s);continue}case"table":{i+=this.renderer.table(s);continue}case"blockquote":{i+=this.renderer.blockquote(s);continue}case"list":{i+=this.renderer.list(s);continue}case"html":{i+=this.renderer.html(s);continue}case"def":{i+=this.renderer.def(s);continue}case"paragraph":{i+=this.renderer.paragraph(s);continue}case"text":{let o=s,u=this.renderer.text(o);for(;n+1<t.length&&t[n+1].type==="text";)o=t[++n],u+=`
`+this.renderer.text(o);r?i+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):i+=u;continue}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return i}parseInline(t,r=this.renderer){let i="";for(let n=0;n<t.length;n++){let a=t[n];if(this.options.extensions?.renderers?.[a.type]){let o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){i+=o||"";continue}}let s=a;switch(s.type){case"escape":{i+=r.text(s);break}case"html":{i+=r.html(s);break}case"link":{i+=r.link(s);break}case"image":{i+=r.image(s);break}case"strong":{i+=r.strong(s);break}case"em":{i+=r.em(s);break}case"codespan":{i+=r.codespan(s);break}case"br":{i+=r.br(s);break}case"del":{i+=r.del(s);break}case"text":{i+=r.text(s);break}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return i}},Dg=class{static{l(this,"S")}options;block;constructor(e){this.options=e||Ru}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?rl.lex:rl.lexInline}provideParser(){return this.block?il.parse:il.parseInline}},Mue=class{static{l(this,"B")}defaults=u6();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=il;Renderer=t2;TextRenderer=b6;Lexer=rl;Tokenizer=e2;Hooks=Dg;constructor(...e){this.use(...e)}walkTokens(e,t){let r=[];for(let i of e)switch(r=r.concat(t.call(this,i)),i.type){case"table":{let n=i;for(let a of n.header)r=r.concat(this.walkTokens(a.tokens,t));for(let a of n.rows)for(let s of a)r=r.concat(this.walkTokens(s.tokens,t));break}case"list":{let n=i;r=r.concat(this.walkTokens(n.items,t));break}default:{let n=i;this.defaults.extensions?.childTokens?.[n.type]?this.defaults.extensions.childTokens[n.type].forEach(a=>{let s=n[a].flat(1/0);r=r.concat(this.walkTokens(s,t))}):n.tokens&&(r=r.concat(this.walkTokens(n.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(n=>{if(!n.name)throw new Error("extension name required");if("renderer"in n){let a=t.renderers[n.name];a?t.renderers[n.name]=function(...s){let o=n.renderer.apply(this,s);return o===!1&&(o=a.apply(this,s)),o}:t.renderers[n.name]=n.renderer}if("tokenizer"in n){if(!n.level||n.level!=="block"&&n.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=t[n.level];a?a.unshift(n.tokenizer):t[n.level]=[n.tokenizer],n.start&&(n.level==="block"?t.startBlock?t.startBlock.push(n.start):t.startBlock=[n.start]:n.level==="inline"&&(t.startInline?t.startInline.push(n.start):t.startInline=[n.start]))}"childTokens"in n&&n.childTokens&&(t.childTokens[n.name]=n.childTokens)}),i.extensions=t),r.renderer){let n=this.defaults.renderer||new t2(this.defaults);for(let a in r.renderer){if(!(a in n))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let s=a,o=r.renderer[s],u=n[s];n[s]=(...h)=>{let d=o.apply(n,h);return d===!1&&(d=u.apply(n,h)),d||""}}i.renderer=n}if(r.tokenizer){let n=this.defaults.tokenizer||new e2(this.defaults);for(let a in r.tokenizer){if(!(a in n))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let s=a,o=r.tokenizer[s],u=n[s];n[s]=(...h)=>{let d=o.apply(n,h);return d===!1&&(d=u.apply(n,h)),d}}i.tokenizer=n}if(r.hooks){let n=this.defaults.hooks||new Dg;for(let a in r.hooks){if(!(a in n))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let s=a,o=r.hooks[s],u=n[s];Dg.passThroughHooks.has(a)?n[s]=h=>{if(this.defaults.async&&Dg.passThroughHooksRespectAsync.has(a))return Promise.resolve(o.call(n,h)).then(p=>u.call(n,p));let d=o.call(n,h);return u.call(n,d)}:n[s]=(...h)=>{let d=o.apply(n,h);return d===!1&&(d=u.apply(n,h)),d}}i.hooks=n}if(r.walkTokens){let n=this.defaults.walkTokens,a=r.walkTokens;i.walkTokens=function(s){let o=[];return o.push(a.call(this,s)),n&&(o=o.concat(n.call(this,s))),o}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return rl.lex(e,t??this.defaults)}parser(e,t){return il.parse(e,t??this.defaults)}parseMarkdown(e){return(t,r)=>{let i={...r},n={...this.defaults,...i},a=this.onError(!!n.silent,!!n.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));n.hooks&&(n.hooks.options=n,n.hooks.block=e);let s=n.hooks?n.hooks.provideLexer():e?rl.lex:rl.lexInline,o=n.hooks?n.hooks.provideParser():e?il.parse:il.parseInline;if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(t):t).then(u=>s(u,n)).then(u=>n.hooks?n.hooks.processAllTokens(u):u).then(u=>n.walkTokens?Promise.all(this.walkTokens(u,n.walkTokens)).then(()=>u):u).then(u=>o(u,n)).then(u=>n.hooks?n.hooks.postprocess(u):u).catch(a);try{n.hooks&&(t=n.hooks.preprocess(t));let u=s(t,n);n.hooks&&(u=n.hooks.processAllTokens(u)),n.walkTokens&&this.walkTokens(u,n.walkTokens);let h=o(u,n);return n.hooks&&(h=n.hooks.postprocess(h)),h}catch(u){return a(u)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+ho(r.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(r);throw r}}},Ou=new Mue,l(Pr,"d"),Pr.options=Pr.setOptions=function(e){return Ou.setOptions(e),Pr.defaults=Ou.defaults,IL(Pr.defaults),Pr},Pr.getDefaults=u6,Pr.defaults=Ru,Pr.use=function(...e){return Ou.use(...e),Pr.defaults=Ou.defaults,IL(Pr.defaults),Pr},Pr.walkTokens=function(e,t){return Ou.walkTokens(e,t)},Pr.parseInline=Ou.parseInline,Pr.Parser=il,Pr.parser=il.parse,Pr.Renderer=t2,Pr.TextRenderer=b6,Pr.Lexer=rl,Pr.lexer=rl.lex,Pr.Tokenizer=e2,Pr.Hooks=Dg,Pr.parse=Pr,zYe=Pr.options,GYe=Pr.setOptions,UYe=Pr.use,qYe=Pr.walkTokens,jYe=Pr.parseInline,HYe=il.parse,VYe=rl.lex});function Iue(e,{markdownAutoWrap:t}){let r=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=lS(r);return t===!1?i.replace(/ /g,"&nbsp;"):i}function Due(e,t={}){let r=Iue(e,t),i=Pr.lexer(r),n=[[]],a=0;function s(o,u="normal"){o.type==="text"?o.text.split(`
`).forEach((h,d)=>{d!==0&&(a++,n.push([])),h.split(" ").forEach(p=>{p=p.replace(/&#39;/g,"'"),p&&n[a].push({content:p,type:u})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(h=>{s(h,o.type)}):o.type==="html"&&n[a].push({content:o.text,type:"normal"})}return l(s,"processNode"),i.forEach(o=>{o.type==="paragraph"?o.tokens?.forEach(u=>{s(u)}):o.type==="html"?n[a].push({content:o.text,type:"normal"}):n[a].push({content:o.raw,type:"normal"})}),n}function Rue(e,{markdownAutoWrap:t}={}){let r=Pr.lexer(e);function i(n){return n.type==="text"?t===!1?n.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):n.text.replace(/\n */g,"<br/>"):n.type==="strong"?`<strong>${n.tokens?.map(i).join("")}</strong>`:n.type==="em"?`<em>${n.tokens?.map(i).join("")}</em>`:n.type==="paragraph"?`<p>${n.tokens?.map(i).join("")}</p>`:n.type==="space"?"":n.type==="html"?`${n.text}`:n.type==="escape"?n.text:(ne.warn(`Unsupported markdown: ${n.type}`),n.raw)}return l(i,"output"),r.map(i).join("")}var WYe=D(()=>{"use strict";YYe(),yW(),st(),l(Iue,"preprocessMarkdown"),l(Due,"markdownToLines"),l(Rue,"markdownToHTML")});function Oue(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}function Pue(e,t){let r=Oue(t.content);return WL(e,[],r,t.type)}function WL(e,t,r,i){if(r.length===0)return[{content:t.join(""),type:i},{content:"",type:i}];let[n,...a]=r,s=[...t,n];return e([{content:s.join(""),type:i}])?WL(e,s,a,i):(t.length===0&&n&&(t.push(n),r.shift()),[{content:t.join(""),type:i},{content:r.join(""),type:i}])}function Bue(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return x6(e,t)}function x6(e,t,r=[],i=[]){if(e.length===0)return i.length>0&&r.push(i),r.length>0?r:[];let n="";e[0].content===" "&&(n=" ",e.shift());let a=e.shift()??{content:" ",type:"normal"},s=[...i];if(n!==""&&s.push({content:n,type:"normal"}),s.push(a),t(s))return x6(e,t,r,s);if(i.length>0)r.push(i),e.unshift(a);else if(a.content){let[o,u]=Pue(t,a);r.push([o]),u.content&&e.unshift(u)}return x6(e,t,r)}var XYe=D(()=>{"use strict";l(Oue,"splitTextToChars"),l(Pue,"splitWordToFitWidth"),l(WL,"splitWordToFitWidthRecursion"),l(Bue,"splitLineToFitWidth"),l(x6,"splitLineToFitWidthRecursion")});function XL(e,t){t&&e.attr("style",t)}async function $ue(e,t,r,i,n=!1,a=Tr()){let s=e.append("foreignObject");s.attr("width",`${10*r}px`),s.attr("height",`${10*r}px`);let o=s.append("xhtml:div"),u=fi(t.label)?await $p(t.label.replace(nt.lineBreakRegex,`
`),a):wr(t.label,a),h=t.isNode?"nodeLabel":"edgeLabel",d=o.append("span");d.html(u),XL(d,t.labelStyle),d.attr("class",`${h} ${i}`),XL(o,t.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("line-height","1.5"),o.style("max-width",r+"px"),o.style("text-align","center"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),n&&o.attr("class","labelBkg");let p=o.node().getBoundingClientRect();return p.width===r&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",r+"px"),p=o.node().getBoundingClientRect()),s.node()}function w6(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}function Fue(e,t,r){let i=e.append("text"),n=w6(i,1,t);k6(n,r);let a=n.node().getComputedTextLength();return i.remove(),a}function zue(e,t,r){let i=e.append("text"),n=w6(i,1,t);k6(n,[{content:r,type:"normal"}]);let a=n.node()?.getBoundingClientRect();return a&&i.remove(),a}function Gue(e,t,r,i=!1){let n=t.append("g"),a=n.insert("rect").attr("class","background").attr("style","stroke: none"),s=n.append("text").attr("y","-10.1"),o=0;for(let u of r){let h=l(p=>Fue(n,1.1,p)<=e,"checkWidth"),d=h(u)?[u]:Bue(u,h);for(let p of d){let g=w6(s,o,1.1);k6(g,p),o++}}if(i){let u=s.node().getBBox(),h=2;return a.attr("x",u.x-h).attr("y",u.y-h).attr("width",u.width+2*h).attr("height",u.height+2*h),n.node()}else return s.node()}function k6(e,t){e.text(""),t.forEach((r,i)=>{let n=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");i===0?n.text(r.content):n.text(" "+r.content)})}async function KL(e,t={}){let r=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(n,a,s)=>(r.push((async()=>{let o=`${a}:${s}`;return await mW(o)?await Xl(o,void 0,{class:"label-icon"}):`<i class='${wr(n,t).replace(":"," ")}'></i>`})()),n));let i=await Promise.all(r);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>i.shift()??"")}var Ba,po=D(()=>{"use strict";hr(),cr(),st(),WYe(),Zt(),Kl(),XYe(),pi(),l(XL,"applyStyle"),l($ue,"addHtmlSpan"),l(w6,"createTspan"),l(Fue,"computeWidthOfText"),l(zue,"computeDimensionOfText"),l(Gue,"createFormattedText"),l(k6,"updateTextContentAndStyles"),l(KL,"replaceIconSubstring"),Ba=l(async(e,t="",{style:r="",isTitle:i=!1,classes:n="",useHtmlLabels:a=!0,isNode:s=!0,width:o=200,addSvgBackground:u=!1}={},h)=>{if(ne.debug("XYZ createText",t,r,i,n,a,s,"addSvgBackground: ",u),a){let d=Rue(t,h),p=await KL(co(d),h),g=t.replace(/\\\\/g,"\\"),f={isNode:s,label:fi(t)?g:p,labelStyle:r.replace("fill:","color:")};return await $ue(e,f,o,n,u,h)}else{let d=t.replace(/<br\s*\/?>/g,"<br/>"),p=Due(d.replace("<br>","<br/>"),h),g=Gue(o,e,p,t?u:!1);if(s){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));let f=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Ke(g).attr("style",f)}else{let f=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Ke(g).select("rect").attr("style",f.replace(/background:/g,"fill:"));let m=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Ke(g).select("text").attr("style",m)}return g}},"createText")});function vr(e){let t=e.map((r,i)=>`${i===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}function Pu(e,t,r,i,n,a){let s=[],o=r-e,u=i-t,h=o/a,d=2*Math.PI/h,p=t+u/2;for(let g=0;g<=50;g++){let f=g/50,m=e+f*o,y=p+n*Math.sin(d*(m-e));s.push({x:m,y})}return s}function r2(e,t,r,i,n,a){let s=[],o=n*Math.PI/180,u=(a*Math.PI/180-o)/(i-1);for(let h=0;h<i;h++){let d=o+h*u,p=e+r*Math.cos(d),g=t+r*Math.sin(d);s.push({x:-p,y:-g})}return s}var er,T6,Dt,Yt,Lt=D(()=>{"use strict";po(),Gt(),hr(),ua(),cr(),Zt(),er=l(async(e,t,r)=>{let i,n=t.useHtmlLabels||Gr(Ee()?.htmlLabels);r?i=r:i="node default";let a=e.insert("g").attr("class",i).attr("id",t.domId||t.id),s=a.insert("g").attr("class","label").attr("style",Kn(t.labelStyle)),o;t.label===void 0?o="":o=typeof t.label=="string"?t.label:t.label[0];let u=await Ba(s,wr(co(o),Ee()),{useHtmlLabels:n,width:t.width||Ee().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img}),h=u.getBBox(),d=(t?.padding??0)/2;if(n){let p=u.children[0],g=Ke(u),f=p.getElementsByTagName("img");if(f){let m=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...f].map(y=>new Promise(b=>{function v(){if(y.style.display="flex",y.style.flexDirection="column",m){let x=Ee().fontSize?Ee().fontSize:window.getComputedStyle(document.body).fontSize,w=5,[k=xr.fontSize]=Iu(x),T=k*w+"px";y.style.minWidth=T,y.style.maxWidth=T}else y.style.width="100%";b(y)}l(v,"setupImage"),setTimeout(()=>{y.complete&&v()}),y.addEventListener("error",v),y.addEventListener("load",v)})))}h=p.getBoundingClientRect(),g.attr("width",h.width),g.attr("height",h.height)}return n?s.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"):s.attr("transform","translate(0, "+-h.height/2+")"),t.centerLabel&&s.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:a,bbox:h,halfPadding:d,label:s}},"labelHelper"),T6=l(async(e,t,r)=>{let i=r.useHtmlLabels||Gr(Ee()?.flowchart?.htmlLabels),n=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),a=await Ba(n,wr(co(t),Ee()),{useHtmlLabels:i,width:r.width||Ee()?.flowchart?.wrappingWidth,style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img}),s=a.getBBox(),o=r.padding/2;if(Gr(Ee()?.flowchart?.htmlLabels)){let u=a.children[0],h=Ke(a);s=u.getBoundingClientRect(),h.attr("width",s.width),h.attr("height",s.height)}return i?n.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"):n.attr("transform","translate(0, "+-s.height/2+")"),r.centerLabel&&n.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),n.insert("rect",":first-child"),{shapeSvg:e,bbox:s,halfPadding:o,label:n}},"insertLabel"),Dt=l((e,t)=>{let r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),Yt=l((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses"),l(vr,"createPathFromPoints"),l(Pu,"generateFullSineWavePoints"),l(r2,"generateCirclePoints")});function Uue(e,t){return e.intersect(t)}var que,KYe=D(()=>{"use strict";l(Uue,"intersectNode"),que=Uue});function jue(e,t,r,i){var n=e.x,a=e.y,s=n-i.x,o=a-i.y,u=Math.sqrt(t*t*o*o+r*r*s*s),h=Math.abs(t*r*s/u);i.x<n&&(h=-h);var d=Math.abs(t*r*o/u);return i.y<a&&(d=-d),{x:n+h,y:a+d}}var ZL,Hue=D(()=>{"use strict";l(jue,"intersectEllipse"),ZL=jue});function Vue(e,t,r){return ZL(e,t,t,r)}var Yue,ZYe=D(()=>{"use strict";Hue(),l(Vue,"intersectCircle"),Yue=Vue});function Wue(e,t,r,i){{let n=t.y-e.y,a=e.x-t.x,s=t.x*e.y-e.x*t.y,o=n*r.x+a*r.y+s,u=n*i.x+a*i.y+s,h=1e-6;if(o!==0&&u!==0&&QL(o,u))return;let d=i.y-r.y,p=r.x-i.x,g=i.x*r.y-r.x*i.y,f=d*e.x+p*e.y+g,m=d*t.x+p*t.y+g;if(Math.abs(f)<h&&Math.abs(m)<h&&QL(f,m))return;let y=n*p-d*a;if(y===0)return;let b=Math.abs(y/2),v=a*g-p*s,x=v<0?(v-b)/y:(v+b)/y;v=d*s-n*g;let w=v<0?(v-b)/y:(v+b)/y;return{x,y:w}}}function QL(e,t){return e*t>0}var Xue,QYe=D(()=>{"use strict";l(Wue,"intersectLine"),l(QL,"sameSign"),Xue=Wue});function Kue(e,t,r){let i=e.x,n=e.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(d){s=Math.min(s,d.x),o=Math.min(o,d.y)}):(s=Math.min(s,t.x),o=Math.min(o,t.y));let u=i-e.width/2-s,h=n-e.height/2-o;for(let d=0;d<t.length;d++){let p=t[d],g=t[d<t.length-1?d+1:0],f=Xue(e,r,{x:u+p.x,y:h+p.y},{x:u+g.x,y:h+g.y});f&&a.push(f)}return a.length?(a.length>1&&a.sort(function(d,p){let g=d.x-r.x,f=d.y-r.y,m=Math.sqrt(g*g+f*f),y=p.x-r.x,b=p.y-r.y,v=Math.sqrt(y*y+b*b);return m<v?-1:m===v?0:1}),a[0]):e}var Zue,JYe=D(()=>{"use strict";QYe(),l(Kue,"intersectPolygon"),Zue=Kue}),Que,fd,Jue=D(()=>{"use strict";Que=l((e,t)=>{var r=e.x,i=e.y,n=t.x-r,a=t.y-i,s=e.width/2,o=e.height/2,u,h;return Math.abs(a)*s>Math.abs(n)*o?(a<0&&(o=-o),u=a===0?0:o*n/a,h=o):(n<0&&(s=-s),u=s,h=n===0?0:s*a/n),{x:r+u,y:i+h}},"intersectRect"),fd=Que}),Tt,Ot=D(()=>{"use strict";KYe(),ZYe(),Hue(),JYe(),Jue(),Tt={node:que,circle:Yue,ellipse:ZL,polygon:Zue,rect:fd}}),ehe,md,the,E6,St,Rt,rhe,Mt=D(()=>{"use strict";Gt(),ehe=l(e=>{let{handDrawnSeed:t}=Ee();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),md=l(e=>{let t=the([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),the=l(e=>{let t=new Map;return e.forEach(r=>{let[i,n]=r.split(":");t.set(i.trim(),n?.trim())}),t},"styles2Map"),E6=l(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),St=l(e=>{let{stylesArray:t}=md(e),r=[],i=[],n=[],a=[];return t.forEach(s=>{let o=s[0];E6(o)?r.push(s.join(":")+" !important"):(i.push(s.join(":")+" !important"),o.includes("stroke")&&n.push(s.join(":")+" !important"),o==="fill"&&a.push(s.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:i.join(";"),stylesArray:t,borderStyles:n,backgroundStyles:a}},"styles2String"),Rt=l((e,t)=>{let{themeVariables:r,handDrawnSeed:i}=Ee(),{nodeBorder:n,mainBkg:a}=r,{stylesMap:s}=md(e);return Object.assign({roughness:.7,fill:s.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:s.get("stroke")||n,seed:i,strokeWidth:s.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:rhe(s.get("stroke-dasharray"))},t)},"userNodeOverrides"),rhe=l(e=>{if(!e)return[0,0];let t=e.trim().split(/\s+/).map(Number);if(t.length===1){let n=isNaN(t[0])?0:t[0];return[n,n]}let r=isNaN(t[0])?0:t[0],i=isNaN(t[1])?0:t[1];return[r,i]},"getStrokeDashArray")});function C6(e,t,r){if(e&&e.length){let[i,n]=t,a=Math.PI/180*r,s=Math.cos(a),o=Math.sin(a);for(let u of e){let[h,d]=u;u[0]=(h-i)*s-(d-n)*o+i,u[1]=(h-i)*o+(d-n)*s+n}}}function ihe(e,t){return e[0]===t[0]&&e[1]===t[1]}function nhe(e,t,r,i=1){let n=r,a=Math.max(t,.1),s=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,o=[0,0];if(n)for(let h of s)C6(h,o,n);let u=function(h,d,p){let g=[];for(let x of h){let w=[...x];ihe(w[0],w[w.length-1])||w.push([w[0][0],w[0][1]]),w.length>2&&g.push(w)}let f=[];d=Math.max(d,.1);let m=[];for(let x of g)for(let w=0;w<x.length-1;w++){let k=x[w],T=x[w+1];if(k[1]!==T[1]){let _=Math.min(k[1],T[1]);m.push({ymin:_,ymax:Math.max(k[1],T[1]),x:_===k[1]?k[0]:T[0],islope:(T[0]-k[0])/(T[1]-k[1])})}}if(m.sort((x,w)=>x.ymin<w.ymin?-1:x.ymin>w.ymin?1:x.x<w.x?-1:x.x>w.x?1:x.ymax===w.ymax?0:(x.ymax-w.ymax)/Math.abs(x.ymax-w.ymax)),!m.length)return f;let y=[],b=m[0].ymin,v=0;for(;y.length||m.length;){if(m.length){let x=-1;for(let w=0;w<m.length&&!(m[w].ymin>b);w++)x=w;m.splice(0,x+1).forEach(w=>{y.push({s:b,edge:w})})}if(y=y.filter(x=>!(x.edge.ymax<=b)),y.sort((x,w)=>x.edge.x===w.edge.x?0:(x.edge.x-w.edge.x)/Math.abs(x.edge.x-w.edge.x)),(p!==1||v%d==0)&&y.length>1)for(let x=0;x<y.length;x+=2){let w=x+1;if(w>=y.length)break;let k=y[x].edge,T=y[w].edge;f.push([[Math.round(k.x),b],[Math.round(T.x),b]])}b+=p,y.forEach(x=>{x.edge.x=x.edge.x+p*x.edge.islope}),v++}return f}(s,a,i);if(n){for(let h of s)C6(h,o,-n);(function(h,d,p){let g=[];h.forEach(f=>g.push(...f)),C6(g,d,p)})(u,o,-n)}return u}function Rg(e,t){var r;let i=t.hachureAngle+90,n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.round(Math.max(n,.1));let a=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(a=n),nhe(e,n,i,a||1)}function i2(e){let t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}function S6(e,t){return e.type===t}function _6(e){let t=[],r=function(s){let o=new Array;for(;s!=="";)if(s.match(/^([ \t\r\n,]+)/))s=s.substr(RegExp.$1.length);else if(s.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:fhe,text:RegExp.$1},s=s.substr(RegExp.$1.length);else{if(!s.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:R6,text:`${parseFloat(RegExp.$1)}`},s=s.substr(RegExp.$1.length)}return o[o.length]={type:dN,text:""},o}(e),i="BOD",n=0,a=r[n];for(;!S6(a,dN);){let s=0,o=[];if(i==="BOD"){if(a.text!=="M"&&a.text!=="m")return _6("M0,0"+e);n++,s=u2[a.text],i=a.text}else S6(a,R6)?s=u2[i]:(n++,s=u2[a.text],i=a.text);if(!(n+s<r.length))throw new Error("Path data ended short");for(let u=n;u<n+s;u++){let h=r[u];if(!S6(h,R6))throw new Error("Param not a number: "+i+","+h.text);o[o.length]=+h.text}if(typeof u2[i]!="number")throw new Error("Bad segment: "+i);{let u={key:i,data:o};t.push(u),n+=s,a=r[n],i==="M"&&(i="L"),i==="m"&&(i="l")}}return t}function JL(e){let t=0,r=0,i=0,n=0,a=[];for(let{key:s,data:o}of e)switch(s){case"M":a.push({key:"M",data:[...o]}),[t,r]=o,[i,n]=o;break;case"m":t+=o[0],r+=o[1],a.push({key:"M",data:[t,r]}),i=t,n=r;break;case"L":a.push({key:"L",data:[...o]}),[t,r]=o;break;case"l":t+=o[0],r+=o[1],a.push({key:"L",data:[t,r]});break;case"C":a.push({key:"C",data:[...o]}),t=o[4],r=o[5];break;case"c":{let u=o.map((h,d)=>d%2?h+r:h+t);a.push({key:"C",data:u}),t=u[4],r=u[5];break}case"Q":a.push({key:"Q",data:[...o]}),t=o[2],r=o[3];break;case"q":{let u=o.map((h,d)=>d%2?h+r:h+t);a.push({key:"Q",data:u}),t=u[2],r=u[3];break}case"A":a.push({key:"A",data:[...o]}),t=o[5],r=o[6];break;case"a":t+=o[5],r+=o[6],a.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],t,r]});break;case"H":a.push({key:"H",data:[...o]}),t=o[0];break;case"h":t+=o[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...o]}),t=o[2],r=o[3];break;case"s":{let u=o.map((h,d)=>d%2?h+r:h+t);a.push({key:"S",data:u}),t=u[2],r=u[3];break}case"T":a.push({key:"T",data:[...o]}),t=o[0],r=o[1];break;case"t":t+=o[0],r+=o[1],a.push({key:"T",data:[t,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=i,r=n}return a}function eN(e){let t=[],r="",i=0,n=0,a=0,s=0,o=0,u=0;for(let{key:h,data:d}of e){switch(h){case"M":t.push({key:"M",data:[...d]}),[i,n]=d,[a,s]=d;break;case"C":t.push({key:"C",data:[...d]}),i=d[4],n=d[5],o=d[2],u=d[3];break;case"L":t.push({key:"L",data:[...d]}),[i,n]=d;break;case"H":i=d[0],t.push({key:"L",data:[i,n]});break;case"V":n=d[0],t.push({key:"L",data:[i,n]});break;case"S":{let p=0,g=0;r==="C"||r==="S"?(p=i+(i-o),g=n+(n-u)):(p=i,g=n),t.push({key:"C",data:[p,g,...d]}),o=d[0],u=d[1],i=d[2],n=d[3];break}case"T":{let[p,g]=d,f=0,m=0;r==="Q"||r==="T"?(f=i+(i-o),m=n+(n-u)):(f=i,m=n);let y=i+2*(f-i)/3,b=n+2*(m-n)/3,v=p+2*(f-p)/3,x=g+2*(m-g)/3;t.push({key:"C",data:[y,b,v,x,p,g]}),o=f,u=m,i=p,n=g;break}case"Q":{let[p,g,f,m]=d,y=i+2*(p-i)/3,b=n+2*(g-n)/3,v=f+2*(p-f)/3,x=m+2*(g-m)/3;t.push({key:"C",data:[y,b,v,x,f,m]}),o=p,u=g,i=f,n=m;break}case"A":{let p=Math.abs(d[0]),g=Math.abs(d[1]),f=d[2],m=d[3],y=d[4],b=d[5],v=d[6];p===0||g===0?(t.push({key:"C",data:[i,n,b,v,b,v]}),i=b,n=v):(i!==b||n!==v)&&(tN(i,n,b,v,p,g,f,m,y).forEach(function(x){t.push({key:"C",data:x})}),i=b,n=v);break}case"Z":t.push({key:"Z",data:[]}),i=a,n=s}r=h}return t}function Og(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function tN(e,t,r,i,n,a,s,o,u,h){let d=(p=s,Math.PI*p/180);var p;let g=[],f=0,m=0,y=0,b=0;if(h)[f,m,y,b]=h;else{[e,t]=Og(e,t,-d),[r,i]=Og(r,i,-d);let B=(e-r)/2,S=(t-i)/2,O=B*B/(n*n)+S*S/(a*a);O>1&&(O=Math.sqrt(O),n*=O,a*=O);let R=n*n,P=a*a,L=R*P-R*S*S-P*B*B,$=R*S*S+P*B*B,F=(o===u?-1:1)*Math.sqrt(Math.abs(L/$));y=F*n*S/a+(e+r)/2,b=F*-a*B/n+(t+i)/2,f=Math.asin(parseFloat(((t-b)/a).toFixed(9))),m=Math.asin(parseFloat(((i-b)/a).toFixed(9))),e<y&&(f=Math.PI-f),r<y&&(m=Math.PI-m),f<0&&(f=2*Math.PI+f),m<0&&(m=2*Math.PI+m),u&&f>m&&(f-=2*Math.PI),!u&&m>f&&(m-=2*Math.PI)}let v=m-f;if(Math.abs(v)>120*Math.PI/180){let B=m,S=r,O=i;m=u&&m>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,g=tN(r=y+n*Math.cos(m),i=b+a*Math.sin(m),S,O,n,a,s,0,u,[m,B,y,b])}v=m-f;let x=Math.cos(f),w=Math.sin(f),k=Math.cos(m),T=Math.sin(m),_=Math.tan(v/4),C=4/3*n*_,E=4/3*a*_,N=[e,t],M=[e+C*w,t-E*x],I=[r+C*T,i-E*k],A=[r,i];if(M[0]=2*N[0]-M[0],M[1]=2*N[1]-M[1],h)return[M,I,A].concat(g);{g=[M,I,A].concat(g);let B=[];for(let S=0;S<g.length;S+=3){let O=Og(g[S][0],g[S][1],d),R=Og(g[S+1][0],g[S+1][1],d),P=Og(g[S+2][0],g[S+2][1],d);B.push([O[0],O[1],R[0],R[1],P[0],P[1]])}return B}}function rN(e,t,r,i,n){return{type:"path",ops:sc(e,t,r,i,n)}}function n2(e,t,r){let i=(e||[]).length;if(i>2){let n=[];for(let a=0;a<i-1;a++)n.push(...sc(e[a][0],e[a][1],e[a+1][0],e[a+1][1],r));return t&&n.push(...sc(e[i-1][0],e[i-1][1],e[0][0],e[0][1],r)),{type:"path",ops:n}}return i===2?rN(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function ahe(e,t,r,i,n){return function(a,s){return n2(a,!0,s)}([[e,t],[e+r,t],[e+r,t+i],[e,t+i]],n)}function iN(e,t){if(e.length){let r=typeof e[0][0]=="number"?[e]:e,i=s2(r[0],1*(1+.2*t.roughness),t),n=t.disableMultiStroke?[]:s2(r[0],1.5*(1+.22*t.roughness),oN(t));for(let a=1;a<r.length;a++){let s=r[a];if(s.length){let o=s2(s,1*(1+.2*t.roughness),t),u=t.disableMultiStroke?[]:s2(s,1.5*(1+.22*t.roughness),oN(t));for(let h of o)h.op!=="move"&&i.push(h);for(let h of u)h.op!=="move"&&n.push(h)}}return{type:"path",ops:i.concat(n)}}return{type:"path",ops:[]}}function nN(e,t,r){let i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),n=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*i)),a=2*Math.PI/n,s=Math.abs(e/2),o=Math.abs(t/2),u=1-r.curveFitting;return s+=tr(s*u,r),o+=tr(o*u,r),{increment:a,rx:s,ry:o}}function A6(e,t,r,i){let[n,a]=cN(i.increment,e,t,i.rx,i.ry,1,i.increment*a2(.1,a2(.4,1,r),r),r),s=o2(n,null,r);if(!r.disableMultiStroke&&r.roughness!==0){let[o]=cN(i.increment,e,t,i.rx,i.ry,1.5,0,r),u=o2(o,null,r);s=s.concat(u)}return{estimatedPoints:a,opset:{type:"path",ops:s}}}function aN(e,t,r,i,n,a,s,o,u){let h=e,d=t,p=Math.abs(r/2),g=Math.abs(i/2);p+=tr(.01*p,u),g+=tr(.01*g,u);let f=n,m=a;for(;f<0;)f+=2*Math.PI,m+=2*Math.PI;m-f>2*Math.PI&&(f=0,m=2*Math.PI);let y=2*Math.PI/u.curveStepCount,b=Math.min(y/2,(m-f)/2),v=uN(b,h,d,p,g,f,m,1,u);if(!u.disableMultiStroke){let x=uN(b,h,d,p,g,f,m,1.5,u);v.push(...x)}return s&&(o?v.push(...sc(h,d,h+p*Math.cos(f),d+g*Math.sin(f),u),...sc(h,d,h+p*Math.cos(m),d+g*Math.sin(m),u)):v.push({op:"lineTo",data:[h,d]},{op:"lineTo",data:[h+p*Math.cos(f),d+g*Math.sin(f)]})),{type:"path",ops:v}}function sN(e,t){let r=eN(JL(_6(e))),i=[],n=[0,0],a=[0,0];for(let{key:s,data:o}of r)switch(s){case"M":a=[o[0],o[1]],n=[o[0],o[1]];break;case"L":i.push(...sc(a[0],a[1],o[0],o[1],t)),a=[o[0],o[1]];break;case"C":{let[u,h,d,p,g,f]=o;i.push(...she(u,h,d,p,g,f,a,t)),a=[g,f];break}case"Z":i.push(...sc(a[0],a[1],n[0],n[1],t)),a=[n[0],n[1]]}return{type:"path",ops:i}}function L6(e,t){let r=[];for(let i of e)if(i.length){let n=t.maxRandomnessOffset||0,a=i.length;if(a>2){r.push({op:"move",data:[i[0][0]+tr(n,t),i[0][1]+tr(n,t)]});for(let s=1;s<a;s++)r.push({op:"lineTo",data:[i[s][0]+tr(n,t),i[s][1]+tr(n,t)]})}}return{type:"fillPath",ops:r}}function yd(e,t){return function(r,i){let n=r.fillStyle||"hachure";if(!ba[n])switch(n){case"zigzag":ba[n]||(ba[n]=new che(i));break;case"cross-hatch":ba[n]||(ba[n]=new uhe(i));break;case"dots":ba[n]||(ba[n]=new hhe(i));break;case"dashed":ba[n]||(ba[n]=new dhe(i));break;case"zigzag-line":ba[n]||(ba[n]=new phe(i));break;default:n="hachure",ba[n]||(ba[n]=new D6(i))}return ba[n]}(t,mhe).fillPolygons(e,t)}function oN(e){let t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function lN(e){return e.randomizer||(e.randomizer=new ghe(e.seed||0)),e.randomizer.next()}function a2(e,t,r,i=1){return r.roughness*i*(lN(r)*(t-e)+e)}function tr(e,t,r=1){return a2(-e,e,t,r)}function sc(e,t,r,i,n,a=!1){let s=a?n.disableMultiStrokeFill:n.disableMultiStroke,o=N6(e,t,r,i,n,!0,!1);if(s)return o;let u=N6(e,t,r,i,n,!0,!0);return o.concat(u)}function N6(e,t,r,i,n,a,s){let o=Math.pow(e-r,2)+Math.pow(t-i,2),u=Math.sqrt(o),h=1;h=u<200?1:u>500?.4:-.0016668*u+1.233334;let d=n.maxRandomnessOffset||0;d*d*100>o&&(d=u/10);let p=d/2,g=.2+.2*lN(n),f=n.bowing*n.maxRandomnessOffset*(i-t)/200,m=n.bowing*n.maxRandomnessOffset*(e-r)/200;f=tr(f,n,h),m=tr(m,n,h);let y=[],b=l(()=>tr(p,n,h),"M"),v=l(()=>tr(d,n,h),"k"),x=n.preserveVertices;return a&&(s?y.push({op:"move",data:[e+(x?0:b()),t+(x?0:b())]}):y.push({op:"move",data:[e+(x?0:tr(d,n,h)),t+(x?0:tr(d,n,h))]})),s?y.push({op:"bcurveTo",data:[f+e+(r-e)*g+b(),m+t+(i-t)*g+b(),f+e+2*(r-e)*g+b(),m+t+2*(i-t)*g+b(),r+(x?0:b()),i+(x?0:b())]}):y.push({op:"bcurveTo",data:[f+e+(r-e)*g+v(),m+t+(i-t)*g+v(),f+e+2*(r-e)*g+v(),m+t+2*(i-t)*g+v(),r+(x?0:v()),i+(x?0:v())]}),y}function s2(e,t,r){if(!e.length)return[];let i=[];i.push([e[0][0]+tr(t,r),e[0][1]+tr(t,r)]),i.push([e[0][0]+tr(t,r),e[0][1]+tr(t,r)]);for(let n=1;n<e.length;n++)i.push([e[n][0]+tr(t,r),e[n][1]+tr(t,r)]),n===e.length-1&&i.push([e[n][0]+tr(t,r),e[n][1]+tr(t,r)]);return o2(i,null,r)}function o2(e,t,r){let i=e.length,n=[];if(i>3){let a=[],s=1-r.curveTightness;n.push({op:"move",data:[e[1][0],e[1][1]]});for(let o=1;o+2<i;o++){let u=e[o];a[0]=[u[0],u[1]],a[1]=[u[0]+(s*e[o+1][0]-s*e[o-1][0])/6,u[1]+(s*e[o+1][1]-s*e[o-1][1])/6],a[2]=[e[o+1][0]+(s*e[o][0]-s*e[o+2][0])/6,e[o+1][1]+(s*e[o][1]-s*e[o+2][1])/6],a[3]=[e[o+1][0],e[o+1][1]],n.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(t&&t.length===2){let o=r.maxRandomnessOffset;n.push({op:"lineTo",data:[t[0]+tr(o,r),t[1]+tr(o,r)]})}}else i===3?(n.push({op:"move",data:[e[1][0],e[1][1]]}),n.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):i===2&&n.push(...N6(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return n}function cN(e,t,r,i,n,a,s,o){let u=[],h=[];if(o.roughness===0){e/=4,h.push([t+i*Math.cos(-e),r+n*Math.sin(-e)]);for(let d=0;d<=2*Math.PI;d+=e){let p=[t+i*Math.cos(d),r+n*Math.sin(d)];u.push(p),h.push(p)}h.push([t+i*Math.cos(0),r+n*Math.sin(0)]),h.push([t+i*Math.cos(e),r+n*Math.sin(e)])}else{let d=tr(.5,o)-Math.PI/2;h.push([tr(a,o)+t+.9*i*Math.cos(d-e),tr(a,o)+r+.9*n*Math.sin(d-e)]);let p=2*Math.PI+d-.01;for(let g=d;g<p;g+=e){let f=[tr(a,o)+t+i*Math.cos(g),tr(a,o)+r+n*Math.sin(g)];u.push(f),h.push(f)}h.push([tr(a,o)+t+i*Math.cos(d+2*Math.PI+.5*s),tr(a,o)+r+n*Math.sin(d+2*Math.PI+.5*s)]),h.push([tr(a,o)+t+.98*i*Math.cos(d+s),tr(a,o)+r+.98*n*Math.sin(d+s)]),h.push([tr(a,o)+t+.9*i*Math.cos(d+.5*s),tr(a,o)+r+.9*n*Math.sin(d+.5*s)])}return[h,u]}function uN(e,t,r,i,n,a,s,o,u){let h=a+tr(.1,u),d=[];d.push([tr(o,u)+t+.9*i*Math.cos(h-e),tr(o,u)+r+.9*n*Math.sin(h-e)]);for(let p=h;p<=s;p+=e)d.push([tr(o,u)+t+i*Math.cos(p),tr(o,u)+r+n*Math.sin(p)]);return d.push([t+i*Math.cos(s),r+n*Math.sin(s)]),d.push([t+i*Math.cos(s),r+n*Math.sin(s)]),o2(d,null,u)}function she(e,t,r,i,n,a,s,o){let u=[],h=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3],d=[0,0],p=o.disableMultiStroke?1:2,g=o.preserveVertices;for(let f=0;f<p;f++)f===0?u.push({op:"move",data:[s[0],s[1]]}):u.push({op:"move",data:[s[0]+(g?0:tr(h[0],o)),s[1]+(g?0:tr(h[0],o))]}),d=g?[n,a]:[n+tr(h[f],o),a+tr(h[f],o)],u.push({op:"bcurveTo",data:[e+tr(h[f],o),t+tr(h[f],o),r+tr(h[f],o),i+tr(h[f],o),d[0],d[1]]});return u}function Pg(e){return[...e]}function hN(e,t=0){let r=e.length;if(r<3)throw new Error("A curve must have at least three points.");let i=[];if(r===3)i.push(Pg(e[0]),Pg(e[1]),Pg(e[2]),Pg(e[2]));else{let n=[];n.push(e[0],e[0]);for(let o=1;o<e.length;o++)n.push(e[o]),o===e.length-1&&n.push(e[o]);let a=[],s=1-t;i.push(Pg(n[0]));for(let o=1;o+2<n.length;o++){let u=n[o];a[0]=[u[0],u[1]],a[1]=[u[0]+(s*n[o+1][0]-s*n[o-1][0])/6,u[1]+(s*n[o+1][1]-s*n[o-1][1])/6],a[2]=[n[o+1][0]+(s*n[o][0]-s*n[o+2][0])/6,n[o+1][1]+(s*n[o][1]-s*n[o+2][1])/6],a[3]=[n[o+1][0],n[o+1][1]],i.push(a[1],a[2],a[3])}}return i}function l2(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function ohe(e,t,r){let i=l2(t,r);if(i===0)return l2(e,t);let n=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/i;return n=Math.max(0,Math.min(1,n)),l2(e,Bu(t,r,n))}function Bu(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function M6(e,t,r,i){let n=i||[];if(function(o,u){let h=o[u+0],d=o[u+1],p=o[u+2],g=o[u+3],f=3*d[0]-2*h[0]-g[0];f*=f;let m=3*d[1]-2*h[1]-g[1];m*=m;let y=3*p[0]-2*g[0]-h[0];y*=y;let b=3*p[1]-2*g[1]-h[1];return b*=b,f<y&&(f=y),m<b&&(m=b),f+m}(e,t)<r){let o=e[t+0];n.length?(a=n[n.length-1],s=o,Math.sqrt(l2(a,s))>1&&n.push(o)):n.push(o),n.push(e[t+3])}else{let o=e[t+0],u=e[t+1],h=e[t+2],d=e[t+3],p=Bu(o,u,.5),g=Bu(u,h,.5),f=Bu(h,d,.5),m=Bu(p,g,.5),y=Bu(g,f,.5),b=Bu(m,y,.5);M6([o,p,m,b],0,r,n),M6([b,y,f,d],0,r,n)}var a,s;return n}function lhe(e,t){return c2(e,0,e.length,t)}function c2(e,t,r,i,n){let a=n||[],s=e[t],o=e[r-1],u=0,h=1;for(let d=t+1;d<r-1;++d){let p=ohe(e[d],s,o);p>u&&(u=p,h=d)}return Math.sqrt(u)>i?(c2(e,t,h+1,i,a),c2(e,h,r,i,a)):(a.length||a.push(s),a.push(o)),a}function I6(e,t=.15,r){let i=[],n=(e.length-1)/3;for(let a=0;a<n;a++)M6(e,3*a,t,i);return r&&r>0?c2(i,0,i.length,r):i}var D6,che,uhe,hhe,dhe,phe,ba,ghe,fhe,R6,dN,u2,mhe,$a,h2,yhe,d2,vhe,It,$t=D(()=>{"use strict";l(C6,"t"),l(ihe,"e"),l(nhe,"s"),l(Rg,"n"),D6=class{static{l(this,"o")}constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){let r=Rg(e,t);return{type:"fillSketch",ops:this.renderLines(r,t)}}renderLines(e,t){let r=[];for(let i of e)r.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],t));return r}},l(i2,"a"),che=class extends D6{static{l(this,"h")}fillPolygons(e,t){let r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);let i=Rg(e,Object.assign({},t,{hachureGap:r})),n=Math.PI/180*t.hachureAngle,a=[],s=.5*r*Math.cos(n),o=.5*r*Math.sin(n);for(let[u,h]of i)i2([u,h])&&a.push([[u[0]-s,u[1]+o],[...h]],[[u[0]+s,u[1]-o],[...h]]);return{type:"fillSketch",ops:this.renderLines(a,t)}}},uhe=class extends D6{static{l(this,"r")}fillPolygons(e,t){let r=this._fillPolygons(e,t),i=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),n=this._fillPolygons(e,i);return r.ops=r.ops.concat(n.ops),r}},hhe=class{static{l(this,"i")}constructor(e){this.helper=e}fillPolygons(e,t){let r=Rg(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(r,t)}dotsOnLines(e,t){let r=[],i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.max(i,.1);let n=t.fillWeight;n<0&&(n=t.strokeWidth/2);let a=i/4;for(let s of e){let o=i2(s),u=o/i,h=Math.ceil(u)-1,d=o-h*i,p=(s[0][0]+s[1][0])/2-i/4,g=Math.min(s[0][1],s[1][1]);for(let f=0;f<h;f++){let m=g+d+f*i,y=p-a+2*Math.random()*a,b=m-a+2*Math.random()*a,v=this.helper.ellipse(y,b,n,n,t);r.push(...v.ops)}}return{type:"fillSketch",ops:r}}},dhe=class{static{l(this,"c")}constructor(e){this.helper=e}fillPolygons(e,t){let r=Rg(e,t);return{type:"fillSketch",ops:this.dashedLine(r,t)}}dashedLine(e,t){let r=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,i=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,n=[];return e.forEach(a=>{let s=i2(a),o=Math.floor(s/(r+i)),u=(s+i-o*(r+i))/2,h=a[0],d=a[1];h[0]>d[0]&&(h=a[1],d=a[0]);let p=Math.atan((d[1]-h[1])/(d[0]-h[0]));for(let g=0;g<o;g++){let f=g*(r+i),m=f+r,y=[h[0]+f*Math.cos(p)+u*Math.cos(p),h[1]+f*Math.sin(p)+u*Math.sin(p)],b=[h[0]+m*Math.cos(p)+u*Math.cos(p),h[1]+m*Math.sin(p)+u*Math.sin(p)];n.push(...this.helper.doubleLineOps(y[0],y[1],b[0],b[1],t))}}),n}},phe=class{static{l(this,"l")}constructor(e){this.helper=e}fillPolygons(e,t){let r=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,i=t.zigzagOffset<0?r:t.zigzagOffset,n=Rg(e,t=Object.assign({},t,{hachureGap:r+i}));return{type:"fillSketch",ops:this.zigzagLines(n,i,t)}}zigzagLines(e,t,r){let i=[];return e.forEach(n=>{let a=i2(n),s=Math.round(a/(2*t)),o=n[0],u=n[1];o[0]>u[0]&&(o=n[1],u=n[0]);let h=Math.atan((u[1]-o[1])/(u[0]-o[0]));for(let d=0;d<s;d++){let p=2*d*t,g=2*(d+1)*t,f=Math.sqrt(2*Math.pow(t,2)),m=[o[0]+p*Math.cos(h),o[1]+p*Math.sin(h)],y=[o[0]+g*Math.cos(h),o[1]+g*Math.sin(h)],b=[m[0]+f*Math.cos(h+Math.PI/4),m[1]+f*Math.sin(h+Math.PI/4)];i.push(...this.helper.doubleLineOps(m[0],m[1],b[0],b[1],r),...this.helper.doubleLineOps(b[0],b[1],y[0],y[1],r))}}),i}},ba={},ghe=class{static{l(this,"p")}constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}},fhe=0,R6=1,dN=2,u2={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},l(S6,"k"),l(_6,"b"),l(JL,"y"),l(eN,"m"),l(Og,"w"),l(tN,"x"),mhe={randOffset:l(function(e,t){return tr(e,t)},"randOffset"),randOffsetWithRange:l(function(e,t,r){return a2(e,t,r)},"randOffsetWithRange"),ellipse:l(function(e,t,r,i,n){let a=nN(r,i,n);return A6(e,t,n,a).opset},"ellipse"),doubleLineOps:l(function(e,t,r,i,n){return sc(e,t,r,i,n,!0)},"doubleLineOps")},l(rN,"v"),l(n2,"S"),l(ahe,"O"),l(iN,"L"),l(nN,"T"),l(A6,"D"),l(aN,"A"),l(sN,"_"),l(L6,"I"),l(yd,"C"),l(oN,"z"),l(lN,"W"),l(a2,"E"),l(tr,"G"),l(sc,"$"),l(N6,"R"),l(s2,"j"),l(o2,"q"),l(cN,"F"),l(uN,"V"),l(she,"Z"),l(Pg,"Q"),l(hN,"H"),l(l2,"N"),l(ohe,"B"),l(Bu,"J"),l(M6,"K"),l(lhe,"U"),l(c2,"X"),l(I6,"Y"),$a="none",h2=class{static{l(this,"et")}constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,r){return{shape:e,sets:t||[],options:r||this.defaultOptions}}line(e,t,r,i,n){let a=this._o(n);return this._d("line",[rN(e,t,r,i,a)],a)}rectangle(e,t,r,i,n){let a=this._o(n),s=[],o=ahe(e,t,r,i,a);if(a.fill){let u=[[e,t],[e+r,t],[e+r,t+i],[e,t+i]];a.fillStyle==="solid"?s.push(L6([u],a)):s.push(yd([u],a))}return a.stroke!==$a&&s.push(o),this._d("rectangle",s,a)}ellipse(e,t,r,i,n){let a=this._o(n),s=[],o=nN(r,i,a),u=A6(e,t,a,o);if(a.fill)if(a.fillStyle==="solid"){let h=A6(e,t,a,o).opset;h.type="fillPath",s.push(h)}else s.push(yd([u.estimatedPoints],a));return a.stroke!==$a&&s.push(u.opset),this._d("ellipse",s,a)}circle(e,t,r,i){let n=this.ellipse(e,t,r,r,i);return n.shape="circle",n}linearPath(e,t){let r=this._o(t);return this._d("linearPath",[n2(e,!1,r)],r)}arc(e,t,r,i,n,a,s=!1,o){let u=this._o(o),h=[],d=aN(e,t,r,i,n,a,s,!0,u);if(s&&u.fill)if(u.fillStyle==="solid"){let p=Object.assign({},u);p.disableMultiStroke=!0;let g=aN(e,t,r,i,n,a,!0,!1,p);g.type="fillPath",h.push(g)}else h.push(function(p,g,f,m,y,b,v){let x=p,w=g,k=Math.abs(f/2),T=Math.abs(m/2);k+=tr(.01*k,v),T+=tr(.01*T,v);let _=y,C=b;for(;_<0;)_+=2*Math.PI,C+=2*Math.PI;C-_>2*Math.PI&&(_=0,C=2*Math.PI);let E=(C-_)/v.curveStepCount,N=[];for(let M=_;M<=C;M+=E)N.push([x+k*Math.cos(M),w+T*Math.sin(M)]);return N.push([x+k*Math.cos(C),w+T*Math.sin(C)]),N.push([x,w]),yd([N],v)}(e,t,r,i,n,a,u));return u.stroke!==$a&&h.push(d),this._d("arc",h,u)}curve(e,t){let r=this._o(t),i=[],n=iN(e,r);if(r.fill&&r.fill!==$a)if(r.fillStyle==="solid"){let a=iN(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{let a=[],s=e;if(s.length){let o=typeof s[0][0]=="number"?[s]:s;for(let u of o)u.length<3?a.push(...u):u.length===3?a.push(...I6(hN([u[0],u[0],u[1],u[2]]),10,(1+r.roughness)/2)):a.push(...I6(hN(u),10,(1+r.roughness)/2))}a.length&&i.push(yd([a],r))}return r.stroke!==$a&&i.push(n),this._d("curve",i,r)}polygon(e,t){let r=this._o(t),i=[],n=n2(e,!0,r);return r.fill&&(r.fillStyle==="solid"?i.push(L6([e],r)):i.push(yd([e],r))),r.stroke!==$a&&i.push(n),this._d("polygon",i,r)}path(e,t){let r=this._o(t),i=[];if(!e)return this._d("path",i,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let n=r.fill&&r.fill!=="transparent"&&r.fill!==$a,a=r.stroke!==$a,s=!!(r.simplification&&r.simplification<1),o=function(h,d,p){let g=eN(JL(_6(h))),f=[],m=[],y=[0,0],b=[],v=l(()=>{b.length>=4&&m.push(...I6(b,d)),b=[]},"i"),x=l(()=>{v(),m.length&&(f.push(m),m=[])},"c");for(let{key:k,data:T}of g)switch(k){case"M":x(),y=[T[0],T[1]],m.push(y);break;case"L":v(),m.push([T[0],T[1]]);break;case"C":if(!b.length){let _=m.length?m[m.length-1]:y;b.push([_[0],_[1]])}b.push([T[0],T[1]]),b.push([T[2],T[3]]),b.push([T[4],T[5]]);break;case"Z":v(),m.push([y[0],y[1]])}if(x(),!p)return f;let w=[];for(let k of f){let T=lhe(k,p);T.length&&w.push(T)}return w}(e,1,s?4-4*(r.simplification||1):(1+r.roughness)/2),u=sN(e,r);if(n)if(r.fillStyle==="solid")if(o.length===1){let h=sN(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else i.push(L6(o,r));else i.push(yd(o,r));return a&&(s?o.forEach(h=>{i.push(n2(h,!1,r))}):i.push(u)),this._d("path",i,r)}opsToPath(e,t){let r="";for(let i of e.ops){let n=typeof t=="number"&&t>=0?i.data.map(a=>+a.toFixed(t)):i.data;switch(i.op){case"move":r+=`M${n[0]} ${n[1]} `;break;case"bcurveTo":r+=`C${n[0]} ${n[1]}, ${n[2]} ${n[3]}, ${n[4]} ${n[5]} `;break;case"lineTo":r+=`L${n[0]} ${n[1]} `}}return r.trim()}toPaths(e){let t=e.sets||[],r=e.options||this.defaultOptions,i=[];for(let n of t){let a=null;switch(n.type){case"path":a={d:this.opsToPath(n),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:$a};break;case"fillPath":a={d:this.opsToPath(n),stroke:$a,strokeWidth:0,fill:r.fill||$a};break;case"fillSketch":a=this.fillSketch(n,r)}a&&i.push(a)}return i}fillSketch(e,t){let r=t.fillWeight;return r<0&&(r=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||$a,strokeWidth:r,fill:$a}}_mergedShape(e){return e.filter((t,r)=>r===0||t.op!=="move")}},yhe=class{static{l(this,"st")}constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new h2(t)}draw(e){let t=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.ctx,n=e.options.fixedDecimalPlaceDigits;for(let a of t)switch(a.type){case"path":i.save(),i.strokeStyle=r.stroke==="none"?"transparent":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,a,n),i.restore();break;case"fillPath":{i.save(),i.fillStyle=r.fill||"";let s=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,a,n,s),i.restore();break}case"fillSketch":this.fillSketch(i,a,r)}}fillSketch(e,t,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=i,this._drawToContext(e,t,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,t,r,i="nonzero"){e.beginPath();for(let n of t.ops){let a=typeof r=="number"&&r>=0?n.data.map(s=>+s.toFixed(r)):n.data;switch(n.op){case"move":e.moveTo(a[0],a[1]);break;case"bcurveTo":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":e.lineTo(a[0],a[1])}}t.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,r,i,n){let a=this.gen.line(e,t,r,i,n);return this.draw(a),a}rectangle(e,t,r,i,n){let a=this.gen.rectangle(e,t,r,i,n);return this.draw(a),a}ellipse(e,t,r,i,n){let a=this.gen.ellipse(e,t,r,i,n);return this.draw(a),a}circle(e,t,r,i){let n=this.gen.circle(e,t,r,i);return this.draw(n),n}linearPath(e,t){let r=this.gen.linearPath(e,t);return this.draw(r),r}polygon(e,t){let r=this.gen.polygon(e,t);return this.draw(r),r}arc(e,t,r,i,n,a,s=!1,o){let u=this.gen.arc(e,t,r,i,n,a,s,o);return this.draw(u),u}curve(e,t){let r=this.gen.curve(e,t);return this.draw(r),r}path(e,t){let r=this.gen.path(e,t);return this.draw(r),r}},d2="http://www.w3.org/2000/svg",vhe=class{static{l(this,"ot")}constructor(e,t){this.svg=e,this.gen=new h2(t)}draw(e){let t=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,n=i.createElementNS(d2,"g"),a=e.options.fixedDecimalPlaceDigits;for(let s of t){let o=null;switch(s.type){case"path":o=i.createElementNS(d2,"path"),o.setAttribute("d",this.opsToPath(s,a)),o.setAttribute("stroke",r.stroke),o.setAttribute("stroke-width",r.strokeWidth+""),o.setAttribute("fill","none"),r.strokeLineDash&&o.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&o.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":o=i.createElementNS(d2,"path"),o.setAttribute("d",this.opsToPath(s,a)),o.setAttribute("stroke","none"),o.setAttribute("stroke-width","0"),o.setAttribute("fill",r.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||o.setAttribute("fill-rule","evenodd");break;case"fillSketch":o=this.fillSketch(i,s,r)}o&&n.appendChild(o)}return n}fillSketch(e,t,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);let n=e.createElementNS(d2,"path");return n.setAttribute("d",this.opsToPath(t,r.fixedDecimalPlaceDigits)),n.setAttribute("stroke",r.fill||""),n.setAttribute("stroke-width",i+""),n.setAttribute("fill","none"),r.fillLineDash&&n.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&n.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),n}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,r,i,n){let a=this.gen.line(e,t,r,i,n);return this.draw(a)}rectangle(e,t,r,i,n){let a=this.gen.rectangle(e,t,r,i,n);return this.draw(a)}ellipse(e,t,r,i,n){let a=this.gen.ellipse(e,t,r,i,n);return this.draw(a)}circle(e,t,r,i){let n=this.gen.circle(e,t,r,i);return this.draw(n)}linearPath(e,t){let r=this.gen.linearPath(e,t);return this.draw(r)}polygon(e,t){let r=this.gen.polygon(e,t);return this.draw(r)}arc(e,t,r,i,n,a,s=!1,o){let u=this.gen.arc(e,t,r,i,n,a,s,o);return this.draw(u)}curve(e,t){let r=this.gen.curve(e,t);return this.draw(r)}path(e,t){let r=this.gen.path(e,t);return this.draw(r)}},It={canvas:l((e,t)=>new yhe(e,t),"canvas"),svg:l((e,t)=>new vhe(e,t),"svg"),generator:l(e=>new h2(e),"generator"),newSeed:l(()=>h2.newSeed(),"newSeed")}});function bhe(e,t){let{labelStyles:r}=St(t);t.labelStyle=r;let i=Yt(t),n=i;i||(n="anchor");let a=e.insert("g").attr("class",n).attr("id",t.domId||t.id),s=1,{cssStyles:o}=t,u=It.svg(a),h=Rt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);let d=u.circle(0,0,s*2,h),p=a.insert(()=>d,":first-child");return p.attr("class","anchor").attr("style",Kn(o)),Dt(t,p),t.intersect=function(g){return ne.info("Circle intersect",t,s,g),Tt.circle(t,s,g)},a}var eWe=D(()=>{"use strict";st(),Lt(),Ot(),Mt(),$t(),Zt(),l(bhe,"anchor")});function pN(e,t,r,i,n,a,s){let o=(e+r)/2,u=(t+i)/2,h=Math.atan2(i-t,r-e),d=(r-e)/2,p=(i-t)/2,g=d/n,f=p/a,m=Math.sqrt(g**2+f**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");let y=Math.sqrt(1-m**2),b=o+y*a*Math.sin(h)*(s?-1:1),v=u-y*n*Math.cos(h)*(s?-1:1),x=Math.atan2((t-v)/a,(e-b)/n),w=Math.atan2((i-v)/a,(r-b)/n)-x;s&&w<0&&(w+=2*Math.PI),!s&&w>0&&(w-=2*Math.PI);let k=[];for(let T=0;T<20;T++){let _=T/19,C=x+_*w,E=b+n*Math.cos(C),N=v+a*Math.sin(C);k.push({x:E,y:N})}return k}async function xhe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=a.width+t.padding+20,o=a.height+t.padding,u=o/2,h=u/(2.5+o/50),{cssStyles:d}=t,p=[{x:s/2,y:-o/2},{x:-s/2,y:-o/2},...pN(-s/2,-o/2,-s/2,o/2,h,u,!1),{x:s/2,y:o/2},...pN(s/2,o/2,s/2,-o/2,h,u,!0)],g=It.svg(n),f=Rt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=vr(p),y=g.path(m,f),b=n.insert(()=>y,":first-child");return b.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",i),b.attr("transform",`translate(${h/2}, 0)`),Dt(t,b),t.intersect=function(v){return Tt.polygon(t,p,v)},n}var tWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),l(pN,"generateArcPoints"),l(xhe,"bowTieRect")});function $u(e,t,r,i){return e.insert("polygon",":first-child").attr("points",i.map(function(n){return n.x+","+n.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}var vd=D(()=>{"use strict";l($u,"insertPolygonShape")});async function whe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=a.height+t.padding,o=12,u=a.width+t.padding+o,h=0,d=u,p=-s,g=0,f=[{x:h+o,y:p},{x:d,y:p},{x:d,y:g},{x:h,y:g},{x:h,y:p+o},{x:h+o,y:p}],m,{cssStyles:y}=t;if(t.look==="handDrawn"){let b=It.svg(n),v=Rt(t,{}),x=vr(f),w=b.path(x,v);m=n.insert(()=>w,":first-child").attr("transform",`translate(${-u/2}, ${s/2})`),y&&m.attr("style",y)}else m=$u(n,u,s,f);return i&&m.attr("style",i),Dt(t,m),t.intersect=function(b){return Tt.polygon(t,f,b)},n}var rWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),vd(),Lt(),l(whe,"card")});function khe(e,t){let{nodeStyles:r}=St(t);t.label="";let i=e.insert("g").attr("class",Yt(t)).attr("id",t.domId??t.id),{cssStyles:n}=t,a=Math.max(28,t.width??0),s=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],o=It.svg(i),u=Rt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");let h=vr(s),d=o.path(h,u),p=i.insert(()=>d,":first-child");return n&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",n),r&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(g){return Tt.polygon(t,s,g)},i}var iWe=D(()=>{"use strict";Ot(),$t(),Mt(),Lt(),l(khe,"choice")});async function gN(e,t,r){let{labelStyles:i,nodeStyles:n}=St(t);t.labelStyle=i;let{shapeSvg:a,bbox:s,halfPadding:o}=await er(e,t,Yt(t)),u=r?.padding??o,h=s.width/2+u,d,{cssStyles:p}=t;if(t.look==="handDrawn"){let g=It.svg(a),f=Rt(t,{}),m=g.circle(0,0,h*2,f);d=a.insert(()=>m,":first-child"),d.attr("class","basic label-container").attr("style",Kn(p))}else d=a.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",h).attr("cx",0).attr("cy",0);return Dt(t,d),t.calcIntersect=function(g,f){let m=g.width/2;return Tt.circle(g,m,f)},t.intersect=function(g){return ne.info("Circle intersect",t,h,g),Tt.circle(t,h,g)},a}var The=D(()=>{"use strict";$t(),st(),Zt(),Ot(),Mt(),Lt(),l(gN,"circle")});function Ehe(e){let t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),i=e*2,n={x:i/2*t,y:i/2*r},a={x:-(i/2)*t,y:i/2*r},s={x:-(i/2)*t,y:-(i/2)*r},o={x:i/2*t,y:-(i/2)*r};return`M ${a.x},${a.y} L ${o.x},${o.y}
                   M ${n.x},${n.y} L ${s.x},${s.y}`}function Che(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r,t.label="";let n=e.insert("g").attr("class",Yt(t)).attr("id",t.domId??t.id),a=Math.max(30,t?.width??0),{cssStyles:s}=t,o=It.svg(n),u=Rt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");let h=o.circle(0,0,a*2,u),d=Ehe(a),p=o.path(d,u),g=n.insert(()=>h,":first-child");return g.insert(()=>p),s&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",s),i&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",i),Dt(t,g),t.intersect=function(f){return ne.info("crossedCircle intersect",t,{radius:a,point:f}),Tt.circle(t,a,f)},n}var nWe=D(()=>{"use strict";st(),Lt(),Mt(),$t(),Ot(),l(Ehe,"createLine"),l(Che,"crossedCircle")});function oc(e,t,r,i=100,n=0,a=180){let s=[],o=n*Math.PI/180,u=(a*Math.PI/180-o)/(i-1);for(let h=0;h<i;h++){let d=o+h*u,p=e+r*Math.cos(d),g=t+r*Math.sin(d);s.push({x:-p,y:-g})}return s}async function She(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=a.width+(t.padding??0),u=a.height+(t.padding??0),h=Math.max(5,u*.1),{cssStyles:d}=t,p=[...oc(o/2,-u/2,h,30,-90,0),{x:-o/2-h,y:h},...oc(o/2+h*2,-h,h,20,-180,-270),...oc(o/2+h*2,h,h,20,-90,-180),{x:-o/2-h,y:-u/2},...oc(o/2,u/2,h,20,0,90)],g=[{x:o/2,y:-u/2-h},{x:-o/2,y:-u/2-h},...oc(o/2,-u/2,h,20,-90,0),{x:-o/2-h,y:-h},...oc(o/2+o*.1,-h,h,20,-180,-270),...oc(o/2+o*.1,h,h,20,-90,-180),{x:-o/2-h,y:u/2},...oc(o/2,u/2,h,20,0,90),{x:-o/2,y:u/2+h},{x:o/2,y:u/2+h}],f=It.svg(n),m=Rt(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=vr(p).replace("Z",""),b=f.path(y,m),v=vr(g),x=f.path(v,{...m}),w=n.insert("g",":first-child");return w.insert(()=>x,":first-child").attr("stroke-opacity",0),w.insert(()=>b,":first-child"),w.attr("class","text"),d&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",i),w.attr("transform",`translate(${h}, 0)`),s.attr("transform",`translate(${-o/2+h-(a.x-(a.left??0))},${-u/2+(t.padding??0)/2-(a.y-(a.top??0))})`),Dt(t,w),t.intersect=function(k){return Tt.polygon(t,g,k)},n}var aWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),l(oc,"generateCirclePoints"),l(She,"curlyBraceLeft")});function lc(e,t,r,i=100,n=0,a=180){let s=[],o=n*Math.PI/180,u=(a*Math.PI/180-o)/(i-1);for(let h=0;h<i;h++){let d=o+h*u,p=e+r*Math.cos(d),g=t+r*Math.sin(d);s.push({x:p,y:g})}return s}async function _he(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=a.width+(t.padding??0),u=a.height+(t.padding??0),h=Math.max(5,u*.1),{cssStyles:d}=t,p=[...lc(o/2,-u/2,h,20,-90,0),{x:o/2+h,y:-h},...lc(o/2+h*2,-h,h,20,-180,-270),...lc(o/2+h*2,h,h,20,-90,-180),{x:o/2+h,y:u/2},...lc(o/2,u/2,h,20,0,90)],g=[{x:-o/2,y:-u/2-h},{x:o/2,y:-u/2-h},...lc(o/2,-u/2,h,20,-90,0),{x:o/2+h,y:-h},...lc(o/2+h*2,-h,h,20,-180,-270),...lc(o/2+h*2,h,h,20,-90,-180),{x:o/2+h,y:u/2},...lc(o/2,u/2,h,20,0,90),{x:o/2,y:u/2+h},{x:-o/2,y:u/2+h}],f=It.svg(n),m=Rt(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=vr(p).replace("Z",""),b=f.path(y,m),v=vr(g),x=f.path(v,{...m}),w=n.insert("g",":first-child");return w.insert(()=>x,":first-child").attr("stroke-opacity",0),w.insert(()=>b,":first-child"),w.attr("class","text"),d&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",i),w.attr("transform",`translate(${-h}, 0)`),s.attr("transform",`translate(${-o/2+(t.padding??0)/2-(a.x-(a.left??0))},${-u/2+(t.padding??0)/2-(a.y-(a.top??0))})`),Dt(t,w),t.intersect=function(k){return Tt.polygon(t,g,k)},n}var sWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),l(lc,"generateCirclePoints"),l(_he,"curlyBraceRight")});function Rn(e,t,r,i=100,n=0,a=180){let s=[],o=n*Math.PI/180,u=(a*Math.PI/180-o)/(i-1);for(let h=0;h<i;h++){let d=o+h*u,p=e+r*Math.cos(d),g=t+r*Math.sin(d);s.push({x:-p,y:-g})}return s}async function Ahe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=a.width+(t.padding??0),u=a.height+(t.padding??0),h=Math.max(5,u*.1),{cssStyles:d}=t,p=[...Rn(o/2,-u/2,h,30,-90,0),{x:-o/2-h,y:h},...Rn(o/2+h*2,-h,h,20,-180,-270),...Rn(o/2+h*2,h,h,20,-90,-180),{x:-o/2-h,y:-u/2},...Rn(o/2,u/2,h,20,0,90)],g=[...Rn(-o/2+h+h/2,-u/2,h,20,-90,-180),{x:o/2-h/2,y:h},...Rn(-o/2-h/2,-h,h,20,0,90),...Rn(-o/2-h/2,h,h,20,-90,0),{x:o/2-h/2,y:-h},...Rn(-o/2+h+h/2,u/2,h,30,-180,-270)],f=[{x:o/2,y:-u/2-h},{x:-o/2,y:-u/2-h},...Rn(o/2,-u/2,h,20,-90,0),{x:-o/2-h,y:-h},...Rn(o/2+h*2,-h,h,20,-180,-270),...Rn(o/2+h*2,h,h,20,-90,-180),{x:-o/2-h,y:u/2},...Rn(o/2,u/2,h,20,0,90),{x:-o/2,y:u/2+h},{x:o/2-h-h/2,y:u/2+h},...Rn(-o/2+h+h/2,-u/2,h,20,-90,-180),{x:o/2-h/2,y:h},...Rn(-o/2-h/2,-h,h,20,0,90),...Rn(-o/2-h/2,h,h,20,-90,0),{x:o/2-h/2,y:-h},...Rn(-o/2+h+h/2,u/2,h,30,-180,-270)],m=It.svg(n),y=Rt(t,{fill:"none"});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=vr(p).replace("Z",""),v=m.path(b,y),x=vr(g).replace("Z",""),w=m.path(x,y),k=vr(f),T=m.path(k,{...y}),_=n.insert("g",":first-child");return _.insert(()=>T,":first-child").attr("stroke-opacity",0),_.insert(()=>v,":first-child"),_.insert(()=>w,":first-child"),_.attr("class","text"),d&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",i),_.attr("transform",`translate(${h-h/4}, 0)`),s.attr("transform",`translate(${-o/2+(t.padding??0)/2-(a.x-(a.left??0))},${-u/2+(t.padding??0)/2-(a.y-(a.top??0))})`),Dt(t,_),t.intersect=function(C){return Tt.polygon(t,f,C)},n}var oWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),l(Rn,"generateCirclePoints"),l(Ahe,"curlyBraces")});async function Lhe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=80,o=20,u=Math.max(s,(a.width+(t.padding??0)*2)*1.25,t?.width??0),h=Math.max(o,a.height+(t.padding??0)*2,t?.height??0),d=h/2,{cssStyles:p}=t,g=It.svg(n),f=Rt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=u,y=h,b=m-d,v=y/4,x=[{x:b,y:0},{x:v,y:0},{x:0,y:y/2},{x:v,y},{x:b,y},...r2(-b,-y/2,d,50,270,90)],w=vr(x),k=g.path(w,f),T=n.insert(()=>k,":first-child");return T.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",p),i&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",i),T.attr("transform",`translate(${-u/2}, ${-h/2})`),Dt(t,T),t.intersect=function(_){return Tt.polygon(t,x,_)},n}var lWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),l(Lhe,"curvedTrapezoid")});async function Nhe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=Math.max(a.width+t.padding,t.width??0),u=o/2,h=u/(2.5+o/50),d=Math.max(a.height+h+t.padding,t.height??0),p,{cssStyles:g}=t;if(t.look==="handDrawn"){let f=It.svg(n),m=Ihe(0,0,o,d,u,h),y=Dhe(0,h,o,d,u,h),b=f.path(m,Rt(t,{})),v=f.path(y,Rt(t,{fill:"none"}));p=n.insert(()=>v,":first-child"),p=n.insert(()=>b,":first-child"),p.attr("class","basic label-container"),g&&p.attr("style",g)}else{let f=Mhe(0,0,o,d,u,h);p=n.insert("path",":first-child").attr("d",f).attr("class","basic label-container").attr("style",Kn(g)).attr("style",i)}return p.attr("label-offset-y",h),p.attr("transform",`translate(${-o/2}, ${-(d/2+h)})`),Dt(t,p),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+(t.padding??0)/1.5-(a.y-(a.top??0))})`),t.intersect=function(f){let m=Tt.rect(t,f),y=m.x-(t.x??0);if(u!=0&&(Math.abs(y)<(t.width??0)/2||Math.abs(y)==(t.width??0)/2&&Math.abs(m.y-(t.y??0))>(t.height??0)/2-h)){let b=h*h*(1-y*y/(u*u));b>0&&(b=Math.sqrt(b)),b=h-b,f.y-(t.y??0)>0&&(b=-b),m.y+=b}return m},n}var Mhe,Ihe,Dhe,cWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),Zt(),Mhe=l((e,t,r,i,n,a)=>[`M${e},${t+a}`,`a${n},${a} 0,0,0 ${r},0`,`a${n},${a} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${a} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createCylinderPathD"),Ihe=l((e,t,r,i,n,a)=>[`M${e},${t+a}`,`M${e+r},${t+a}`,`a${n},${a} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${a} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createOuterCylinderPathD"),Dhe=l((e,t,r,i,n,a)=>[`M${e-r/2},${-i/2}`,`a${n},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD"),l(Nhe,"cylinder")});async function Rhe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=a.width+t.padding,u=a.height+t.padding,h=u*.2,d=-o/2,p=-u/2-h/2,{cssStyles:g}=t,f=It.svg(n),m=Rt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=[{x:d,y:p+h},{x:-d,y:p+h},{x:-d,y:-p},{x:d,y:-p},{x:d,y:p},{x:-d,y:p},{x:-d,y:p+h}],b=f.polygon(y.map(x=>[x.x,x.y]),m),v=n.insert(()=>b,":first-child");return v.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",i),s.attr("transform",`translate(${d+(t.padding??0)/2-(a.x-(a.left??0))}, ${p+h+(t.padding??0)/2-(a.y-(a.top??0))})`),Dt(t,v),t.intersect=function(x){return Tt.rect(t,x)},n}var uWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),l(Rhe,"dividedRectangle")});async function Ohe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,halfPadding:s}=await er(e,t,Yt(t)),o=a.width/2+s+5,u=a.width/2+s,h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=It.svg(n),g=Rt(t,{roughness:.2,strokeWidth:2.5}),f=Rt(t,{roughness:.2,strokeWidth:1.5}),m=p.circle(0,0,o*2,g),y=p.circle(0,0,u*2,f);h=n.insert("g",":first-child"),h.attr("class",Kn(t.cssClasses)).attr("style",Kn(d)),h.node()?.appendChild(m),h.node()?.appendChild(y)}else{h=n.insert("g",":first-child");let p=h.insert("circle",":first-child"),g=h.insert("circle");h.attr("class","basic label-container").attr("style",i),p.attr("class","outer-circle").attr("style",i).attr("r",o).attr("cx",0).attr("cy",0),g.attr("class","inner-circle").attr("style",i).attr("r",u).attr("cx",0).attr("cy",0)}return Dt(t,h),t.intersect=function(p){return ne.info("DoubleCircle intersect",t,o,p),Tt.circle(t,o,p)},n}var hWe=D(()=>{"use strict";st(),Lt(),Ot(),Mt(),$t(),Zt(),l(Ohe,"doublecircle")});function Phe(e,t,{config:{themeVariables:r}}){let{labelStyles:i,nodeStyles:n}=St(t);t.label="",t.labelStyle=i;let a=e.insert("g").attr("class",Yt(t)).attr("id",t.domId??t.id),s=7,{cssStyles:o}=t,u=It.svg(a),{nodeBorder:h}=r,d=Rt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(d.roughness=0);let p=u.circle(0,0,s*2,d),g=a.insert(()=>p,":first-child");return g.selectAll("path").attr("style",`fill: ${h} !important;`),o&&o.length>0&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",o),n&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",n),Dt(t,g),t.intersect=function(f){return ne.info("filledCircle intersect",t,{radius:s,point:f}),Tt.circle(t,s,f)},a}var dWe=D(()=>{"use strict";$t(),st(),Ot(),Mt(),Lt(),l(Phe,"filledCircle")});async function Bhe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=a.width+(t.padding??0),u=o+a.height,h=o+a.height,d=[{x:0,y:-u},{x:h,y:-u},{x:h/2,y:0}],{cssStyles:p}=t,g=It.svg(n),f=Rt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=vr(d),y=g.path(m,f),b=n.insert(()=>y,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return p&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",p),i&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",i),t.width=o,t.height=u,Dt(t,b),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-u/2+(t.padding??0)/2+(a.y-(a.top??0))})`),t.intersect=function(v){return ne.info("Triangle intersect",t,d,v),Tt.polygon(t,d,v)},n}var pWe=D(()=>{"use strict";st(),Lt(),Ot(),Mt(),$t(),Lt(),l(Bhe,"flippedTriangle")});function $he(e,t,{dir:r,config:{state:i,themeVariables:n}}){let{nodeStyles:a}=St(t);t.label="";let s=e.insert("g").attr("class",Yt(t)).attr("id",t.domId??t.id),{cssStyles:o}=t,u=Math.max(70,t?.width??0),h=Math.max(10,t?.height??0);r==="LR"&&(u=Math.max(10,t?.width??0),h=Math.max(70,t?.height??0));let d=-1*u/2,p=-1*h/2,g=It.svg(s),f=Rt(t,{stroke:n.lineColor,fill:n.lineColor});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=g.rectangle(d,p,u,h,f),y=s.insert(()=>m,":first-child");o&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",o),a&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",a),Dt(t,y);let b=i?.padding??0;return t.width&&t.height&&(t.width+=b/2||0,t.height+=b/2||0),t.intersect=function(v){return Tt.rect(t,v)},s}var gWe=D(()=>{"use strict";$t(),Ot(),Mt(),Lt(),l($he,"forkJoin")});async function Fhe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let n=80,a=50,{shapeSvg:s,bbox:o}=await er(e,t,Yt(t)),u=Math.max(n,o.width+(t.padding??0)*2,t?.width??0),h=Math.max(a,o.height+(t.padding??0)*2,t?.height??0),d=h/2,{cssStyles:p}=t,g=It.svg(s),f=Rt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=[{x:-u/2,y:-h/2},{x:u/2-d,y:-h/2},...r2(-u/2+d,0,d,50,90,270),{x:u/2-d,y:h/2},{x:-u/2,y:h/2}],y=vr(m),b=g.path(y,f),v=s.insert(()=>b,":first-child");return v.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",p),i&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",i),Dt(t,v),t.intersect=function(x){return ne.info("Pill intersect",t,{radius:d,point:x}),Tt.polygon(t,m,x)},s}var fWe=D(()=>{"use strict";st(),Lt(),Ot(),Mt(),$t(),l(Fhe,"halfRoundedRectangle")});async function zhe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=a.height+(t.padding??0),o=a.width+(t.padding??0)*2.5,{cssStyles:u}=t,h=It.svg(n),d=Rt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");let p=o/2,g=p/6;p=p+g;let f=s/2,m=f/2,y=p-m,b=[{x:-y,y:-f},{x:0,y:-f},{x:y,y:-f},{x:p,y:0},{x:y,y:f},{x:0,y:f},{x:-y,y:f},{x:-p,y:0}],v=vr(b),x=h.path(v,d),w=n.insert(()=>x,":first-child");return w.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",u),i&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",i),t.width=o,t.height=s,Dt(t,w),t.intersect=function(k){return Tt.polygon(t,b,k)},n}var mWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),l(zhe,"hexagon")});async function Ghe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.label="",t.labelStyle=r;let{shapeSvg:n}=await er(e,t,Yt(t)),a=Math.max(30,t?.width??0),s=Math.max(30,t?.height??0),{cssStyles:o}=t,u=It.svg(n),h=Rt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let d=[{x:0,y:0},{x:a,y:0},{x:0,y:s},{x:a,y:s}],p=vr(d),g=u.path(p,h),f=n.insert(()=>g,":first-child");return f.attr("class","basic label-container"),o&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",o),i&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",i),f.attr("transform",`translate(${-a/2}, ${-s/2})`),Dt(t,f),t.intersect=function(m){return ne.info("Pill intersect",t,{points:d}),Tt.polygon(t,d,m)},n}var yWe=D(()=>{"use strict";st(),Lt(),Ot(),Mt(),$t(),l(Ghe,"hourglass")});async function Uhe(e,t,{config:{themeVariables:r,flowchart:i}}){let{labelStyles:n}=St(t);t.labelStyle=n;let a=t.assetHeight??48,s=t.assetWidth??48,o=Math.max(a,s),u=i?.wrappingWidth;t.width=Math.max(o,u??0);let{shapeSvg:h,bbox:d,label:p}=await er(e,t,"icon-shape default"),g=t.pos==="t",f=o,m=o,{nodeBorder:y}=r,{stylesMap:b}=md(t),v=-m/2,x=-f/2,w=t.label?8:0,k=It.svg(h),T=Rt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");let _=k.rectangle(v,x,m,f,T),C=Math.max(m,d.width),E=f+d.height+w,N=k.rectangle(-C/2,-E/2,C,E,{...T,fill:"transparent",stroke:"none"}),M=h.insert(()=>_,":first-child"),I=h.insert(()=>N);if(t.icon){let A=h.append("g");A.html(`<g>${await Xl(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);let B=A.node().getBBox(),S=B.width,O=B.height,R=B.x,P=B.y;A.attr("transform",`translate(${-S/2-R},${g?d.height/2+w/2-O/2-P:-d.height/2-w/2-O/2-P})`),A.attr("style",`color: ${b.get("stroke")??y};`)}return p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${g?-E/2:E/2-d.height})`),M.attr("transform",`translate(0,${g?d.height/2+w/2:-d.height/2-w/2})`),Dt(t,I),t.intersect=function(A){if(ne.info("iconSquare intersect",t,A),!t.label)return Tt.rect(t,A);let B=t.x??0,S=t.y??0,O=t.height??0,R=[];return g?R=[{x:B-d.width/2,y:S-O/2},{x:B+d.width/2,y:S-O/2},{x:B+d.width/2,y:S-O/2+d.height+w},{x:B+m/2,y:S-O/2+d.height+w},{x:B+m/2,y:S+O/2},{x:B-m/2,y:S+O/2},{x:B-m/2,y:S-O/2+d.height+w},{x:B-d.width/2,y:S-O/2+d.height+w}]:R=[{x:B-m/2,y:S-O/2},{x:B+m/2,y:S-O/2},{x:B+m/2,y:S-O/2+f},{x:B+d.width/2,y:S-O/2+f},{x:B+d.width/2/2,y:S+O/2},{x:B-d.width/2,y:S+O/2},{x:B-d.width/2,y:S-O/2+f},{x:B-m/2,y:S-O/2+f}],Tt.polygon(t,R,A)},h}var vWe=D(()=>{"use strict";$t(),st(),Kl(),Ot(),Mt(),Lt(),l(Uhe,"icon")});async function qhe(e,t,{config:{themeVariables:r,flowchart:i}}){let{labelStyles:n}=St(t);t.labelStyle=n;let a=t.assetHeight??48,s=t.assetWidth??48,o=Math.max(a,s),u=i?.wrappingWidth;t.width=Math.max(o,u??0);let{shapeSvg:h,bbox:d,label:p}=await er(e,t,"icon-shape default"),g=20,f=t.label?8:0,m=t.pos==="t",{nodeBorder:y,mainBkg:b}=r,{stylesMap:v}=md(t),x=It.svg(h),w=Rt(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");let k=v.get("fill");w.stroke=k??b;let T=h.append("g");t.icon&&T.html(`<g>${await Xl(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);let _=T.node().getBBox(),C=_.width,E=_.height,N=_.x,M=_.y,I=Math.max(C,E)*Math.SQRT2+g*2,A=x.circle(0,0,I,w),B=Math.max(I,d.width),S=I+d.height+f,O=x.rectangle(-B/2,-S/2,B,S,{...w,fill:"transparent",stroke:"none"}),R=h.insert(()=>A,":first-child"),P=h.insert(()=>O);return T.attr("transform",`translate(${-C/2-N},${m?d.height/2+f/2-E/2-M:-d.height/2-f/2-E/2-M})`),T.attr("style",`color: ${v.get("stroke")??y};`),p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${m?-S/2:S/2-d.height})`),R.attr("transform",`translate(0,${m?d.height/2+f/2:-d.height/2-f/2})`),Dt(t,P),t.intersect=function(L){return ne.info("iconSquare intersect",t,L),Tt.rect(t,L)},h}var bWe=D(()=>{"use strict";$t(),st(),Kl(),Ot(),Mt(),Lt(),l(qhe,"iconCircle")}),cc,Bg=D(()=>{"use strict";cc=l((e,t,r,i,n)=>["M",e+n,t,"H",e+r-n,"A",n,n,0,0,1,e+r,t+n,"V",t+i-n,"A",n,n,0,0,1,e+r-n,t+i,"H",e+n,"A",n,n,0,0,1,e,t+i-n,"V",t+n,"A",n,n,0,0,1,e+n,t,"Z"].join(" "),"createRoundedRectPathD")});async function jhe(e,t,{config:{themeVariables:r,flowchart:i}}){let{labelStyles:n}=St(t);t.labelStyle=n;let a=t.assetHeight??48,s=t.assetWidth??48,o=Math.max(a,s),u=i?.wrappingWidth;t.width=Math.max(o,u??0);let{shapeSvg:h,bbox:d,halfPadding:p,label:g}=await er(e,t,"icon-shape default"),f=t.pos==="t",m=o+p*2,y=o+p*2,{nodeBorder:b,mainBkg:v}=r,{stylesMap:x}=md(t),w=-y/2,k=-m/2,T=t.label?8:0,_=It.svg(h),C=Rt(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");let E=x.get("fill");C.stroke=E??v;let N=_.path(cc(w,k,y,m,5),C),M=Math.max(y,d.width),I=m+d.height+T,A=_.rectangle(-M/2,-I/2,M,I,{...C,fill:"transparent",stroke:"none"}),B=h.insert(()=>N,":first-child").attr("class","icon-shape2"),S=h.insert(()=>A);if(t.icon){let O=h.append("g");O.html(`<g>${await Xl(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);let R=O.node().getBBox(),P=R.width,L=R.height,$=R.x,F=R.y;O.attr("transform",`translate(${-P/2-$},${f?d.height/2+T/2-L/2-F:-d.height/2-T/2-L/2-F})`),O.attr("style",`color: ${x.get("stroke")??b};`)}return g.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${f?-I/2:I/2-d.height})`),B.attr("transform",`translate(0,${f?d.height/2+T/2:-d.height/2-T/2})`),Dt(t,S),t.intersect=function(O){if(ne.info("iconSquare intersect",t,O),!t.label)return Tt.rect(t,O);let R=t.x??0,P=t.y??0,L=t.height??0,$=[];return f?$=[{x:R-d.width/2,y:P-L/2},{x:R+d.width/2,y:P-L/2},{x:R+d.width/2,y:P-L/2+d.height+T},{x:R+y/2,y:P-L/2+d.height+T},{x:R+y/2,y:P+L/2},{x:R-y/2,y:P+L/2},{x:R-y/2,y:P-L/2+d.height+T},{x:R-d.width/2,y:P-L/2+d.height+T}]:$=[{x:R-y/2,y:P-L/2},{x:R+y/2,y:P-L/2},{x:R+y/2,y:P-L/2+m},{x:R+d.width/2,y:P-L/2+m},{x:R+d.width/2/2,y:P+L/2},{x:R-d.width/2,y:P+L/2},{x:R-d.width/2,y:P-L/2+m},{x:R-y/2,y:P-L/2+m}],Tt.polygon(t,$,O)},h}var xWe=D(()=>{"use strict";$t(),st(),Kl(),Ot(),Mt(),Bg(),Lt(),l(jhe,"iconRounded")});async function Hhe(e,t,{config:{themeVariables:r,flowchart:i}}){let{labelStyles:n}=St(t);t.labelStyle=n;let a=t.assetHeight??48,s=t.assetWidth??48,o=Math.max(a,s),u=i?.wrappingWidth;t.width=Math.max(o,u??0);let{shapeSvg:h,bbox:d,halfPadding:p,label:g}=await er(e,t,"icon-shape default"),f=t.pos==="t",m=o+p*2,y=o+p*2,{nodeBorder:b,mainBkg:v}=r,{stylesMap:x}=md(t),w=-y/2,k=-m/2,T=t.label?8:0,_=It.svg(h),C=Rt(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");let E=x.get("fill");C.stroke=E??v;let N=_.path(cc(w,k,y,m,.1),C),M=Math.max(y,d.width),I=m+d.height+T,A=_.rectangle(-M/2,-I/2,M,I,{...C,fill:"transparent",stroke:"none"}),B=h.insert(()=>N,":first-child"),S=h.insert(()=>A);if(t.icon){let O=h.append("g");O.html(`<g>${await Xl(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);let R=O.node().getBBox(),P=R.width,L=R.height,$=R.x,F=R.y;O.attr("transform",`translate(${-P/2-$},${f?d.height/2+T/2-L/2-F:-d.height/2-T/2-L/2-F})`),O.attr("style",`color: ${x.get("stroke")??b};`)}return g.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${f?-I/2:I/2-d.height})`),B.attr("transform",`translate(0,${f?d.height/2+T/2:-d.height/2-T/2})`),Dt(t,S),t.intersect=function(O){if(ne.info("iconSquare intersect",t,O),!t.label)return Tt.rect(t,O);let R=t.x??0,P=t.y??0,L=t.height??0,$=[];return f?$=[{x:R-d.width/2,y:P-L/2},{x:R+d.width/2,y:P-L/2},{x:R+d.width/2,y:P-L/2+d.height+T},{x:R+y/2,y:P-L/2+d.height+T},{x:R+y/2,y:P+L/2},{x:R-y/2,y:P+L/2},{x:R-y/2,y:P-L/2+d.height+T},{x:R-d.width/2,y:P-L/2+d.height+T}]:$=[{x:R-y/2,y:P-L/2},{x:R+y/2,y:P-L/2},{x:R+y/2,y:P-L/2+m},{x:R+d.width/2,y:P-L/2+m},{x:R+d.width/2/2,y:P+L/2},{x:R-d.width/2,y:P+L/2},{x:R-d.width/2,y:P-L/2+m},{x:R-y/2,y:P-L/2+m}],Tt.polygon(t,$,O)},h}var wWe=D(()=>{"use strict";$t(),st(),Kl(),Ot(),Bg(),Mt(),Lt(),l(Hhe,"iconSquare")});async function Vhe(e,t,{config:{flowchart:r}}){let i=new Image;i.src=t?.img??"",await i.decode();let n=Number(i.naturalWidth.toString().replace("px","")),a=Number(i.naturalHeight.toString().replace("px",""));t.imageAspectRatio=n/a;let{labelStyles:s}=St(t);t.labelStyle=s;let o=r?.wrappingWidth;t.defaultWidth=r?.wrappingWidth;let u=Math.max(t.label?o??0:0,t?.assetWidth??n),h=t.constraint==="on"&&t?.assetHeight?t.assetHeight*t.imageAspectRatio:u,d=t.constraint==="on"?h/t.imageAspectRatio:t?.assetHeight??a;t.width=Math.max(h,o??0);let{shapeSvg:p,bbox:g,label:f}=await er(e,t,"image-shape default"),m=t.pos==="t",y=-h/2,b=-d/2,v=t.label?8:0,x=It.svg(p),w=Rt(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");let k=x.rectangle(y,b,h,d,w),T=Math.max(h,g.width),_=d+g.height+v,C=x.rectangle(-T/2,-_/2,T,_,{...w,fill:"none",stroke:"none"}),E=p.insert(()=>k,":first-child"),N=p.insert(()=>C);if(t.img){let M=p.append("image");M.attr("href",t.img),M.attr("width",h),M.attr("height",d),M.attr("preserveAspectRatio","none"),M.attr("transform",`translate(${-h/2},${m?_/2-d:-_/2})`)}return f.attr("transform",`translate(${-g.width/2-(g.x-(g.left??0))},${m?-d/2-g.height/2-v/2:d/2-g.height/2+v/2})`),E.attr("transform",`translate(0,${m?g.height/2+v/2:-g.height/2-v/2})`),Dt(t,N),t.intersect=function(M){if(ne.info("iconSquare intersect",t,M),!t.label)return Tt.rect(t,M);let I=t.x??0,A=t.y??0,B=t.height??0,S=[];return m?S=[{x:I-g.width/2,y:A-B/2},{x:I+g.width/2,y:A-B/2},{x:I+g.width/2,y:A-B/2+g.height+v},{x:I+h/2,y:A-B/2+g.height+v},{x:I+h/2,y:A+B/2},{x:I-h/2,y:A+B/2},{x:I-h/2,y:A-B/2+g.height+v},{x:I-g.width/2,y:A-B/2+g.height+v}]:S=[{x:I-h/2,y:A-B/2},{x:I+h/2,y:A-B/2},{x:I+h/2,y:A-B/2+d},{x:I+g.width/2,y:A-B/2+d},{x:I+g.width/2/2,y:A+B/2},{x:I-g.width/2,y:A+B/2},{x:I-g.width/2,y:A-B/2+d},{x:I-h/2,y:A-B/2+d}],Tt.polygon(t,S,M)},p}var kWe=D(()=>{"use strict";$t(),st(),Ot(),Mt(),Lt(),l(Vhe,"imageSquare")});async function Yhe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=Math.max(a.width+(t.padding??0)*2,t?.width??0),o=Math.max(a.height+(t.padding??0)*2,t?.height??0),u=[{x:0,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:-3*o/6,y:-o}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=It.svg(n),g=Rt(t,{}),f=vr(u),m=p.path(f,g);h=n.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&h.attr("style",d)}else h=$u(n,s,o,u);return i&&h.attr("style",i),t.width=s,t.height=o,Dt(t,h),t.intersect=function(p){return Tt.polygon(t,u,p)},n}var TWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),vd(),l(Yhe,"inv_trapezoid")});async function O6(e,t,r){let{labelStyles:i,nodeStyles:n}=St(t);t.labelStyle=i;let{shapeSvg:a,bbox:s}=await er(e,t,Yt(t)),o=Math.max(s.width+r.labelPaddingX*2,t?.width||0),u=Math.max(s.height+r.labelPaddingY*2,t?.height||0),h=-o/2,d=-u/2,p,{rx:g,ry:f}=t,{cssStyles:m}=t;if(r?.rx&&r.ry&&(g=r.rx,f=r.ry),t.look==="handDrawn"){let y=It.svg(a),b=Rt(t,{}),v=g||f?y.path(cc(h,d,o,u,g||0),b):y.rectangle(h,d,o,u,b);p=a.insert(()=>v,":first-child"),p.attr("class","basic label-container").attr("style",Kn(m))}else p=a.insert("rect",":first-child"),p.attr("class","basic label-container").attr("style",n).attr("rx",Kn(g)).attr("ry",Kn(f)).attr("x",h).attr("y",d).attr("width",o).attr("height",u);return Dt(t,p),t.calcIntersect=function(y,b){return Tt.rect(y,b)},t.intersect=function(y){return Tt.rect(t,y)},a}var P6=D(()=>{"use strict";Lt(),Ot(),Bg(),Mt(),$t(),Zt(),l(O6,"drawRect")});async function Whe(e,t){let{shapeSvg:r,bbox:i,label:n}=await er(e,t,"label"),a=r.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),n.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`),Dt(t,a),t.intersect=function(s){return Tt.rect(t,s)},r}var EWe=D(()=>{"use strict";P6(),Lt(),Ot(),l(Whe,"labelRect")});async function Xhe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=Math.max(a.width+(t.padding??0),t?.width??0),o=Math.max(a.height+(t.padding??0),t?.height??0),u=[{x:0,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:-(3*o)/6,y:-o}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=It.svg(n),g=Rt(t,{}),f=vr(u),m=p.path(f,g);h=n.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&h.attr("style",d)}else h=$u(n,s,o,u);return i&&h.attr("style",i),t.width=s,t.height=o,Dt(t,h),t.intersect=function(p){return Tt.polygon(t,u,p)},n}var CWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),vd(),l(Xhe,"lean_left")});async function Khe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=Math.max(a.width+(t.padding??0),t?.width??0),o=Math.max(a.height+(t.padding??0),t?.height??0),u=[{x:-3*o/6,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:0,y:-o}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=It.svg(n),g=Rt(t,{}),f=vr(u),m=p.path(f,g);h=n.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&h.attr("style",d)}else h=$u(n,s,o,u);return i&&h.attr("style",i),t.width=s,t.height=o,Dt(t,h),t.intersect=function(p){return Tt.polygon(t,u,p)},n}var SWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),vd(),l(Khe,"lean_right")});function Zhe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.label="",t.labelStyle=r;let n=e.insert("g").attr("class",Yt(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,s=Math.max(35,t?.width??0),o=Math.max(35,t?.height??0),u=7,h=[{x:s,y:0},{x:0,y:o+u/2},{x:s-2*u,y:o+u/2},{x:0,y:2*o},{x:s,y:o-u/2},{x:2*u,y:o-u/2}],d=It.svg(n),p=Rt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let g=vr(h),f=d.path(g,p),m=n.insert(()=>f,":first-child");return a&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",a),i&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",i),m.attr("transform",`translate(-${s/2},${-o})`),Dt(t,m),t.intersect=function(y){return ne.info("lightningBolt intersect",t,y),Tt.polygon(t,h,y)},n}var _We=D(()=>{"use strict";st(),Lt(),Mt(),$t(),Ot(),Lt(),l(Zhe,"lightningBolt")});async function Qhe(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=Math.max(a.width+(t.padding??0),t.width??0),u=o/2,h=u/(2.5+o/50),d=Math.max(a.height+h+(t.padding??0),t.height??0),p=d*.1,g,{cssStyles:f}=t;if(t.look==="handDrawn"){let m=It.svg(n),y=ede(0,0,o,d,u,h,p),b=tde(0,h,o,d,u,h),v=Rt(t,{}),x=m.path(y,v),w=m.path(b,v);n.insert(()=>w,":first-child").attr("class","line"),g=n.insert(()=>x,":first-child"),g.attr("class","basic label-container"),f&&g.attr("style",f)}else{let m=Jhe(0,0,o,d,u,h,p);g=n.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",Kn(f)).attr("style",i)}return g.attr("label-offset-y",h),g.attr("transform",`translate(${-o/2}, ${-(d/2+h)})`),Dt(t,g),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+h-(a.y-(a.top??0))})`),t.intersect=function(m){let y=Tt.rect(t,m),b=y.x-(t.x??0);if(u!=0&&(Math.abs(b)<(t.width??0)/2||Math.abs(b)==(t.width??0)/2&&Math.abs(y.y-(t.y??0))>(t.height??0)/2-h)){let v=h*h*(1-b*b/(u*u));v>0&&(v=Math.sqrt(v)),v=h-v,m.y-(t.y??0)>0&&(v=-v),y.y+=v}return y},n}var Jhe,ede,tde,AWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),Zt(),Jhe=l((e,t,r,i,n,a,s)=>[`M${e},${t+a}`,`a${n},${a} 0,0,0 ${r},0`,`a${n},${a} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${a} 0,0,0 ${r},0`,`l0,${-i}`,`M${e},${t+a+s}`,`a${n},${a} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),ede=l((e,t,r,i,n,a,s)=>[`M${e},${t+a}`,`M${e+r},${t+a}`,`a${n},${a} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${a} 0,0,0 ${r},0`,`l0,${-i}`,`M${e},${t+a+s}`,`a${n},${a} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),tde=l((e,t,r,i,n,a)=>[`M${e-r/2},${-i/2}`,`a${n},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD"),l(Qhe,"linedCylinder")});async function rde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/4,d=u+h,{cssStyles:p}=t,g=It.svg(n),f=Rt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=[{x:-o/2-o/2*.1,y:-d/2},{x:-o/2-o/2*.1,y:d/2},...Pu(-o/2-o/2*.1,d/2,o/2+o/2*.1,d/2,h,.8),{x:o/2+o/2*.1,y:-d/2},{x:-o/2-o/2*.1,y:-d/2},{x:-o/2,y:-d/2},{x:-o/2,y:d/2*1.1},{x:-o/2,y:-d/2}],y=g.polygon(m.map(v=>[v.x,v.y]),f),b=n.insert(()=>y,":first-child");return b.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",i),b.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-o/2+(t.padding??0)+o/2*.1/2-(a.x-(a.left??0))},${-u/2+(t.padding??0)-h/2-(a.y-(a.top??0))})`),Dt(t,b),t.intersect=function(v){return Tt.polygon(t,m,v)},n}var LWe=D(()=>{"use strict";Lt(),Ot(),$t(),Mt(),l(rde,"linedWaveEdgedRect")});async function ide(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=5,d=-o/2,p=-u/2,{cssStyles:g}=t,f=It.svg(n),m=Rt(t,{}),y=[{x:d-h,y:p+h},{x:d-h,y:p+u+h},{x:d+o-h,y:p+u+h},{x:d+o-h,y:p+u},{x:d+o,y:p+u},{x:d+o,y:p+u-h},{x:d+o+h,y:p+u-h},{x:d+o+h,y:p-h},{x:d+h,y:p-h},{x:d+h,y:p},{x:d,y:p},{x:d,y:p+h}],b=[{x:d,y:p+h},{x:d+o-h,y:p+h},{x:d+o-h,y:p+u},{x:d+o,y:p+u},{x:d+o,y:p},{x:d,y:p}];t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let v=vr(y),x=f.path(v,m),w=vr(b),k=f.path(w,{...m,fill:"none"}),T=n.insert(()=>k,":first-child");return T.insert(()=>x,":first-child"),T.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",i),s.attr("transform",`translate(${-(a.width/2)-h-(a.x-(a.left??0))}, ${-(a.height/2)+h-(a.y-(a.top??0))})`),Dt(t,T),t.intersect=function(_){return Tt.polygon(t,y,_)},n}var NWe=D(()=>{"use strict";Lt(),Mt(),$t(),Ot(),l(ide,"multiRect")});async function nde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/4,d=u+h,p=-o/2,g=-d/2,f=5,{cssStyles:m}=t,y=Pu(p-f,g+d+f,p+o-f,g+d+f,h,.8),b=y?.[y.length-1],v=[{x:p-f,y:g+f},{x:p-f,y:g+d+f},...y,{x:p+o-f,y:b.y-f},{x:p+o,y:b.y-f},{x:p+o,y:b.y-2*f},{x:p+o+f,y:b.y-2*f},{x:p+o+f,y:g-f},{x:p+f,y:g-f},{x:p+f,y:g},{x:p,y:g},{x:p,y:g+f}],x=[{x:p,y:g+f},{x:p+o-f,y:g+f},{x:p+o-f,y:b.y-f},{x:p+o,y:b.y-f},{x:p+o,y:g},{x:p,y:g}],w=It.svg(n),k=Rt(t,{});t.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");let T=vr(v),_=w.path(T,k),C=vr(x),E=w.path(C,k),N=n.insert(()=>_,":first-child");return N.insert(()=>E),N.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",m),i&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",i),N.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-(a.width/2)-f-(a.x-(a.left??0))}, ${-(a.height/2)+f-h/2-(a.y-(a.top??0))})`),Dt(t,N),t.intersect=function(M){return Tt.polygon(t,v,M)},n}var MWe=D(()=>{"use strict";Lt(),Ot(),$t(),Mt(),l(nde,"multiWaveEdgedRectangle")});async function ade(e,t,{config:{themeVariables:r}}){let{labelStyles:i,nodeStyles:n}=St(t);t.labelStyle=i,t.useHtmlLabels||Tr().flowchart?.htmlLabels!==!1||(t.centerLabel=!0);let{shapeSvg:a,bbox:s,label:o}=await er(e,t,Yt(t)),u=Math.max(s.width+(t.padding??0)*2,t?.width??0),h=Math.max(s.height+(t.padding??0)*2,t?.height??0),d=-u/2,p=-h/2,{cssStyles:g}=t,f=It.svg(a),m=Rt(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=f.rectangle(d,p,u,h,m),b=a.insert(()=>y,":first-child");return b.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Dt(t,b),t.intersect=function(v){return Tt.rect(t,v)},a}var IWe=D(()=>{"use strict";$t(),Ot(),Mt(),Lt(),pi(),l(ade,"note")});async function sde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=a.width+t.padding,o=a.height+t.padding,u=s+o,h=.5,d=[{x:u/2,y:0},{x:u,y:-u/2},{x:u/2,y:-u},{x:0,y:-u/2}],p,{cssStyles:g}=t;if(t.look==="handDrawn"){let f=It.svg(n),m=Rt(t,{}),y=ode(0,0,u),b=f.path(y,m);p=n.insert(()=>b,":first-child").attr("transform",`translate(${-u/2+h}, ${u/2})`),g&&p.attr("style",g)}else p=$u(n,u,u,d),p.attr("transform",`translate(${-u/2+h}, ${u/2})`);return i&&p.attr("style",i),Dt(t,p),t.calcIntersect=function(f,m){let y=f.width,b=[{x:y/2,y:0},{x:y,y:-y/2},{x:y/2,y:-y},{x:0,y:-y/2}],v=Tt.polygon(f,b,m);return{x:v.x-.5,y:v.y-.5}},t.intersect=function(f){return this.calcIntersect(t,f)},n}var ode,DWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),vd(),ode=l((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD"),l(sde,"question")});async function lde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=Math.max(a.width+(t.padding??0),t?.width??0),u=Math.max(a.height+(t.padding??0),t?.height??0),h=-o/2,d=-u/2,p=d/2,g=[{x:h+p,y:d},{x:h,y:0},{x:h+p,y:-d},{x:-h,y:-d},{x:-h,y:d}],{cssStyles:f}=t,m=It.svg(n),y=Rt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=vr(g),v=m.path(b,y),x=n.insert(()=>v,":first-child");return x.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",f),i&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",i),x.attr("transform",`translate(${-p/2},0)`),s.attr("transform",`translate(${-p/2-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Dt(t,x),t.intersect=function(w){return Tt.polygon(t,g,w)},n}var RWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),l(lde,"rect_left_inv_arrow")});function cde(e,t){t&&e.attr("style",t)}async function ude(e){let t=Ke(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),i=Ee(),n=e.label;e.label&&fi(e.label)&&(n=await $p(e.label.replace(nt.lineBreakRegex,`
`),i));let a='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>";return r.html(wr(a,i)),cde(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}var hde,Fu,fN=D(()=>{"use strict";hr(),Gt(),cr(),st(),Zt(),l(cde,"applyStyle"),l(ude,"addHtmlLabel"),hde=l(async(e,t,r,i)=>{let n=e||"";if(typeof n=="object"&&(n=n[0]),Gr(Ee().flowchart.htmlLabels)){n=n.replace(/\\n|\n/g,"<br />"),ne.info("vertexText"+n);let a={isNode:i,label:co(n).replace(/fa[blrs]?:fa-[\w-]+/g,s=>`<i class='${s.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await ude(a)}else{let a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",t.replace("color:","fill:"));let s=[];typeof n=="string"?s=n.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(n)?s=n:s=[];for(let o of s){let u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),r?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=o.trim(),a.appendChild(u)}return a}},"createLabel"),Fu=hde});async function dde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let n;t.cssClasses?n="node "+t.cssClasses:n="node default";let a=e.insert("g").attr("class",n).attr("id",t.domId||t.id),s=a.insert("g"),o=a.insert("g").attr("class","label").attr("style",i),u=t.description,h=t.label,d=o.node().appendChild(await Fu(h,t.labelStyle,!0,!0)),p={width:0,height:0};if(Gr(Ee()?.flowchart?.htmlLabels)){let E=d.children[0],N=Ke(d);p=E.getBoundingClientRect(),N.attr("width",p.width),N.attr("height",p.height)}ne.info("Text 2",u);let g=u||[],f=d.getBBox(),m=o.node().appendChild(await Fu(g.join?g.join("<br/>"):g,t.labelStyle,!0,!0)),y=m.children[0],b=Ke(m);p=y.getBoundingClientRect(),b.attr("width",p.width),b.attr("height",p.height);let v=(t.padding||0)/2;Ke(m).attr("transform","translate( "+(p.width>f.width?0:(f.width-p.width)/2)+", "+(f.height+v+5)+")"),Ke(d).attr("transform","translate( "+(p.width<f.width?0:-(f.width-p.width)/2)+", 0)"),p=o.node().getBBox(),o.attr("transform","translate("+-p.width/2+", "+(-p.height/2-v+3)+")");let x=p.width+(t.padding||0),w=p.height+(t.padding||0),k=-p.width/2-v,T=-p.height/2-v,_,C;if(t.look==="handDrawn"){let E=It.svg(a),N=Rt(t,{}),M=E.path(cc(k,T,x,w,t.rx||0),N),I=E.line(-p.width/2-v,-p.height/2-v+f.height+v,p.width/2+v,-p.height/2-v+f.height+v,N);C=a.insert(()=>(ne.debug("Rough node insert CXC",M),I),":first-child"),_=a.insert(()=>(ne.debug("Rough node insert CXC",M),M),":first-child")}else _=s.insert("rect",":first-child"),C=s.insert("line"),_.attr("class","outer title-state").attr("style",i).attr("x",-p.width/2-v).attr("y",-p.height/2-v).attr("width",p.width+(t.padding||0)).attr("height",p.height+(t.padding||0)),C.attr("class","divider").attr("x1",-p.width/2-v).attr("x2",p.width/2+v).attr("y1",-p.height/2-v+f.height+v).attr("y2",-p.height/2-v+f.height+v);return Dt(t,_),t.intersect=function(E){return Tt.rect(t,E)},a}var OWe=D(()=>{"use strict";hr(),cr(),Lt(),fN(),Ot(),Mt(),$t(),Gt(),Bg(),st(),l(dde,"rectWithTitle")});function p2(e,t,r,i,n,a,s){let o=(e+r)/2,u=(t+i)/2,h=Math.atan2(i-t,r-e),d=(r-e)/2,p=(i-t)/2,g=d/n,f=p/a,m=Math.sqrt(g**2+f**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");let y=Math.sqrt(1-m**2),b=o+y*a*Math.sin(h)*(s?-1:1),v=u-y*n*Math.cos(h)*(s?-1:1),x=Math.atan2((t-v)/a,(e-b)/n),w=Math.atan2((i-v)/a,(r-b)/n)-x;s&&w<0&&(w+=2*Math.PI),!s&&w>0&&(w-=2*Math.PI);let k=[];for(let T=0;T<20;T++){let _=T/19,C=x+_*w,E=b+n*Math.cos(C),N=v+a*Math.sin(C);k.push({x:E,y:N})}return k}async function pde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=t?.padding??0,o=t?.padding??0,u=(t?.width?t?.width:a.width)+s*2,h=(t?.height?t?.height:a.height)+o*2,d=t.radius||5,p=t.taper||5,{cssStyles:g}=t,f=It.svg(n),m=Rt(t,{});t.stroke&&(m.stroke=t.stroke),t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=[{x:-u/2+p,y:-h/2},{x:u/2-p,y:-h/2},...p2(u/2-p,-h/2,u/2,-h/2+p,d,d,!0),{x:u/2,y:-h/2+p},{x:u/2,y:h/2-p},...p2(u/2,h/2-p,u/2-p,h/2,d,d,!0),{x:u/2-p,y:h/2},{x:-u/2+p,y:h/2},...p2(-u/2+p,h/2,-u/2,h/2-p,d,d,!0),{x:-u/2,y:h/2-p},{x:-u/2,y:-h/2+p},...p2(-u/2,-h/2+p,-u/2+p,-h/2,d,d,!0)],b=vr(y),v=f.path(b,m),x=n.insert(()=>v,":first-child");return x.attr("class","basic label-container outer-path"),g&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",g),i&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",i),Dt(t,x),t.intersect=function(w){return Tt.polygon(t,y,w)},n}var PWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),l(p2,"generateArcPoints"),l(pde,"roundedRect")});async function gde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=t?.padding??0,u=Math.max(a.width+(t.padding??0)*2,t?.width??0),h=Math.max(a.height+(t.padding??0)*2,t?.height??0),d=-a.width/2-o,p=-a.height/2-o,{cssStyles:g}=t,f=It.svg(n),m=Rt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=[{x:d,y:p},{x:d+u+8,y:p},{x:d+u+8,y:p+h},{x:d-8,y:p+h},{x:d-8,y:p},{x:d,y:p},{x:d,y:p+h}],b=f.polygon(y.map(x=>[x.x,x.y]),m),v=n.insert(()=>b,":first-child");return v.attr("class","basic label-container").attr("style",Kn(g)),i&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",i),g&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",i),s.attr("transform",`translate(${-u/2+4+(t.padding??0)-(a.x-(a.left??0))},${-h/2+(t.padding??0)-(a.y-(a.top??0))})`),Dt(t,v),t.intersect=function(x){return Tt.rect(t,x)},n}var BWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),Zt(),l(gde,"shadedProcess")});async function fde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=-o/2,d=-u/2,{cssStyles:p}=t,g=It.svg(n),f=Rt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=[{x:h,y:d},{x:h,y:d+u},{x:h+o,y:d+u},{x:h+o,y:d-u/2}],y=vr(m),b=g.path(y,f),v=n.insert(()=>b,":first-child");return v.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",p),i&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",i),v.attr("transform",`translate(0, ${u/4})`),s.attr("transform",`translate(${-o/2+(t.padding??0)-(a.x-(a.left??0))}, ${-u/4+(t.padding??0)-(a.y-(a.top??0))})`),Dt(t,v),t.intersect=function(x){return Tt.polygon(t,m,x)},n}var $We=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),l(fde,"slopedRect")});async function mde(e,t){let r={rx:0,ry:0,classes:"",labelPaddingX:t.labelPaddingX??(t?.padding||0)*2,labelPaddingY:(t?.padding||0)*1};return O6(e,t,r)}var FWe=D(()=>{"use strict";P6(),l(mde,"squareRect")});async function yde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=a.height+t.padding,o=a.width+s/4+t.padding,u=s/2,{cssStyles:h}=t,d=It.svg(n),p=Rt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let g=[{x:-o/2+u,y:-s/2},{x:o/2-u,y:-s/2},...r2(-o/2+u,0,u,50,90,270),{x:o/2-u,y:s/2},...r2(o/2-u,0,u,50,270,450)],f=vr(g),m=d.path(f,p),y=n.insert(()=>m,":first-child");return y.attr("class","basic label-container outer-path"),h&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",h),i&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",i),Dt(t,y),t.intersect=function(b){return Tt.polygon(t,g,b)},n}var zWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),l(yde,"stadium")});async function vde(e,t){return O6(e,t,{rx:5,ry:5,classes:"flowchart-node"})}var GWe=D(()=>{"use strict";P6(),l(vde,"state")});function bde(e,t,{config:{themeVariables:r}}){let{labelStyles:i,nodeStyles:n}=St(t);t.labelStyle=i;let{cssStyles:a}=t,{lineColor:s,stateBorder:o,nodeBorder:u}=r,h=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),d=It.svg(h),p=Rt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let g=d.circle(0,0,14,{...p,stroke:s,strokeWidth:2}),f=o??u,m=d.circle(0,0,5,{...p,fill:f,stroke:f,strokeWidth:2,fillStyle:"solid"}),y=h.insert(()=>g,":first-child");return y.insert(()=>m),a&&y.selectAll("path").attr("style",a),n&&y.selectAll("path").attr("style",n),Dt(t,y),t.intersect=function(b){return Tt.circle(t,7,b)},h}var UWe=D(()=>{"use strict";$t(),Ot(),Mt(),Lt(),l(bde,"stateEnd")});function xde(e,t,{config:{themeVariables:r}}){let{lineColor:i}=r,n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),a;if(t.look==="handDrawn"){let s=It.svg(n).circle(0,0,14,ehe(i));a=n.insert(()=>s),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=n.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Dt(t,a),t.intersect=function(s){return Tt.circle(t,7,s)},n}var qWe=D(()=>{"use strict";$t(),Ot(),Mt(),Lt(),l(xde,"stateStart")});async function wde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=(t?.padding||0)/2,o=a.width+t.padding,u=a.height+t.padding,h=-a.width/2-s,d=-a.height/2-s,p=[{x:0,y:0},{x:o,y:0},{x:o,y:-u},{x:0,y:-u},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-u},{x:-8,y:-u},{x:-8,y:0}];if(t.look==="handDrawn"){let g=It.svg(n),f=Rt(t,{}),m=g.rectangle(h-8,d,o+16,u,f),y=g.line(h,d,h,d+u,f),b=g.line(h+o,d,h+o,d+u,f);n.insert(()=>y,":first-child"),n.insert(()=>b,":first-child");let v=n.insert(()=>m,":first-child"),{cssStyles:x}=t;v.attr("class","basic label-container").attr("style",Kn(x)),Dt(t,v)}else{let g=$u(n,o,u,p);i&&g.attr("style",i),Dt(t,g)}return t.intersect=function(g){return Tt.polygon(t,p,g)},n}var jWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),vd(),Zt(),l(wde,"subroutine")});async function kde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=Math.max(a.width+(t.padding??0)*2,t?.width??0),o=Math.max(a.height+(t.padding??0)*2,t?.height??0),u=-s/2,h=-o/2,d=.2*o,p=.2*o,{cssStyles:g}=t,f=It.svg(n),m=Rt(t,{}),y=[{x:u-d/2,y:h},{x:u+s+d/2,y:h},{x:u+s+d/2,y:h+o},{x:u-d/2,y:h+o}],b=[{x:u+s-d/2,y:h+o},{x:u+s+d/2,y:h+o},{x:u+s+d/2,y:h+o-p}];t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let v=vr(y),x=f.path(v,m),w=vr(b),k=f.path(w,{...m,fillStyle:"solid"}),T=n.insert(()=>k,":first-child");return T.insert(()=>x,":first-child"),T.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",i),Dt(t,T),t.intersect=function(_){return Tt.polygon(t,y,_)},n}var HWe=D(()=>{"use strict";Lt(),Mt(),$t(),Ot(),l(kde,"taggedRect")});async function Tde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/4,d=.2*o,p=.2*u,g=u+h,{cssStyles:f}=t,m=It.svg(n),y=Rt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=[{x:-o/2-o/2*.1,y:g/2},...Pu(-o/2-o/2*.1,g/2,o/2+o/2*.1,g/2,h,.8),{x:o/2+o/2*.1,y:-g/2},{x:-o/2-o/2*.1,y:-g/2}],v=-o/2+o/2*.1,x=-g/2-p*.4,w=[{x:v+o-d,y:(x+u)*1.4},{x:v+o,y:x+u-p},{x:v+o,y:(x+u)*.9},...Pu(v+o,(x+u)*1.3,v+o-d,(x+u)*1.5,-u*.03,.5)],k=vr(b),T=m.path(k,y),_=vr(w),C=m.path(_,{...y,fillStyle:"solid"}),E=n.insert(()=>C,":first-child");return E.insert(()=>T,":first-child"),E.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",f),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),E.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-o/2+(t.padding??0)-(a.x-(a.left??0))},${-u/2+(t.padding??0)-h/2-(a.y-(a.top??0))})`),Dt(t,E),t.intersect=function(N){return Tt.polygon(t,b,N)},n}var VWe=D(()=>{"use strict";Lt(),Ot(),$t(),Mt(),l(Tde,"taggedWaveEdgedRectangle")});async function Ede(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=Math.max(a.width+t.padding,t?.width||0),o=Math.max(a.height+t.padding,t?.height||0),u=-s/2,h=-o/2,d=n.insert("rect",":first-child");return d.attr("class","text").attr("style",i).attr("rx",0).attr("ry",0).attr("x",u).attr("y",h).attr("width",s).attr("height",o),Dt(t,d),t.intersect=function(p){return Tt.rect(t,p)},n}var YWe=D(()=>{"use strict";Lt(),Ot(),Mt(),l(Ede,"text")});async function Cde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s,halfPadding:o}=await er(e,t,Yt(t)),u=t.look==="neo"?o*2:o,h=a.height+u,d=h/2,p=d/(2.5+h/50),g=a.width+p+u,{cssStyles:f}=t,m;if(t.look==="handDrawn"){let y=It.svg(n),b=_de(0,0,g,h,p,d),v=Ade(0,0,g,h,p,d),x=y.path(b,Rt(t,{})),w=y.path(v,Rt(t,{fill:"none"}));m=n.insert(()=>w,":first-child"),m=n.insert(()=>x,":first-child"),m.attr("class","basic label-container"),f&&m.attr("style",f)}else{let y=Sde(0,0,g,h,p,d);m=n.insert("path",":first-child").attr("d",y).attr("class","basic label-container").attr("style",Kn(f)).attr("style",i),m.attr("class","basic label-container"),f&&m.selectAll("path").attr("style",f),i&&m.selectAll("path").attr("style",i)}return m.attr("label-offset-x",p),m.attr("transform",`translate(${-g/2}, ${h/2} )`),s.attr("transform",`translate(${-(a.width/2)-p-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Dt(t,m),t.intersect=function(y){let b=Tt.rect(t,y),v=b.y-(t.y??0);if(d!=0&&(Math.abs(v)<(t.height??0)/2||Math.abs(v)==(t.height??0)/2&&Math.abs(b.x-(t.x??0))>(t.width??0)/2-p)){let x=p*p*(1-v*v/(d*d));x!=0&&(x=Math.sqrt(Math.abs(x))),x=p-x,y.x-(t.x??0)>0&&(x=-x),b.x+=x}return b},n}var Sde,_de,Ade,WWe=D(()=>{"use strict";Lt(),Mt(),$t(),Ot(),Zt(),Sde=l((e,t,r,i,n,a)=>`M${e},${t}
    a${n},${a} 0,0,1 0,${-i}
    l${r},0
    a${n},${a} 0,0,1 0,${i}
    M${r},${-i}
    a${n},${a} 0,0,0 0,${i}
    l${-r},0`,"createCylinderPathD"),_de=l((e,t,r,i,n,a)=>[`M${e},${t}`,`M${e+r},${t}`,`a${n},${a} 0,0,0 0,${-i}`,`l${-r},0`,`a${n},${a} 0,0,0 0,${i}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),Ade=l((e,t,r,i,n,a)=>[`M${e+r/2},${-i/2}`,`a${n},${a} 0,0,0 0,${i}`].join(" "),"createInnerCylinderPathD"),l(Cde,"tiltedCylinder")});async function Lde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=a.width+t.padding,o=a.height+t.padding,u=[{x:-3*o/6,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:0,y:-o}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=It.svg(n),g=Rt(t,{}),f=vr(u),m=p.path(f,g);h=n.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&h.attr("style",d)}else h=$u(n,s,o,u);return i&&h.attr("style",i),t.width=s,t.height=o,Dt(t,h),t.intersect=function(p){return Tt.polygon(t,u,p)},n}var XWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),vd(),l(Lde,"trapezoid")});async function Nde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=60,o=20,u=Math.max(s,a.width+(t.padding??0)*2,t?.width??0),h=Math.max(o,a.height+(t.padding??0)*2,t?.height??0),{cssStyles:d}=t,p=It.svg(n),g=Rt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let f=[{x:-u/2*.8,y:-h/2},{x:u/2*.8,y:-h/2},{x:u/2,y:-h/2*.6},{x:u/2,y:h/2},{x:-u/2,y:h/2},{x:-u/2,y:-h/2*.6}],m=vr(f),y=p.path(m,g),b=n.insert(()=>y,":first-child");return b.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",d),i&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",i),Dt(t,b),t.intersect=function(v){return Tt.polygon(t,f,v)},n}var KWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),l(Nde,"trapezoidalPentagon")});async function Mde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=Gr(Ee().flowchart?.htmlLabels),u=a.width+(t.padding??0),h=u+a.height,d=u+a.height,p=[{x:0,y:0},{x:d,y:0},{x:d/2,y:-h}],{cssStyles:g}=t,f=It.svg(n),m=Rt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=vr(p),b=f.path(y,m),v=n.insert(()=>b,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return g&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",g),i&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",i),t.width=u,t.height=h,Dt(t,v),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${h/2-(a.height+(t.padding??0)/(o?2:1)-(a.y-(a.top??0)))})`),t.intersect=function(x){return ne.info("Triangle intersect",t,p,x),Tt.polygon(t,p,x)},n}var ZWe=D(()=>{"use strict";st(),Lt(),Ot(),Mt(),$t(),Lt(),cr(),Gt(),l(Mde,"triangle")});async function Ide(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/8,d=u+h,{cssStyles:p}=t,g=70-o,f=g>0?g/2:0,m=It.svg(n),y=Rt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=[{x:-o/2-f,y:d/2},...Pu(-o/2-f,d/2,o/2+f,d/2,h,.8),{x:o/2+f,y:-d/2},{x:-o/2-f,y:-d/2}],v=vr(b),x=m.path(v,y),w=n.insert(()=>x,":first-child");return w.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",i),w.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-o/2+(t.padding??0)-(a.x-(a.left??0))},${-u/2+(t.padding??0)-h-(a.y-(a.top??0))})`),Dt(t,w),t.intersect=function(k){return Tt.polygon(t,b,k)},n}var QWe=D(()=>{"use strict";Lt(),Ot(),$t(),Mt(),l(Ide,"waveEdgedRectangle")});async function Dde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=await er(e,t,Yt(t)),s=100,o=50,u=Math.max(a.width+(t.padding??0)*2,t?.width??0),h=Math.max(a.height+(t.padding??0)*2,t?.height??0),d=u/h,p=u,g=h;p>g*d?g=p/d:p=g*d,p=Math.max(p,s),g=Math.max(g,o);let f=Math.min(g*.2,g/4),m=g+f*2,{cssStyles:y}=t,b=It.svg(n),v=Rt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");let x=[{x:-p/2,y:m/2},...Pu(-p/2,m/2,p/2,m/2,f,1),{x:p/2,y:-m/2},...Pu(p/2,-m/2,-p/2,-m/2,f,-1)],w=vr(x),k=b.path(w,v),T=n.insert(()=>k,":first-child");return T.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",y),i&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",i),Dt(t,T),t.intersect=function(_){return Tt.polygon(t,x,_)},n}var JWe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),l(Dde,"waveRectangle")});async function Rde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await er(e,t,Yt(t)),o=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=5,d=-o/2,p=-u/2,{cssStyles:g}=t,f=It.svg(n),m=Rt(t,{}),y=[{x:d-h,y:p-h},{x:d-h,y:p+u},{x:d+o,y:p+u},{x:d+o,y:p-h}],b=`M${d-h},${p-h} L${d+o},${p-h} L${d+o},${p+u} L${d-h},${p+u} L${d-h},${p-h}
                M${d-h},${p} L${d+o},${p}
                M${d},${p-h} L${d},${p+u}`;t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let v=f.path(b,m),x=n.insert(()=>v,":first-child");return x.attr("transform",`translate(${h/2}, ${h/2})`),x.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",i),s.attr("transform",`translate(${-(a.width/2)+h/2-(a.x-(a.left??0))}, ${-(a.height/2)+h/2-(a.y-(a.top??0))})`),Dt(t,x),t.intersect=function(w){return Tt.polygon(t,y,w)},n}var eXe=D(()=>{"use strict";Lt(),Mt(),$t(),Ot(),l(Rde,"windowPane")});async function mN(e,t){let r=t;if(r.alias&&(t.label=r.alias),t.look==="handDrawn"){let{themeVariables:q}=Tr(),{background:V}=q,H={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${V}`]};await mN(e,H)}let i=Tr();t.useHtmlLabels=i.htmlLabels;let n=i.er?.diagramPadding??10,a=i.er?.entityPadding??6,{cssStyles:s}=t,{labelStyles:o,nodeStyles:u}=St(t);if(r.attributes.length===0&&t.label){let q={rx:0,ry:0,labelPaddingX:n,labelPaddingY:n*1.5,classes:""};fa(t.label,i)+q.labelPaddingX*2<i.er.minEntityWidth&&(t.width=i.er.minEntityWidth);let V=await O6(e,t,q);if(!Gr(i.htmlLabels)){let H=V.select("text"),ae=H.node()?.getBBox();H.attr("transform",`translate(${-ae.width/2}, 0)`)}return V}i.htmlLabels||(n*=1.25,a*=1.25);let h=Yt(t);h||(h="node default");let d=e.insert("g").attr("class",h).attr("id",t.domId||t.id),p=await $g(d,t.label??"",i,0,0,["name"],o);p.height+=a;let g=0,f=[],m=[],y=0,b=0,v=0,x=0,w=!0,k=!0;for(let q of r.attributes){let V=await $g(d,q.type,i,0,g,["attribute-type"],o);y=Math.max(y,V.width+n);let H=await $g(d,q.name,i,0,g,["attribute-name"],o);b=Math.max(b,H.width+n);let ae=await $g(d,q.keys.join(),i,0,g,["attribute-keys"],o);v=Math.max(v,ae.width+n);let re=await $g(d,q.comment,i,0,g,["attribute-comment"],o);x=Math.max(x,re.width+n);let oe=Math.max(V.height,H.height,ae.height,re.height)+a;m.push({yOffset:g,rowHeight:oe}),g+=oe}let T=4;v<=n&&(w=!1,v=0,T--),x<=n&&(k=!1,x=0,T--);let _=d.node().getBBox();if(p.width+n*2-(y+b+v+x)>0){let q=p.width+n*2-(y+b+v+x);y+=q/T,b+=q/T,v>0&&(v+=q/T),x>0&&(x+=q/T)}let C=y+b+v+x,E=It.svg(d),N=Rt(t,{});t.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");let M=0;m.length>0&&(M=m.reduce((q,V)=>q+(V?.rowHeight??0),0));let I=Math.max(_.width+n*2,t?.width||0,C),A=Math.max((M??0)+p.height,t?.height||0),B=-I/2,S=-A/2;d.selectAll("g:not(:first-child)").each((q,V,H)=>{let ae=Ke(H[V]),re=ae.attr("transform"),oe=0,ue=0;if(re){let W=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(re);W&&(oe=parseFloat(W[1]),ue=parseFloat(W[2]),ae.attr("class").includes("attribute-name")?oe+=y:ae.attr("class").includes("attribute-keys")?oe+=y+b:ae.attr("class").includes("attribute-comment")&&(oe+=y+b+v))}ae.attr("transform",`translate(${B+n/2+oe}, ${ue+S+p.height+a/2})`)}),d.select(".name").attr("transform","translate("+-p.width/2+", "+(S+a/2)+")");let O=E.rectangle(B,S,I,A,N),R=d.insert(()=>O,":first-child").attr("style",s.join("")),{themeVariables:P}=Tr(),{rowEven:L,rowOdd:$,nodeBorder:F}=P;f.push(0);for(let[q,V]of m.entries()){let H=(q+1)%2===0&&V.yOffset!==0,ae=E.rectangle(B,p.height+S+V?.yOffset,I,V?.rowHeight,{...N,fill:H?L:$,stroke:F});d.insert(()=>ae,"g.label").attr("style",s.join("")).attr("class",`row-rect-${H?"even":"odd"}`)}let G=E.line(B,p.height+S,I+B,p.height+S,N);d.insert(()=>G).attr("class","divider"),G=E.line(y+B,p.height+S,y+B,A+S,N),d.insert(()=>G).attr("class","divider"),w&&(G=E.line(y+b+B,p.height+S,y+b+B,A+S,N),d.insert(()=>G).attr("class","divider")),k&&(G=E.line(y+b+v+B,p.height+S,y+b+v+B,A+S,N),d.insert(()=>G).attr("class","divider"));for(let q of f)G=E.line(B,p.height+S+q,I+B,p.height+S+q,N),d.insert(()=>G).attr("class","divider");if(Dt(t,R),u&&t.look!=="handDrawn"){let q=u.split(";")?.filter(V=>V.includes("stroke"))?.map(V=>`${V}`).join("; ");d.selectAll("path").attr("style",q??""),d.selectAll(".row-rect-even path").attr("style",u)}return t.intersect=function(q){return Tt.rect(t,q)},d}async function $g(e,t,r,i=0,n=0,a=[],s=""){let o=e.insert("g").attr("class",`label ${a.join(" ")}`).attr("transform",`translate(${i}, ${n})`).attr("style",s);t!==Wl(t)&&(t=Wl(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));let u=o.node().appendChild(await Ba(o,t,{width:fa(t,r)+100,style:s,useHtmlLabels:r.htmlLabels},r));if(t.includes("&lt;")||t.includes("&gt;")){let d=u.children[0];for(d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");d.childNodes[0];)d=d.childNodes[0],d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let h=u.getBBox();if(Gr(r.htmlLabels)){let d=u.children[0];d.style.textAlign="start";let p=Ke(u);h=d.getBoundingClientRect(),p.attr("width",h.width),p.attr("height",h.height)}return h}var tXe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),P6(),pi(),po(),cr(),hr(),Zt(),l(mN,"erBox"),l($g,"addText")});async function Ode(e,t,r,i,n=r.class.padding??12){let a=i?0:3,s=e.insert("g").attr("class",Yt(t)).attr("id",t.domId||t.id),o=null,u=null,h=null,d=null,p=0,g=0,f=0;if(o=s.insert("g").attr("class","annotation-group text"),t.annotations.length>0){let x=t.annotations[0];await g2(o,{text:`\xAB${x}\xBB`},0),p=o.node().getBBox().height}u=s.insert("g").attr("class","label-group text"),await g2(u,t,0,["font-weight: bolder"]);let m=u.node().getBBox();g=m.height,h=s.insert("g").attr("class","members-group text");let y=0;for(let x of t.members){let w=await g2(h,x,y,[x.parseClassifier()]);y+=w+a}f=h.node().getBBox().height,f<=0&&(f=n/2),d=s.insert("g").attr("class","methods-group text");let b=0;for(let x of t.methods){let w=await g2(d,x,b,[x.parseClassifier()]);b+=w+a}let v=s.node().getBBox();if(o!==null){let x=o.node().getBBox();o.attr("transform",`translate(${-x.width/2})`)}return u.attr("transform",`translate(${-m.width/2}, ${p})`),v=s.node().getBBox(),h.attr("transform",`translate(0, ${p+g+n*2})`),v=s.node().getBBox(),d.attr("transform",`translate(0, ${p+g+(f?f+n*4:n*2)})`),v=s.node().getBBox(),{shapeSvg:s,bbox:v}}async function g2(e,t,r,i=[]){let n=e.insert("g").attr("class","label").attr("style",i.join("; ")),a=Tr(),s="useHtmlLabels"in t?t.useHtmlLabels:Gr(a.htmlLabels)??!0,o="";"text"in t?o=t.text:o=t.label,!s&&o.startsWith("\\")&&(o=o.substring(1)),fi(o)&&(s=!0);let u=await Ba(n,p3(co(o)),{width:fa(o,a)+50,classes:"markdown-node-label",useHtmlLabels:s},a),h,d=1;if(s){let p=u.children[0],g=Ke(u);d=p.innerHTML.split("<br>").length,p.innerHTML.includes("</math>")&&(d+=p.innerHTML.split("<mrow>").length-1);let f=p.getElementsByTagName("img");if(f){let m=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...f].map(y=>new Promise(b=>{function v(){if(y.style.display="flex",y.style.flexDirection="column",m){let x=a.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,w=parseInt(x,10)*5+"px";y.style.minWidth=w,y.style.maxWidth=w}else y.style.width="100%";b(y)}l(v,"setupImage"),setTimeout(()=>{y.complete&&v()}),y.addEventListener("error",v),y.addEventListener("load",v)})))}h=p.getBoundingClientRect(),g.attr("width",h.width),g.attr("height",h.height)}else{i.includes("font-weight: bolder")&&Ke(u).selectAll("tspan").attr("font-weight",""),d=u.children.length;let p=u.children[0];(u.textContent===""||u.textContent.includes("&gt"))&&(p.textContent=o[0]+o.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),o[1]===" "&&(p.textContent=p.textContent[0]+" "+p.textContent.substring(1))),p.textContent==="undefined"&&(p.textContent=""),h=u.getBBox()}return n.attr("transform","translate(0,"+(-h.height/(2*d)+r)+")"),h.height}var rXe=D(()=>{"use strict";hr(),pi(),Lt(),Zt(),Gt(),po(),cr(),l(Ode,"textHelper"),l(g2,"addText")});async function Pde(e,t){let r=Ee(),i=r.class.padding??12,n=i,a=t.useHtmlLabels??Gr(r.htmlLabels)??!0,s=t;s.annotations=s.annotations??[],s.members=s.members??[],s.methods=s.methods??[];let{shapeSvg:o,bbox:u}=await Ode(e,t,r,a,n),{labelStyles:h,nodeStyles:d}=St(t);t.labelStyle=h,t.cssStyles=s.styles||"";let p=s.styles?.join(";")||d||"";t.cssStyles||(t.cssStyles=p.replaceAll("!important","").split(";"));let g=s.members.length===0&&s.methods.length===0&&!r.class?.hideEmptyMembersBox,f=It.svg(o),m=Rt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=u.width,b=u.height;s.members.length===0&&s.methods.length===0?b+=n:s.members.length>0&&s.methods.length===0&&(b+=n*2);let v=-y/2,x=-b/2,w=f.rectangle(v-i,x-i-(g?i:s.members.length===0&&s.methods.length===0?-i/2:0),y+2*i,b+2*i+(g?i*2:s.members.length===0&&s.methods.length===0?-i:0),m),k=o.insert(()=>w,":first-child");k.attr("class","basic label-container");let T=k.node().getBBox();o.selectAll(".text").each((N,M,I)=>{let A=Ke(I[M]),B=A.attr("transform"),S=0;if(B){let P=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(B);P&&(S=parseFloat(P[2]))}let O=S+x+i-(g?i:s.members.length===0&&s.methods.length===0?-i/2:0);a||(O-=4);let R=v;(A.attr("class").includes("label-group")||A.attr("class").includes("annotation-group"))&&(R=-A.node()?.getBBox().width/2||0,o.selectAll("text").each(function(P,L,$){window.getComputedStyle($[L]).textAnchor==="middle"&&(R=0)})),A.attr("transform",`translate(${R}, ${O})`)});let _=o.select(".annotation-group").node().getBBox().height-(g?i/2:0)||0,C=o.select(".label-group").node().getBBox().height-(g?i/2:0)||0,E=o.select(".members-group").node().getBBox().height-(g?i/2:0)||0;if(s.members.length>0||s.methods.length>0||g){let N=f.line(T.x,_+C+x+i,T.x+T.width,_+C+x+i,m);o.insert(()=>N).attr("class","divider").attr("style",p)}if(g||s.members.length>0||s.methods.length>0){let N=f.line(T.x,_+C+E+x+n*2+i,T.x+T.width,_+C+E+x+i+n*2,m);o.insert(()=>N).attr("class","divider").attr("style",p)}if(s.look!=="handDrawn"&&o.selectAll("path").attr("style",p),k.select(":nth-child(2)").attr("style",p),o.selectAll(".divider").select("path").attr("style",p),t.labelStyle?o.selectAll("span").attr("style",t.labelStyle):o.selectAll("span").attr("style",p),!a){let N=RegExp(/color\s*:\s*([^;]*)/),M=N.exec(p);if(M){let I=M[0].replace("color","fill");o.selectAll("tspan").attr("style",I)}else if(h){let I=N.exec(h);if(I){let A=I[0].replace("color","fill");o.selectAll("tspan").attr("style",A)}}}return Dt(t,k),t.intersect=function(N){return Tt.rect(t,N)},o}var iXe=D(()=>{"use strict";Lt(),Gt(),hr(),$t(),Mt(),Ot(),rXe(),cr(),l(Pde,"classBox")});async function Bde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let n=t,a=t,s=20,o=20,u="verifyMethod"in t,h=Yt(t),d=e.insert("g").attr("class",h).attr("id",t.domId??t.id),p;u?p=await nl(d,`&lt;&lt;${n.type}&gt;&gt;`,0,t.labelStyle):p=await nl(d,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let g=p,f=await nl(d,n.name,g,t.labelStyle+"; font-weight: bold;");if(g+=f+o,u){let _=await nl(d,`${n.requirementId?`ID: ${n.requirementId}`:""}`,g,t.labelStyle);g+=_;let C=await nl(d,`${n.text?`Text: ${n.text}`:""}`,g,t.labelStyle);g+=C;let E=await nl(d,`${n.risk?`Risk: ${n.risk}`:""}`,g,t.labelStyle);g+=E,await nl(d,`${n.verifyMethod?`Verification: ${n.verifyMethod}`:""}`,g,t.labelStyle)}else{let _=await nl(d,`${a.type?`Type: ${a.type}`:""}`,g,t.labelStyle);g+=_,await nl(d,`${a.docRef?`Doc Ref: ${a.docRef}`:""}`,g,t.labelStyle)}let m=(d.node()?.getBBox().width??200)+s,y=(d.node()?.getBBox().height??200)+s,b=-m/2,v=-y/2,x=It.svg(d),w=Rt(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");let k=x.rectangle(b,v,m,y,w),T=d.insert(()=>k,":first-child");if(T.attr("class","basic label-container").attr("style",i),d.selectAll(".label").each((_,C,E)=>{let N=Ke(E[C]),M=N.attr("transform"),I=0,A=0;if(M){let O=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(M);O&&(I=parseFloat(O[1]),A=parseFloat(O[2]))}let B=A-y/2,S=b+s/2;(C===0||C===1)&&(S=I),N.attr("transform",`translate(${S}, ${B+s})`)}),g>p+f+o){let _=x.line(b,v+p+f+o,b+m,v+p+f+o,w);d.insert(()=>_).attr("style",i)}return Dt(t,T),t.intersect=function(_){return Tt.rect(t,_)},d}async function nl(e,t,r,i=""){if(t==="")return 0;let n=e.insert("g").attr("class","label").attr("style",i),a=Ee(),s=a.htmlLabels??!0,o=await Ba(n,p3(co(t)),{width:fa(t,a)+50,classes:"markdown-node-label",useHtmlLabels:s,style:i},a),u;if(s){let h=o.children[0],d=Ke(o);u=h.getBoundingClientRect(),d.attr("width",u.width),d.attr("height",u.height)}else{let h=o.children[0];for(let d of h.children)d.textContent=d.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),i&&d.setAttribute("style",i);u=o.getBBox(),u.height+=6}return n.attr("transform",`translate(${-u.width/2},${-u.height/2+r})`),u.height}var nXe=D(()=>{"use strict";Lt(),Ot(),Mt(),$t(),Zt(),Gt(),po(),hr(),l(Bde,"requirementBox"),l(nl,"addText")});async function $de(e,t,{config:r}){let{labelStyles:i,nodeStyles:n}=St(t);t.labelStyle=i||"";let a=10,s=t.width;t.width=(t.width??200)-10;let{shapeSvg:o,bbox:u,label:h}=await er(e,t,Yt(t)),d=t.padding||10,p="",g;"ticket"in t&&t.ticket&&r?.kanban?.ticketBaseUrl&&(p=r?.kanban?.ticketBaseUrl.replace("#TICKET#",t.ticket),g=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",p).attr("target","_blank"));let f={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1},m,y;g?{label:m,bbox:y}=await T6(g,"ticket"in t&&t.ticket||"",f):{label:m,bbox:y}=await T6(o,"ticket"in t&&t.ticket||"",f);let{label:b,bbox:v}=await T6(o,"assigned"in t&&t.assigned||"",f);t.width=s;let x=10,w=t?.width||0,k=Math.max(y.height,v.height)/2,T=Math.max(u.height+x*2,t?.height||0)+k,_=-w/2,C=-T/2;h.attr("transform","translate("+(d-w/2)+", "+(-k-u.height/2)+")"),m.attr("transform","translate("+(d-w/2)+", "+(-k+u.height/2)+")"),b.attr("transform","translate("+(d+w/2-v.width-2*a)+", "+(-k+u.height/2)+")");let E,{rx:N,ry:M}=t,{cssStyles:I}=t;if(t.look==="handDrawn"){let A=It.svg(o),B=Rt(t,{}),S=N||M?A.path(cc(_,C,w,T,N||0),B):A.rectangle(_,C,w,T,B);E=o.insert(()=>S,":first-child"),E.attr("class","basic label-container").attr("style",I||null)}else{E=o.insert("rect",":first-child"),E.attr("class","basic label-container __APA__").attr("style",n).attr("rx",N??5).attr("ry",M??5).attr("x",_).attr("y",C).attr("width",w).attr("height",T);let A="priority"in t&&t.priority;if(A){let B=o.append("line"),S=_+2,O=C+Math.floor((N??0)/2),R=C+T-Math.floor((N??0)/2);B.attr("x1",S).attr("y1",O).attr("x2",S).attr("y2",R).attr("stroke-width","4").attr("stroke",Fde(A))}}return Dt(t,E),t.height=T,t.intersect=function(A){return Tt.rect(t,A)},o}var Fde,aXe=D(()=>{"use strict";Lt(),Ot(),Bg(),Mt(),$t(),Fde=l(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority"),l($de,"kanbanItem")});async function zde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,halfPadding:s,label:o}=await er(e,t,Yt(t)),u=a.width+10*s,h=a.height+8*s,d=.15*u,{cssStyles:p}=t,g=a.width+20,f=a.height+20,m=Math.max(u,g),y=Math.max(h,f);o.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`);let b,v=`M0 0 
    a${d},${d} 1 0,0 ${m*.25},${-1*y*.1}
    a${d},${d} 1 0,0 ${m*.25},0
    a${d},${d} 1 0,0 ${m*.25},0
    a${d},${d} 1 0,0 ${m*.25},${y*.1}

    a${d},${d} 1 0,0 ${m*.15},${y*.33}
    a${d*.8},${d*.8} 1 0,0 0,${y*.34}
    a${d},${d} 1 0,0 ${-1*m*.15},${y*.33}

    a${d},${d} 1 0,0 ${-1*m*.25},${y*.15}
    a${d},${d} 1 0,0 ${-1*m*.25},0
    a${d},${d} 1 0,0 ${-1*m*.25},0
    a${d},${d} 1 0,0 ${-1*m*.25},${-1*y*.15}

    a${d},${d} 1 0,0 ${-1*m*.1},${-1*y*.33}
    a${d*.8},${d*.8} 1 0,0 0,${-1*y*.34}
    a${d},${d} 1 0,0 ${m*.1},${-1*y*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){let x=It.svg(n),w=Rt(t,{}),k=x.path(v,w);b=n.insert(()=>k,":first-child"),b.attr("class","basic label-container").attr("style",Kn(p))}else b=n.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",v);return b.attr("transform",`translate(${-m/2}, ${-y/2})`),Dt(t,b),t.calcIntersect=function(x,w){return Tt.rect(x,w)},t.intersect=function(x){return ne.info("Bang intersect",t,x),Tt.rect(t,x)},n}var sXe=D(()=>{"use strict";st(),Lt(),Ot(),Mt(),$t(),Zt(),l(zde,"bang")});async function Gde(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,halfPadding:s,label:o}=await er(e,t,Yt(t)),u=a.width+2*s,h=a.height+2*s,d=.15*u,p=.25*u,g=.35*u,f=.2*u,{cssStyles:m}=t,y,b=`M0 0 
    a${d},${d} 0 0,1 ${u*.25},${-1*u*.1}
    a${g},${g} 1 0,1 ${u*.4},${-1*u*.1}
    a${p},${p} 1 0,1 ${u*.35},${u*.2}

    a${d},${d} 1 0,1 ${u*.15},${h*.35}
    a${f},${f} 1 0,1 ${-1*u*.15},${h*.65}

    a${p},${d} 1 0,1 ${-1*u*.25},${u*.15}
    a${g},${g} 1 0,1 ${-1*u*.5},0
    a${d},${d} 1 0,1 ${-1*u*.25},${-1*u*.15}

    a${d},${d} 1 0,1 ${-1*u*.1},${-1*h*.35}
    a${f},${f} 1 0,1 ${u*.1},${-1*h*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){let v=It.svg(n),x=Rt(t,{}),w=v.path(b,x);y=n.insert(()=>w,":first-child"),y.attr("class","basic label-container").attr("style",Kn(m))}else y=n.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",b);return o.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`),y.attr("transform",`translate(${-u/2}, ${-h/2})`),Dt(t,y),t.calcIntersect=function(v,x){return Tt.rect(v,x)},t.intersect=function(v){return ne.info("Cloud intersect",t,v),Tt.rect(t,v)},n}var oXe=D(()=>{"use strict";$t(),st(),Zt(),Ot(),Mt(),Lt(),l(Gde,"cloud")});async function Ude(e,t){let{labelStyles:r,nodeStyles:i}=St(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,halfPadding:s,label:o}=await er(e,t,Yt(t)),u=a.width+8*s,h=a.height+2*s,d=5,p=`
    M${-u/2} ${h/2-d}
    v${-h+2*d}
    q0,-${d} ${d},-${d}
    h${u-2*d}
    q${d},0 ${d},${d}
    v${h-2*d}
    q0,${d} -${d},${d}
    h${-u+2*d}
    q-${d},0 -${d},-${d}
    Z
  `,g=n.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",i).attr("d",p);return n.append("line").attr("class","node-line-").attr("x1",-u/2).attr("y1",h/2).attr("x2",u/2).attr("y2",h/2),o.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`),n.append(()=>o.node()),Dt(t,g),t.calcIntersect=function(f,m){return Tt.rect(f,m)},t.intersect=function(f){return Tt.rect(t,f)},n}var lXe=D(()=>{"use strict";Ot(),Mt(),Lt(),l(Ude,"defaultMindmapNode")});async function qde(e,t){let r={padding:t.padding??0};return gN(e,t,r)}var cXe=D(()=>{"use strict";The(),l(qde,"mindmapCircle")});function jde(e){return e in yN}var Hde,Vde,yN,Yde=D(()=>{"use strict";eWe(),tWe(),rWe(),iWe(),The(),nWe(),aWe(),sWe(),oWe(),lWe(),cWe(),uWe(),hWe(),dWe(),pWe(),gWe(),fWe(),mWe(),yWe(),vWe(),bWe(),xWe(),wWe(),kWe(),TWe(),EWe(),CWe(),SWe(),_We(),AWe(),LWe(),NWe(),MWe(),IWe(),DWe(),RWe(),OWe(),PWe(),BWe(),$We(),FWe(),zWe(),GWe(),UWe(),qWe(),jWe(),HWe(),VWe(),YWe(),WWe(),XWe(),KWe(),ZWe(),QWe(),JWe(),eXe(),tXe(),iXe(),nXe(),aXe(),sXe(),oXe(),lXe(),cXe(),Hde=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:mde},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:pde},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:yde},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:wde},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:Nhe},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:gN},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:zde},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:Gde},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:sde},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:zhe},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:Khe},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Xhe},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:Lde},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:Yhe},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:Ohe},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:Ede},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:whe},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:gde},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:xde},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:bde},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:$he},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:Ghe},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:She},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:_he},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:Ahe},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:Zhe},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:Ide},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:Fhe},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:Cde},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:Qhe},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:Lhe},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:Rhe},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:Mde},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:Rde},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:Phe},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:Nde},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:Bhe},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:fde},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:nde},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:ide},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:xhe},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:Che},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:Tde},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:kde},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:Dde},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:lde},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:rde}],Vde=l(()=>{let e=[...Object.entries({state:vde,choice:khe,note:ade,rectWithTitle:dde,labelRect:Whe,iconSquare:Hhe,iconCircle:qhe,icon:Uhe,iconRounded:jhe,imageSquare:Vhe,anchor:bhe,kanbanItem:$de,mindmapCircle:qde,defaultMindmapNode:Ude,classBox:Pde,erBox:mN,requirementBox:Bde}),...Hde.flatMap(t=>[t.shortName,..."aliases"in t?t.aliases:[],..."internalAliases"in t?t.internalAliases:[]].map(r=>[r,t.handler]))];return Object.fromEntries(e)},"generateShapeMap"),yN=Vde(),l(jde,"isValidShape")}),Wde,Xde,uXe=D(()=>{"use strict";hr(),c6(),Gt(),st(),Yde(),Zt(),cr(),Di(),Wde="flowchart-",Xde=class{constructor(){this.vertexCounter=0,this.config=Ee(),this.vertices=new Map,this.edges=[],this.classes=new Map,this.subGraphs=[],this.subGraphLookup=new Map,this.tooltips=new Map,this.subCount=0,this.firstGraphFlag=!0,this.secCount=-1,this.posCrossRef=[],this.funs=[],this.setAccTitle=Mi,this.setAccDescription=Ui,this.setDiagramTitle=sn,this.getAccTitle=Gi,this.getAccDescription=qi,this.getDiagramTitle=Ii,this.funs.push(this.setupToolTips.bind(this)),this.addVertex=this.addVertex.bind(this),this.firstGraph=this.firstGraph.bind(this),this.setDirection=this.setDirection.bind(this),this.addSubGraph=this.addSubGraph.bind(this),this.addLink=this.addLink.bind(this),this.setLink=this.setLink.bind(this),this.updateLink=this.updateLink.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.destructLink=this.destructLink.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setTooltip=this.setTooltip.bind(this),this.updateLinkInterpolate=this.updateLinkInterpolate.bind(this),this.setClickFun=this.setClickFun.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.lex={firstGraph:this.firstGraph.bind(this)},this.clear(),this.setGen("gen-2")}static{l(this,"FlowDB")}sanitizeText(e){return nt.sanitizeText(e,this.config)}lookUpDomId(e){for(let t of this.vertices.values())if(t.id===e)return t.domId;return e}addVertex(e,t,r,i,n,a,s={},o){if(!e||e.trim().length===0)return;let u;if(o!==void 0){let g;o.includes(`
`)?g=o+`
`:g=`{
`+o+`
}`,u=Xy(g,{schema:Wy})}let h=this.edges.find(g=>g.id===e);if(h){let g=u;g?.animate!==void 0&&(h.animate=g.animate),g?.animation!==void 0&&(h.animation=g.animation),g?.curve!==void 0&&(h.interpolate=g.curve);return}let d,p=this.vertices.get(e);if(p===void 0&&(p={id:e,labelType:"text",domId:Wde+e+"-"+this.vertexCounter,styles:[],classes:[]},this.vertices.set(e,p)),this.vertexCounter++,t!==void 0?(this.config=Ee(),d=this.sanitizeText(t.text.trim()),p.labelType=t.type,d.startsWith('"')&&d.endsWith('"')&&(d=d.substring(1,d.length-1)),p.text=d):p.text===void 0&&(p.text=e),r!==void 0&&(p.type=r),i?.forEach(g=>{p.styles.push(g)}),n?.forEach(g=>{p.classes.push(g)}),a!==void 0&&(p.dir=a),p.props===void 0?p.props=s:s!==void 0&&Object.assign(p.props,s),u!==void 0){if(u.shape){if(u.shape!==u.shape.toLowerCase()||u.shape.includes("_"))throw new Error(`No such shape: ${u.shape}. Shape names should be lowercase.`);if(!jde(u.shape))throw new Error(`No such shape: ${u.shape}.`);p.type=u?.shape}u?.label&&(p.text=u?.label),u?.icon&&(p.icon=u?.icon,!u.label?.trim()&&p.text===e&&(p.text="")),u?.form&&(p.form=u?.form),u?.pos&&(p.pos=u?.pos),u?.img&&(p.img=u?.img,!u.label?.trim()&&p.text===e&&(p.text="")),u?.constraint&&(p.constraint=u.constraint),u.w&&(p.assetWidth=Number(u.w)),u.h&&(p.assetHeight=Number(u.h))}}addSingleLink(e,t,r,i){let n={start:e,end:t,type:void 0,text:"",labelType:"text",classes:[],isUserDefinedId:!1,interpolate:this.edges.defaultInterpolate};ne.info("abc78 Got edge...",n);let a=r.text;if(a!==void 0&&(n.text=this.sanitizeText(a.text.trim()),n.text.startsWith('"')&&n.text.endsWith('"')&&(n.text=n.text.substring(1,n.text.length-1)),n.labelType=a.type),r!==void 0&&(n.type=r.type,n.stroke=r.stroke,n.length=r.length>10?10:r.length),i&&!this.edges.some(s=>s.id===i))n.id=i,n.isUserDefinedId=!0;else{let s=this.edges.filter(o=>o.start===n.start&&o.end===n.end);s.length===0?n.id=cd(n.start,n.end,{counter:0,prefix:"L"}):n.id=cd(n.start,n.end,{counter:s.length+1,prefix:"L"})}if(this.edges.length<(this.config.maxEdges??500))ne.info("Pushing edge..."),this.edges.push(n);else throw new Error(`Edge limit exceeded. ${this.edges.length} edges found, but the limit is ${this.config.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)}isLinkData(e){return e!==null&&typeof e=="object"&&"id"in e&&typeof e.id=="string"}addLink(e,t,r){let i=this.isLinkData(r)?r.id.replace("@",""):void 0;ne.info("addLink",e,t,i);for(let n of e)for(let a of t){let s=n===e[e.length-1],o=a===t[0];s&&o?this.addSingleLink(n,a,r,i):this.addSingleLink(n,a,r,void 0)}}updateLinkInterpolate(e,t){e.forEach(r=>{r==="default"?this.edges.defaultInterpolate=t:this.edges[r].interpolate=t})}updateLink(e,t){e.forEach(r=>{if(typeof r=="number"&&r>=this.edges.length)throw new Error(`The index ${r} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${this.edges.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);r==="default"?this.edges.defaultStyle=t:(this.edges[r].style=t,(this.edges[r]?.style?.length??0)>0&&!this.edges[r]?.style?.some(i=>i?.startsWith("fill"))&&this.edges[r]?.style?.push("fill:none"))})}addClass(e,t){let r=t.join().replace(/\\,/g,"\xA7\xA7\xA7").replace(/,/g,";").replace(//g,",").split(";");e.split(",").forEach(i=>{let n=this.classes.get(i);n===void 0&&(n={id:i,styles:[],textStyles:[]},this.classes.set(i,n)),r?.forEach(a=>{if(/color/.exec(a)){let s=a.replace("fill","bgFill");n.textStyles.push(s)}n.styles.push(a)})})}setDirection(e){this.direction=e.trim(),/.*</.exec(this.direction)&&(this.direction="RL"),/.*\^/.exec(this.direction)&&(this.direction="BT"),/.*>/.exec(this.direction)&&(this.direction="LR"),/.*v/.exec(this.direction)&&(this.direction="TB"),this.direction==="TD"&&(this.direction="TB")}setClass(e,t){for(let r of e.split(",")){let i=this.vertices.get(r);i&&i.classes.push(t);let n=this.edges.find(s=>s.id===r);n&&n.classes.push(t);let a=this.subGraphLookup.get(r);a&&a.classes.push(t)}}setTooltip(e,t){if(t!==void 0){t=this.sanitizeText(t);for(let r of e.split(","))this.tooltips.set(this.version==="gen-1"?this.lookUpDomId(r):r,t)}}setClickFun(e,t,r){let i=this.lookUpDomId(e);if(Ee().securityLevel!=="loose"||t===void 0)return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<n.length;s++){let o=n[s].trim();o.startsWith('"')&&o.endsWith('"')&&(o=o.substr(1,o.length-2)),n[s]=o}}n.length===0&&n.push(e);let a=this.vertices.get(e);a&&(a.haveCallback=!0,this.funs.push(()=>{let s=document.querySelector(`[id="${i}"]`);s!==null&&s.addEventListener("click",()=>{or.runFunc(t,...n)},!1)}))}setLink(e,t,r){e.split(",").forEach(i=>{let n=this.vertices.get(i);n!==void 0&&(n.link=or.formatUrl(t,this.config),n.linkTarget=r)}),this.setClass(e,"clickable")}getTooltip(e){return this.tooltips.get(e)}setClickEvent(e,t,r){e.split(",").forEach(i=>{this.setClickFun(i,t,r)}),this.setClass(e,"clickable")}bindFunctions(e){this.funs.forEach(t=>{t(e)})}getDirection(){return this.direction?.trim()}getVertices(){return this.vertices}getEdges(){return this.edges}getClasses(){return this.classes}setupToolTips(e){let t=Ke(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=Ke("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Ke(e).select("svg").selectAll("g.node").on("mouseover",r=>{let i=Ke(r.currentTarget);if(i.attr("title")===null)return;let n=r.currentTarget?.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(i.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.bottom+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",r=>{t.transition().duration(500).style("opacity",0),Ke(r.currentTarget).classed("hover",!1)})}clear(e="gen-2"){this.vertices=new Map,this.classes=new Map,this.edges=[],this.funs=[this.setupToolTips.bind(this)],this.subGraphs=[],this.subGraphLookup=new Map,this.subCount=0,this.tooltips=new Map,this.firstGraphFlag=!0,this.version=e,this.config=Ee(),Ni()}setGen(e){this.version=e||"gen-2"}defaultStyle(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"}addSubGraph(e,t,r){let i=e.text.trim(),n=r.text;e===r&&/\s/.exec(r.text)&&(i=void 0);let a=l(d=>{let p={boolean:{},number:{},string:{}},g=[],f;return{nodeList:d.filter(function(m){let y=typeof m;return m.stmt&&m.stmt==="dir"?(f=m.value,!1):m.trim()===""?!1:y in p?p[y].hasOwnProperty(m)?!1:p[y][m]=!0:g.includes(m)?!1:g.push(m)}),dir:f}},"uniq")(t.flat()),s=a.nodeList,o=a.dir,u=Ee().flowchart??{};if(o=o??(u.inheritDir?this.getDirection()??Ee().direction??void 0:void 0),this.version==="gen-1")for(let d=0;d<s.length;d++)s[d]=this.lookUpDomId(s[d]);i=i??"subGraph"+this.subCount,n=n||"",n=this.sanitizeText(n),this.subCount=this.subCount+1;let h={id:i,nodes:s,title:n.trim(),classes:[],dir:o,labelType:r.type};return ne.info("Adding",h.id,h.nodes,h.dir),h.nodes=this.makeUniq(h,this.subGraphs).nodes,this.subGraphs.push(h),this.subGraphLookup.set(i,h),i}getPosForId(e){for(let[t,r]of this.subGraphs.entries())if(r.id===e)return t;return-1}indexNodes2(e,t){let r=this.subGraphs[t].nodes;if(this.secCount=this.secCount+1,this.secCount>2e3)return{result:!1,count:0};if(this.posCrossRef[this.secCount]=t,this.subGraphs[t].id===e)return{result:!0,count:0};let i=0,n=1;for(;i<r.length;){let a=this.getPosForId(r[i]);if(a>=0){let s=this.indexNodes2(e,a);if(s.result)return{result:!0,count:n+s.count};n=n+s.count}i=i+1}return{result:!1,count:n}}getDepthFirstPos(e){return this.posCrossRef[e]}indexNodes(){this.secCount=-1,this.subGraphs.length>0&&this.indexNodes2("none",this.subGraphs.length-1)}getSubGraphs(){return this.subGraphs}firstGraph(){return this.firstGraphFlag?(this.firstGraphFlag=!1,!0):!1}destructStartLink(e){let t=e.trim(),r="arrow_open";switch(t[0]){case"<":r="arrow_point",t=t.slice(1);break;case"x":r="arrow_cross",t=t.slice(1);break;case"o":r="arrow_circle",t=t.slice(1);break}let i="normal";return t.includes("=")&&(i="thick"),t.includes(".")&&(i="dotted"),{type:r,stroke:i}}countChar(e,t){let r=t.length,i=0;for(let n=0;n<r;++n)t[n]===e&&++i;return i}destructEndLink(e){let t=e.trim(),r=t.slice(0,-1),i="arrow_open";switch(t.slice(-1)){case"x":i="arrow_cross",t.startsWith("x")&&(i="double_"+i,r=r.slice(1));break;case">":i="arrow_point",t.startsWith("<")&&(i="double_"+i,r=r.slice(1));break;case"o":i="arrow_circle",t.startsWith("o")&&(i="double_"+i,r=r.slice(1));break}let n="normal",a=r.length-1;r.startsWith("=")&&(n="thick"),r.startsWith("~")&&(n="invisible");let s=this.countChar(".",r);return s&&(n="dotted",a=s),{type:i,stroke:n,length:a}}destructLink(e,t){let r=this.destructEndLink(e),i;if(t){if(i=this.destructStartLink(t),i.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if(i.type==="arrow_open")i.type=r.type;else{if(i.type!==r.type)return{type:"INVALID",stroke:"INVALID"};i.type="double_"+i.type}return i.type==="double_arrow"&&(i.type="double_arrow_point"),i.length=r.length,i}return r}exists(e,t){for(let r of e)if(r.nodes.includes(t))return!0;return!1}makeUniq(e,t){let r=[];return e.nodes.forEach((i,n)=>{this.exists(t,i)||r.push(e.nodes[n])}),{nodes:r}}getTypeFromVertex(e){if(e.img)return"imageSquare";if(e.icon)return e.form==="circle"?"iconCircle":e.form==="square"?"iconSquare":e.form==="rounded"?"iconRounded":"icon";switch(e.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return e.type}}findNode(e,t){return e.find(r=>r.id===t)}destructEdgeType(e){let t="none",r="arrow_point";switch(e){case"arrow_point":case"arrow_circle":case"arrow_cross":r=e;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":t=e.replace("double_",""),r=t;break}return{arrowTypeStart:t,arrowTypeEnd:r}}addNodeFromVertex(e,t,r,i,n,a){let s=r.get(e.id),o=i.get(e.id)??!1,u=this.findNode(t,e.id);if(u)u.cssStyles=e.styles,u.cssCompiledStyles=this.getCompiledStyles(e.classes),u.cssClasses=e.classes.join(" ");else{let h={id:e.id,label:e.text,labelStyle:"",parentId:s,padding:n.flowchart?.padding||8,cssStyles:e.styles,cssCompiledStyles:this.getCompiledStyles(["default","node",...e.classes]),cssClasses:"default "+e.classes.join(" "),dir:e.dir,domId:e.domId,look:a,link:e.link,linkTarget:e.linkTarget,tooltip:this.getTooltip(e.id),icon:e.icon,pos:e.pos,img:e.img,assetWidth:e.assetWidth,assetHeight:e.assetHeight,constraint:e.constraint};o?t.push({...h,isGroup:!0,shape:"rect"}):t.push({...h,isGroup:!1,shape:this.getTypeFromVertex(e)})}}getCompiledStyles(e){let t=[];for(let r of e){let i=this.classes.get(r);i?.styles&&(t=[...t,...i.styles??[]].map(n=>n.trim())),i?.textStyles&&(t=[...t,...i.textStyles??[]].map(n=>n.trim()))}return t}getData(){let e=Ee(),t=[],r=[],i=this.getSubGraphs(),n=new Map,a=new Map;for(let o=i.length-1;o>=0;o--){let u=i[o];u.nodes.length>0&&a.set(u.id,!0);for(let h of u.nodes)n.set(h,u.id)}for(let o=i.length-1;o>=0;o--){let u=i[o];t.push({id:u.id,label:u.title,labelStyle:"",parentId:n.get(u.id),padding:8,cssCompiledStyles:this.getCompiledStyles(u.classes),cssClasses:u.classes.join(" "),shape:"rect",dir:u.dir,isGroup:!0,look:e.look})}this.getVertices().forEach(o=>{this.addNodeFromVertex(o,t,n,a,e,e.look||"classic")});let s=this.getEdges();return s.forEach((o,u)=>{let{arrowTypeStart:h,arrowTypeEnd:d}=this.destructEdgeType(o.type),p=[...s.defaultStyle??[]];o.style&&p.push(...o.style);let g={id:cd(o.start,o.end,{counter:u,prefix:"L"},o.id),isUserDefinedId:o.isUserDefinedId,start:o.start,end:o.end,type:o.type??"normal",label:o.text,labelpos:"c",thickness:o.stroke,minlen:o.length,classes:o?.stroke==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:o?.stroke==="invisible"||o?.type==="arrow_open"?"none":h,arrowTypeEnd:o?.stroke==="invisible"||o?.type==="arrow_open"?"none":d,arrowheadStyle:"fill: #333",cssCompiledStyles:this.getCompiledStyles(o.classes),labelStyle:p,style:p,pattern:o.stroke,look:e.look,animate:o.animate,animation:o.animation,curve:o.interpolate||this.edges.defaultInterpolate||e.flowchart?.curve};r.push(g)}),{nodes:t,edges:r,other:{},config:e}}defaultConfig(){return fS.flowchart}}}),bd,Fg=D(()=>{"use strict";hr(),bd=l((e,t)=>{let r;return t==="sandbox"&&(r=Ke("#i"+e)),Ke(t==="sandbox"?r.nodes()[0].contentDocument.body:"body").select(`[id="${e}"]`)},"getDiagramElement")}),zg,B6=D(()=>{"use strict";zg=l(({flowchart:e})=>{let t=e?.subGraphTitleMargin?.top??0,r=e?.subGraphTitleMargin?.bottom??0,i=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:i}},"getSubGraphTitleMargins")}),vN,Kde,Zde,Qde,Jde,e0e,t0e,bN,$6,r0e,xN=D(()=>{"use strict";Gt(),cr(),st(),B6(),hr(),$t(),po(),Jue(),fN(),Bg(),Mt(),vN=l(async(e,t)=>{ne.info("Creating subgraph rect for ",t.id,t);let r=Ee(),{themeVariables:i,handDrawnSeed:n}=r,{clusterBkg:a,clusterBorder:s}=i,{labelStyles:o,nodeStyles:u,borderStyles:h,backgroundStyles:d}=St(t),p=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),g=Gr(r.flowchart.htmlLabels),f=p.insert("g").attr("class","cluster-label "),m=await Ba(f,t.label,{style:t.labelStyle,useHtmlLabels:g,isNode:!0}),y=m.getBBox();if(Gr(r.flowchart.htmlLabels)){let C=m.children[0],E=Ke(m);y=C.getBoundingClientRect(),E.attr("width",y.width),E.attr("height",y.height)}let b=t.width<=y.width+t.padding?y.width+t.padding:t.width;t.width<=y.width+t.padding?t.diff=(b-t.width)/2-t.padding:t.diff=-t.padding;let v=t.height,x=t.x-b/2,w=t.y-v/2;ne.trace("Data ",t,JSON.stringify(t));let k;if(t.look==="handDrawn"){let C=It.svg(p),E=Rt(t,{roughness:.7,fill:a,stroke:s,fillWeight:3,seed:n}),N=C.path(cc(x,w,b,v,0),E);k=p.insert(()=>(ne.debug("Rough node insert CXC",N),N),":first-child"),k.select("path:nth-child(2)").attr("style",h.join(";")),k.select("path").attr("style",d.join(";").replace("fill","stroke"))}else k=p.insert("rect",":first-child"),k.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",x).attr("y",w).attr("width",b).attr("height",v);let{subGraphTitleTopMargin:T}=zg(r);if(f.attr("transform",`translate(${t.x-y.width/2}, ${t.y-t.height/2+T})`),o){let C=f.select("span");C&&C.attr("style",o)}let _=k.node().getBBox();return t.offsetX=0,t.width=_.width,t.height=_.height,t.offsetY=y.height-t.padding/2,t.intersect=function(C){return fd(t,C)},{cluster:p,labelBBox:y}},"rect"),Kde=l((e,t)=>{let r=e.insert("g").attr("class","note-cluster").attr("id",t.id),i=r.insert("rect",":first-child"),n=0*t.padding,a=n/2;i.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-a).attr("y",t.y-t.height/2-a).attr("width",t.width+n).attr("height",t.height+n).attr("fill","none");let s=i.node().getBBox();return t.width=s.width,t.height=s.height,t.intersect=function(o){return fd(t,o)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),Zde=l(async(e,t)=>{let r=Ee(),{themeVariables:i,handDrawnSeed:n}=r,{altBackground:a,compositeBackground:s,compositeTitleBackground:o,nodeBorder:u}=i,h=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),d=h.insert("g",":first-child"),p=h.insert("g").attr("class","cluster-label"),g=h.append("rect"),f=p.node().appendChild(await Fu(t.label,t.labelStyle,void 0,!0)),m=f.getBBox();if(Gr(r.flowchart.htmlLabels)){let N=f.children[0],M=Ke(f);m=N.getBoundingClientRect(),M.attr("width",m.width),M.attr("height",m.height)}let y=0*t.padding,b=y/2,v=(t.width<=m.width+t.padding?m.width+t.padding:t.width)+y;t.width<=m.width+t.padding?t.diff=(v-t.width)/2-t.padding:t.diff=-t.padding;let x=t.height+y,w=t.height+y-m.height-6,k=t.x-v/2,T=t.y-x/2;t.width=v;let _=t.y-t.height/2-b+m.height+2,C;if(t.look==="handDrawn"){let N=t.cssClasses.includes("statediagram-cluster-alt"),M=It.svg(h),I=t.rx||t.ry?M.path(cc(k,T,v,x,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:u,seed:n}):M.rectangle(k,T,v,x,{seed:n});C=h.insert(()=>I,":first-child");let A=M.rectangle(k,_,v,w,{fill:N?a:s,fillStyle:N?"hachure":"solid",stroke:u,seed:n});C=h.insert(()=>I,":first-child"),g=h.insert(()=>A)}else C=d.insert("rect",":first-child"),C.attr("class","outer").attr("x",k).attr("y",T).attr("width",v).attr("height",x).attr("data-look",t.look),g.attr("class","inner").attr("x",k).attr("y",_).attr("width",v).attr("height",w);p.attr("transform",`translate(${t.x-m.width/2}, ${T+1-(Gr(r.flowchart.htmlLabels)?0:3)})`);let E=C.node().getBBox();return t.height=E.height,t.offsetX=0,t.offsetY=m.height-t.padding/2,t.labelBBox=m,t.intersect=function(N){return fd(t,N)},{cluster:h,labelBBox:m}},"roundedWithTitle"),Qde=l(async(e,t)=>{ne.info("Creating subgraph rect for ",t.id,t);let r=Ee(),{themeVariables:i,handDrawnSeed:n}=r,{clusterBkg:a,clusterBorder:s}=i,{labelStyles:o,nodeStyles:u,borderStyles:h,backgroundStyles:d}=St(t),p=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),g=Gr(r.flowchart.htmlLabels),f=p.insert("g").attr("class","cluster-label "),m=await Ba(f,t.label,{style:t.labelStyle,useHtmlLabels:g,isNode:!0,width:t.width}),y=m.getBBox();if(Gr(r.flowchart.htmlLabels)){let C=m.children[0],E=Ke(m);y=C.getBoundingClientRect(),E.attr("width",y.width),E.attr("height",y.height)}let b=t.width<=y.width+t.padding?y.width+t.padding:t.width;t.width<=y.width+t.padding?t.diff=(b-t.width)/2-t.padding:t.diff=-t.padding;let v=t.height,x=t.x-b/2,w=t.y-v/2;ne.trace("Data ",t,JSON.stringify(t));let k;if(t.look==="handDrawn"){let C=It.svg(p),E=Rt(t,{roughness:.7,fill:a,stroke:s,fillWeight:4,seed:n}),N=C.path(cc(x,w,b,v,t.rx),E);k=p.insert(()=>(ne.debug("Rough node insert CXC",N),N),":first-child"),k.select("path:nth-child(2)").attr("style",h.join(";")),k.select("path").attr("style",d.join(";").replace("fill","stroke"))}else k=p.insert("rect",":first-child"),k.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",x).attr("y",w).attr("width",b).attr("height",v);let{subGraphTitleTopMargin:T}=zg(r);if(f.attr("transform",`translate(${t.x-y.width/2}, ${t.y-t.height/2+T})`),o){let C=f.select("span");C&&C.attr("style",o)}let _=k.node().getBBox();return t.offsetX=0,t.width=_.width,t.height=_.height,t.offsetY=y.height-t.padding/2,t.intersect=function(C){return fd(t,C)},{cluster:p,labelBBox:y}},"kanbanSection"),Jde=l((e,t)=>{let r=Ee(),{themeVariables:i,handDrawnSeed:n}=r,{nodeBorder:a}=i,s=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),o=s.insert("g",":first-child"),u=0*t.padding,h=t.width+u;t.diff=-t.padding;let d=t.height+u,p=t.x-h/2,g=t.y-d/2;t.width=h;let f;if(t.look==="handDrawn"){let y=It.svg(s).rectangle(p,g,h,d,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:n});f=s.insert(()=>y,":first-child")}else f=o.insert("rect",":first-child"),f.attr("class","divider").attr("x",p).attr("y",g).attr("width",h).attr("height",d).attr("data-look",t.look);let m=f.node().getBBox();return t.height=m.height,t.offsetX=0,t.offsetY=0,t.intersect=function(y){return fd(t,y)},{cluster:s,labelBBox:{}}},"divider"),e0e=vN,t0e={rect:vN,squareRect:e0e,roundedWithTitle:Zde,noteGroup:Kde,divider:Jde,kanbanSection:Qde},bN=new Map,$6=l(async(e,t)=>{let r=t.shape||"rect",i=await t0e[r](e,t);return bN.set(t.id,i),i},"insertCluster"),r0e=l(()=>{bN=new Map},"clear")});function f2(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=si(e),t=si(t);let[r,i]=[e.x,e.y],[n,a]=[t.x,t.y],s=n-r,o=a-i;return{angle:Math.atan(o/s),deltaX:s,deltaY:o}}var On,wN,si,kN,i0e=D(()=>{"use strict";On={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},wN={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5},l(f2,"calculateDeltaAndAngle"),si=l(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),kN=l(e=>({x:l(function(t,r,i){let n=0,a=si(i[0]).x<si(i[i.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(On,e.arrowTypeStart)){let{angle:f,deltaX:m}=f2(i[0],i[1]);n=On[e.arrowTypeStart]*Math.cos(f)*(m>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(On,e.arrowTypeEnd)){let{angle:f,deltaX:m}=f2(i[i.length-1],i[i.length-2]);n=On[e.arrowTypeEnd]*Math.cos(f)*(m>=0?1:-1)}let s=Math.abs(si(t).x-si(i[i.length-1]).x),o=Math.abs(si(t).y-si(i[i.length-1]).y),u=Math.abs(si(t).x-si(i[0]).x),h=Math.abs(si(t).y-si(i[0]).y),d=On[e.arrowTypeStart],p=On[e.arrowTypeEnd],g=1;if(s<p&&s>0&&o<p){let f=p+g-s;f*=a==="right"?-1:1,n-=f}if(u<d&&u>0&&h<d){let f=d+g-u;f*=a==="right"?-1:1,n+=f}return si(t).x+n},"x"),y:l(function(t,r,i){let n=0,a=si(i[0]).y<si(i[i.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(On,e.arrowTypeStart)){let{angle:f,deltaY:m}=f2(i[0],i[1]);n=On[e.arrowTypeStart]*Math.abs(Math.sin(f))*(m>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(On,e.arrowTypeEnd)){let{angle:f,deltaY:m}=f2(i[i.length-1],i[i.length-2]);n=On[e.arrowTypeEnd]*Math.abs(Math.sin(f))*(m>=0?1:-1)}let s=Math.abs(si(t).y-si(i[i.length-1]).y),o=Math.abs(si(t).x-si(i[i.length-1]).x),u=Math.abs(si(t).y-si(i[0]).y),h=Math.abs(si(t).x-si(i[0]).x),d=On[e.arrowTypeStart],p=On[e.arrowTypeEnd],g=1;if(s<p&&s>0&&o<p){let f=p+g-s;f*=a==="up"?-1:1,n-=f}if(u<d&&u>0&&h<d){let f=d+g-u;f*=a==="up"?-1:1,n+=f}return si(t).y+n},"y")}),"getLineFunctionsWithOffset")}),n0e,a0e,TN,hXe=D(()=>{"use strict";st(),n0e=l((e,t,r,i,n,a)=>{t.arrowTypeStart&&TN(e,"start",t.arrowTypeStart,r,i,n,a),t.arrowTypeEnd&&TN(e,"end",t.arrowTypeEnd,r,i,n,a)},"addEdgeMarkers"),a0e={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},TN=l((e,t,r,i,n,a,s)=>{let o=a0e[r];if(!o){ne.warn(`Unknown arrow type: ${r}`);return}let u=o.type,h=`${n}_${a}-${u}${t==="start"?"Start":"End"}`;if(s&&s.trim()!==""){let d=s.replace(/[^\dA-Za-z]/g,"_"),p=`${h}_${d}`;if(!document.getElementById(p)){let g=document.getElementById(h);if(g){let f=g.cloneNode(!0);f.id=p,f.querySelectorAll("path, circle, line").forEach(m=>{m.setAttribute("stroke",s),o.fill&&m.setAttribute("fill",s)}),g.parentNode?.appendChild(f)}}e.attr(`marker-${t}`,`url(${i}#${p})`)}else e.attr(`marker-${t}`,`url(${i}#${h})`)},"addEdgeMarker")});function m2(e,t){Ee().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}function s0e(e){let t=[],r=[];for(let i=1;i<e.length-1;i++){let n=e[i-1],a=e[i],s=e[i+1];(n.x===a.x&&a.y===s.y&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-n.y)>5||n.y===a.y&&a.x===s.x&&Math.abs(a.x-n.x)>5&&Math.abs(a.y-s.y)>5)&&(t.push(a),r.push(i))}return{cornerPoints:t,cornerPointPositions:r}}function o0e(e,t){if(e.length<2)return"";let r="",i=e.length,n=1e-5;for(let a=0;a<i;a++){let s=e[a],o=e[a-1],u=e[a+1];if(a===0)r+=`M${s.x},${s.y}`;else if(a===i-1)r+=`L${s.x},${s.y}`;else{let h=s.x-o.x,d=s.y-o.y,p=u.x-s.x,g=u.y-s.y,f=Math.hypot(h,d),m=Math.hypot(p,g);if(f<n||m<n){r+=`L${s.x},${s.y}`;continue}let y=h/f,b=d/f,v=p/m,x=g/m,w=y*v+b*x,k=Math.max(-1,Math.min(1,w)),T=Math.acos(k);if(T<n||Math.abs(Math.PI-T)<n){r+=`L${s.x},${s.y}`;continue}let _=Math.min(t/Math.sin(T/2),f/2,m/2),C=s.x-y*_,E=s.y-b*_,N=s.x+v*_,M=s.y+x*_;r+=`L${C},${E}`,r+=`Q${s.x},${s.y} ${N},${M}`}}return r}function EN(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};let r=t.x-e.x,i=t.y-e.y;return{angle:Math.atan2(i,r),deltaX:r,deltaY:i}}function l0e(e,t){let r=e.map(n=>({...n}));if(e.length>=2&&On[t.arrowTypeStart]){let n=On[t.arrowTypeStart],a=e[0],s=e[1],{angle:o}=EN(a,s),u=n*Math.cos(o),h=n*Math.sin(o);r[0].x=a.x+u,r[0].y=a.y+h}let i=e.length;if(i>=2&&On[t.arrowTypeEnd]){let n=On[t.arrowTypeEnd],a=e[i-1],s=e[i-2],{angle:o}=EN(s,a),u=n*Math.cos(o),h=n*Math.sin(o);r[i-1].x=a.x-u,r[i-1].y=a.y-h}return r}var y2,fn,c0e,v2,CN,SN,u0e,h0e,_N,AN,d0e,p0e,LN,g0e=D(()=>{"use strict";Gt(),cr(),st(),po(),Zt(),i0e(),B6(),hr(),$t(),fN(),hXe(),Mt(),y2=new Map,fn=new Map,c0e=l(()=>{y2.clear(),fn.clear()},"clear"),v2=l(e=>e?e.reduce((t,r)=>t+";"+r,""):"","getLabelStyles"),CN=l(async(e,t)=>{let r=Gr(Ee().flowchart.htmlLabels),{labelStyles:i}=St(t);t.labelStyle=i;let n=await Ba(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});ne.info("abc82",t,t.labelType);let a=e.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label").attr("data-id",t.id);s.node().appendChild(n);let o=n.getBBox();if(r){let h=n.children[0],d=Ke(n);o=h.getBoundingClientRect(),d.attr("width",o.width),d.attr("height",o.height)}s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),y2.set(t.id,a),t.width=o.width,t.height=o.height;let u;if(t.startLabelLeft){let h=await Fu(t.startLabelLeft,v2(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),fn.get(t.id)||fn.set(t.id,{}),fn.get(t.id).startLeft=d,m2(u,t.startLabelLeft)}if(t.startLabelRight){let h=await Fu(t.startLabelRight,v2(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=d.node().appendChild(h),p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),fn.get(t.id)||fn.set(t.id,{}),fn.get(t.id).startRight=d,m2(u,t.startLabelRight)}if(t.endLabelLeft){let h=await Fu(t.endLabelLeft,v2(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(h),fn.get(t.id)||fn.set(t.id,{}),fn.get(t.id).endLeft=d,m2(u,t.endLabelLeft)}if(t.endLabelRight){let h=await Fu(t.endLabelRight,v2(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(h),fn.get(t.id)||fn.set(t.id,{}),fn.get(t.id).endRight=d,m2(u,t.endLabelRight)}return n},"insertEdgeLabel"),l(m2,"setTerminalWidth"),SN=l((e,t)=>{ne.debug("Moving label abc88 ",e.id,e.label,y2.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath,i=Ee(),{subGraphTitleTotalMargin:n}=zg(i);if(e.label){let a=y2.get(e.id),s=e.x,o=e.y;if(r){let u=or.calcLabelPosition(r);ne.debug("Moving label "+e.label+" from (",s,",",o,") to (",u.x,",",u.y,") abc88"),t.updatedPath&&(s=u.x,o=u.y)}a.attr("transform",`translate(${s}, ${o+n/2})`)}if(e.startLabelLeft){let a=fn.get(e.id).startLeft,s=e.x,o=e.y;if(r){let u=or.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.startLabelRight){let a=fn.get(e.id).startRight,s=e.x,o=e.y;if(r){let u=or.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.endLabelLeft){let a=fn.get(e.id).endLeft,s=e.x,o=e.y;if(r){let u=or.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.endLabelRight){let a=fn.get(e.id).endRight,s=e.x,o=e.y;if(r){let u=or.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),u0e=l((e,t)=>{let r=e.x,i=e.y,n=Math.abs(t.x-r),a=Math.abs(t.y-i),s=e.width/2,o=e.height/2;return n>=s||a>=o},"outsideNode"),h0e=l((e,t,r)=>{ne.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let i=e.x,n=e.y,a=Math.abs(i-r.x),s=e.width/2,o=r.x<t.x?s-a:s+a,u=e.height/2,h=Math.abs(t.y-r.y),d=Math.abs(t.x-r.x);if(Math.abs(n-t.y)*s>Math.abs(i-t.x)*u){let p=r.y<t.y?t.y-u-n:n-u-t.y;o=d*p/h;let g={x:r.x<t.x?r.x+o:r.x-d+o,y:r.y<t.y?r.y+h-p:r.y-h+p};return o===0&&(g.x=t.x,g.y=t.y),d===0&&(g.x=t.x),h===0&&(g.y=t.y),ne.debug(`abc89 top/bottom calc, Q ${h}, q ${p}, R ${d}, r ${o}`,g),g}else{r.x<t.x?o=t.x-s-i:o=i-s-t.x;let p=h*o/d,g=r.x<t.x?r.x+d-o:r.x-d+o,f=r.y<t.y?r.y+p:r.y-p;return ne.debug(`sides calc abc89, Q ${h}, q ${p}, R ${d}, r ${o}`,{_x:g,_y:f}),o===0&&(g=t.x,f=t.y),d===0&&(g=t.x),h===0&&(f=t.y),{x:g,y:f}}},"intersection"),_N=l((e,t)=>{ne.warn("abc88 cutPathAtIntersect",e,t);let r=[],i=e[0],n=!1;return e.forEach(a=>{if(ne.info("abc88 checking point",a,t),!u0e(t,a)&&!n){let s=h0e(t,i,a);ne.debug("abc88 inside",a,i,s),ne.debug("abc88 intersection",s,t);let o=!1;r.forEach(u=>{o=o||u.x===s.x&&u.y===s.y}),r.some(u=>u.x===s.x&&u.y===s.y)?ne.warn("abc88 no intersect",s,r):r.push(s),n=!0}else ne.warn("abc88 outside",a,i),i=a,n||r.push(a)}),ne.debug("returning points",r),r},"cutPathAtIntersect"),l(s0e,"extractCornerPoints"),AN=l(function(e,t,r){let i=t.x-e.x,n=t.y-e.y,a=Math.sqrt(i*i+n*n),s=r/a;return{x:t.x-s*i,y:t.y-s*n}},"findAdjacentPoint"),d0e=l(function(e){let{cornerPointPositions:t}=s0e(e),r=[];for(let i=0;i<e.length;i++)if(t.includes(i)){let n=e[i-1],a=e[i+1],s=e[i],o=AN(n,s,5),u=AN(a,s,5),h=u.x-o.x,d=u.y-o.y;r.push(o);let p=Math.sqrt(2)*2,g={x:s.x,y:s.y};if(Math.abs(a.x-n.x)>10&&Math.abs(a.y-n.y)>=10){ne.debug("Corner point fixing",Math.abs(a.x-n.x),Math.abs(a.y-n.y));let f=5;s.x===o.x?g={x:h<0?o.x-f+p:o.x+f-p,y:d<0?o.y-p:o.y+p}:g={x:h<0?o.x-p:o.x+p,y:d<0?o.y-f+p:o.y+f-p}}else ne.debug("Corner point skipping fixing",Math.abs(a.x-n.x),Math.abs(a.y-n.y));r.push(g,u)}else r.push(e[i]);return r},"fixCorners"),p0e=l((e,t,r)=>{let i=e-t-r,n=2,a=2,s=n+a,o=Math.floor(i/s),u=Array(o).fill(`${n} ${a}`).join(" ");return`0 ${t} ${u} ${r}`},"generateDashArray"),LN=l(function(e,t,r,i,n,a,s,o=!1){let{handDrawnSeed:u}=Ee(),h=t.points,d=!1,p=n;var g=a;let f=[];for(let S in t.cssCompiledStyles)E6(S)||f.push(t.cssCompiledStyles[S]);ne.debug("UIO intersect check",t.points,g.x,p.x),g.intersect&&p.intersect&&!o&&(h=h.slice(1,t.points.length-1),h.unshift(p.intersect(h[0])),ne.debug("Last point UIO",t.start,"-->",t.end,h[h.length-1],g,g.intersect(h[h.length-1])),h.push(g.intersect(h[h.length-1])));let m=btoa(JSON.stringify(h));t.toCluster&&(ne.info("to cluster abc88",r.get(t.toCluster)),h=_N(t.points,r.get(t.toCluster).node),d=!0),t.fromCluster&&(ne.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(h,null,2)),h=_N(h.reverse(),r.get(t.fromCluster).node).reverse(),d=!0);let y=h.filter(S=>!Number.isNaN(S.y));y=d0e(y);let b=Xh;switch(b=gy,t.curve){case"linear":b=gy;break;case"basis":b=Xh;break;case"cardinal":b=kA;break;case"bumpX":b=mA;break;case"bumpY":b=yA;break;case"catmullRom":b=EA;break;case"monotoneX":b=RA;break;case"monotoneY":b=OA;break;case"natural":b=$A;break;case"step":b=FA;break;case"stepAfter":b=GA;break;case"stepBefore":b=zA;break;default:b=Xh}let{x:v,y:x}=kN(t),w=cg().x(v).y(x).curve(b),k;switch(t.thickness){case"normal":k="edge-thickness-normal";break;case"thick":k="edge-thickness-thick";break;case"invisible":k="edge-thickness-invisible";break;default:k="edge-thickness-normal"}switch(t.pattern){case"solid":k+=" edge-pattern-solid";break;case"dotted":k+=" edge-pattern-dotted";break;case"dashed":k+=" edge-pattern-dashed";break;default:k+=" edge-pattern-solid"}let T,_=t.curve==="rounded"?o0e(l0e(y,t),5):w(y),C=Array.isArray(t.style)?t.style:[t.style],E=C.find(S=>S?.startsWith("stroke:")),N=!1;if(t.look==="handDrawn"){let S=It.svg(e);Object.assign([],y);let O=S.path(_,{roughness:.3,seed:u});k+=" transition",T=Ke(O).select("path").attr("id",t.id).attr("class"," "+k+(t.classes?" "+t.classes:"")).attr("style",C?C.reduce((P,L)=>P+";"+L,""):"");let R=T.attr("d");T.attr("d",R),e.node().appendChild(T.node())}else{let S=f.join(";"),O=C?C.reduce((q,V)=>q+V+";",""):"",R="";t.animate&&(R=" edge-animation-fast"),t.animation&&(R=" edge-animation-"+t.animation);let P=(S?S+";"+O+";":O)+";"+(C?C.reduce((q,V)=>q+";"+V,""):"");T=e.append("path").attr("d",_).attr("id",t.id).attr("class"," "+k+(t.classes?" "+t.classes:"")+(R??"")).attr("style",P),E=P.match(/stroke:([^;]+)/)?.[1],N=t.animate===!0||!!t.animation||S.includes("animation");let L=T.node(),$=typeof L.getTotalLength=="function"?L.getTotalLength():0,F=wN[t.arrowTypeStart]||0,G=wN[t.arrowTypeEnd]||0;if(t.look==="neo"&&!N){let q=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?p0e($,F,G):`0 ${F} ${$-F-G} ${G}`}; stroke-dashoffset: 0;`;T.attr("style",q+T.attr("style"))}}T.attr("data-edge",!0),T.attr("data-et","edge"),T.attr("data-id",t.id),T.attr("data-points",m),t.showPoints&&y.forEach(S=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",S.x).attr("cy",S.y)});let M="";(Ee().flowchart.arrowMarkerAbsolute||Ee().state.arrowMarkerAbsolute)&&(M=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,M=M.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),ne.info("arrowTypeStart",t.arrowTypeStart),ne.info("arrowTypeEnd",t.arrowTypeEnd),n0e(T,t,M,s,i,E);let I=Math.floor(h.length/2),A=h[I];or.isLabelCoordinateInPath(A,T.attr("d"))||(d=!0);let B={};return d&&(B.updatedPath=h),B.originalPath=t.points,B},"insertEdge"),l(o0e,"generateRoundedPath"),l(EN,"calculateDeltaAndAngle"),l(l0e,"applyMarkerOffsetsToPoints")}),f0e,m0e,y0e,v0e,b0e,x0e,w0e,k0e,T0e,E0e,C0e,S0e,_0e,A0e,L0e,N0e,M0e,NN,I0e=D(()=>{"use strict";st(),f0e=l((e,t,r,i)=>{t.forEach(n=>{M0e[n](e,r,i)})},"insertMarkers"),m0e=l((e,t,r)=>{ne.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),y0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),v0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),b0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),x0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),w0e=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),k0e=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),T0e=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),E0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),C0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),S0e=l((e,t,r)=>{let i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),i.append("path").attr("d","M9,0 L9,18");let n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),_0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),A0e=l((e,t,r)=>{let i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),i.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");let n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),L0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),N0e=l((e,t,r)=>{let i=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");i.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),i.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),i.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),M0e={extension:m0e,composition:y0e,aggregation:v0e,dependency:b0e,lollipop:x0e,point:w0e,circle:k0e,cross:T0e,barb:E0e,only_one:C0e,zero_or_one:S0e,one_or_more:_0e,zero_or_more:A0e,requirement_arrow:L0e,requirement_contains:N0e},NN=f0e});async function F6(e,t,r){let i,n;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");let a=t.shape?yN[t.shape]:void 0;if(!a)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let s;r.config.securityLevel==="sandbox"?s="_top":t.linkTarget&&(s=t.linkTarget||"_blank"),i=e.insert("svg:a").attr("xlink:href",t.link).attr("target",s??null),n=await a(i,t,r)}else n=await a(e,t,r),i=n;return t.tooltip&&n.attr("title",t.tooltip),b2.set(t.id,i),t.haveCallback&&i.attr("class",i.attr("class")+" clickable"),i}var b2,D0e,R0e,z6,MN=D(()=>{"use strict";st(),Yde(),b2=new Map,l(F6,"insertNode"),D0e=l((e,t)=>{b2.set(t.id,e)},"setNodeElem"),R0e=l(()=>{b2.clear()},"clear"),z6=l(e=>{let t=b2.get(e.id);ne.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let r=8,i=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+i-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),i},"positionNode")}),O0e,dXe=D(()=>{"use strict";pi(),cr(),st(),xN(),g0e(),I0e(),MN(),Lt(),Zt(),O0e={common:nt,getConfig:Tr,insertCluster:$6,insertEdge:LN,insertEdgeLabel:CN,insertMarkers:NN,insertNode:F6,interpolateToCurve:_9,labelHelper:er,log:ne,positionEdgeLabel:SN}});function P0e(e){return typeof e=="symbol"||as(e)&&Jo(e)==B0e}var B0e,zu,Gg=D(()=>{"use strict";Su(),oo(),B0e="[object Symbol]",l(P0e,"isSymbol"),zu=P0e});function $0e(e,t){for(var r=-1,i=e==null?0:e.length,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}var uc,Ug=D(()=>{"use strict";l($0e,"arrayMap"),uc=$0e});function IN(e){if(typeof e=="string")return e;if(yr(e))return uc(e,IN)+"";if(zu(e))return RN?RN.call(e):"";var t=e+"";return t=="0"&&1/e==-F0e?"-0":t}var F0e,DN,RN,z0e,pXe=D(()=>{"use strict";ug(),Ug(),mi(),Gg(),F0e=1/0,DN=is?is.prototype:void 0,RN=DN?DN.toString:void 0,l(IN,"baseToString"),z0e=IN});function G0e(e){for(var t=e.length;t--&&U0e.test(e.charAt(t)););return t}var U0e,q0e,gXe=D(()=>{"use strict";U0e=/\s/,l(G0e,"trimmedEndIndex"),q0e=G0e});function j0e(e){return e&&e.slice(0,q0e(e)+1).replace(H0e,"")}var H0e,V0e,fXe=D(()=>{"use strict";gXe(),H0e=/^\s+/,l(j0e,"baseTrim"),V0e=j0e});function Y0e(e){if(typeof e=="number")return e;if(zu(e))return ON;if(ga(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ga(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=V0e(e);var r=X0e.test(e);return r||K0e.test(e)?Z0e(e.slice(2),r?2:8):W0e.test(e)?ON:+e}var ON,W0e,X0e,K0e,Z0e,Q0e,mXe=D(()=>{"use strict";fXe(),Ns(),Gg(),ON=NaN,W0e=/^[-+]0x[0-9a-f]+$/i,X0e=/^0b[01]+$/i,K0e=/^0o[0-7]+$/i,Z0e=parseInt,l(Y0e,"toNumber"),Q0e=Y0e});function J0e(e){if(!e)return e===0?e:0;if(e=Q0e(e),e===PN||e===-PN){var t=e<0?-1:1;return t*epe}return e===e?e:0}var PN,epe,x2,tpe=D(()=>{"use strict";mXe(),PN=1/0,epe=17976931348623157e292,l(J0e,"toFinite"),x2=J0e});function rpe(e){var t=x2(e),r=t%1;return t===t?r?t-r:t:0}var qg,w2=D(()=>{"use strict";tpe(),l(rpe,"toInteger"),qg=rpe}),ipe,G6,yXe=D(()=>{"use strict";Zh(),so(),ipe=Au(Ls,"WeakMap"),G6=ipe});function npe(){}var Vi,ape=D(()=>{"use strict";l(npe,"noop"),Vi=npe});function spe(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}var BN,ope=D(()=>{"use strict";l(spe,"arrayEach"),BN=spe});function lpe(e,t,r,i){for(var n=e.length,a=r+(i?1:-1);i?a--:++a<n;)if(t(e[a],a,e))return a;return-1}var $N,cpe=D(()=>{"use strict";l(lpe,"baseFindIndex"),$N=lpe});function upe(e){return e!==e}var hpe,vXe=D(()=>{"use strict";l(upe,"baseIsNaN"),hpe=upe});function dpe(e,t,r){for(var i=r-1,n=e.length;++i<n;)if(e[i]===t)return i;return-1}var ppe,bXe=D(()=>{"use strict";l(dpe,"strictIndexOf"),ppe=dpe});function gpe(e,t,r){return t===t?ppe(e,t,r):$N(e,hpe,r)}var U6,FN=D(()=>{"use strict";cpe(),vXe(),bXe(),l(gpe,"baseIndexOf"),U6=gpe});function fpe(e,t){var r=e==null?0:e.length;return!!r&&U6(e,t,0)>-1}var zN,mpe=D(()=>{"use strict";FN(),l(fpe,"arrayIncludes"),zN=fpe}),ype,vpe,xXe=D(()=>{"use strict";eae(),ype=l9(Object.keys,Object),vpe=ype});function bpe(e){if(!mg(e))return vpe(e);var t=[];for(var r in Object(e))wpe.call(e,r)&&r!="constructor"&&t.push(r);return t}var xpe,wpe,q6,GN=D(()=>{"use strict";Ny(),xXe(),xpe=Object.prototype,wpe=xpe.hasOwnProperty,l(bpe,"baseKeys"),q6=bpe});function kpe(e){return Ms(e)?w9(e):q6(e)}var Yi,hc=D(()=>{"use strict";bse(),GN(),lo(),l(kpe,"keys"),Yi=kpe}),Tpe,Epe,Cpe,Fa,wXe=D(()=>{"use strict";Oy(),xg(),Zse(),lo(),Ny(),hc(),Tpe=Object.prototype,Epe=Tpe.hasOwnProperty,Cpe=S9(function(e,t){if(mg(t)||Ms(t)){od(t,Yi(t),e);return}for(var r in t)Epe.call(t,r)&&bg(e,r,t[r])}),Fa=Cpe});function Spe(e,t){if(yr(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||zu(e)?!0:Ape.test(e)||!_pe.test(e)||t!=null&&e in Object(t)}var _pe,Ape,j6,UN=D(()=>{"use strict";mi(),Gg(),_pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ape=/^\w*$/,l(Spe,"isKey"),j6=Spe});function Lpe(e){var t=Sy(e,function(i){return r.size===Npe&&r.clear(),i}),r=t.cache;return t}var Npe,Mpe,kXe=D(()=>{"use strict";wne(),Npe=500,l(Lpe,"memoizeCapped"),Mpe=Lpe}),Ipe,Dpe,Rpe,Ope,TXe=D(()=>{"use strict";kXe(),Ipe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dpe=/\\(\\)?/g,Rpe=Mpe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ipe,function(r,i,n,a){t.push(n?a.replace(Dpe,"$1"):i||r)}),t}),Ope=Rpe});function Ppe(e){return e==null?"":z0e(e)}var qN,Bpe=D(()=>{"use strict";pXe(),l(Ppe,"toString"),qN=Ppe});function $pe(e,t){return yr(e)?e:j6(e,t)?[e]:Ope(qN(e))}var k2,H6=D(()=>{"use strict";mi(),UN(),TXe(),Bpe(),l($pe,"castPath"),k2=$pe});function Fpe(e){if(typeof e=="string"||zu(e))return e;var t=e+"";return t=="0"&&1/e==-zpe?"-0":t}var zpe,jg,T2=D(()=>{"use strict";Gg(),zpe=1/0,l(Fpe,"toKey"),jg=Fpe});function Gpe(e,t){t=k2(t,e);for(var r=0,i=t.length;e!=null&&r<i;)e=e[jg(t[r++])];return r&&r==i?e:void 0}var E2,V6=D(()=>{"use strict";H6(),T2(),l(Gpe,"baseGet"),E2=Gpe});function Upe(e,t,r){var i=e==null?void 0:E2(e,t);return i===void 0?r:i}var qpe,EXe=D(()=>{"use strict";V6(),l(Upe,"get"),qpe=Upe});function jpe(e,t){for(var r=-1,i=t.length,n=e.length;++r<i;)e[n+r]=t[r];return e}var Y6,jN=D(()=>{"use strict";l(jpe,"arrayPush"),Y6=jpe});function Hpe(e){return yr(e)||nd(e)||!!(HN&&e&&e[HN])}var HN,Vpe,CXe=D(()=>{"use strict";ug(),My(),mi(),HN=is?is.isConcatSpreadable:void 0,l(Hpe,"isFlattenable"),Vpe=Hpe});function VN(e,t,r,i,n){var a=-1,s=e.length;for(r||(r=Vpe),n||(n=[]);++a<s;){var o=e[a];t>0&&r(o)?t>1?VN(o,t-1,r,i,n):Y6(n,o):i||(n[n.length]=o)}return n}var Hg,C2=D(()=>{"use strict";jN(),CXe(),l(VN,"baseFlatten"),Hg=VN});function Ype(e){var t=e==null?0:e.length;return t?Hg(e,1):[]}var ln,YN=D(()=>{"use strict";C2(),l(Ype,"flatten"),ln=Ype});function Wpe(e){return C9(E9(e,void 0,ln),e+"")}var Xpe,SXe=D(()=>{"use strict";YN(),Pse(),Yse(),l(Wpe,"flatRest"),Xpe=Wpe});function Kpe(e,t,r){var i=-1,n=e.length;t<0&&(t=-t>n?0:n+t),r=r>n?n:r,r<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(n);++i<n;)a[i]=e[i+t];return a}var WN,Zpe=D(()=>{"use strict";l(Kpe,"baseSlice"),WN=Kpe});function Qpe(e){return sge.test(e)}var Jpe,ege,tge,rge,ige,nge,age,sge,oge,_Xe=D(()=>{"use strict";Jpe="\\ud800-\\udfff",ege="\\u0300-\\u036f",tge="\\ufe20-\\ufe2f",rge="\\u20d0-\\u20ff",ige=ege+tge+rge,nge="\\ufe0e\\ufe0f",age="\\u200d",sge=RegExp("["+age+Jpe+ige+nge+"]"),l(Qpe,"hasUnicode"),oge=Qpe});function lge(e,t,r,i){var n=-1,a=e==null?0:e.length;for(i&&a&&(r=e[++n]);++n<a;)r=t(r,e[n],n,e);return r}var cge,AXe=D(()=>{"use strict";l(lge,"arrayReduce"),cge=lge});function uge(e,t){return e&&od(t,Yi(t),e)}var hge,LXe=D(()=>{"use strict";xg(),hc(),l(uge,"baseAssign"),hge=uge});function dge(e,t){return e&&od(t,Lu(t),e)}var pge,NXe=D(()=>{"use strict";xg(),ld(),l(dge,"baseAssignIn"),pge=dge});function gge(e,t){for(var r=-1,i=e==null?0:e.length,n=0,a=[];++r<i;){var s=e[r];t(s,r,e)&&(a[n++]=s)}return a}var W6,XN=D(()=>{"use strict";l(gge,"arrayFilter"),W6=gge});function fge(){return[]}var KN,mge=D(()=>{"use strict";l(fge,"stubArray"),KN=fge}),yge,vge,ZN,bge,X6,QN=D(()=>{"use strict";XN(),mge(),yge=Object.prototype,vge=yge.propertyIsEnumerable,ZN=Object.getOwnPropertySymbols,bge=ZN?function(e){return e==null?[]:(e=Object(e),W6(ZN(e),function(t){return vge.call(e,t)}))}:KN,X6=bge});function xge(e,t){return od(e,X6(e),t)}var wge,MXe=D(()=>{"use strict";xg(),QN(),l(xge,"copySymbols"),wge=xge}),kge,Tge,JN,Ege=D(()=>{"use strict";jN(),c9(),QN(),mge(),kge=Object.getOwnPropertySymbols,Tge=kge?function(e){for(var t=[];e;)Y6(t,X6(e)),e=B5(e);return t}:KN,JN=Tge});function Cge(e,t){return od(e,JN(e),t)}var Sge,IXe=D(()=>{"use strict";xg(),Ege(),l(Cge,"copySymbolsIn"),Sge=Cge});function _ge(e,t,r){var i=t(e);return yr(e)?i:Y6(i,r(e))}var eM,Age=D(()=>{"use strict";jN(),mi(),l(_ge,"baseGetAllKeys"),eM=_ge});function Lge(e){return eM(e,Yi,X6)}var K6,Nge=D(()=>{"use strict";Age(),QN(),hc(),l(Lge,"getAllKeys"),K6=Lge});function Mge(e){return eM(e,Lu,JN)}var tM,Ige=D(()=>{"use strict";Age(),Ege(),ld(),l(Mge,"getAllKeysIn"),tM=Mge}),Dge,Z6,DXe=D(()=>{"use strict";Zh(),so(),Dge=Au(Ls,"DataView"),Z6=Dge}),Rge,Q6,RXe=D(()=>{"use strict";Zh(),so(),Rge=Au(Ls,"Promise"),Q6=Rge}),Oge,xd,Pge=D(()=>{"use strict";Zh(),so(),Oge=Au(Ls,"Set"),xd=Oge}),rM,Bge,iM,nM,aM,sM,$ge,Fge,zge,Gge,Uge,Gu,Uu,Vg=D(()=>{"use strict";DXe(),KA(),RXe(),Pge(),yXe(),Su(),mie(),rM="[object Map]",Bge="[object Object]",iM="[object Promise]",nM="[object Set]",aM="[object WeakMap]",sM="[object DataView]",$ge=_u(Z6),Fge=_u(gg),zge=_u(Q6),Gge=_u(xd),Uge=_u(G6),Gu=Jo,(Z6&&Gu(new Z6(new ArrayBuffer(1)))!=sM||gg&&Gu(new gg)!=rM||Q6&&Gu(Q6.resolve())!=iM||xd&&Gu(new xd)!=nM||G6&&Gu(new G6)!=aM)&&(Gu=l(function(e){var t=Jo(e),r=t==Bge?e.constructor:void 0,i=r?_u(r):"";if(i)switch(i){case $ge:return sM;case Fge:return rM;case zge:return iM;case Gge:return nM;case Uge:return aM}return t},"getTag")),Uu=Gu});function qge(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Hge.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var jge,Hge,Vge,OXe=D(()=>{"use strict";jge=Object.prototype,Hge=jge.hasOwnProperty,l(qge,"initCloneArray"),Vge=qge});function Yge(e,t){var r=t?P5(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Wge,PXe=D(()=>{"use strict";n9(),l(Yge,"cloneDataView"),Wge=Yge});function Xge(e){var t=new e.constructor(e.source,Kge.exec(e));return t.lastIndex=e.lastIndex,t}var Kge,Zge,BXe=D(()=>{"use strict";Kge=/\w*$/,l(Xge,"cloneRegExp"),Zge=Xge});function Qge(e){return lM?Object(lM.call(e)):{}}var oM,lM,Jge,$Xe=D(()=>{"use strict";ug(),oM=is?is.prototype:void 0,lM=oM?oM.valueOf:void 0,l(Qge,"cloneSymbol"),Jge=Qge});function e1e(e,t,r){var i=e.constructor;switch(t){case c1e:return P5(e);case t1e:case r1e:return new i(+e);case u1e:return Wge(e,r);case h1e:case d1e:case p1e:case g1e:case f1e:case m1e:case y1e:case v1e:case b1e:return a9(e,r);case i1e:return new i;case n1e:case o1e:return new i(e);case a1e:return Zge(e);case s1e:return new i;case l1e:return Jge(e)}}var t1e,r1e,i1e,n1e,a1e,s1e,o1e,l1e,c1e,u1e,h1e,d1e,p1e,g1e,f1e,m1e,y1e,v1e,b1e,x1e,FXe=D(()=>{"use strict";n9(),PXe(),BXe(),$Xe(),Wne(),t1e="[object Boolean]",r1e="[object Date]",i1e="[object Map]",n1e="[object Number]",a1e="[object RegExp]",s1e="[object Set]",o1e="[object String]",l1e="[object Symbol]",c1e="[object ArrayBuffer]",u1e="[object DataView]",h1e="[object Float32Array]",d1e="[object Float64Array]",p1e="[object Int8Array]",g1e="[object Int16Array]",f1e="[object Int32Array]",m1e="[object Uint8Array]",y1e="[object Uint8ClampedArray]",v1e="[object Uint16Array]",b1e="[object Uint32Array]",l(e1e,"initCloneByTag"),x1e=e1e});function w1e(e){return as(e)&&Uu(e)==k1e}var k1e,T1e,zXe=D(()=>{"use strict";Vg(),oo(),k1e="[object Map]",l(w1e,"baseIsMap"),T1e=w1e}),cM,E1e,C1e,GXe=D(()=>{"use strict";zXe(),yg(),z5(),cM=rc&&rc.isMap,E1e=cM?sd(cM):T1e,C1e=E1e});function S1e(e){return as(e)&&Uu(e)==_1e}var _1e,A1e,UXe=D(()=>{"use strict";Vg(),oo(),_1e="[object Set]",l(S1e,"baseIsSet"),A1e=S1e}),uM,L1e,N1e,qXe=D(()=>{"use strict";UXe(),yg(),z5(),uM=rc&&rc.isSet,L1e=uM?sd(uM):A1e,N1e=L1e});function S2(e,t,r,i,n,a){var s,o=t&M1e,u=t&I1e,h=t&D1e;if(r&&(s=n?r(e,i,n,a):r(e)),s!==void 0)return s;if(!ga(e))return e;var d=yr(e);if(d){if(s=Vge(e),!o)return s9(e,s)}else{var p=Uu(e),g=p==dM||p==$1e;if(ad(e))return i9(e,o);if(p==pM||p==hM||g&&!n){if(s=u||g?{}:u9(e),!o)return u?Sge(e,pge(s,e)):wge(e,hge(s,e))}else{if(!Zr[p])return n?e:{};s=x1e(e,p,o)}}a||(a=new id);var f=a.get(e);if(f)return f;a.set(e,s),N1e(e)?e.forEach(function(b){s.add(S2(b,t,r,b,e,a))}):C1e(e)&&e.forEach(function(b,v){s.set(v,S2(b,t,r,v,e,a))});var m=h?u?tM:K6:u?Lu:Yi,y=d?void 0:m(e);return BN(y||e,function(b,v){y&&(v=b,b=e[v]),bg(s,v,S2(b,t,r,v,e,a))}),s}var M1e,I1e,D1e,hM,R1e,O1e,P1e,B1e,dM,$1e,F1e,z1e,pM,G1e,U1e,q1e,j1e,H1e,V1e,Y1e,W1e,X1e,K1e,Z1e,Q1e,J1e,efe,tfe,rfe,Zr,gM,ife=D(()=>{"use strict";D5(),ope(),Oy(),LXe(),NXe(),qne(),Kne(),MXe(),IXe(),Nge(),Ige(),Vg(),OXe(),FXe(),aae(),mi(),Dy(),GXe(),Ns(),qXe(),hc(),ld(),M1e=1,I1e=2,D1e=4,hM="[object Arguments]",R1e="[object Array]",O1e="[object Boolean]",P1e="[object Date]",B1e="[object Error]",dM="[object Function]",$1e="[object GeneratorFunction]",F1e="[object Map]",z1e="[object Number]",pM="[object Object]",G1e="[object RegExp]",U1e="[object Set]",q1e="[object String]",j1e="[object Symbol]",H1e="[object WeakMap]",V1e="[object ArrayBuffer]",Y1e="[object DataView]",W1e="[object Float32Array]",X1e="[object Float64Array]",K1e="[object Int8Array]",Z1e="[object Int16Array]",Q1e="[object Int32Array]",J1e="[object Uint8Array]",efe="[object Uint8ClampedArray]",tfe="[object Uint16Array]",rfe="[object Uint32Array]",Zr={},Zr[hM]=Zr[R1e]=Zr[V1e]=Zr[Y1e]=Zr[O1e]=Zr[P1e]=Zr[W1e]=Zr[X1e]=Zr[K1e]=Zr[Z1e]=Zr[Q1e]=Zr[F1e]=Zr[z1e]=Zr[pM]=Zr[G1e]=Zr[U1e]=Zr[q1e]=Zr[j1e]=Zr[J1e]=Zr[efe]=Zr[tfe]=Zr[rfe]=!0,Zr[B1e]=Zr[dM]=Zr[H1e]=!1,l(S2,"baseClone"),gM=S2});function nfe(e){return gM(e,afe)}var afe,Wi,sfe=D(()=>{"use strict";ife(),afe=4,l(nfe,"clone"),Wi=nfe});function ofe(e){return gM(e,lfe|cfe)}var lfe,cfe,ufe,jXe=D(()=>{"use strict";ife(),lfe=1,cfe=4,l(ofe,"cloneDeep"),ufe=ofe});function hfe(e){for(var t=-1,r=e==null?0:e.length,i=0,n=[];++t<r;){var a=e[t];a&&(n[i++]=a)}return n}var Yg,HXe=D(()=>{"use strict";l(hfe,"compact"),Yg=hfe});function dfe(e){return this.__data__.set(e,pfe),this}var pfe,gfe,VXe=D(()=>{"use strict";pfe="__lodash_hash_undefined__",l(dfe,"setCacheAdd"),gfe=dfe});function ffe(e){return this.__data__.has(e)}var mfe,YXe=D(()=>{"use strict";l(ffe,"setCacheHas"),mfe=ffe});function _2(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Cy;++t<r;)this.add(e[t])}var J6,fM=D(()=>{"use strict";ZA(),VXe(),YXe(),l(_2,"SetCache"),_2.prototype.add=_2.prototype.push=gfe,_2.prototype.has=mfe,J6=_2});function yfe(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}var mM,vfe=D(()=>{"use strict";l(yfe,"arraySome"),mM=yfe});function bfe(e,t){return e.has(t)}var ew,yM=D(()=>{"use strict";l(bfe,"cacheHas"),ew=bfe});function xfe(e,t,r,i,n,a){var s=r&wfe,o=e.length,u=t.length;if(o!=u&&!(s&&u>o))return!1;var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var p=-1,g=!0,f=r&kfe?new J6:void 0;for(a.set(e,t),a.set(t,e);++p<o;){var m=e[p],y=t[p];if(i)var b=s?i(y,m,p,t,e,a):i(m,y,p,e,t,a);if(b!==void 0){if(b)continue;g=!1;break}if(f){if(!mM(t,function(v,x){if(!ew(f,x)&&(m===v||n(m,v,r,i,a)))return f.push(x)})){g=!1;break}}else if(!(m===y||n(m,y,r,i,a))){g=!1;break}}return a.delete(e),a.delete(t),g}var wfe,kfe,vM,Tfe=D(()=>{"use strict";fM(),vfe(),yM(),wfe=1,kfe=2,l(xfe,"equalArrays"),vM=xfe});function Efe(e){var t=-1,r=Array(e.size);return e.forEach(function(i,n){r[++t]=[n,i]}),r}var Cfe,WXe=D(()=>{"use strict";l(Efe,"mapToArray"),Cfe=Efe});function Sfe(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}var tw,bM=D(()=>{"use strict";l(Sfe,"setToArray"),tw=Sfe});function _fe(e,t,r,i,n,a,s){switch(r){case zfe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ffe:return!(e.byteLength!=t.byteLength||!a(new Ly(e),new Ly(t)));case Nfe:case Mfe:case Rfe:return Jh(+e,+t);case Ife:return e.name==t.name&&e.message==t.message;case Ofe:case Bfe:return e==t+"";case Dfe:var o=Cfe;case Pfe:var u=i&Afe;if(o||(o=tw),e.size!=t.size&&!u)return!1;var h=s.get(e);if(h)return h==t;i|=Lfe,s.set(e,t);var d=vM(o(e),o(t),i,n,a,s);return s.delete(e),d;case $fe:if(rw)return rw.call(e)==rw.call(t)}return!1}var Afe,Lfe,Nfe,Mfe,Ife,Dfe,Rfe,Ofe,Pfe,Bfe,$fe,Ffe,zfe,xM,rw,Gfe,XXe=D(()=>{"use strict";ug(),Hne(),pg(),Tfe(),WXe(),bM(),Afe=1,Lfe=2,Nfe="[object Boolean]",Mfe="[object Date]",Ife="[object Error]",Dfe="[object Map]",Rfe="[object Number]",Ofe="[object RegExp]",Pfe="[object Set]",Bfe="[object String]",$fe="[object Symbol]",Ffe="[object ArrayBuffer]",zfe="[object DataView]",xM=is?is.prototype:void 0,rw=xM?xM.valueOf:void 0,l(_fe,"equalByTag"),Gfe=_fe});function Ufe(e,t,r,i,n,a){var s=r&qfe,o=K6(e),u=o.length,h=K6(t),d=h.length;if(u!=d&&!s)return!1;for(var p=u;p--;){var g=o[p];if(!(s?g in t:Hfe.call(t,g)))return!1}var f=a.get(e),m=a.get(t);if(f&&m)return f==t&&m==e;var y=!0;a.set(e,t),a.set(t,e);for(var b=s;++p<u;){g=o[p];var v=e[g],x=t[g];if(i)var w=s?i(x,v,g,t,e,a):i(v,x,g,e,t,a);if(!(w===void 0?v===x||n(v,x,r,i,a):w)){y=!1;break}b||(b=g=="constructor")}if(y&&!b){var k=e.constructor,T=t.constructor;k!=T&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof T=="function"&&T instanceof T)&&(y=!1)}return a.delete(e),a.delete(t),y}var qfe,jfe,Hfe,Vfe,KXe=D(()=>{"use strict";Nge(),qfe=1,jfe=Object.prototype,Hfe=jfe.hasOwnProperty,l(Ufe,"equalObjects"),Vfe=Ufe});function Yfe(e,t,r,i,n,a){var s=yr(e),o=yr(t),u=s?kM:Uu(e),h=o?kM:Uu(t);u=u==wM?A2:u,h=h==wM?A2:h;var d=u==A2,p=h==A2,g=u==h;if(g&&ad(e)){if(!ad(t))return!1;s=!0,d=!1}if(g&&!d)return a||(a=new id),s||Ry(e)?vM(e,t,r,i,n,a):Gfe(e,t,u,r,i,n,a);if(!(r&Wfe)){var f=d&&TM.call(e,"__wrapped__"),m=p&&TM.call(t,"__wrapped__");if(f||m){var y=f?e.value():e,b=m?t.value():t;return a||(a=new id),n(y,b,r,i,a)}}return g?(a||(a=new id),Vfe(e,t,r,i,n,a)):!1}var Wfe,wM,kM,A2,Xfe,TM,Kfe,ZXe=D(()=>{"use strict";D5(),Tfe(),XXe(),KXe(),Vg(),mi(),Dy(),G5(),Wfe=1,wM="[object Arguments]",kM="[object Array]",A2="[object Object]",Xfe=Object.prototype,TM=Xfe.hasOwnProperty,l(Yfe,"baseIsEqualDeep"),Kfe=Yfe});function EM(e,t,r,i,n){return e===t?!0:e==null||t==null||!as(e)&&!as(t)?e!==e&&t!==t:Kfe(e,t,r,i,EM,n)}var CM,Zfe=D(()=>{"use strict";ZXe(),oo(),l(EM,"baseIsEqual"),CM=EM});function Qfe(e,t,r,i){var n=r.length,a=n,s=!i;if(e==null)return!a;for(e=Object(e);n--;){var o=r[n];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<a;){o=r[n];var u=o[0],h=e[u],d=o[1];if(s&&o[2]){if(h===void 0&&!(u in e))return!1}else{var p=new id;if(i)var g=i(h,d,u,e,t,p);if(!(g===void 0?CM(d,h,Jfe|eme,i,p):g))return!1}}return!0}var Jfe,eme,tme,QXe=D(()=>{"use strict";D5(),Zfe(),Jfe=1,eme=2,l(Qfe,"baseIsMatch"),tme=Qfe});function rme(e){return e===e&&!ga(e)}var SM,ime=D(()=>{"use strict";Ns(),l(rme,"isStrictComparable"),SM=rme});function nme(e){for(var t=Yi(e),r=t.length;r--;){var i=t[r],n=e[i];t[r]=[i,n,SM(n)]}return t}var ame,JXe=D(()=>{"use strict";ime(),hc(),l(nme,"getMatchData"),ame=nme});function sme(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var _M,ome=D(()=>{"use strict";l(sme,"matchesStrictComparable"),_M=sme});function lme(e){var t=ame(e);return t.length==1&&t[0][2]?_M(t[0][0],t[0][1]):function(r){return r===e||tme(r,e,t)}}var cme,eKe=D(()=>{"use strict";QXe(),JXe(),ome(),l(lme,"baseMatches"),cme=lme});function ume(e,t){return e!=null&&t in Object(e)}var hme,tKe=D(()=>{"use strict";l(ume,"baseHasIn"),hme=ume});function dme(e,t,r){t=k2(t,e);for(var i=-1,n=t.length,a=!1;++i<n;){var s=jg(t[i]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++i!=n?a:(n=e==null?0:e.length,!!n&&$5(n)&&Py(s,n)&&(yr(e)||nd(e)))}var AM,pme=D(()=>{"use strict";H6(),My(),mi(),q5(),p9(),T2(),l(dme,"hasPath"),AM=dme});function gme(e,t){return e!=null&&AM(e,t,hme)}var LM,fme=D(()=>{"use strict";tKe(),pme(),l(gme,"hasIn"),LM=gme});function mme(e,t){return j6(e)&&SM(t)?_M(jg(e),t):function(r){var i=qpe(r,e);return i===void 0&&i===t?LM(r,e):CM(t,i,yme|vme)}}var yme,vme,bme,rKe=D(()=>{"use strict";Zfe(),EXe(),fme(),UN(),ime(),ome(),T2(),yme=1,vme=2,l(mme,"baseMatchesProperty"),bme=mme});function xme(e){return function(t){return t?.[e]}}var NM,wme=D(()=>{"use strict";l(xme,"baseProperty"),NM=xme});function kme(e){return function(t){return E2(t,e)}}var Tme,iKe=D(()=>{"use strict";V6(),l(kme,"basePropertyDeep"),Tme=kme});function Eme(e){return j6(e)?NM(jg(e)):Tme(e)}var Cme,nKe=D(()=>{"use strict";wme(),iKe(),UN(),T2(),l(Eme,"property"),Cme=Eme});function Sme(e){return typeof e=="function"?e:e==null?el:typeof e=="object"?yr(e)?bme(e[0],e[1]):cme(e):Cme(e)}var xa,za=D(()=>{"use strict";eKe(),rKe(),Nu(),mi(),nKe(),l(Sme,"baseIteratee"),xa=Sme});function _me(e,t,r,i){for(var n=-1,a=e==null?0:e.length;++n<a;){var s=e[n];t(i,s,r(s),e)}return i}var Ame,aKe=D(()=>{"use strict";l(_me,"arrayAggregator"),Ame=_me});function Lme(e,t){return e&&O5(e,t,Yi)}var iw,MM=D(()=>{"use strict";QA(),hc(),l(Lme,"baseForOwn"),iw=Lme});function Nme(e,t){return function(r,i){if(r==null)return r;if(!Ms(r))return e(r,i);for(var n=r.length,a=t?n:-1,s=Object(r);(t?a--:++a<n)&&i(s[a],a,s)!==!1;);return r}}var Mme,sKe=D(()=>{"use strict";lo(),l(Nme,"createBaseEach"),Mme=Nme}),Ime,qu,wd=D(()=>{"use strict";MM(),sKe(),Ime=Mme(iw),qu=Ime});function Dme(e,t,r,i){return qu(e,function(n,a,s){t(i,n,r(n),s)}),i}var Rme,oKe=D(()=>{"use strict";wd(),l(Dme,"baseAggregator"),Rme=Dme});function Ome(e,t){return function(r,i){var n=yr(r)?Ame:Rme,a=t?t():{};return n(r,e,xa(i,2),a)}}var Pme,lKe=D(()=>{"use strict";aKe(),oKe(),za(),mi(),l(Ome,"createAggregator"),Pme=Ome}),Bme,IM,cKe=D(()=>{"use strict";so(),Bme=l(function(){return Ls.Date.now()},"now"),IM=Bme}),DM,$me,Fme,L2,uKe=D(()=>{"use strict";By(),pg(),kg(),ld(),DM=Object.prototype,$me=DM.hasOwnProperty,Fme=wg(function(e,t){e=Object(e);var r=-1,i=t.length,n=i>2?t[2]:void 0;for(n&&Mu(t[0],t[1],n)&&(i=1);++r<i;)for(var a=t[r],s=Lu(a),o=-1,u=s.length;++o<u;){var h=s[o],d=e[h];(d===void 0||Jh(d,DM[h])&&!$me.call(e,h))&&(e[h]=a[h])}return e}),L2=Fme});function zme(e,t,r){for(var i=-1,n=e==null?0:e.length;++i<n;)if(r(t,e[i]))return!0;return!1}var RM,Gme=D(()=>{"use strict";l(zme,"arrayIncludesWith"),RM=zme});function Ume(e,t,r,i){var n=-1,a=zN,s=!0,o=e.length,u=[],h=t.length;if(!o)return u;r&&(t=uc(t,sd(r))),i?(a=RM,s=!1):t.length>=qme&&(a=ew,s=!1,t=new J6(t));e:for(;++n<o;){var d=e[n],p=r==null?d:r(d);if(d=i||d!==0?d:0,s&&p===p){for(var g=h;g--;)if(t[g]===p)continue e;u.push(d)}else a(t,p,i)||u.push(d)}return u}var qme,jme,hKe=D(()=>{"use strict";fM(),mpe(),Gme(),Ug(),yg(),yM(),qme=200,l(Ume,"baseDifference"),jme=Ume}),Hme,N2,dKe=D(()=>{"use strict";hKe(),C2(),By(),g9(),Hme=wg(function(e,t){return Iy(e)?jme(e,Hg(t,1,Iy,!0)):[]}),N2=Hme});function Vme(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var go,pKe=D(()=>{"use strict";l(Vme,"last"),go=Vme});function Yme(e,t,r){var i=e==null?0:e.length;return i?(t=r||t===void 0?1:qg(t),WN(e,t<0?0:t,i)):[]}var mn,gKe=D(()=>{"use strict";Zpe(),w2(),l(Yme,"drop"),mn=Yme});function Wme(e,t,r){var i=e==null?0:e.length;return i?(t=r||t===void 0?1:qg(t),t=i-t,WN(e,0,t<0?0:t)):[]}var Wg,fKe=D(()=>{"use strict";Zpe(),w2(),l(Wme,"dropRight"),Wg=Wme});function Xme(e){return typeof e=="function"?e:el}var nw,OM=D(()=>{"use strict";Nu(),l(Xme,"castFunction"),nw=Xme});function Kme(e,t){var r=yr(e)?BN:qu;return r(e,nw(t))}var Ie,PM=D(()=>{"use strict";ope(),wd(),OM(),mi(),l(Kme,"forEach"),Ie=Kme}),mKe=D(()=>{"use strict";PM()});function Zme(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!t(e[r],r,e))return!1;return!0}var Qme,yKe=D(()=>{"use strict";l(Zme,"arrayEvery"),Qme=Zme});function Jme(e,t){var r=!0;return qu(e,function(i,n,a){return r=!!t(i,n,a),r}),r}var eye,vKe=D(()=>{"use strict";wd(),l(Jme,"baseEvery"),eye=Jme});function tye(e,t,r){var i=yr(e)?Qme:eye;return r&&Mu(e,t,r)&&(t=void 0),i(e,xa(t,3))}var Ds,bKe=D(()=>{"use strict";yKe(),vKe(),za(),mi(),kg(),l(tye,"every"),Ds=tye});function rye(e,t){var r=[];return qu(e,function(i,n,a){t(i,n,a)&&r.push(i)}),r}var BM,iye=D(()=>{"use strict";wd(),l(rye,"baseFilter"),BM=rye});function nye(e,t){var r=yr(e)?W6:BM;return r(e,xa(t,3))}var yi,aye=D(()=>{"use strict";XN(),iye(),za(),mi(),l(nye,"filter"),yi=nye});function sye(e){return function(t,r,i){var n=Object(t);if(!Ms(t)){var a=xa(r,3);t=Yi(t),r=l(function(o){return a(n[o],o,n)},"predicate")}var s=e(t,r,i);return s>-1?n[a?t[s]:s]:void 0}}var oye,xKe=D(()=>{"use strict";za(),lo(),hc(),l(sye,"createFind"),oye=sye});function lye(e,t,r){var i=e==null?0:e.length;if(!i)return-1;var n=r==null?0:qg(r);return n<0&&(n=cye(i+n,0)),$N(e,xa(t,3),n)}var cye,uye,wKe=D(()=>{"use strict";cpe(),za(),w2(),cye=Math.max,l(lye,"findIndex"),uye=lye}),hye,al,kKe=D(()=>{"use strict";xKe(),wKe(),hye=oye(uye),al=hye});function dye(e){return e&&e.length?e[0]:void 0}var Rs,TKe=D(()=>{"use strict";l(dye,"head"),Rs=dye}),EKe=D(()=>{"use strict";TKe()});function pye(e,t){var r=-1,i=Ms(e)?Array(e.length):[];return qu(e,function(n,a,s){i[++r]=t(n,a,s)}),i}var $M,gye=D(()=>{"use strict";wd(),lo(),l(pye,"baseMap"),$M=pye});function fye(e,t){var r=yr(e)?uc:$M;return r(e,xa(t,3))}var pt,M2=D(()=>{"use strict";Ug(),za(),gye(),mi(),l(fye,"map"),pt=fye});function mye(e,t){return Hg(pt(e,t),1)}var Ga,yye=D(()=>{"use strict";C2(),M2(),l(mye,"flatMap"),Ga=mye});function vye(e,t){return e==null?e:O5(e,nw(t),Lu)}var bye,CKe=D(()=>{"use strict";QA(),OM(),ld(),l(vye,"forIn"),bye=vye});function xye(e,t){return e&&iw(e,nw(t))}var wye,SKe=D(()=>{"use strict";MM(),OM(),l(xye,"forOwn"),wye=xye}),kye,Tye,Eye,Cye,_Ke=D(()=>{"use strict";Ay(),lKe(),kye=Object.prototype,Tye=kye.hasOwnProperty,Eye=Pme(function(e,t,r){Tye.call(e,r)?e[r].push(t):fg(e,r,[t])}),Cye=Eye});function Sye(e,t){return e>t}var _ye,AKe=D(()=>{"use strict";l(Sye,"baseGt"),_ye=Sye});function Aye(e,t){return e!=null&&Nye.call(e,t)}var Lye,Nye,Mye,LKe=D(()=>{"use strict";Lye=Object.prototype,Nye=Lye.hasOwnProperty,l(Aye,"baseHas"),Mye=Aye});function Iye(e,t){return e!=null&&AM(e,t,Mye)}var Wt,NKe=D(()=>{"use strict";LKe(),pme(),l(Iye,"has"),Wt=Iye});function Dye(e){return typeof e=="string"||!yr(e)&&as(e)&&Jo(e)==Rye}var Rye,Qn,FM=D(()=>{"use strict";Su(),mi(),oo(),Rye="[object String]",l(Dye,"isString"),Qn=Dye});function Oye(e,t){return uc(t,function(r){return e[r]})}var Pye,MKe=D(()=>{"use strict";Ug(),l(Oye,"baseValues"),Pye=Oye});function Bye(e){return e==null?[]:Pye(e,Yi(e))}var jr,$ye=D(()=>{"use strict";MKe(),hc(),l(Bye,"values"),jr=Bye});function Fye(e,t,r,i){e=Ms(e)?e:jr(e),r=r&&!i?qg(r):0;var n=e.length;return r<0&&(r=zye(n+r,0)),Qn(e)?r<=n&&e.indexOf(t,r)>-1:!!n&&U6(e,t,r)>-1}var zye,Jn,IKe=D(()=>{"use strict";FN(),lo(),FM(),w2(),$ye(),zye=Math.max,l(Fye,"includes"),Jn=Fye});function Gye(e,t,r){var i=e==null?0:e.length;if(!i)return-1;var n=r==null?0:qg(r);return n<0&&(n=Uye(i+n,0)),U6(e,t,n)}var Uye,zM,DKe=D(()=>{"use strict";FN(),w2(),Uye=Math.max,l(Gye,"indexOf"),zM=Gye});function qye(e){if(e==null)return!0;if(Ms(e)&&(yr(e)||typeof e=="string"||typeof e.splice=="function"||ad(e)||Ry(e)||nd(e)))return!e.length;var t=Uu(e);if(t==jye||t==Hye)return!e.size;if(mg(e))return!q6(e).length;for(var r in e)if(Yye.call(e,r))return!1;return!0}var jye,Hye,Vye,Yye,Dr,GM=D(()=>{"use strict";GN(),Vg(),My(),mi(),lo(),Dy(),Ny(),G5(),jye="[object Map]",Hye="[object Set]",Vye=Object.prototype,Yye=Vye.hasOwnProperty,l(qye,"isEmpty"),Dr=qye});function Wye(e){return as(e)&&Jo(e)==Xye}var Xye,Kye,RKe=D(()=>{"use strict";Su(),oo(),Xye="[object RegExp]",l(Wye,"baseIsRegExp"),Kye=Wye}),UM,Zye,sl,OKe=D(()=>{"use strict";RKe(),yg(),z5(),UM=rc&&rc.isRegExp,Zye=UM?sd(UM):Kye,sl=Zye});function Qye(e){return e===void 0}var Br,PKe=D(()=>{"use strict";l(Qye,"isUndefined"),Br=Qye});function Jye(e,t){return e<t}var qM,e2e=D(()=>{"use strict";l(Jye,"baseLt"),qM=Jye});function t2e(e,t){var r={};return t=xa(t,3),iw(e,function(i,n,a){fg(r,n,t(i,n,a))}),r}var I2,BKe=D(()=>{"use strict";Ay(),MM(),za(),l(t2e,"mapValues"),I2=t2e});function r2e(e,t,r){for(var i=-1,n=e.length;++i<n;){var a=e[i],s=t(a);if(s!=null&&(o===void 0?s===s&&!zu(s):r(s,o)))var o=s,u=a}return u}var aw,jM=D(()=>{"use strict";Gg(),l(r2e,"baseExtremum"),aw=r2e});function i2e(e){return e&&e.length?aw(e,el,_ye):void 0}var ju,$Ke=D(()=>{"use strict";jM(),AKe(),Nu(),l(i2e,"max"),ju=i2e});function n2e(e){return e&&e.length?aw(e,el,qM):void 0}var kd,a2e=D(()=>{"use strict";jM(),e2e(),Nu(),l(n2e,"min"),kd=n2e});function s2e(e,t){return e&&e.length?aw(e,xa(t,2),qM):void 0}var sw,FKe=D(()=>{"use strict";jM(),za(),e2e(),l(s2e,"minBy"),sw=s2e});function o2e(e){if(typeof e!="function")throw new TypeError(l2e);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var l2e,c2e,zKe=D(()=>{"use strict";l2e="Expected a function",l(o2e,"negate"),c2e=o2e});function u2e(e,t,r,i){if(!ga(e))return e;t=k2(t,e);for(var n=-1,a=t.length,s=a-1,o=e;o!=null&&++n<a;){var u=jg(t[n]),h=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(n!=s){var d=o[u];h=i?i(d,u,o):void 0,h===void 0&&(h=ga(d)?d:Py(t[n+1])?[]:{})}bg(o,u,h),o=o[u]}return e}var h2e,GKe=D(()=>{"use strict";Oy(),H6(),q5(),Ns(),T2(),l(u2e,"baseSet"),h2e=u2e});function d2e(e,t,r){for(var i=-1,n=t.length,a={};++i<n;){var s=t[i],o=E2(e,s);r(o,s)&&h2e(a,k2(s,e),o)}return a}var HM,p2e=D(()=>{"use strict";V6(),GKe(),H6(),l(d2e,"basePickBy"),HM=d2e});function g2e(e,t){if(e==null)return{};var r=uc(tM(e),function(i){return[i]});return t=xa(t),HM(e,r,function(i,n){return t(i,n[0])})}var Os,UKe=D(()=>{"use strict";Ug(),za(),p2e(),Ige(),l(g2e,"pickBy"),Os=g2e});function f2e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var m2e,qKe=D(()=>{"use strict";l(f2e,"baseSortBy"),m2e=f2e});function y2e(e,t){if(e!==t){var r=e!==void 0,i=e===null,n=e===e,a=zu(e),s=t!==void 0,o=t===null,u=t===t,h=zu(t);if(!o&&!h&&!a&&e>t||a&&s&&u&&!o&&!h||i&&s&&u||!r&&u||!n)return 1;if(!i&&!a&&!h&&e<t||h&&r&&n&&!i&&!a||o&&r&&n||!s&&n||!u)return-1}return 0}var v2e,jKe=D(()=>{"use strict";Gg(),l(y2e,"compareAscending"),v2e=y2e});function b2e(e,t,r){for(var i=-1,n=e.criteria,a=t.criteria,s=n.length,o=r.length;++i<s;){var u=v2e(n[i],a[i]);if(u){if(i>=o)return u;var h=r[i];return u*(h=="desc"?-1:1)}}return e.index-t.index}var x2e,HKe=D(()=>{"use strict";jKe(),l(b2e,"compareMultiple"),x2e=b2e});function w2e(e,t,r){t.length?t=uc(t,function(a){return yr(a)?function(s){return E2(s,a.length===1?a[0]:a)}:a}):t=[el];var i=-1;t=uc(t,sd(xa));var n=$M(e,function(a,s,o){var u=uc(t,function(h){return h(a)});return{criteria:u,index:++i,value:a}});return m2e(n,function(a,s){return x2e(a,s,r)})}var k2e,VKe=D(()=>{"use strict";Ug(),V6(),za(),gye(),qKe(),yg(),HKe(),Nu(),mi(),l(w2e,"baseOrderBy"),k2e=w2e}),T2e,E2e,YKe=D(()=>{"use strict";wme(),T2e=NM("length"),E2e=T2e});function C2e(e){for(var t=QM.lastIndex=0;QM.test(e);)++t;return t}var VM,S2e,_2e,A2e,L2e,N2e,M2e,ow,lw,I2e,YM,WM,XM,D2e,KM,ZM,R2e,O2e,P2e,QM,B2e,WKe=D(()=>{"use strict";VM="\\ud800-\\udfff",S2e="\\u0300-\\u036f",_2e="\\ufe20-\\ufe2f",A2e="\\u20d0-\\u20ff",L2e=S2e+_2e+A2e,N2e="\\ufe0e\\ufe0f",M2e="["+VM+"]",ow="["+L2e+"]",lw="\\ud83c[\\udffb-\\udfff]",I2e="(?:"+ow+"|"+lw+")",YM="[^"+VM+"]",WM="(?:\\ud83c[\\udde6-\\uddff]){2}",XM="[\\ud800-\\udbff][\\udc00-\\udfff]",D2e="\\u200d",KM=I2e+"?",ZM="["+N2e+"]?",R2e="(?:"+D2e+"(?:"+[YM,WM,XM].join("|")+")"+ZM+KM+")*",O2e=ZM+KM+R2e,P2e="(?:"+[YM+ow+"?",ow,WM,XM,M2e].join("|")+")",QM=RegExp(lw+"(?="+lw+")|"+P2e+O2e,"g"),l(C2e,"unicodeSize"),B2e=C2e});function $2e(e){return oge(e)?B2e(e):E2e(e)}var F2e,XKe=D(()=>{"use strict";YKe(),_Xe(),WKe(),l($2e,"stringSize"),F2e=$2e});function z2e(e,t){return HM(e,t,function(r,i){return LM(e,i)})}var G2e,KKe=D(()=>{"use strict";p2e(),fme(),l(z2e,"basePick"),G2e=z2e}),U2e,D2,ZKe=D(()=>{"use strict";KKe(),SXe(),U2e=Xpe(function(e,t){return e==null?{}:G2e(e,t)}),D2=U2e});function q2e(e,t,r,i){for(var n=-1,a=H2e(j2e((t-e)/(r||1)),0),s=Array(a);a--;)s[i?a:++n]=e,e+=r;return s}var j2e,H2e,V2e,QKe=D(()=>{"use strict";j2e=Math.ceil,H2e=Math.max,l(q2e,"baseRange"),V2e=q2e});function Y2e(e){return function(t,r,i){return i&&typeof i!="number"&&Mu(t,r,i)&&(r=i=void 0),t=x2(t),r===void 0?(r=t,t=0):r=x2(r),i=i===void 0?t<r?1:-1:x2(i),V2e(t,r,i,e)}}var W2e,JKe=D(()=>{"use strict";QKe(),kg(),tpe(),l(Y2e,"createRange"),W2e=Y2e}),X2e,Td,eZe=D(()=>{"use strict";JKe(),X2e=W2e(),Td=X2e});function K2e(e,t,r,i,n){return n(e,function(a,s,o){r=i?(i=!1,a):t(r,a,s,o)}),r}var Z2e,tZe=D(()=>{"use strict";l(K2e,"baseReduce"),Z2e=K2e});function Q2e(e,t,r){var i=yr(e)?cge:Z2e,n=arguments.length<3;return i(e,xa(t,4),r,n,qu)}var Oi,J2e=D(()=>{"use strict";AXe(),wd(),za(),tZe(),mi(),l(Q2e,"reduce"),Oi=Q2e});function eve(e,t){var r=yr(e)?W6:BM;return r(e,c2e(xa(t,3)))}var R2,rZe=D(()=>{"use strict";XN(),iye(),za(),mi(),zKe(),l(eve,"reject"),R2=eve});function tve(e){if(e==null)return 0;if(Ms(e))return Qn(e)?F2e(e):e.length;var t=Uu(e);return t==rve||t==ive?e.size:q6(e).length}var rve,ive,nve,iZe=D(()=>{"use strict";GN(),Vg(),lo(),FM(),XKe(),rve="[object Map]",ive="[object Set]",l(tve,"size"),nve=tve});function ave(e,t){var r;return qu(e,function(i,n,a){return r=t(i,n,a),!r}),!!r}var sve,nZe=D(()=>{"use strict";wd(),l(ave,"baseSome"),sve=ave});function ove(e,t,r){var i=yr(e)?mM:sve;return r&&Mu(e,t,r)&&(t=void 0),i(e,xa(t,3))}var JM,aZe=D(()=>{"use strict";vfe(),za(),nZe(),mi(),kg(),l(ove,"some"),JM=ove}),lve,Xg,sZe=D(()=>{"use strict";C2(),VKe(),By(),kg(),lve=wg(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Mu(e,t[0],t[1])?t=[]:r>2&&Mu(t[0],t[1],t[2])&&(t=[t[0]]),k2e(e,Hg(t,1),[])}),Xg=lve}),cve,uve,hve,oZe=D(()=>{"use strict";Pge(),ape(),bM(),cve=1/0,uve=xd&&1/tw(new xd([,-0]))[1]==cve?function(e){return new xd(e)}:Vi,hve=uve});function dve(e,t,r){var i=-1,n=zN,a=e.length,s=!0,o=[],u=o;if(r)s=!1,n=RM;else if(a>=pve){var h=t?null:hve(e);if(h)return tw(h);s=!1,n=ew,u=new J6}else u=t?[]:o;e:for(;++i<a;){var d=e[i],p=t?t(d):d;if(d=r||d!==0?d:0,s&&p===p){for(var g=u.length;g--;)if(u[g]===p)continue e;t&&u.push(p),o.push(d)}else n(u,p,r)||(u!==o&&u.push(p),o.push(d))}return o}var pve,cw,eI=D(()=>{"use strict";fM(),mpe(),Gme(),yM(),oZe(),bM(),pve=200,l(dve,"baseUniq"),cw=dve}),gve,fve,lZe=D(()=>{"use strict";C2(),By(),eI(),g9(),gve=wg(function(e){return cw(Hg(e,1,Iy,!0))}),fve=gve});function mve(e){return e&&e.length?cw(e):[]}var uw,cZe=D(()=>{"use strict";eI(),l(mve,"uniq"),uw=mve});function yve(e,t){return e&&e.length?cw(e,xa(t,2)):[]}var vve,uZe=D(()=>{"use strict";za(),eI(),l(yve,"uniqBy"),vve=yve});function bve(e){var t=++xve;return qN(e)+t}var xve,hw,hZe=D(()=>{"use strict";Bpe(),xve=0,l(bve,"uniqueId"),hw=bve});function wve(e,t,r){for(var i=-1,n=e.length,a=t.length,s={};++i<n;){var o=i<a?t[i]:void 0;r(s,e[i],o)}return s}var kve,dZe=D(()=>{"use strict";l(wve,"baseZipObject"),kve=wve});function Tve(e,t){return kve(e||[],t||[],bg)}var Eve,pZe=D(()=>{"use strict";Oy(),dZe(),l(Tve,"zipObject"),Eve=Tve}),zt=D(()=>{"use strict";wXe(),sfe(),jXe(),HXe(),$se(),uKe(),dKe(),gKe(),fKe(),mKe(),bKe(),aye(),kKe(),EKe(),yye(),YN(),PM(),CKe(),SKe(),_Ke(),NKe(),Nu(),IKe(),DKe(),mi(),GM(),S5(),Ns(),OKe(),FM(),PKe(),hc(),pKe(),M2(),BKe(),$Ke(),Jse(),a2e(),FKe(),ape(),cKe(),ZKe(),UKe(),eZe(),J2e(),rZe(),iZe(),aZe(),sZe(),lZe(),cZe(),hZe(),$ye(),pZe()});function tI(e,t){e[t]?e[t]++:e[t]=1}function rI(e,t){--e[t]||delete e[t]}function Kg(e,t,r,i){var n=""+t,a=""+r;if(!e&&n>a){var s=n;n=a,a=s}return n+iI+a+iI+(Br(i)?Sve:i)}function Cve(e,t,r,i){var n=""+t,a=""+r;if(!e&&n>a){var s=n;n=a,a=s}var o={v:n,w:a};return i&&(o.name=i),o}function dw(e,t){return Kg(e,t.v,t.w,t.name)}var Sve,Hu,iI,wa,nI=D(()=>{"use strict";zt(),Sve="\0",Hu="\0",iI="",wa=class{static{l(this,"Graph")}constructor(e={}){this._isDirected=Object.prototype.hasOwnProperty.call(e,"directed")?e.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(e,"multigraph")?e.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=ic(void 0),this._defaultEdgeLabelFn=ic(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Hu]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return ns(e)||(e=ic(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return Yi(this._nodes)}sources(){var e=this;return yi(this.nodes(),function(t){return Dr(e._in[t])})}sinks(){var e=this;return yi(this.nodes(),function(t){return Dr(e._out[t])})}setNodes(e,t){var r=arguments,i=this;return Ie(e,function(n){r.length>1?i.setNode(n,t):i.setNode(n)}),this}setNode(e,t){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Hu,this._children[e]={},this._children[Hu][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var t=l(r=>this.removeEdge(this._edgeObjs[r]),"removeEdge");delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],Ie(this.children(e),r=>{this.setParent(r)}),delete this._children[e]),Ie(Yi(this._in[e]),t),delete this._in[e],delete this._preds[e],Ie(Yi(this._out[e]),t),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Br(t))t=Hu;else{t+="";for(var r=t;!Br(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==Hu)return t}}children(e){if(Br(e)&&(e=Hu),this._isCompound){var t=this._children[e];if(t)return Yi(t)}else{if(e===Hu)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var t=this._preds[e];if(t)return Yi(t)}successors(e){var t=this._sucs[e];if(t)return Yi(t)}neighbors(e){var t=this.predecessors(e);if(t)return fve(t,this.successors(e))}isLeaf(e){var t;return this.isDirected()?t=this.successors(e):t=this.neighbors(e),t.length===0}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;Ie(this._nodes,function(a,s){e(s)&&t.setNode(s,a)}),Ie(this._edgeObjs,function(a){t.hasNode(a.v)&&t.hasNode(a.w)&&t.setEdge(a,r.edge(a))});var i={};function n(a){var s=r.parent(a);return s===void 0||t.hasNode(s)?(i[a]=s,s):s in i?i[s]:n(s)}return l(n,"findParent"),this._isCompound&&Ie(t.nodes(),function(a){t.setParent(a,n(a))}),t}setDefaultEdgeLabel(e){return ns(e)||(e=ic(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return jr(this._edgeObjs)}setPath(e,t){var r=this,i=arguments;return Oi(e,function(n,a){return i.length>1?r.setEdge(n,a,t):r.setEdge(n,a),a}),this}setEdge(){var e,t,r,i,n=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(e=a.v,t=a.w,r=a.name,arguments.length===2&&(i=arguments[1],n=!0)):(e=a,t=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],n=!0)),e=""+e,t=""+t,Br(r)||(r=""+r);var s=Kg(this._isDirected,e,t,r);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,s))return n&&(this._edgeLabels[s]=i),this;if(!Br(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[s]=n?i:this._defaultEdgeLabelFn(e,t,r);var o=Cve(this._isDirected,e,t,r);return e=o.v,t=o.w,Object.freeze(o),this._edgeObjs[s]=o,tI(this._preds[t],e),tI(this._sucs[e],t),this._in[t][s]=o,this._out[e][s]=o,this._edgeCount++,this}edge(e,t,r){var i=arguments.length===1?dw(this._isDirected,arguments[0]):Kg(this._isDirected,e,t,r);return this._edgeLabels[i]}hasEdge(e,t,r){var i=arguments.length===1?dw(this._isDirected,arguments[0]):Kg(this._isDirected,e,t,r);return Object.prototype.hasOwnProperty.call(this._edgeLabels,i)}removeEdge(e,t,r){var i=arguments.length===1?dw(this._isDirected,arguments[0]):Kg(this._isDirected,e,t,r),n=this._edgeObjs[i];return n&&(e=n.v,t=n.w,delete this._edgeLabels[i],delete this._edgeObjs[i],rI(this._preds[t],e),rI(this._sucs[e],t),delete this._in[t][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,t){var r=this._in[e];if(r){var i=jr(r);return t?yi(i,function(n){return n.v===t}):i}}outEdges(e,t){var r=this._out[e];if(r){var i=jr(r);return t?yi(i,function(n){return n.w===t}):i}}nodeEdges(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))}},wa.prototype._nodeCount=0,wa.prototype._edgeCount=0,l(tI,"incrementOrInitEntry"),l(rI,"decrementOrRemoveEntry"),l(Kg,"edgeArgsToId"),l(Cve,"edgeArgsToObj"),l(dw,"edgeObjToId")}),fo=D(()=>{"use strict";nI()});function aI(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function _ve(e,t){if(e!=="_next"&&e!=="_prev")return t}var Ave,gZe=D(()=>{"use strict";Ave=class{static{l(this,"List")}constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,t=e._prev;if(t!==e)return aI(t),t}enqueue(e){var t=this._sentinel;e._prev&&e._next&&aI(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t}toString(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,_ve)),r=r._prev;return"["+e.join(", ")+"]"}},l(aI,"unlink"),l(_ve,"filterOutLinks")});function Lve(e,t){if(e.nodeCount()<=1)return[];var r=Mve(e,t||Ive),i=Nve(r.graph,r.buckets,r.zeroIdx);return ln(pt(i,function(n){return e.outEdges(n.v,n.w)}))}function Nve(e,t,r){for(var i=[],n=t[t.length-1],a=t[0],s;e.nodeCount();){for(;s=a.dequeue();)pw(e,t,r,s);for(;s=n.dequeue();)pw(e,t,r,s);if(e.nodeCount()){for(var o=t.length-2;o>0;--o)if(s=t[o].dequeue(),s){i=i.concat(pw(e,t,r,s,!0));break}}}return i}function pw(e,t,r,i,n){var a=n?[]:void 0;return Ie(e.inEdges(i.v),function(s){var o=e.edge(s),u=e.node(s.v);n&&a.push({v:s.v,w:s.w}),u.out-=o,gw(t,r,u)}),Ie(e.outEdges(i.v),function(s){var o=e.edge(s),u=s.w,h=e.node(u);h.in-=o,gw(t,r,h)}),e.removeNode(i.v),a}function Mve(e,t){var r=new wa,i=0,n=0;Ie(e.nodes(),function(o){r.setNode(o,{v:o,in:0,out:0})}),Ie(e.edges(),function(o){var u=r.edge(o.v,o.w)||0,h=t(o),d=u+h;r.setEdge(o.v,o.w,d),n=Math.max(n,r.node(o.v).out+=h),i=Math.max(i,r.node(o.w).in+=h)});var a=Td(n+i+3).map(function(){return new Ave}),s=i+1;return Ie(r.nodes(),function(o){gw(a,s,r.node(o))}),{graph:r,buckets:a,zeroIdx:s}}function gw(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var Ive,fZe=D(()=>{"use strict";zt(),fo(),gZe(),Ive=ic(1),l(Lve,"greedyFAS"),l(Nve,"doGreedyFAS"),l(pw,"removeNode"),l(Mve,"buildState"),l(gw,"assignBucket")});function Dve(e){var t=e.graph().acyclicer==="greedy"?Lve(e,r(e)):Rve(e);Ie(t,function(i){var n=e.edge(i);e.removeEdge(i),n.forwardName=i.name,n.reversed=!0,e.setEdge(i.w,i.v,n,hw("rev"))});function r(i){return function(n){return i.edge(n).weight}}l(r,"weightFn")}function Rve(e){var t=[],r={},i={};function n(a){Object.prototype.hasOwnProperty.call(i,a)||(i[a]=!0,r[a]=!0,Ie(e.outEdges(a),function(s){Object.prototype.hasOwnProperty.call(r,s.w)?t.push(s):n(s.w)}),delete r[a])}return l(n,"dfs"),Ie(e.nodes(),n),t}function Ove(e){Ie(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var i=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,i)}})}var Pve=D(()=>{"use strict";zt(),fZe(),l(Dve,"run"),l(Rve,"dfsFAS"),l(Ove,"undo")});function Ed(e,t,r,i){var n;do n=hw(i);while(e.hasNode(n));return r.dummy=t,e.setNode(n,r),n}function Bve(e){var t=new wa().setGraph(e.graph());return Ie(e.nodes(),function(r){t.setNode(r,e.node(r))}),Ie(e.edges(),function(r){var i=t.edge(r.v,r.w)||{weight:0,minlen:1},n=e.edge(r);t.setEdge(r.v,r.w,{weight:i.weight+n.weight,minlen:Math.max(i.minlen,n.minlen)})}),t}function sI(e){var t=new wa({multigraph:e.isMultigraph()}).setGraph(e.graph());return Ie(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),Ie(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function oI(e,t){var r=e.x,i=e.y,n=t.x-r,a=t.y-i,s=e.width/2,o=e.height/2;if(!n&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var u,h;return Math.abs(a)*s>Math.abs(n)*o?(a<0&&(o=-o),u=o*n/a,h=o):(n<0&&(s=-s),u=s,h=s*a/n),{x:r+u,y:i+h}}function O2(e){var t=pt(Td(cI(e)+1),function(){return[]});return Ie(e.nodes(),function(r){var i=e.node(r),n=i.rank;Br(n)||(t[n][i.order]=r)}),t}function $ve(e){var t=kd(pt(e.nodes(),function(r){return e.node(r).rank}));Ie(e.nodes(),function(r){var i=e.node(r);Wt(i,"rank")&&(i.rank-=t)})}function Fve(e){var t=kd(pt(e.nodes(),function(a){return e.node(a).rank})),r=[];Ie(e.nodes(),function(a){var s=e.node(a).rank-t;r[s]||(r[s]=[]),r[s].push(a)});var i=0,n=e.graph().nodeRankFactor;Ie(r,function(a,s){Br(a)&&s%n!==0?--i:i&&Ie(a,function(o){e.node(o).rank+=i})})}function lI(e,t,r,i){var n={width:0,height:0};return arguments.length>=4&&(n.rank=r,n.order=i),Ed(e,"border",n,t)}function cI(e){return ju(pt(e.nodes(),function(t){var r=e.node(t).rank;if(!Br(r))return r}))}function zve(e,t){var r={lhs:[],rhs:[]};return Ie(e,function(i){t(i)?r.lhs.push(i):r.rhs.push(i)}),r}function Gve(e,t){var r=IM();try{return t()}finally{console.log(e+" time: "+(IM()-r)+"ms")}}function Uve(e,t){return t()}var dc=D(()=>{"use strict";zt(),fo(),l(Ed,"addDummyNode"),l(Bve,"simplify"),l(sI,"asNonCompoundGraph"),l(oI,"intersectRect"),l(O2,"buildLayerMatrix"),l($ve,"normalizeRanks"),l(Fve,"removeEmptyRanks"),l(lI,"addBorderNode"),l(cI,"maxRank"),l(zve,"partition"),l(Gve,"time"),l(Uve,"notime")});function qve(e){function t(r){var i=e.children(r),n=e.node(r);if(i.length&&Ie(i,t),Object.prototype.hasOwnProperty.call(n,"minRank")){n.borderLeft=[],n.borderRight=[];for(var a=n.minRank,s=n.maxRank+1;a<s;++a)uI(e,"borderLeft","_bl",r,n,a),uI(e,"borderRight","_br",r,n,a)}}l(t,"dfs"),Ie(e.children(),t)}function uI(e,t,r,i,n,a){var s={width:0,height:0,rank:a,borderType:t},o=n[t][a-1],u=Ed(e,"border",s,r);n[t][a]=u,e.setParent(u,i),o&&e.setEdge(o,u,{weight:1})}var mZe=D(()=>{"use strict";zt(),dc(),l(qve,"addBorderSegments"),l(uI,"addBorderNode")});function jve(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&hI(e)}function Hve(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&Vve(e),(t==="lr"||t==="rl")&&(Yve(e),hI(e))}function hI(e){Ie(e.nodes(),function(t){dI(e.node(t))}),Ie(e.edges(),function(t){dI(e.edge(t))})}function dI(e){var t=e.width;e.width=e.height,e.height=t}function Vve(e){Ie(e.nodes(),function(t){fw(e.node(t))}),Ie(e.edges(),function(t){var r=e.edge(t);Ie(r.points,fw),Object.prototype.hasOwnProperty.call(r,"y")&&fw(r)})}function fw(e){e.y=-e.y}function Yve(e){Ie(e.nodes(),function(t){mw(e.node(t))}),Ie(e.edges(),function(t){var r=e.edge(t);Ie(r.points,mw),Object.prototype.hasOwnProperty.call(r,"x")&&mw(r)})}function mw(e){var t=e.x;e.x=e.y,e.y=t}var yZe=D(()=>{"use strict";zt(),l(jve,"adjust"),l(Hve,"undo"),l(hI,"swapWidthHeight"),l(dI,"swapWidthHeightOne"),l(Vve,"reverseY"),l(fw,"reverseYOne"),l(Yve,"swapXY"),l(mw,"swapXYOne")});function Wve(e){e.graph().dummyChains=[],Ie(e.edges(),function(t){Xve(e,t)})}function Xve(e,t){var r=t.v,i=e.node(r).rank,n=t.w,a=e.node(n).rank,s=t.name,o=e.edge(t),u=o.labelRank;if(a!==i+1){e.removeEdge(t);var h=void 0,d,p;for(p=0,++i;i<a;++p,++i)o.points=[],h={width:0,height:0,edgeLabel:o,edgeObj:t,rank:i},d=Ed(e,"edge",h,"_d"),i===u&&(h.width=o.width,h.height=o.height,h.dummy="edge-label",h.labelpos=o.labelpos),e.setEdge(r,d,{weight:o.weight},s),p===0&&e.graph().dummyChains.push(d),r=d;e.setEdge(r,n,{weight:o.weight},s)}}function Kve(e){Ie(e.graph().dummyChains,function(t){var r=e.node(t),i=r.edgeLabel,n;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)})}var Zve=D(()=>{"use strict";zt(),dc(),l(Wve,"run"),l(Xve,"normalizeEdge"),l(Kve,"undo")});function yw(e){var t={};function r(i){var n=e.node(i);if(Object.prototype.hasOwnProperty.call(t,i))return n.rank;t[i]=!0;var a=kd(pt(e.outEdges(i),function(s){return r(s.w)-e.edge(s).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),n.rank=a}l(r,"dfs"),Ie(e.sources(),r)}function Zg(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var pI=D(()=>{"use strict";zt(),l(yw,"longestPath"),l(Zg,"slack")});function gI(e){var t=new wa({directed:!1}),r=e.nodes()[0],i=e.nodeCount();t.setNode(r,{});for(var n,a;Qve(t,e)<i;)n=Jve(t,e),a=t.hasNode(n.v)?Zg(e,n):-Zg(e,n),ebe(t,e,a);return t}function Qve(e,t){function r(i){Ie(t.nodeEdges(i),function(n){var a=n.v,s=i===a?n.w:a;!e.hasNode(s)&&!Zg(t,n)&&(e.setNode(s,{}),e.setEdge(i,s,{}),r(s))})}return l(r,"dfs"),Ie(e.nodes(),r),e.nodeCount()}function Jve(e,t){return sw(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return Zg(t,r)})}function ebe(e,t,r){Ie(e.nodes(),function(i){t.node(i).rank+=r})}var tbe=D(()=>{"use strict";zt(),fo(),pI(),l(gI,"feasibleTree"),l(Qve,"tightTree"),l(Jve,"findMinSlackEdge"),l(ebe,"shiftRanks")}),vZe=D(()=>{"use strict"}),rbe=D(()=>{"use strict"}),bZe,ibe=D(()=>{"use strict";zt(),rbe(),bZe=ic(1)}),xZe=D(()=>{"use strict";ibe()}),nbe=D(()=>{"use strict"}),wZe=D(()=>{"use strict";nbe()}),kZe,TZe=D(()=>{"use strict";zt(),kZe=ic(1)});function abe(e){var t={},r={},i=[];function n(a){if(Object.prototype.hasOwnProperty.call(r,a))throw new P2;Object.prototype.hasOwnProperty.call(t,a)||(r[a]=!0,t[a]=!0,Ie(e.predecessors(a),n),delete r[a],i.push(a))}if(l(n,"visit"),Ie(e.sinks(),n),nve(t)!==e.nodeCount())throw new P2;return i}function P2(){}var sbe=D(()=>{"use strict";zt(),abe.CycleException=P2,l(abe,"topsort"),l(P2,"CycleException"),P2.prototype=new Error}),EZe=D(()=>{"use strict";sbe()});function fI(e,t,r){yr(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),n=[],a={};return Ie(t,function(s){if(!e.hasNode(s))throw new Error("Graph does not have node: "+s);mI(e,s,r==="post",a,i,n)}),n}function mI(e,t,r,i,n,a){Object.prototype.hasOwnProperty.call(i,t)||(i[t]=!0,r||a.push(t),Ie(n(t),function(s){mI(e,s,r,i,n,a)}),r&&a.push(t))}var obe=D(()=>{"use strict";zt(),l(fI,"dfs"),l(mI,"doDfs")});function lbe(e,t){return fI(e,t,"post")}var CZe=D(()=>{"use strict";obe(),l(lbe,"postorder")});function cbe(e,t){return fI(e,t,"pre")}var SZe=D(()=>{"use strict";obe(),l(cbe,"preorder")}),_Ze=D(()=>{"use strict";rbe(),nI()}),AZe=D(()=>{"use strict";vZe(),ibe(),xZe(),wZe(),TZe(),EZe(),CZe(),SZe(),_Ze(),nbe(),sbe()});function Vu(e){e=Bve(e),yw(e);var t=gI(e);bw(t),vw(t,e);for(var r,i;r=bI(t);)i=xI(t,e,r),wI(t,e,r,i)}function vw(e,t){var r=lbe(e,e.nodes());r=r.slice(0,r.length-1),Ie(r,function(i){ube(e,t,i)})}function ube(e,t,r){var i=e.node(r),n=i.parent;e.edge(r,n).cutvalue=yI(e,t,r)}function yI(e,t,r){var i=e.node(r),n=i.parent,a=!0,s=t.edge(r,n),o=0;return s||(a=!1,s=t.edge(n,r)),o=s.weight,Ie(t.nodeEdges(r),function(u){var h=u.v===r,d=h?u.w:u.v;if(d!==n){var p=h===a,g=t.edge(u).weight;if(o+=p?g:-g,dbe(e,r,d)){var f=e.edge(r,d).cutvalue;o+=p?-f:f}}}),o}function bw(e,t){arguments.length<2&&(t=e.nodes()[0]),vI(e,{},1,t)}function vI(e,t,r,i,n){var a=r,s=e.node(i);return t[i]=!0,Ie(e.neighbors(i),function(o){Object.prototype.hasOwnProperty.call(t,o)||(r=vI(e,t,r,o,i))}),s.low=a,s.lim=r++,n?s.parent=n:delete s.parent,r}function bI(e){return al(e.edges(),function(t){return e.edge(t).cutvalue<0})}function xI(e,t,r){var i=r.v,n=r.w;t.hasEdge(i,n)||(i=r.w,n=r.v);var a=e.node(i),s=e.node(n),o=a,u=!1;a.lim>s.lim&&(o=s,u=!0);var h=yi(t.edges(),function(d){return u===kI(e,e.node(d.v),o)&&u!==kI(e,e.node(d.w),o)});return sw(h,function(d){return Zg(t,d)})}function wI(e,t,r,i){var n=r.v,a=r.w;e.removeEdge(n,a),e.setEdge(i.v,i.w,{}),bw(e),vw(e,t),hbe(e,t)}function hbe(e,t){var r=al(e.nodes(),function(n){return!t.node(n).parent}),i=cbe(e,r);i=i.slice(1),Ie(i,function(n){var a=e.node(n).parent,s=t.edge(n,a),o=!1;s||(s=t.edge(a,n),o=!0),t.node(n).rank=t.node(a).rank+(o?s.minlen:-s.minlen)})}function dbe(e,t,r){return e.hasEdge(t,r)}function kI(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var LZe=D(()=>{"use strict";zt(),AZe(),dc(),tbe(),pI(),Vu.initLowLimValues=bw,Vu.initCutValues=vw,Vu.calcCutValue=yI,Vu.leaveEdge=bI,Vu.enterEdge=xI,Vu.exchangeEdges=wI,l(Vu,"networkSimplex"),l(vw,"initCutValues"),l(ube,"assignCutValue"),l(yI,"calcCutValue"),l(bw,"initLowLimValues"),l(vI,"dfsAssignLowLim"),l(bI,"leaveEdge"),l(xI,"enterEdge"),l(wI,"exchangeEdges"),l(hbe,"updateRanks"),l(dbe,"isTreeEdge"),l(kI,"isDescendant")});function pbe(e){switch(e.graph().ranker){case"network-simplex":TI(e);break;case"tight-tree":gbe(e);break;case"longest-path":fbe(e);break;default:TI(e)}}function gbe(e){yw(e),gI(e)}function TI(e){Vu(e)}var fbe,mbe=D(()=>{"use strict";tbe(),LZe(),pI(),l(pbe,"rank"),fbe=yw,l(gbe,"tightTreeRanker"),l(TI,"networkSimplexRanker")});function ybe(e){var t=Ed(e,"root",{},"_root"),r=vbe(e),i=ju(jr(r))-1,n=2*i+1;e.graph().nestingRoot=t,Ie(e.edges(),function(s){e.edge(s).minlen*=n});var a=bbe(e)+1;Ie(e.children(),function(s){EI(e,t,n,a,i,r,s)}),e.graph().nodeRankFactor=n}function EI(e,t,r,i,n,a,s){var o=e.children(s);if(!o.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:r});return}var u=lI(e,"_bt"),h=lI(e,"_bb"),d=e.node(s);e.setParent(u,s),d.borderTop=u,e.setParent(h,s),d.borderBottom=h,Ie(o,function(p){EI(e,t,r,i,n,a,p);var g=e.node(p),f=g.borderTop?g.borderTop:p,m=g.borderBottom?g.borderBottom:p,y=g.borderTop?i:2*i,b=f!==m?1:n-a[s]+1;e.setEdge(u,f,{weight:y,minlen:b,nestingEdge:!0}),e.setEdge(m,h,{weight:y,minlen:b,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,u,{weight:0,minlen:n+a[s]})}function vbe(e){var t={};function r(i,n){var a=e.children(i);a&&a.length&&Ie(a,function(s){r(s,n+1)}),t[i]=n}return l(r,"dfs"),Ie(e.children(),function(i){r(i,1)}),t}function bbe(e){return Oi(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function xbe(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Ie(e.edges(),function(r){var i=e.edge(r);i.nestingEdge&&e.removeEdge(r)})}var NZe=D(()=>{"use strict";zt(),dc(),l(ybe,"run"),l(EI,"dfs"),l(vbe,"treeDepths"),l(bbe,"sumWeights"),l(xbe,"cleanup")});function wbe(e,t,r){var i={},n;Ie(r,function(a){for(var s=e.parent(a),o,u;s;){if(o=e.parent(s),o?(u=i[o],i[o]=s):(u=n,n=s),u&&u!==s){t.setEdge(u,s);return}s=o}})}var MZe=D(()=>{"use strict";zt(),l(wbe,"addSubgraphConstraints")});function kbe(e,t,r){var i=Tbe(e),n=new wa({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(a){return e.node(a)});return Ie(e.nodes(),function(a){var s=e.node(a),o=e.parent(a);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(n.setNode(a),n.setParent(a,o||i),Ie(e[r](a),function(u){var h=u.v===a?u.w:u.v,d=n.edge(h,a),p=Br(d)?0:d.weight;n.setEdge(h,a,{weight:e.edge(u).weight+p})}),Object.prototype.hasOwnProperty.call(s,"minRank")&&n.setNode(a,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),n}function Tbe(e){for(var t;e.hasNode(t=hw("_root")););return t}var IZe=D(()=>{"use strict";zt(),fo(),l(kbe,"buildLayerGraph"),l(Tbe,"createRootNode")});function Ebe(e,t){for(var r=0,i=1;i<t.length;++i)r+=Cbe(e,t[i-1],t[i]);return r}function Cbe(e,t,r){for(var i=Eve(r,pt(r,function(h,d){return d})),n=ln(pt(t,function(h){return Xg(pt(e.outEdges(h),function(d){return{pos:i[d.w],weight:e.edge(d).weight}}),"pos")})),a=1;a<r.length;)a<<=1;var s=2*a-1;a-=1;var o=pt(new Array(s),function(){return 0}),u=0;return Ie(n.forEach(function(h){var d=h.pos+a;o[d]+=h.weight;for(var p=0;d>0;)d%2&&(p+=o[d+1]),d=d-1>>1,o[d]+=h.weight;u+=h.weight*p})),u}var DZe=D(()=>{"use strict";zt(),l(Ebe,"crossCount"),l(Cbe,"twoLayerCrossCount")});function Sbe(e){var t={},r=yi(e.nodes(),function(o){return!e.children(o).length}),i=ju(pt(r,function(o){return e.node(o).rank})),n=pt(Td(i+1),function(){return[]});function a(o){if(!Wt(t,o)){t[o]=!0;var u=e.node(o);n[u.rank].push(o),Ie(e.successors(o),a)}}l(a,"dfs");var s=Xg(r,function(o){return e.node(o).rank});return Ie(s,a),n}var RZe=D(()=>{"use strict";zt(),l(Sbe,"initOrder")});function _be(e,t){return pt(t,function(r){var i=e.inEdges(r);if(i.length){var n=Oi(i,function(a,s){var o=e.edge(s),u=e.node(s.v);return{sum:a.sum+o.weight*u.order,weight:a.weight+o.weight}},{sum:0,weight:0});return{v:r,barycenter:n.sum/n.weight,weight:n.weight}}else return{v:r}})}var OZe=D(()=>{"use strict";zt(),l(_be,"barycenter")});function Abe(e,t){var r={};Ie(e,function(n,a){var s=r[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:a};Br(n.barycenter)||(s.barycenter=n.barycenter,s.weight=n.weight)}),Ie(t.edges(),function(n){var a=r[n.v],s=r[n.w];!Br(a)&&!Br(s)&&(s.indegree++,a.out.push(r[n.w]))});var i=yi(r,function(n){return!n.indegree});return Lbe(i)}function Lbe(e){var t=[];function r(a){return function(s){s.merged||(Br(s.barycenter)||Br(a.barycenter)||s.barycenter>=a.barycenter)&&Nbe(a,s)}}l(r,"handleIn");function i(a){return function(s){s.in.push(a),--s.indegree===0&&e.push(s)}}for(l(i,"handleOut");e.length;){var n=e.pop();t.push(n),Ie(n.in.reverse(),r(n)),Ie(n.out,i(n))}return pt(yi(t,function(a){return!a.merged}),function(a){return D2(a,["vs","i","barycenter","weight"])})}function Nbe(e,t){var r=0,i=0;e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0}var PZe=D(()=>{"use strict";zt(),l(Abe,"resolveConflicts"),l(Lbe,"doResolveConflicts"),l(Nbe,"mergeEntries")});function Mbe(e,t){var r=zve(e,function(d){return Object.prototype.hasOwnProperty.call(d,"barycenter")}),i=r.lhs,n=Xg(r.rhs,function(d){return-d.i}),a=[],s=0,o=0,u=0;i.sort(Ibe(!!t)),u=CI(a,n,u),Ie(i,function(d){u+=d.vs.length,a.push(d.vs),s+=d.barycenter*d.weight,o+=d.weight,u=CI(a,n,u)});var h={vs:ln(a)};return o&&(h.barycenter=s/o,h.weight=o),h}function CI(e,t,r){for(var i;t.length&&(i=go(t)).i<=r;)t.pop(),e.push(i.vs),r++;return r}function Ibe(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}var BZe=D(()=>{"use strict";zt(),dc(),l(Mbe,"sort"),l(CI,"consumeUnsortable"),l(Ibe,"compareWithBias")});function SI(e,t,r,i){var n=e.children(t),a=e.node(t),s=a?a.borderLeft:void 0,o=a?a.borderRight:void 0,u={};s&&(n=yi(n,function(m){return m!==s&&m!==o}));var h=_be(e,n);Ie(h,function(m){if(e.children(m.v).length){var y=SI(e,m.v,r,i);u[m.v]=y,Object.prototype.hasOwnProperty.call(y,"barycenter")&&Rbe(m,y)}});var d=Abe(h,r);Dbe(d,u);var p=Mbe(d,i);if(s&&(p.vs=ln([s,p.vs,o]),e.predecessors(s).length)){var g=e.node(e.predecessors(s)[0]),f=e.node(e.predecessors(o)[0]);Object.prototype.hasOwnProperty.call(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+g.order+f.order)/(p.weight+2),p.weight+=2}return p}function Dbe(e,t){Ie(e,function(r){r.vs=ln(r.vs.map(function(i){return t[i]?t[i].vs:i}))})}function Rbe(e,t){Br(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var $Ze=D(()=>{"use strict";zt(),OZe(),PZe(),BZe(),l(SI,"sortSubgraph"),l(Dbe,"expandSubgraphs"),l(Rbe,"mergeBarycenters")});function Obe(e){var t=cI(e),r=_I(e,Td(1,t+1),"inEdges"),i=_I(e,Td(t-1,-1,-1),"outEdges"),n=Sbe(e);AI(e,n);for(var a=Number.POSITIVE_INFINITY,s,o=0,u=0;u<4;++o,++u){Pbe(o%2?r:i,o%4>=2),n=O2(e);var h=Ebe(e,n);h<a&&(u=0,s=ufe(n),a=h)}AI(e,s)}function _I(e,t,r){return pt(t,function(i){return kbe(e,i,r)})}function Pbe(e,t){var r=new wa;Ie(e,function(i){var n=i.graph().root,a=SI(i,n,r,t);Ie(a.vs,function(s,o){i.node(s).order=o}),wbe(i,r,a.vs)})}function AI(e,t){Ie(t,function(r){Ie(r,function(i,n){e.node(i).order=n})})}var FZe=D(()=>{"use strict";zt(),fo(),dc(),MZe(),IZe(),DZe(),RZe(),$Ze(),l(Obe,"order"),l(_I,"buildLayerGraphs"),l(Pbe,"sweepLayerGraphs"),l(AI,"assignOrder")});function Bbe(e){var t=Fbe(e);Ie(e.graph().dummyChains,function(r){for(var i=e.node(r),n=i.edgeObj,a=$be(e,t,n.v,n.w),s=a.path,o=a.lca,u=0,h=s[u],d=!0;r!==n.w;){if(i=e.node(r),d){for(;(h=s[u])!==o&&e.node(h).maxRank<i.rank;)u++;h===o&&(d=!1)}if(!d){for(;u<s.length-1&&e.node(h=s[u+1]).minRank<=i.rank;)u++;h=s[u]}e.setParent(r,h),r=e.successors(r)[0]}})}function $be(e,t,r,i){var n=[],a=[],s=Math.min(t[r].low,t[i].low),o=Math.max(t[r].lim,t[i].lim),u,h;u=r;do u=e.parent(u),n.push(u);while(u&&(t[u].low>s||o>t[u].lim));for(h=u,u=i;(u=e.parent(u))!==h;)a.push(u);return{path:n.concat(a.reverse()),lca:h}}function Fbe(e){var t={},r=0;function i(n){var a=r;Ie(e.children(n),i),t[n]={low:a,lim:r++}}return l(i,"dfs"),Ie(e.children(),i),t}var zZe=D(()=>{"use strict";zt(),l(Bbe,"parentDummyChains"),l($be,"findPath"),l(Fbe,"postorder")});function zbe(e,t){var r={};function i(n,a){var s=0,o=0,u=n.length,h=go(a);return Ie(a,function(d,p){var g=Ube(e,d),f=g?e.node(g).order:u;(g||d===h)&&(Ie(a.slice(o,p+1),function(m){Ie(e.predecessors(m),function(y){var b=e.node(y),v=b.order;(v<s||f<v)&&!(b.dummy&&e.node(m).dummy)&&LI(r,y,m)})}),o=p+1,s=f)}),a}return l(i,"visitLayer"),Oi(t,i),r}function Gbe(e,t){var r={};function i(a,s,o,u,h){var d;Ie(Td(s,o),function(p){d=a[p],e.node(d).dummy&&Ie(e.predecessors(d),function(g){var f=e.node(g);f.dummy&&(f.order<u||f.order>h)&&LI(r,g,d)})})}l(i,"scan");function n(a,s){var o=-1,u,h=0;return Ie(s,function(d,p){if(e.node(d).dummy==="border"){var g=e.predecessors(d);g.length&&(u=e.node(g[0]).order,i(s,h,p,o,u),h=p,o=u)}i(s,h,s.length,u,a.length)}),s}return l(n,"visitLayer"),Oi(t,n),r}function Ube(e,t){if(e.node(t).dummy)return al(e.predecessors(t),function(r){return e.node(r).dummy})}function LI(e,t,r){if(t>r){var i=t;t=r,r=i}Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,configurable:!0,value:{},writable:!0});var n=e[t];Object.defineProperty(n,r,{enumerable:!0,configurable:!0,value:!0,writable:!0})}function qbe(e,t,r){if(t>r){var i=t;t=r,r=i}return!!e[t]&&Object.prototype.hasOwnProperty.call(e[t],r)}function jbe(e,t,r,i){var n={},a={},s={};return Ie(t,function(o){Ie(o,function(u,h){n[u]=u,a[u]=u,s[u]=h})}),Ie(t,function(o){var u=-1;Ie(o,function(h){var d=i(h);if(d.length){d=Xg(d,function(y){return s[y]});for(var p=(d.length-1)/2,g=Math.floor(p),f=Math.ceil(p);g<=f;++g){var m=d[g];a[h]===h&&u<s[m]&&!qbe(r,h,m)&&(a[m]=h,a[h]=n[h]=n[m],u=s[m])}}})}),{root:n,align:a}}function Hbe(e,t,r,i,n){var a={},s=Vbe(e,t,r,n),o=n?"borderLeft":"borderRight";function u(p,g){for(var f=s.nodes(),m=f.pop(),y={};m;)y[m]?p(m):(y[m]=!0,f.push(m),f=f.concat(g(m))),m=f.pop()}l(u,"iterate");function h(p){a[p]=s.inEdges(p).reduce(function(g,f){return Math.max(g,a[f.v]+s.edge(f))},0)}l(h,"pass1");function d(p){var g=s.outEdges(p).reduce(function(m,y){return Math.min(m,a[y.w]-s.edge(y))},Number.POSITIVE_INFINITY),f=e.node(p);g!==Number.POSITIVE_INFINITY&&f.borderType!==o&&(a[p]=Math.max(a[p],g))}return l(d,"pass2"),u(h,s.predecessors.bind(s)),u(d,s.successors.bind(s)),Ie(i,function(p){a[p]=a[r[p]]}),a}function Vbe(e,t,r,i){var n=new wa,a=e.graph(),s=Zbe(a.nodesep,a.edgesep,i);return Ie(t,function(o){var u;Ie(o,function(h){var d=r[h];if(n.setNode(d),u){var p=r[u],g=n.edge(p,d);n.setEdge(p,d,Math.max(s(e,h,u),g||0))}u=h})}),n}function Ybe(e,t){return sw(jr(t),function(r){var i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;return bye(r,function(a,s){var o=Qbe(e,s)/2;i=Math.max(a+o,i),n=Math.min(a-o,n)}),i-n})}function Wbe(e,t){var r=jr(t),i=kd(r),n=ju(r);Ie(["u","d"],function(a){Ie(["l","r"],function(s){var o=a+s,u=e[o],h;if(u!==t){var d=jr(u);h=s==="l"?i-kd(d):n-ju(d),h&&(e[o]=I2(u,function(p){return p+h}))}})})}function Xbe(e,t){return I2(e.ul,function(r,i){if(t)return e[t.toLowerCase()][i];var n=Xg(pt(e,i));return(n[1]+n[2])/2})}function Kbe(e){var t=O2(e),r=$y(zbe(e,t),Gbe(e,t)),i={},n;Ie(["u","d"],function(s){n=s==="u"?t:jr(t).reverse(),Ie(["l","r"],function(o){o==="r"&&(n=pt(n,function(p){return jr(p).reverse()}));var u=(s==="u"?e.predecessors:e.successors).bind(e),h=jbe(e,n,r,u),d=Hbe(e,n,h.root,h.align,o==="r");o==="r"&&(d=I2(d,function(p){return-p})),i[s+o]=d})});var a=Ybe(e,i);return Wbe(i,a),Xbe(i,e.graph().align)}function Zbe(e,t,r){return function(i,n,a){var s=i.node(n),o=i.node(a),u=0,h;if(u+=s.width/2,Object.prototype.hasOwnProperty.call(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":h=-s.width/2;break;case"r":h=s.width/2;break}if(h&&(u+=r?h:-h),h=0,u+=(s.dummy?t:e)/2,u+=(o.dummy?t:e)/2,u+=o.width/2,Object.prototype.hasOwnProperty.call(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":h=o.width/2;break;case"r":h=-o.width/2;break}return h&&(u+=r?h:-h),h=0,u}}function Qbe(e,t){return e.node(t).width}var GZe=D(()=>{"use strict";zt(),fo(),dc(),l(zbe,"findType1Conflicts"),l(Gbe,"findType2Conflicts"),l(Ube,"findOtherInnerSegmentNode"),l(LI,"addConflict"),l(qbe,"hasConflict"),l(jbe,"verticalAlignment"),l(Hbe,"horizontalCompaction"),l(Vbe,"buildBlockGraph"),l(Ybe,"findSmallestWidthAlignment"),l(Wbe,"alignCoordinates"),l(Xbe,"balance"),l(Kbe,"positionX"),l(Zbe,"sep"),l(Qbe,"width")});function Jbe(e){e=sI(e),exe(e),wye(Kbe(e),function(t,r){e.node(r).x=t})}function exe(e){var t=O2(e),r=e.graph().ranksep,i=0;Ie(t,function(n){var a=ju(pt(n,function(s){return e.node(s).height}));Ie(n,function(s){e.node(s).y=i+a/2}),i+=a+r})}var UZe=D(()=>{"use strict";zt(),dc(),GZe(),l(Jbe,"position"),l(exe,"positionY")});function NI(e,t){var r=t&&t.debugTiming?Gve:Uve;r("layout",()=>{var i=r("  buildLayoutGraph",()=>ixe(e));r("  runLayout",()=>txe(i,r)),r("  updateInputGraph",()=>rxe(e,i))})}function txe(e,t){t("    makeSpaceForEdgeLabels",()=>nxe(e)),t("    removeSelfEdges",()=>pxe(e)),t("    acyclic",()=>Dve(e)),t("    nestingGraph.run",()=>ybe(e)),t("    rank",()=>pbe(sI(e))),t("    injectEdgeLabelProxies",()=>axe(e)),t("    removeEmptyRanks",()=>Fve(e)),t("    nestingGraph.cleanup",()=>xbe(e)),t("    normalizeRanks",()=>$ve(e)),t("    assignRankMinMax",()=>sxe(e)),t("    removeEdgeLabelProxies",()=>oxe(e)),t("    normalize.run",()=>Wve(e)),t("    parentDummyChains",()=>Bbe(e)),t("    addBorderSegments",()=>qve(e)),t("    order",()=>Obe(e)),t("    insertSelfEdges",()=>gxe(e)),t("    adjustCoordinateSystem",()=>jve(e)),t("    position",()=>Jbe(e)),t("    positionSelfEdges",()=>fxe(e)),t("    removeBorderNodes",()=>dxe(e)),t("    normalize.undo",()=>Kve(e)),t("    fixupEdgeLabelCoords",()=>uxe(e)),t("    undoCoordinateSystem",()=>Hve(e)),t("    translateGraph",()=>lxe(e)),t("    assignNodeIntersects",()=>cxe(e)),t("    reversePoints",()=>hxe(e)),t("    acyclic.undo",()=>Ove(e))}function rxe(e,t){Ie(e.nodes(),function(r){var i=e.node(r),n=t.node(r);i&&(i.x=n.x,i.y=n.y,t.children(r).length&&(i.width=n.width,i.height=n.height))}),Ie(e.edges(),function(r){var i=e.edge(r),n=t.edge(r);i.points=n.points,Object.prototype.hasOwnProperty.call(n,"x")&&(i.x=n.x,i.y=n.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}function ixe(e){var t=new wa({multigraph:!0,compound:!0}),r=ww(e.graph());return t.setGraph($y({},yxe,xw(r,mxe),D2(r,vxe))),Ie(e.nodes(),function(i){var n=ww(e.node(i));t.setNode(i,L2(xw(n,bxe),xxe)),t.setParent(i,e.parent(i))}),Ie(e.edges(),function(i){var n=ww(e.edge(i));t.setEdge(i,$y({},kxe,xw(n,wxe),D2(n,Txe)))}),t}function nxe(e){var t=e.graph();t.ranksep/=2,Ie(e.edges(),function(r){var i=e.edge(r);i.minlen*=2,i.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?i.width+=i.labeloffset:i.height+=i.labeloffset)})}function axe(e){Ie(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var i=e.node(t.v),n=e.node(t.w),a={rank:(n.rank-i.rank)/2+i.rank,e:t};Ed(e,"edge-proxy",a,"_ep")}})}function sxe(e){var t=0;Ie(e.nodes(),function(r){var i=e.node(r);i.borderTop&&(i.minRank=e.node(i.borderTop).rank,i.maxRank=e.node(i.borderBottom).rank,t=ju(t,i.maxRank))}),e.graph().maxRank=t}function oxe(e){Ie(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function lxe(e){var t=Number.POSITIVE_INFINITY,r=0,i=Number.POSITIVE_INFINITY,n=0,a=e.graph(),s=a.marginx||0,o=a.marginy||0;function u(h){var d=h.x,p=h.y,g=h.width,f=h.height;t=Math.min(t,d-g/2),r=Math.max(r,d+g/2),i=Math.min(i,p-f/2),n=Math.max(n,p+f/2)}l(u,"getExtremes"),Ie(e.nodes(),function(h){u(e.node(h))}),Ie(e.edges(),function(h){var d=e.edge(h);Object.prototype.hasOwnProperty.call(d,"x")&&u(d)}),t-=s,i-=o,Ie(e.nodes(),function(h){var d=e.node(h);d.x-=t,d.y-=i}),Ie(e.edges(),function(h){var d=e.edge(h);Ie(d.points,function(p){p.x-=t,p.y-=i}),Object.prototype.hasOwnProperty.call(d,"x")&&(d.x-=t),Object.prototype.hasOwnProperty.call(d,"y")&&(d.y-=i)}),a.width=r-t+s,a.height=n-i+o}function cxe(e){Ie(e.edges(),function(t){var r=e.edge(t),i=e.node(t.v),n=e.node(t.w),a,s;r.points?(a=r.points[0],s=r.points[r.points.length-1]):(r.points=[],a=n,s=i),r.points.unshift(oI(i,a)),r.points.push(oI(n,s))})}function uxe(e){Ie(e.edges(),function(t){var r=e.edge(t);if(Object.prototype.hasOwnProperty.call(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function hxe(e){Ie(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function dxe(e){Ie(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),i=e.node(r.borderTop),n=e.node(r.borderBottom),a=e.node(go(r.borderLeft)),s=e.node(go(r.borderRight));r.width=Math.abs(s.x-a.x),r.height=Math.abs(n.y-i.y),r.x=a.x+r.width/2,r.y=i.y+r.height/2}}),Ie(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function pxe(e){Ie(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function gxe(e){var t=O2(e);Ie(t,function(r){var i=0;Ie(r,function(n,a){var s=e.node(n);s.order=a+i,Ie(s.selfEdges,function(o){Ed(e,"selfedge",{width:o.label.width,height:o.label.height,rank:s.rank,order:a+ ++i,e:o.e,label:o.label},"_se")}),delete s.selfEdges})})}function fxe(e){Ie(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var i=e.node(r.e.v),n=i.x+i.width/2,a=i.y,s=r.x-n,o=i.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:n+2*s/3,y:a-o},{x:n+5*s/6,y:a-o},{x:n+s,y:a},{x:n+5*s/6,y:a+o},{x:n+2*s/3,y:a+o}],r.label.x=r.x,r.label.y=r.y}})}function xw(e,t){return I2(D2(e,t),Number)}function ww(e){var t={};return Ie(e,function(r,i){t[i.toLowerCase()]=r}),t}var mxe,yxe,vxe,bxe,xxe,wxe,kxe,Txe,qZe=D(()=>{"use strict";zt(),fo(),mZe(),yZe(),Pve(),Zve(),mbe(),NZe(),FZe(),zZe(),UZe(),dc(),l(NI,"layout"),l(txe,"runLayout"),l(rxe,"updateInputGraph"),mxe=["nodesep","edgesep","ranksep","marginx","marginy"],yxe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},vxe=["acyclicer","ranker","rankdir","align"],bxe=["width","height"],xxe={width:0,height:0},wxe=["minlen","weight","width","height","labeloffset"],kxe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Txe=["labelpos"],l(ixe,"buildLayoutGraph"),l(nxe,"makeSpaceForEdgeLabels"),l(axe,"injectEdgeLabelProxies"),l(sxe,"assignRankMinMax"),l(oxe,"removeEdgeLabelProxies"),l(lxe,"translateGraph"),l(cxe,"assignNodeIntersects"),l(uxe,"fixupEdgeLabelCoords"),l(hxe,"reversePointsForReversedEdges"),l(dxe,"removeBorderNodes"),l(pxe,"removeSelfEdges"),l(gxe,"insertSelfEdges"),l(fxe,"positionSelfEdges"),l(xw,"selectNumberAttrs"),l(ww,"canonicalize")}),Exe=D(()=>{"use strict";Pve(),qZe(),Zve(),mbe()});function mo(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:Cxe(e),edges:Sxe(e)};return Br(e.graph())||(t.value=Wi(e.graph())),t}function Cxe(e){return pt(e.nodes(),function(t){var r=e.node(t),i=e.parent(t),n={v:t};return Br(r)||(n.value=r),Br(i)||(n.parent=i),n})}function Sxe(e){return pt(e.edges(),function(t){var r=e.edge(t),i={v:t.v,w:t.w};return Br(t.name)||(i.name=t.name),Br(r)||(i.value=r),i})}var _xe=D(()=>{"use strict";zt(),nI(),l(mo,"write"),l(Cxe,"writeNodes"),l(Sxe,"writeEdges")}),pr,Yu,MI,Axe,B2,Lxe,II,DI,Nxe,Qg,RI,Mxe,OI,PI,Ixe,jZe=D(()=>{"use strict";st(),fo(),_xe(),pr=new Map,Yu=new Map,MI=new Map,Axe=l(()=>{Yu.clear(),MI.clear(),pr.clear()},"clear"),B2=l((e,t)=>{let r=Yu.get(t)||[];return ne.trace("In isDescendant",t," ",e," = ",r.includes(e)),r.includes(e)},"isDescendant"),Lxe=l((e,t)=>{let r=Yu.get(t)||[];return ne.info("Descendants of ",t," is ",r),ne.info("Edge is ",e),e.v===t||e.w===t?!1:r?r.includes(e.v)||B2(e.v,t)||B2(e.w,t)||r.includes(e.w):(ne.debug("Tilt, ",t,",not in descendants"),!1)},"edgeInCluster"),II=l((e,t,r,i)=>{ne.warn("Copying children of ",e,"root",i,"data",t.node(e),i);let n=t.children(e)||[];e!==i&&n.push(e),ne.warn("Copying (nodes) clusterId",e,"nodes",n),n.forEach(a=>{if(t.children(a).length>0)II(a,t,r,i);else{let s=t.node(a);ne.info("cp ",a," to ",i," with parent ",e),r.setNode(a,s),i!==t.parent(a)&&(ne.warn("Setting parent",a,t.parent(a)),r.setParent(a,t.parent(a))),e!==i&&a!==e?(ne.debug("Setting parent",a,e),r.setParent(a,e)):(ne.info("In copy ",e,"root",i,"data",t.node(e),i),ne.debug("Not Setting parent for node=",a,"cluster!==rootId",e!==i,"node!==clusterId",a!==e));let o=t.edges(a);ne.debug("Copying Edges",o),o.forEach(u=>{ne.info("Edge",u);let h=t.edge(u.v,u.w,u.name);ne.info("Edge data",h,i);try{Lxe(u,i)?(ne.info("Copying as ",u.v,u.w,h,u.name),r.setEdge(u.v,u.w,h,u.name),ne.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):ne.info("Skipping copy of edge ",u.v,"-->",u.w," rootId: ",i," clusterId:",e)}catch(d){ne.error(d)}})}ne.debug("Removing node",a),t.removeNode(a)})},"copy"),DI=l((e,t)=>{let r=t.children(e),i=[...r];for(let n of r)MI.set(n,e),i=[...i,...DI(n,t)];return i},"extractDescendants"),Nxe=l((e,t,r)=>{let i=e.edges().filter(o=>o.v===t||o.w===t),n=e.edges().filter(o=>o.v===r||o.w===r),a=i.map(o=>({v:o.v===t?r:o.v,w:o.w===t?t:o.w})),s=n.map(o=>({v:o.v,w:o.w}));return a.filter(o=>s.some(u=>o.v===u.v&&o.w===u.w))},"findCommonEdges"),Qg=l((e,t,r)=>{let i=t.children(e);if(ne.trace("Searching children of id ",e,i),i.length<1)return e;let n;for(let a of i){let s=Qg(a,t,r),o=Nxe(t,r,s);if(s)if(o.length>0)n=s;else return s}return n},"findNonClusterChild"),RI=l(e=>!pr.has(e)||!pr.get(e).externalConnections?e:pr.has(e)?pr.get(e).id:e,"getAnchorId"),Mxe=l((e,t)=>{if(!e||t>10){ne.debug("Opting out, no graph ");return}else ne.debug("Opting in, graph ");e.nodes().forEach(function(r){e.children(r).length>0&&(ne.warn("Cluster identified",r," Replacement id in edges: ",Qg(r,e,r)),Yu.set(r,DI(r,e)),pr.set(r,{id:Qg(r,e,r),clusterData:e.node(r)}))}),e.nodes().forEach(function(r){let i=e.children(r),n=e.edges();i.length>0?(ne.debug("Cluster identified",r,Yu),n.forEach(a=>{let s=B2(a.v,r),o=B2(a.w,r);s^o&&(ne.warn("Edge: ",a," leaves cluster ",r),ne.warn("Descendants of XXX ",r,": ",Yu.get(r)),pr.get(r).externalConnections=!0)})):ne.debug("Not a cluster ",r,Yu)});for(let r of pr.keys()){let i=pr.get(r).id,n=e.parent(i);n!==r&&pr.has(n)&&!pr.get(n).externalConnections&&(pr.get(r).id=n)}e.edges().forEach(function(r){let i=e.edge(r);ne.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),ne.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(e.edge(r)));let n=r.v,a=r.w;if(ne.warn("Fix XXX",pr,"ids:",r.v,r.w,"Translating: ",pr.get(r.v)," --- ",pr.get(r.w)),pr.get(r.v)||pr.get(r.w)){if(ne.warn("Fixing and trying - removing XXX",r.v,r.w,r.name),n=RI(r.v),a=RI(r.w),e.removeEdge(r.v,r.w,r.name),n!==r.v){let s=e.parent(n);pr.get(s).externalConnections=!0,i.fromCluster=r.v}if(a!==r.w){let s=e.parent(a);pr.get(s).externalConnections=!0,i.toCluster=r.w}ne.warn("Fix Replacing with XXX",n,a,r.name),e.setEdge(n,a,i,r.name)}}),ne.warn("Adjusted Graph",mo(e)),OI(e,0),ne.trace(pr)},"adjustClustersAndEdges"),OI=l((e,t)=>{if(ne.warn("extractor - ",t,mo(e),e.children("D")),t>10){ne.error("Bailing out");return}let r=e.nodes(),i=!1;for(let n of r){let a=e.children(n);i=i||a.length>0}if(!i){ne.debug("Done, no node has children",e.nodes());return}ne.debug("Nodes = ",r,t);for(let n of r)if(ne.debug("Extracting node",n,pr,pr.has(n)&&!pr.get(n).externalConnections,!e.parent(n),e.node(n),e.children("D")," Depth ",t),!pr.has(n))ne.debug("Not a cluster",n,t);else if(!pr.get(n).externalConnections&&e.children(n)&&e.children(n).length>0){ne.warn("Cluster without external connections, without a parent and with children",n,t);let a=e.graph().rankdir==="TB"?"LR":"TB";pr.get(n)?.clusterData?.dir&&(a=pr.get(n).clusterData.dir,ne.warn("Fixing dir",pr.get(n).clusterData.dir,a));let s=new wa({multigraph:!0,compound:!0}).setGraph({rankdir:a,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});ne.warn("Old graph before copy",mo(e)),II(n,e,s,n),e.setNode(n,{clusterNode:!0,id:n,clusterData:pr.get(n).clusterData,label:pr.get(n).label,graph:s}),ne.warn("New graph after copy node: (",n,")",mo(s)),ne.debug("Old graph after copy",mo(e))}else ne.warn("Cluster ** ",n," **not meeting the criteria !externalConnections:",!pr.get(n).externalConnections," no parent: ",!e.parent(n)," children ",e.children(n)&&e.children(n).length>0,e.children("D"),t),ne.debug(pr);r=e.nodes(),ne.warn("New list of nodes",r);for(let n of r){let a=e.node(n);ne.warn(" Now next level",n,a),a?.clusterNode&&OI(a.graph,t+1)}},"extractor"),PI=l((e,t)=>{if(t.length===0)return[];let r=Object.assign([],t);return t.forEach(i=>{let n=e.children(i),a=PI(e,n);r=[...r,...a]}),r},"sorter"),Ixe=l(e=>PI(e,e.children()),"sortNodesByHierarchy")}),Dxe={};sr(Dxe,{render:()=>Rxe});var BI,Rxe,HZe=D(()=>{"use strict";Exe(),_xe(),fo(),I0e(),Lt(),jZe(),MN(),xN(),g0e(),st(),B6(),Gt(),BI=l(async(e,t,r,i,n,a)=>{ne.warn("Graph in recursive render:XAX",mo(t),n);let s=t.graph().rankdir;ne.trace("Dir in recursive render - dir:",s);let o=e.insert("g").attr("class","root");t.nodes()?ne.info("Recursive render XXX",t.nodes()):ne.info("No nodes found for",t),t.edges().length>0&&ne.info("Recursive edges",t.edge(t.edges()[0]));let u=o.insert("g").attr("class","clusters"),h=o.insert("g").attr("class","edgePaths"),d=o.insert("g").attr("class","edgeLabels"),p=o.insert("g").attr("class","nodes");await Promise.all(t.nodes().map(async function(m){let y=t.node(m);if(n!==void 0){let b=JSON.parse(JSON.stringify(n.clusterData));ne.trace(`Setting data for parent cluster XXX
 Node.id = `,m,`
 data=`,b.height,`
Parent cluster`,n.height),t.setNode(n.id,b),t.parent(m)||(ne.trace("Setting parent",m,n.id),t.setParent(m,n.id,b))}if(ne.info("(Insert) Node XXX"+m+": "+JSON.stringify(t.node(m))),y?.clusterNode){ne.info("Cluster identified XBX",m,y.width,t.node(m));let{ranksep:b,nodesep:v}=t.graph();y.graph.setGraph({...y.graph.graph(),ranksep:b+25,nodesep:v});let x=await BI(p,y.graph,r,i,t.node(m),a),w=x.elem;Dt(y,w),y.diff=x.diff||0,ne.info("New compound node after recursive render XAX",m,"width",y.width,"height",y.height),D0e(w,y)}else t.children(m).length>0?(ne.trace("Cluster - the non recursive path XBX",m,y.id,y,y.width,"Graph:",t),ne.trace(Qg(y.id,t)),pr.set(y.id,{id:Qg(y.id,t),node:y})):(ne.trace("Node - the non recursive path XAX",m,p,t.node(m),s),await F6(p,t.node(m),{config:a,dir:s}))})),await l(async()=>{let m=t.edges().map(async function(y){let b=t.edge(y.v,y.w,y.name);ne.info("Edge "+y.v+" -> "+y.w+": "+JSON.stringify(y)),ne.info("Edge "+y.v+" -> "+y.w+": ",y," ",JSON.stringify(t.edge(y))),ne.info("Fix",pr,"ids:",y.v,y.w,"Translating: ",pr.get(y.v),pr.get(y.w)),await CN(d,b)});await Promise.all(m)},"processEdges")(),ne.info("Graph before layout:",JSON.stringify(mo(t))),ne.info("############################################# XXX"),ne.info("###                Layout                 ### XXX"),ne.info("############################################# XXX"),NI(t),ne.info("Graph after layout:",JSON.stringify(mo(t)));let g=0,{subGraphTitleTotalMargin:f}=zg(a);return await Promise.all(Ixe(t).map(async function(m){let y=t.node(m);if(ne.info("Position XBX => "+m+": ("+y.x,","+y.y,") width: ",y.width," height: ",y.height),y?.clusterNode)y.y+=f,ne.info("A tainted cluster node XBX1",m,y.id,y.width,y.height,y.x,y.y,t.parent(m)),pr.get(y.id).node=y,z6(y);else if(t.children(m).length>0){ne.info("A pure cluster node XBX1",m,y.id,y.x,y.y,y.width,y.height,t.parent(m)),y.height+=f,t.node(y.parentId);let b=y?.padding/2||0,v=y?.labelBBox?.height||0,x=v-b||0;ne.debug("OffsetY",x,"labelHeight",v,"halfPadding",b),await $6(u,y),pr.get(y.id).node=y}else{let b=t.node(y.parentId);y.y+=f/2,ne.info("A regular node XBX1 - using the padding",y.id,"parent",y.parentId,y.width,y.height,y.x,y.y,"offsetY",y.offsetY,"parent",b,b?.offsetY,y),z6(y)}})),t.edges().forEach(function(m){let y=t.edge(m);ne.info("Edge "+m.v+" -> "+m.w+": "+JSON.stringify(y),y),y.points.forEach(w=>w.y+=f/2);let b=t.node(m.v);var v=t.node(m.w);let x=LN(h,y,pr,r,b,v,i);SN(y,x)}),t.nodes().forEach(function(m){let y=t.node(m);ne.info(m,y.type,y.diff),y.isGroup&&(g=y.diff)}),ne.warn("Returning from recursive render XAX",o,g),{elem:o,diff:g}},"recursiveRender"),Rxe=l(async(e,t)=>{let r=new wa({multigraph:!0,compound:!0}).setGraph({rankdir:e.direction,nodesep:e.config?.nodeSpacing||e.config?.flowchart?.nodeSpacing||e.nodeSpacing,ranksep:e.config?.rankSpacing||e.config?.flowchart?.rankSpacing||e.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),i=t.select("g");NN(i,e.markers,e.type,e.diagramId),R0e(),c0e(),r0e(),Axe(),e.nodes.forEach(a=>{r.setNode(a.id,{...a}),a.parentId&&r.setParent(a.id,a.parentId)}),ne.debug("Edges:",e.edges),e.edges.forEach(a=>{if(a.start===a.end){let s=a.start,o=s+"---"+s+"---1",u=s+"---"+s+"---2",h=r.node(s);r.setNode(o,{domId:o,id:o,parentId:h.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),r.setParent(o,h.parentId),r.setNode(u,{domId:u,id:u,parentId:h.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),r.setParent(u,h.parentId);let d=structuredClone(a),p=structuredClone(a),g=structuredClone(a);d.label="",d.arrowTypeEnd="none",d.id=s+"-cyclic-special-1",p.arrowTypeStart="none",p.arrowTypeEnd="none",p.id=s+"-cyclic-special-mid",g.label="",h.isGroup&&(d.fromCluster=s,g.toCluster=s),g.id=s+"-cyclic-special-2",g.arrowTypeStart="none",r.setEdge(s,o,d,s+"-cyclic-special-0"),r.setEdge(o,u,p,s+"-cyclic-special-1"),r.setEdge(u,s,g,s+"-cyc<lic-special-2")}else r.setEdge(a.start,a.end,{...a},a.id)}),ne.warn("Graph at first:",JSON.stringify(mo(r))),Mxe(r),ne.warn("Graph after XAX:",JSON.stringify(mo(r)));let n=Ee();await BI(i,r,e.type,e.diagramId,void 0,n)},"render")});function kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function Oxe(e){if(Array.isArray(e))return e}function Pxe(e){if(Array.isArray(e))return kw(e)}function pc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bxe(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,FI(i.key),i)}}function gc(e,t,r){return t&&Bxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ka(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Tw(e))||t){r&&(e=r);var i=0,n=l(function(){},"F");return{s:n,n:l(function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},"n"),e:l(function(u){throw u},"e"),f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:l(function(){r=r.call(e)},"s"),n:l(function(){var u=r.next();return s=u.done,u},"n"),e:l(function(u){o=!0,a=u},"e"),f:l(function(){try{s||r.return==null||r.return()}finally{if(o)throw a}},"f")}}function $I(e,t,r){return(t=FI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $xe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,n,a,s,o=[],u=!0,h=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(i=a.call(r)).done)&&(o.push(i.value),o.length!==t);u=!0);}catch(d){h=!0,n=d}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw n}}return o}}function zxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pi(e,t){return Oxe(e)||Fxe(e,t)||Tw(e,t)||zxe()}function $2(e){return Pxe(e)||$xe(e)||Tw(e)||Gxe()}function Uxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function FI(e){var t=Uxe(e,"string");return typeof t=="symbol"?t:t+""}function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function Tw(e,t){if(e){if(typeof e=="string")return kw(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kw(e,t):void 0}}function Jg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function e1(){if(K3e)return PD;K3e=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return l(e,"isObject"),PD=e,PD}function qxe(){if(Z3e)return BD;Z3e=1;var e=typeof J2=="object"&&J2&&J2.Object===Object&&J2;return BD=e,BD}function F2(){if(Q3e)return $D;Q3e=1;var e=qxe(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return $D=r,$D}function jxe(){if(J3e)return FD;J3e=1;var e=F2(),t=l(function(){return e.Date.now()},"now");return FD=t,FD}function Hxe(){if(e5e)return zD;e5e=1;var e=/\s/;function t(r){for(var i=r.length;i--&&e.test(r.charAt(i)););return i}return l(t,"trimmedEndIndex"),zD=t,zD}function Vxe(){if(t5e)return GD;t5e=1;var e=Hxe(),t=/^\s+/;function r(i){return i&&i.slice(0,e(i)+1).replace(t,"")}return l(r,"baseTrim"),GD=r,GD}function Ew(){if(r5e)return UD;r5e=1;var e=F2(),t=e.Symbol;return UD=t,UD}function Yxe(){if(i5e)return qD;i5e=1;var e=Ew(),t=Object.prototype,r=t.hasOwnProperty,i=t.toString,n=e?e.toStringTag:void 0;function a(s){var o=r.call(s,n),u=s[n];try{s[n]=void 0;var h=!0}catch{}var d=i.call(s);return h&&(o?s[n]=u:delete s[n]),d}return l(a,"getRawTag"),qD=a,qD}function Wxe(){if(n5e)return jD;n5e=1;var e=Object.prototype,t=e.toString;function r(i){return t.call(i)}return l(r,"objectToString"),jD=r,jD}function zI(){if(a5e)return HD;a5e=1;var e=Ew(),t=Yxe(),r=Wxe(),i="[object Null]",n="[object Undefined]",a=e?e.toStringTag:void 0;function s(o){return o==null?o===void 0?n:i:a&&a in Object(o)?t(o):r(o)}return l(s,"baseGetTag"),HD=s,HD}function Xxe(){if(s5e)return VD;s5e=1;function e(t){return t!=null&&typeof t=="object"}return l(e,"isObjectLike"),VD=e,VD}function t1(){if(o5e)return YD;o5e=1;var e=zI(),t=Xxe(),r="[object Symbol]";function i(n){return typeof n=="symbol"||t(n)&&e(n)==r}return l(i,"isSymbol"),YD=i,YD}function Kxe(){if(l5e)return WD;l5e=1;var e=Vxe(),t=e1(),r=t1(),i=NaN,n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function u(h){if(typeof h=="number")return h;if(r(h))return i;if(t(h)){var d=typeof h.valueOf=="function"?h.valueOf():h;h=t(d)?d+"":d}if(typeof h!="string")return h===0?h:+h;h=e(h);var p=a.test(h);return p||s.test(h)?o(h.slice(2),p?2:8):n.test(h)?i:+h}return l(u,"toNumber"),WD=u,WD}function Zxe(){if(c5e)return XD;c5e=1;var e=e1(),t=jxe(),r=Kxe(),i="Expected a function",n=Math.max,a=Math.min;function s(o,u,h){var d,p,g,f,m,y,b=0,v=!1,x=!1,w=!0;if(typeof o!="function")throw new TypeError(i);u=r(u)||0,e(h)&&(v=!!h.leading,x="maxWait"in h,g=x?n(r(h.maxWait)||0,u):g,w="trailing"in h?!!h.trailing:w);function k(B){var S=d,O=p;return d=p=void 0,b=B,f=o.apply(O,S),f}l(k,"invokeFunc");function T(B){return b=B,m=setTimeout(E,u),v?k(B):f}l(T,"leadingEdge");function _(B){var S=B-y,O=B-b,R=u-S;return x?a(R,g-O):R}l(_,"remainingWait");function C(B){var S=B-y,O=B-b;return y===void 0||S>=u||S<0||x&&O>=g}l(C,"shouldInvoke");function E(){var B=t();if(C(B))return N(B);m=setTimeout(E,_(B))}l(E,"timerExpired");function N(B){return m=void 0,w&&d?k(B):(d=p=void 0,f)}l(N,"trailingEdge");function M(){m!==void 0&&clearTimeout(m),b=0,d=y=p=m=void 0}l(M,"cancel");function I(){return m===void 0?f:N(t())}l(I,"flush");function A(){var B=t(),S=C(B);if(d=arguments,p=this,y=B,S){if(m===void 0)return T(y);if(x)return clearTimeout(m),m=setTimeout(E,u),k(y)}return m===void 0&&(m=setTimeout(E,u)),f}return l(A,"debounced"),A.cancel=M,A.flush=I,A}return l(s,"debounce"),XD=s,XD}function Qxe(e,t,r,i,n){var a=n*Math.PI/180,s=Math.cos(a)*(e-r)-Math.sin(a)*(t-i)+r,o=Math.sin(a)*(e-r)+Math.cos(a)*(t-i)+i;return{x:s,y:o}}function Jxe(e,t,r){if(r===0)return e;var i=(t.x1+t.x2)/2,n=(t.y1+t.y2)/2,a=t.w/t.h,s=1/a,o=Qxe(e.x,e.y,i,n,r),u=g5e(o.x,o.y,i,n,a,s);return{x:u.x,y:u.y}}function e4e(){return C5e||(C5e=1,function(e,t){(function(){var r,i,n,a,s,o,u,h,d,p,g,f,m,y,b;n=Math.floor,p=Math.min,i=l(function(v,x){return v<x?-1:v>x?1:0},"defaultCmp"),d=l(function(v,x,w,k,T){var _;if(w==null&&(w=0),T==null&&(T=i),w<0)throw new Error("lo must be non-negative");for(k==null&&(k=v.length);w<k;)_=n((w+k)/2),T(x,v[_])<0?k=_:w=_+1;return[].splice.apply(v,[w,w-w].concat(x)),x},"insort"),o=l(function(v,x,w){return w==null&&(w=i),v.push(x),y(v,0,v.length-1,w)},"heappush"),s=l(function(v,x){var w,k;return x==null&&(x=i),w=v.pop(),v.length?(k=v[0],v[0]=w,b(v,0,x)):k=w,k},"heappop"),h=l(function(v,x,w){var k;return w==null&&(w=i),k=v[0],v[0]=x,b(v,0,w),k},"heapreplace"),u=l(function(v,x,w){var k;return w==null&&(w=i),v.length&&w(v[0],x)<0&&(k=[v[0],x],x=k[0],v[0]=k[1],b(v,0,w)),x},"heappushpop"),a=l(function(v,x){var w,k,T,_,C,E;for(x==null&&(x=i),_=function(){E=[];for(var N=0,M=n(v.length/2);0<=M?N<M:N>M;0<=M?N++:N--)E.push(N);return E}.apply(this).reverse(),C=[],k=0,T=_.length;k<T;k++)w=_[k],C.push(b(v,w,x));return C},"heapify"),m=l(function(v,x,w){var k;if(w==null&&(w=i),k=v.indexOf(x),k!==-1)return y(v,0,k,w),b(v,k,w)},"updateItem"),g=l(function(v,x,w){var k,T,_,C,E;if(w==null&&(w=i),T=v.slice(0,x),!T.length)return T;for(a(T,w),E=v.slice(x),_=0,C=E.length;_<C;_++)k=E[_],u(T,k,w);return T.sort(w).reverse()},"nlargest"),f=l(function(v,x,w){var k,T,_,C,E,N,M,I,A;if(w==null&&(w=i),x*10<=v.length){if(_=v.slice(0,x).sort(w),!_.length)return _;for(T=_[_.length-1],M=v.slice(x),C=0,N=M.length;C<N;C++)k=M[C],w(k,T)<0&&(d(_,k,0,null,w),_.pop(),T=_[_.length-1]);return _}for(a(v,w),A=[],E=0,I=p(x,v.length);0<=I?E<I:E>I;0<=I?++E:--E)A.push(s(v,w));return A},"nsmallest"),y=l(function(v,x,w,k){var T,_,C;for(k==null&&(k=i),T=v[w];w>x;){if(C=w-1>>1,_=v[C],k(T,_)<0){v[w]=_,w=C;continue}break}return v[w]=T},"_siftdown"),b=l(function(v,x,w){var k,T,_,C,E;for(w==null&&(w=i),T=v.length,E=x,_=v[x],k=2*x+1;k<T;)C=k+1,C<T&&!(w(v[k],v[C])<0)&&(k=C),v[x]=v[k],x=k,k=2*x+1;return v[x]=_,y(v,E,x,w)},"_siftup"),r=function(){v.push=o,v.pop=s,v.replace=h,v.pushpop=u,v.heapify=a,v.updateItem=m,v.nlargest=g,v.nsmallest=f;function v(x){this.cmp=x??i,this.nodes=[]}return l(v,"Heap"),v.prototype.push=function(x){return o(this.nodes,x,this.cmp)},v.prototype.pop=function(){return s(this.nodes,this.cmp)},v.prototype.peek=function(){return this.nodes[0]},v.prototype.contains=function(x){return this.nodes.indexOf(x)!==-1},v.prototype.replace=function(x){return h(this.nodes,x,this.cmp)},v.prototype.pushpop=function(x){return u(this.nodes,x,this.cmp)},v.prototype.heapify=function(){return a(this.nodes,this.cmp)},v.prototype.updateItem=function(x){return m(this.nodes,x,this.cmp)},v.prototype.clear=function(){return this.nodes=[]},v.prototype.empty=function(){return this.nodes.length===0},v.prototype.size=function(){return this.nodes.length},v.prototype.clone=function(){var x;return x=new v,x.nodes=this.nodes.slice(0),x},v.prototype.toArray=function(){return this.nodes.slice(0)},v.prototype.insert=v.prototype.push,v.prototype.top=v.prototype.peek,v.prototype.front=v.prototype.peek,v.prototype.has=v.prototype.contains,v.prototype.copy=v.prototype.clone,v}(),function(v,x){return e.exports=x()}(this,function(){return r})}).call(E5e)}(jw)),jw.exports}function t4e(){return _5e||(_5e=1,S5e=e4e()),S5e}function r4e(e,t){if(e.length<3)throw new Error("Need at least 3 vertices");var r=l(function(C,E){return{x:C.x+E.x,y:C.y+E.y}},"add"),i=l(function(C,E){return{x:C.x-E.x,y:C.y-E.y}},"sub"),n=l(function(C,E){return{x:C.x*E,y:C.y*E}},"scale"),a=l(function(C,E){return C.x*E.y-C.y*E.x},"cross"),s=l(function(C){var E=Q5e(C.x,C.y);return E===0?{x:0,y:0}:{x:C.x/E,y:C.y/E}},"normalize"),o=l(function(C){for(var E=0,N=0;N<C.length;N++){var M=C[N],I=C[(N+1)%C.length];E+=M.x*I.y-I.x*M.y}return E/2},"signedArea"),u=l(function(C,E,N,M){var I=i(E,C),A=i(M,N),B=a(I,A);if(Math.abs(B)<1e-9)return r(C,n(I,.5));var S=a(i(N,C),A)/B;return r(C,n(I,S))},"intersectLines"),h=e.map(function(C){return{x:C.x,y:C.y}});o(h)<0&&h.reverse();for(var d=h.length,p=[],g=0;g<d;g++){var f=h[g],m=h[(g+1)%d],y=i(m,f),b=s({x:y.y,y:-y.x});p.push(b)}for(var v=p.map(function(C,E){var N=r(h[E],n(C,t)),M=r(h[(E+1)%d],n(C,t));return{p1:N,p2:M}}),x=[],w=0;w<d;w++){var k=v[(w-1+d)%d],T=v[w],_=u(k.p1,k.p2,T.p1,T.p2);x.push(_)}return x}function i4e(e,t,r,i,n,a){var s=o6e(e,t,r,i,n),o=r4e(s,a),u=ea();return o.forEach(function(h){return uR(u,h.x,h.y)}),u}function Cw(e,t){function r(p){for(var g=[],f=0;f<p.length;f++){var m=p[f],y=p[(f+1)%p.length],b={x:y.x-m.x,y:y.y-m.y},v={x:-b.y,y:b.x},x=Math.sqrt(v.x*v.x+v.y*v.y);g.push({x:v.x/x,y:v.y/x})}return g}l(r,"getAxes");function i(p,g){var f=1/0,m=-1/0,y=ka(p),b;try{for(y.s();!(b=y.n()).done;){var v=b.value,x=v.x*g.x+v.y*g.y;f=Math.min(f,x),m=Math.max(m,x)}}catch(w){y.e(w)}finally{y.f()}return{min:f,max:m}}l(i,"project");function n(p,g){return!(p.max<g.min||g.max<p.min)}l(n,"overlaps");var a=[].concat($2(r(e)),$2(r(t))),s=ka(a),o;try{for(s.s();!(o=s.n()).done;){var u=o.value,h=i(e,u),d=i(t,u);if(!n(h,d))return!1}}catch(p){s.e(p)}finally{s.f()}return!0}function z2(e,t,r,i,n,a){var s;return di(e)?s=e:s=Pd[e]||Pd.euclidean,t===0&&di(e)?s(n,a):s(t,r,i,n,a)}function G2(){if(ewe)return UR;ewe=1;var e=Array.isArray;return UR=e,UR}function n4e(){if(twe)return qR;twe=1;var e=G2(),t=t1(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function n(a,s){if(e(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||t(a)?!0:i.test(a)||!r.test(a)||s!=null&&a in Object(s)}return l(n,"isKey"),qR=n,qR}function a4e(){if(rwe)return jR;rwe=1;var e=zI(),t=e1(),r="[object AsyncFunction]",i="[object Function]",n="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!t(o))return!1;var u=e(o);return u==i||u==n||u==r||u==a}return l(s,"isFunction"),jR=s,jR}function s4e(){if(iwe)return HR;iwe=1;var e=F2(),t=e["__core-js_shared__"];return HR=t,HR}function o4e(){if(nwe)return VR;nwe=1;var e=s4e(),t=function(){var i=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function r(i){return!!t&&t in i}return l(r,"isMasked"),VR=r,VR}function l4e(){if(awe)return YR;awe=1;var e=Function.prototype,t=e.toString;function r(i){if(i!=null){try{return t.call(i)}catch{}try{return i+""}catch{}}return""}return l(r,"toSource"),YR=r,YR}function c4e(){if(swe)return WR;swe=1;var e=a4e(),t=o4e(),r=e1(),i=l4e(),n=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,u=s.toString,h=o.hasOwnProperty,d=RegExp("^"+u.call(h).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||t(g))return!1;var f=e(g)?d:a;return f.test(i(g))}return l(p,"baseIsNative"),WR=p,WR}function u4e(){if(owe)return XR;owe=1;function e(t,r){return t?.[r]}return l(e,"getValue"),XR=e,XR}function Sw(){if(lwe)return KR;lwe=1;var e=c4e(),t=u4e();function r(i,n){var a=t(i,n);return e(a)?a:void 0}return l(r,"getNative"),KR=r,KR}function U2(){if(cwe)return ZR;cwe=1;var e=Sw(),t=e(Object,"create");return ZR=t,ZR}function h4e(){if(uwe)return QR;uwe=1;var e=U2();function t(){this.__data__=e?e(null):{},this.size=0}return l(t,"hashClear"),QR=t,QR}function d4e(){if(hwe)return JR;hwe=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return l(e,"hashDelete"),JR=e,JR}function p4e(){if(dwe)return eO;dwe=1;var e=U2(),t="__lodash_hash_undefined__",r=Object.prototype,i=r.hasOwnProperty;function n(a){var s=this.__data__;if(e){var o=s[a];return o===t?void 0:o}return i.call(s,a)?s[a]:void 0}return l(n,"hashGet"),eO=n,eO}function g4e(){if(pwe)return tO;pwe=1;var e=U2(),t=Object.prototype,r=t.hasOwnProperty;function i(n){var a=this.__data__;return e?a[n]!==void 0:r.call(a,n)}return l(i,"hashHas"),tO=i,tO}function f4e(){if(gwe)return rO;gwe=1;var e=U2(),t="__lodash_hash_undefined__";function r(i,n){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=e&&n===void 0?t:n,this}return l(r,"hashSet"),rO=r,rO}function m4e(){if(fwe)return iO;fwe=1;var e=h4e(),t=d4e(),r=p4e(),i=g4e(),n=f4e();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var h=s[o];this.set(h[0],h[1])}}return l(a,"Hash"),a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=i,a.prototype.set=n,iO=a,iO}function y4e(){if(mwe)return nO;mwe=1;function e(){this.__data__=[],this.size=0}return l(e,"listCacheClear"),nO=e,nO}function GI(){if(ywe)return aO;ywe=1;function e(t,r){return t===r||t!==t&&r!==r}return l(e,"eq"),aO=e,aO}function q2(){if(vwe)return sO;vwe=1;var e=GI();function t(r,i){for(var n=r.length;n--;)if(e(r[n][0],i))return n;return-1}return l(t,"assocIndexOf"),sO=t,sO}function v4e(){if(bwe)return oO;bwe=1;var e=q2(),t=Array.prototype,r=t.splice;function i(n){var a=this.__data__,s=e(a,n);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return l(i,"listCacheDelete"),oO=i,oO}function b4e(){if(xwe)return lO;xwe=1;var e=q2();function t(r){var i=this.__data__,n=e(i,r);return n<0?void 0:i[n][1]}return l(t,"listCacheGet"),lO=t,lO}function x4e(){if(wwe)return cO;wwe=1;var e=q2();function t(r){return e(this.__data__,r)>-1}return l(t,"listCacheHas"),cO=t,cO}function w4e(){if(kwe)return uO;kwe=1;var e=q2();function t(r,i){var n=this.__data__,a=e(n,r);return a<0?(++this.size,n.push([r,i])):n[a][1]=i,this}return l(t,"listCacheSet"),uO=t,uO}function k4e(){if(Twe)return hO;Twe=1;var e=y4e(),t=v4e(),r=b4e(),i=x4e(),n=w4e();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var h=s[o];this.set(h[0],h[1])}}return l(a,"ListCache"),a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=i,a.prototype.set=n,hO=a,hO}function T4e(){if(Ewe)return dO;Ewe=1;var e=Sw(),t=F2(),r=e(t,"Map");return dO=r,dO}function E4e(){if(Cwe)return pO;Cwe=1;var e=m4e(),t=k4e(),r=T4e();function i(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return l(i,"mapCacheClear"),pO=i,pO}function C4e(){if(Swe)return gO;Swe=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return l(e,"isKeyable"),gO=e,gO}function j2(){if(_we)return fO;_we=1;var e=C4e();function t(r,i){var n=r.__data__;return e(i)?n[typeof i=="string"?"string":"hash"]:n.map}return l(t,"getMapData"),fO=t,fO}function S4e(){if(Awe)return mO;Awe=1;var e=j2();function t(r){var i=e(this,r).delete(r);return this.size-=i?1:0,i}return l(t,"mapCacheDelete"),mO=t,mO}function _4e(){if(Lwe)return yO;Lwe=1;var e=j2();function t(r){return e(this,r).get(r)}return l(t,"mapCacheGet"),yO=t,yO}function A4e(){if(Nwe)return vO;Nwe=1;var e=j2();function t(r){return e(this,r).has(r)}return l(t,"mapCacheHas"),vO=t,vO}function L4e(){if(Mwe)return bO;Mwe=1;var e=j2();function t(r,i){var n=e(this,r),a=n.size;return n.set(r,i),this.size+=n.size==a?0:1,this}return l(t,"mapCacheSet"),bO=t,bO}function N4e(){if(Iwe)return xO;Iwe=1;var e=E4e(),t=S4e(),r=_4e(),i=A4e(),n=L4e();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var h=s[o];this.set(h[0],h[1])}}return l(a,"MapCache"),a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=i,a.prototype.set=n,xO=a,xO}function M4e(){if(Dwe)return wO;Dwe=1;var e=N4e(),t="Expected a function";function r(i,n){if(typeof i!="function"||n!=null&&typeof n!="function")throw new TypeError(t);var a=l(function(){var s=arguments,o=n?n.apply(this,s):s[0],u=a.cache;if(u.has(o))return u.get(o);var h=i.apply(this,s);return a.cache=u.set(o,h)||u,h},"memoized");return a.cache=new(r.Cache||e),a}return l(r,"memoize"),r.Cache=e,wO=r,wO}function I4e(){if(Rwe)return kO;Rwe=1;var e=M4e(),t=500;function r(i){var n=e(i,function(s){return a.size===t&&a.clear(),s}),a=n.cache;return n}return l(r,"memoizeCapped"),kO=r,kO}function UI(){if(Owe)return TO;Owe=1;var e=I4e(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,i=e(function(n){var a=[];return n.charCodeAt(0)===46&&a.push(""),n.replace(t,function(s,o,u,h){a.push(u?h.replace(r,"$1"):o||s)}),a});return TO=i,TO}function qI(){if(Pwe)return EO;Pwe=1;function e(t,r){for(var i=-1,n=t==null?0:t.length,a=Array(n);++i<n;)a[i]=r(t[i],i,t);return a}return l(e,"arrayMap"),EO=e,EO}function D4e(){if(Bwe)return CO;Bwe=1;var e=Ew(),t=qI(),r=G2(),i=t1(),n=e?e.prototype:void 0,a=n?n.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return t(o,s)+"";if(i(o))return a?a.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}return l(s,"baseToString"),CO=s,CO}function jI(){if($we)return SO;$we=1;var e=D4e();function t(r){return r==null?"":e(r)}return l(t,"toString"),SO=t,SO}function HI(){if(Fwe)return _O;Fwe=1;var e=G2(),t=n4e(),r=UI(),i=jI();function n(a,s){return e(a)?a:t(a,s)?[a]:r(i(a))}return l(n,"castPath"),_O=n,_O}function _w(){if(zwe)return AO;zwe=1;var e=t1();function t(r){if(typeof r=="string"||e(r))return r;var i=r+"";return i=="0"&&1/r==-1/0?"-0":i}return l(t,"toKey"),AO=t,AO}function R4e(){if(Gwe)return LO;Gwe=1;var e=HI(),t=_w();function r(i,n){n=e(n,i);for(var a=0,s=n.length;i!=null&&a<s;)i=i[t(n[a++])];return a&&a==s?i:void 0}return l(r,"baseGet"),LO=r,LO}function O4e(){if(Uwe)return NO;Uwe=1;var e=R4e();function t(r,i,n){var a=r==null?void 0:e(r,i);return a===void 0?n:a}return l(t,"get"),NO=t,NO}function P4e(){if(Hwe)return MO;Hwe=1;var e=Sw(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return MO=t,MO}function B4e(){if(Vwe)return IO;Vwe=1;var e=P4e();function t(r,i,n){i=="__proto__"&&e?e(r,i,{configurable:!0,enumerable:!0,value:n,writable:!0}):r[i]=n}return l(t,"baseAssignValue"),IO=t,IO}function $4e(){if(Ywe)return DO;Ywe=1;var e=B4e(),t=GI(),r=Object.prototype,i=r.hasOwnProperty;function n(a,s,o){var u=a[s];(!(i.call(a,s)&&t(u,o))||o===void 0&&!(s in a))&&e(a,s,o)}return l(n,"assignValue"),DO=n,DO}function F4e(){if(Wwe)return RO;Wwe=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(i,n){var a=typeof i;return n=n??e,!!n&&(a=="number"||a!="symbol"&&t.test(i))&&i>-1&&i%1==0&&i<n}return l(r,"isIndex"),RO=r,RO}function z4e(){if(Xwe)return OO;Xwe=1;var e=$4e(),t=HI(),r=F4e(),i=e1(),n=_w();function a(s,o,u,h){if(!i(s))return s;o=t(o,s);for(var d=-1,p=o.length,g=p-1,f=s;f!=null&&++d<p;){var m=n(o[d]),y=u;if(m==="__proto__"||m==="constructor"||m==="prototype")return s;if(d!=g){var b=f[m];y=h?h(b,m,f):void 0,y===void 0&&(y=i(b)?b:r(o[d+1])?[]:{})}e(f,m,y),f=f[m]}return s}return l(a,"baseSet"),OO=a,OO}function G4e(){if(Kwe)return PO;Kwe=1;var e=z4e();function t(r,i,n){return r==null?r:e(r,i,n)}return l(t,"set"),PO=t,PO}function U4e(){if(Jwe)return BO;Jwe=1;function e(t,r){var i=-1,n=t.length;for(r||(r=Array(n));++i<n;)r[i]=t[i];return r}return l(e,"copyArray"),BO=e,BO}function q4e(){if(eke)return $O;eke=1;var e=qI(),t=U4e(),r=G2(),i=t1(),n=UI(),a=_w(),s=jI();function o(u){return r(u)?e(u,a):i(u)?[u]:t(n(s(u)))}return l(o,"toPath"),$O=o,$O}function Aw(e,t,r,i){for(var n=[],a=new Md,s=e.cy(),o=s.hasCompoundNodes(),u=0;u<e.length;u++){var h=e[u];r?n.push(h):o&&i(n,a,h)}for(;n.length>0;){var d=n.shift();t(d),a.add(d.id()),o&&i(n,a,d)}return e}function VI(e,t,r){if(r.isParent())for(var i=r._private.children,n=0;n<i.length;n++){var a=i[n];t.has(a.id())||e.push(a)}}function YI(e,t,r){if(r.isChild()){var i=r._private.parent;t.has(i.id())||e.push(i)}}function j4e(e,t,r){YI(e,t,r),VI(e,t,r)}function Lw(e){return function(t){var r=this;if(t===void 0&&(t=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var i=0,n=r[0],a=n._private.edges,s=0;s<a.length;s++){var o=a[s];!t&&o.isLoop()||(i+=e(n,o))}return i}else return}}function Cd(e,t){return function(r){for(var i,n=this.nodes(),a=0;a<n.length;a++){var s=n[a],o=s[e](r);o!==void 0&&(i===void 0||t(o,i))&&(i=o)}return i}}function r1(){return!1}function H2(){return!0}function V2(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zke,t=arguments.length>1?arguments[1]:void 0,r=0;r<eP.length;r++){var i=eP[r];this[i]=e[i]||JO[i]}this.context=t||this.context,this.listeners=[],this.emitting=0}function WI(e,t,r){var i=r._private,n=i.styleCache=i.styleCache||[],a;return(a=n[e])!=null||(a=n[e]=t(r)),a}function Y2(e,t){return e=Ku(e),l(function(r){return WI(e,t,r)},"cachedStyleFunction")}function W2(e,t){e=Ku(e);var r=l(function(i){return t.call(i)},"selfFn");return l(function(){var i=this[0];if(i)return WI(e,r,i)},"cachedPrototypeStyleFunction")}function Nw(e,t){var r=e._private,i=r.data.parent?e.parents():null;if(i)for(var n=0;n<i.length;n++){var a=i[n];if(!t(a))return!1}return!0}function Mw(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,i=e.parentOk||e.ok;return function(){var n=this.cy();if(!n.styleEnabled())return!0;var a=this[0],s=n.hasCompoundNodes();if(a){var o=a._private;if(!t(a))return!1;if(a.isNode())return!s||Nw(a,i);var u=o.source,h=o.target;return r(u)&&(!s||Nw(u,r))&&(u===h||r(h)&&(!s||Nw(h,r)))}}}function XI(e){return function(){var t=arguments,r=[];if(t.length===2){var i=t[0],n=t[1];this.on(e.event,i,n)}else if(t.length===1&&di(t[0])){var a=t[0];this.on(e.event,a)}else if(t.length===0||t.length===1&&Wr(t[0])){for(var s=t.length===1?t[0]:null,o=0;o<this.length;o++){var u=this[o],h=!e.ableField||u._private[e.ableField],d=u._private[e.field]!=e.value;if(e.overrideAble){var p=e.overrideAble(u);if(p!==void 0&&(h=p,!p))return this}h&&(u._private[e.field]=e.value,d&&r.push(u))}var g=this.spawn(r);g.updateStyle(),g.emit(e.event),s&&g.emit(s)}return this}}function Sd(e){Ac[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(r!==void 0)return r}return t._private[e.field]}},Ac[e.on]=XI({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Ac[e.off]=XI({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}function KI(e){return l(function(t){for(var r=[],i=0;i<this.length;i++){var n=this[i],a=n._private[e.attr];a&&r.push(a)}return this.spawn(r,!0).filter(t)},"sourceImpl")}function ZI(e){return l(function(t){var r=[],i=this._private.cy,n=e||{};qt(t)&&(t=i.$(t));for(var a=0;a<t.length;a++)for(var s=t[a]._private.edges,o=0;o<s.length;o++){var u=s[o],h=u._private.data,d=this.hasElementWithId(h.source)&&t.hasElementWithId(h.target),p=t.hasElementWithId(h.source)&&this.hasElementWithId(h.target),g=d||p;g&&((n.thisIsSrc||n.thisIsTgt)&&(n.thisIsSrc&&!d||n.thisIsTgt&&!p)||r.push(u))}return this.spawn(r,!0)},"edgesWithImpl")}function QI(e){var t={codirected:!1};return e=Qt({},t,e),l(function(r){for(var i=[],n=this.edges(),a=e,s=0;s<n.length;s++)for(var o=n[s],u=o._private,h=u.source,d=h._private.data.id,p=u.data.target,g=h._private.edges,f=0;f<g.length;f++){var m=g[f],y=m._private.data,b=y.target,v=y.source,x=b===p&&v===d,w=d===b&&p===v;(a.codirected&&x||!a.codirected&&(x||w))&&i.push(m)}return this.spawn(i,!0).filter(r)},"parallelEdgesImpl")}function H4e(e,t,r,i){var n=4,a=.001,s=1e-7,o=10,u=11,h=1/(u-1),d=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var p=0;p<4;++p)if(typeof arguments[p]!="number"||isNaN(arguments[p])||!isFinite(arguments[p]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var g=d?new Float32Array(u):new Array(u);function f(M,I){return 1-3*I+3*M}l(f,"A");function m(M,I){return 3*I-6*M}l(m,"B");function y(M){return 3*M}l(y,"C");function b(M,I,A){return((f(I,A)*M+m(I,A))*M+y(I))*M}l(b,"calcBezier");function v(M,I,A){return 3*f(I,A)*M*M+2*m(I,A)*M+y(I)}l(v,"getSlope");function x(M,I){for(var A=0;A<n;++A){var B=v(I,e,r);if(B===0)return I;var S=b(I,e,r)-M;I-=S/B}return I}l(x,"newtonRaphsonIterate");function w(){for(var M=0;M<u;++M)g[M]=b(M*h,e,r)}l(w,"calcSampleValues");function k(M,I,A){var B,S,O=0;do S=I+(A-I)/2,B=b(S,e,r)-M,B>0?A=S:I=S;while(Math.abs(B)>s&&++O<o);return S}l(k,"binarySubdivide");function T(M){for(var I=0,A=1,B=u-1;A!==B&&g[A]<=M;++A)I+=h;--A;var S=(M-g[A])/(g[A+1]-g[A]),O=I+S*h,R=v(O,e,r);return R>=a?x(M,O):R===0?O:k(M,I,I+h)}l(T,"getTForX");var _=!1;function C(){_=!0,(e!==t||r!==i)&&w()}l(C,"precompute");var E=l(function(M){return _||C(),e===t&&r===i?M:M===0?0:M===1?1:b(T(M),t,i)},"f");E.getControlPoints=function(){return[{x:e,y:t},{x:r,y:i}]};var N="generateBezier("+[e,t,r,i]+")";return E.toString=function(){return N},E}function JI(e,t,r,i,n){if(i===1||t===r)return r;var a=n(t,r,i);return e==null||((e.roundValue||e.color)&&(a=Math.round(a)),e.min!==void 0&&(a=Math.max(a,e.min)),e.max!==void 0&&(a=Math.min(a,e.max))),a}function eD(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function _d(e,t,r,i,n){var a=n!=null?n.type:null;r<0?r=0:r>1&&(r=1);var s=eD(e,n),o=eD(t,n);if(yt(s)&&yt(o))return JI(a,s,o,r,i);if(Wr(s)&&Wr(o)){for(var u=[],h=0;h<o.length;h++){var d=s[h],p=o[h];if(d!=null&&p!=null){var g=JI(a,d,p,r,i);u.push(g)}else u.push(p)}return u}}function V4e(e,t,r,i){var n=!i,a=e._private,s=t._private,o=s.easing,u=s.startTime,h=i?e:e.cy(),d=h.style();if(!s.easingImpl)if(o==null)s.easingImpl=Tv.linear;else{var p;if(qt(o)){var g=d.parse("transition-timing-function",o);p=g.value}else p=o;var f,m;qt(p)?(f=p,m=[]):(f=p[1],m=p.slice(2).map(function($){return+$})),m.length>0?(f==="spring"&&m.push(s.duration),s.easingImpl=Tv[f].apply(null,m)):s.easingImpl=Tv[f]}var y=s.easingImpl,b;if(s.duration===0?b=1:b=(r-u)/s.duration,s.applying&&(b=s.progress),b<0?b=0:b>1&&(b=1),s.delay==null){var v=s.startPosition,x=s.position;if(x&&n&&!e.locked()){var w={};i1(v.x,x.x)&&(w.x=_d(v.x,x.x,b,y)),i1(v.y,x.y)&&(w.y=_d(v.y,x.y,b,y)),e.position(w)}var k=s.startPan,T=s.pan,_=a.pan,C=T!=null&&i;C&&(i1(k.x,T.x)&&(_.x=_d(k.x,T.x,b,y)),i1(k.y,T.y)&&(_.y=_d(k.y,T.y,b,y)),e.emit("pan"));var E=s.startZoom,N=s.zoom,M=N!=null&&i;M&&(i1(E,N)&&(a.zoom=h1(a.minZoom,_d(E,N,b,y),a.maxZoom)),e.emit("zoom")),(C||M)&&e.emit("viewport");var I=s.style;if(I&&I.length>0&&n){for(var A=0;A<I.length;A++){var B=I[A],S=B.name,O=B,R=s.startStyle[S],P=d.properties[R.name],L=_d(R,O,b,y,P);d.overrideBypass(e,S,L)}e.emit("style")}}return s.progress=b,b}function i1(e,t){return e==null||t==null?!1:yt(e)&&yt(t)?!0:!!(e&&t)}function Y4e(e,t,r,i){var n=t._private;n.started=!0,n.startTime=r-n.progress*n.duration}function tD(e,t){var r=t._private.aniEles,i=[];function n(d,p){var g=d._private,f=g.animation.current,m=g.animation.queue,y=!1;if(f.length===0){var b=m.shift();b&&f.push(b)}for(var v=l(function(T){for(var _=T.length-1;_>=0;_--){var C=T[_];C()}T.splice(0,T.length)},"callbacks"),x=f.length-1;x>=0;x--){var w=f[x],k=w._private;if(k.stopped){f.splice(x,1),k.hooked=!1,k.playing=!1,k.started=!1,v(k.frames);continue}!k.playing&&!k.applying||(k.playing&&k.applying&&(k.applying=!1),k.started||Y4e(d,w,e),V4e(d,w,e,p),k.applying&&(k.applying=!1),v(k.frames),k.step!=null&&k.step(e),w.completed()&&(f.splice(x,1),k.hooked=!1,k.playing=!1,k.started=!1,v(k.completes)),y=!0)}return!p&&f.length===0&&m.length===0&&i.push(d),y}l(n,"stepOne");for(var a=!1,s=0;s<r.length;s++){var o=r[s],u=n(o);a=a||u}var h=n(t,!0);(a||h)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(i),t.emit("step")}function rD(e){this.options=Qt({},aTe,sTe,e)}function iD(e){this.options=Qt({},oTe,e)}function nD(e){this.options=Qt({},lTe,e)}function X2(e){this.options=Qt({},cTe,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges(),i=r.filter(function(n){var a=n.source().data("id"),s=n.target().data("id"),o=t.some(function(h){return h.data("id")===a}),u=t.some(function(h){return h.data("id")===s});return!o||!u});this.options.eles=this.options.eles.not(i)}function aD(e){this.options=Qt({},TTe,e)}function Iw(e){this.options=Qt({},ETe,e)}function sD(e){this.options=Qt({},CTe,e)}function oD(e){this.options=Qt({},STe,e)}function lD(e){this.options=e,this.notifications=0}function cD(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function Dw(e,t,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return i===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(RTe(e,t,r,i,n),{cx:bP,cy:xP,radius:Hd,startX:NTe,startY:MTe,stopX:wP,stopY:kP,startAngle:wo.ang+Math.PI/2*qd,endAngle:cs.ang-Math.PI/2*qd,counterClockwise:gk})}function uD(e){var t=[];if(e!=null){for(var r=0;r<e.length;r+=2){var i=e[r],n=e[r+1];t.push({x:i,y:n})}return t}}function W4e(e,t,r){for(var i=l(function(u,h,d,p){return cn(u,h,d,p)},"qbezierAt$1"),n=t._private,a=n.rstyle.bezierPts,s=0;s<e.bezierProjPcts.length;s++){var o=e.bezierProjPcts[s];a.push({x:i(r[0],r[2],r[4],o),y:i(r[1],r[3],r[5],o)})}}function X4e(e,t){for(var r=0;r<t.length;r++){var i=t[r];e.lineTo(i.x,i.y)}}function K4e(e,t,r){for(var i,n=0;n<t.length;n++){var a=t[n];n===0&&(i=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(r.x,r.y,i.x,i.y)}function hD(e,t,r){e.beginPath&&e.beginPath();for(var i=t,n=0;n<i.length;n++){var a=i[n];e.lineTo(a.x,a.y)}var s=r,o=r[0];e.moveTo(o.x,o.y);for(var n=1;n<s.length;n++){var a=s[n];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()}function Z4e(e,t,r,i,n){e.beginPath&&e.beginPath(),e.arc(r,i,n,0,Math.PI*2,!1);var a=t,s=a[0];e.moveTo(s.x,s.y);for(var o=0;o<a.length;o++){var u=a[o];e.lineTo(u.x,u.y)}e.closePath&&e.closePath()}function Q4e(e,t,r,i){e.arc(t,r,i,0,Math.PI*2,!1)}function J4e(e,t,r,i,n){var a=Math.min(i,n),s=a/2,o=t+i/2,u=r+n/2;e.beginPath(),e.arc(o,u,s,0,Math.PI*2),e.closePath()}function dD(e,t,r,i,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=Math.min(a,i/2,n/2);e.beginPath(),e.moveTo(t+s,r),e.lineTo(t+i-s,r),e.quadraticCurveTo(t+i,r,t+i,r+s),e.lineTo(t+i,r+n-s),e.quadraticCurveTo(t+i,r+n,t+i-s,r+n),e.lineTo(t+s,r+n),e.quadraticCurveTo(t,r+n,t,r+n-s),e.lineTo(t,r+s),e.quadraticCurveTo(t,r,t+s,r),e.closePath()}function pD(e,t,r){var i=e.createShader(t);if(e.shaderSource(i,r),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(i));return i}function e3e(e,t,r){var i=pD(e,e.VERTEX_SHADER,t),n=pD(e,e.FRAGMENT_SHADER,r),a=e.createProgram();if(e.attachShader(a,i),e.attachShader(a,n),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Error("Could not initialize shaders");return a}function t3e(e,t,r){r===void 0&&(r=t);var i=e.makeOffscreenCanvas(t,r),n=i.context=i.getContext("2d");return i.clear=function(){return n.clearRect(0,0,i.width,i.height)},i.clear(),i}function Rw(e){var t=e.pixelRatio,r=e.cy.zoom(),i=e.cy.pan();return{zoom:r*t,pan:{x:i.x*t,y:i.y*t}}}function r3e(e){var t=e.pixelRatio,r=e.cy.zoom();return r*t}function i3e(e,t,r,i,n){var a=i*r+t.x,s=n*r+t.y;return s=Math.round(e.canvasHeight-s),[a,s]}function n3e(e){return e.pstyle("background-fill").value!=="solid"||e.pstyle("background-image").strValue!=="none"?!1:e.pstyle("border-width").value===0||e.pstyle("border-opacity").value===0?!0:e.pstyle("border-style").value==="solid"}function a3e(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Wu(e,t,r){var i=e[0]/255,n=e[1]/255,a=e[2]/255,s=t,o=r||new Array(4);return o[0]=i*s,o[1]=n*s,o[2]=a*s,o[3]=s,o}function Ad(e,t){var r=t||new Array(4);return r[0]=(e>>0&255)/255,r[1]=(e>>8&255)/255,r[2]=(e>>16&255)/255,r[3]=(e>>24&255)/255,r}function s3e(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function o3e(e,t){var r=e.createTexture();return r.buffer=function(i){e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},r.deleteTexture=function(){e.deleteTexture(r)},r}function gD(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function fD(e,t,r){switch(t){case e.FLOAT:return new Float32Array(r);case e.INT:return new Int32Array(r)}}function l3e(e,t,r,i,n,a){switch(t){case e.FLOAT:return new Float32Array(r.buffer,a*i,n);case e.INT:return new Int32Array(r.buffer,a*i,n)}}function c3e(e,t,r,i){var n=gD(e,t),a=Pi(n,2),s=a[0],o=a[1],u=fD(e,o,i),h=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e.ARRAY_BUFFER,u,e.STATIC_DRAW),o===e.FLOAT?e.vertexAttribPointer(r,s,o,!1,0,0):o===e.INT&&e.vertexAttribIPointer(r,s,o,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,null),h}function yo(e,t,r,i){var n=gD(e,r),a=Pi(n,3),s=a[0],o=a[1],u=a[2],h=fD(e,o,t*s),d=s*u,p=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,p),e.bufferData(e.ARRAY_BUFFER,t*d,e.DYNAMIC_DRAW),e.enableVertexAttribArray(i),o===e.FLOAT?e.vertexAttribPointer(i,s,o,!1,d,0):o===e.INT&&e.vertexAttribIPointer(i,s,o,d,0),e.vertexAttribDivisor(i,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var g=new Array(t),f=0;f<t;f++)g[f]=l3e(e,o,h,d,s,f);return p.dataArray=h,p.stride=d,p.size=s,p.getView=function(m){return g[m]},p.setPoint=function(m,y,b){var v=g[m];v[0]=y,v[1]=b},p.bufferSubData=function(m){e.bindBuffer(e.ARRAY_BUFFER,p),m?e.bufferSubData(e.ARRAY_BUFFER,0,h,0,m*s):e.bufferSubData(e.ARRAY_BUFFER,0,h)},p}function u3e(e,t,r){for(var i=9,n=new Float32Array(t*i),a=new Array(t),s=0;s<t;s++){var o=s*i*4;a[s]=new Float32Array(n.buffer,o,i)}var u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,n.byteLength,e.DYNAMIC_DRAW);for(var h=0;h<3;h++){var d=r+h;e.enableVertexAttribArray(d),e.vertexAttribPointer(d,3,e.FLOAT,!1,36,h*12),e.vertexAttribDivisor(d,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),u.getMatrixView=function(p){return a[p]},u.setData=function(p,g){a[g].set(p,0)},u.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferSubData(e.ARRAY_BUFFER,0,n)},u}function h3e(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(i,n){e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,i,n,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}function Ow(){var e=new qP(9);return qP!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function mD(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function d3e(e,t,r){var i=t[0],n=t[1],a=t[2],s=t[3],o=t[4],u=t[5],h=t[6],d=t[7],p=t[8],g=r[0],f=r[1],m=r[2],y=r[3],b=r[4],v=r[5],x=r[6],w=r[7],k=r[8];return e[0]=g*i+f*s+m*h,e[1]=g*n+f*o+m*d,e[2]=g*a+f*u+m*p,e[3]=y*i+b*s+v*h,e[4]=y*n+b*o+v*d,e[5]=y*a+b*u+v*p,e[6]=x*i+w*s+k*h,e[7]=x*n+w*o+k*d,e[8]=x*a+w*u+k*p,e}function K2(e,t,r){var i=t[0],n=t[1],a=t[2],s=t[3],o=t[4],u=t[5],h=t[6],d=t[7],p=t[8],g=r[0],f=r[1];return e[0]=i,e[1]=n,e[2]=a,e[3]=s,e[4]=o,e[5]=u,e[6]=g*i+f*s+h,e[7]=g*n+f*o+d,e[8]=g*a+f*u+p,e}function yD(e,t,r){var i=t[0],n=t[1],a=t[2],s=t[3],o=t[4],u=t[5],h=t[6],d=t[7],p=t[8],g=Math.sin(r),f=Math.cos(r);return e[0]=f*i+g*s,e[1]=f*n+g*o,e[2]=f*a+g*u,e[3]=f*s-g*i,e[4]=f*o-g*n,e[5]=f*u-g*a,e[6]=h,e[7]=d,e[8]=p,e}function Pw(e,t,r){var i=r[0],n=r[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function p3e(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function g3e(e,t){return e.intersection?e.intersection(t):new Set($2(e).filter(function(r){return t.has(r)}))}function f3e(e){var t=e.cy.container(),r=t&&t.style&&t.style.backgroundColor||"white";return DD(r)}function vD(e,t){var r=e._private.rscratch;return Ta(r,"labelWrapCachedLines",t)||[]}function m3e(e){{var t=e.render;e.render=function(a){a=a||{};var s=e.cy;e.webgl&&(s.zoom()>OP?(y3e(e),t.call(e,a)):(v3e(e),xD(e,a,A1.SCREEN)))}}{var r=e.matchCanvasSize;e.matchCanvasSize=function(a){r.call(e,a),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0}}e.findNearestElements=function(a,s,o,u){return E3e(e,a,s)};{var i=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){i.call(e),e.pickingFrameBuffer.needsDraw=!0}}{var n=e.notify;e.notify=function(a,s){n.call(e,a,s),a==="viewport"||a==="bounds"?e.pickingFrameBuffer.needsDraw=!0:a==="background"&&e.drawing.invalidate(s,{type:"node-body"})}}}function y3e(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}function v3e(e){var t=l(function(r){r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.canvasWidth,e.canvasHeight),r.restore()},"clear");t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}function b3e(e){var t=e.canvasWidth,r=e.canvasHeight,i=Rw(e),n=i.pan,a=i.zoom,s=Ow();K2(s,s,[n.x,n.y]),Pw(s,s,[a,a]);var o=Ow();p3e(o,t,r);var u=Ow();return d3e(u,o,s),u}function bD(e,t){var r=e.canvasWidth,i=e.canvasHeight,n=Rw(e),a=n.pan,s=n.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,r,i),t.translate(a.x,a.y),t.scale(s,s)}function x3e(e,t){e.drawSelectionRectangle(t,function(r){return bD(e,r)})}function w3e(e){var t=e.data.contexts[e.NODE];t.save(),bD(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}function k3e(e){var t=l(function(i,n,a){for(var s=i.atlasManager.getAtlasCollection(n),o=e.data.contexts[e.NODE],u=s.atlases,h=0;h<u.length;h++){var d=u[h],p=d.canvas;if(p){var g=p.width,f=p.height,m=g*h,y=p.height*a,b=.4;o.save(),o.scale(b,b),o.drawImage(p,m,y),o.strokeStyle="black",o.rect(m,y,g,f),o.stroke(),o.restore()}}},"draw"),r=0;t(e.drawing,"node",r++),t(e.drawing,"label",r++)}function T3e(e,t,r,i,n){var a,s,o,u,h=Rw(e),d=h.pan,p=h.zoom;{var g=i3e(e,d,p,t,r),f=Pi(g,2),m=f[0],y=f[1],b=6;a=m-b/2,s=y-b/2,o=b,u=b}if(o===0||u===0)return[];var v=e.data.contexts[e.WEBGL];v.bindFramebuffer(v.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(v.viewport(0,0,v.canvas.width,v.canvas.height),xD(e,null,A1.PICKING),e.pickingFrameBuffer.needsDraw=!1);var x=o*u,w=new Uint8Array(x*4);v.readPixels(a,s,o,u,v.RGBA,v.UNSIGNED_BYTE,w),v.bindFramebuffer(v.FRAMEBUFFER,null);for(var k=new Set,T=0;T<x;T++){var _=w.slice(T*4,T*4+4),C=s3e(_)-1;C>=0&&k.add(C)}return k}function E3e(e,t,r){var i=T3e(e,t,r),n=e.getCachedZSortedEles(),a,s,o=ka(i),u;try{for(o.s();!(u=o.n()).done;){var h=u.value,d=n[h];if(!a&&d.isNode()&&(a=d),!s&&d.isEdge()&&(s=d),a&&s)break}}catch(p){o.e(p)}finally{o.f()}return[a,s].filter(Boolean)}function Bw(e,t,r){var i=e.drawing;t+=1,r.isNode()?(i.drawNode(r,t,"node-underlay"),i.drawNode(r,t,"node-body"),i.drawTexture(r,t,"label"),i.drawNode(r,t,"node-overlay")):(i.drawEdgeLine(r,t),i.drawEdgeArrow(r,t,"source"),i.drawEdgeArrow(r,t,"target"),i.drawTexture(r,t,"label"),i.drawTexture(r,t,"edge-source-label"),i.drawTexture(r,t,"edge-target-label"))}function xD(e,t,r){var i;e.webglDebug&&(i=performance.now());var n=e.drawing,a=0;if(r.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&x3e(e,t),e.data.canvasNeedsRedraw[e.NODE]||r.picking){var s=e.data.contexts[e.WEBGL];r.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var o=b3e(e),u=e.getCachedZSortedEles();if(a=u.length,n.startFrame(o,r),r.screen){for(var h=0;h<u.nondrag.length;h++)Bw(e,h,u.nondrag[h]);for(var d=0;d<u.drag.length;d++)Bw(e,d,u.drag[d])}else if(r.picking)for(var p=0;p<u.length;p++)Bw(e,p,u[p]);n.endFrame(),r.screen&&e.webglDebugShowAtlases&&(w3e(e),k3e(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var g=performance.now(),f=!1,m=Math.ceil(g-i),y=n.getDebugInfo(),b=["".concat(a," elements"),"".concat(y.totalInstances," instances"),"".concat(y.batchCount," batches"),"".concat(y.totalAtlases," atlases"),"".concat(y.wrappedCount," wrapped textures"),"".concat(y.simpleCount," simple shapes")].join(", ");if(f)console.log("WebGL (".concat(r.name,") - time ").concat(m,"ms, ").concat(b));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(m,"ms")),console.log("Totals:"),console.log("  ".concat(b)),console.log("Texture Atlases Used:");var v=y.atlasInfo,x=ka(v),w;try{for(x.s();!(w=x.n()).done;){var k=w.value;console.log("  ".concat(k.type,": ").concat(k.keyCount," keys, ").concat(k.atlasCount," atlases"))}}catch(T){x.e(T)}finally{x.f()}console.log("")}}e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,n.gc())}function C3e(e,t){for(var r=atob(e),i=new ArrayBuffer(r.length),n=new Uint8Array(i),a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return new Blob([i],{type:t})}function wD(e){var t=e.indexOf(",");return e.substr(t+1)}function kD(e,t,r){var i=l(function(){return t.toDataURL(r,e.quality)},"getB64Uri");switch(e.output){case"blob-promise":return new $d(function(n,a){try{t.toBlob(function(s){s!=null?n(s):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(s){a(s)}});case"blob":return C3e(wD(i()),r);case"base64":return wD(i());case"base64uri":default:return i()}}function TD(e){var t=this,r=t.cy.window(),i=r.document;e.webgl&&(gr.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(gr.CANVAS_LAYERS),contexts:new Array(gr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(gr.CANVAS_LAYERS),bufferCanvases:new Array(gr.BUFFER_COUNT),bufferContexts:new Array(gr.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";t.data.canvasContainer=i.createElement("div");var s=t.data.canvasContainer.style;t.data.canvasContainer.style[n]=a,s.position="relative",s.zIndex="0",s.overflow="hidden";var o=e.cy.container();o.appendChild(t.data.canvasContainer),o.style[n]=a;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};B3e()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var h=0;h<gr.CANVAS_LAYERS;h++){var d=t.data.canvases[h]=i.createElement("canvas"),p=gr.CANVAS_TYPES[h];t.data.contexts[h]=d.getContext(p),t.data.contexts[h]||oi("Could not create canvas of type "+p),Object.keys(u).forEach(function(W){d.style[W]=u[W]}),d.style.position="absolute",d.setAttribute("data-id","layer"+h),d.style.zIndex=String(gr.CANVAS_LAYERS-h),t.data.canvasContainer.appendChild(d),t.data.canvasNeedsRedraw[h]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[gr.NODE].setAttribute("data-id","layer"+gr.NODE+"-node"),t.data.canvases[gr.SELECT_BOX].setAttribute("data-id","layer"+gr.SELECT_BOX+"-selectbox"),t.data.canvases[gr.DRAG].setAttribute("data-id","layer"+gr.DRAG+"-drag"),t.data.canvases[gr.WEBGL]&&t.data.canvases[gr.WEBGL].setAttribute("data-id","layer"+gr.WEBGL+"-webgl");for(var h=0;h<gr.BUFFER_COUNT;h++)t.data.bufferCanvases[h]=i.createElement("canvas"),t.data.bufferContexts[h]=t.data.bufferCanvases[h].getContext("2d"),t.data.bufferCanvases[h].style.position="absolute",t.data.bufferCanvases[h].setAttribute("data-id","buffer"+h),t.data.bufferCanvases[h].style.zIndex=String(-h-1),t.data.bufferCanvases[h].style.visibility="hidden";t.pathsEnabled=!0;var g=ea(),f=l(function(W){return{x:(W.x1+W.x2)/2,y:(W.y1+W.y2)/2}},"getBoxCenter"),m=l(function(W){return{x:-W.w/2,y:-W.h/2}},"getCenterOffset"),y=l(function(W){var ee=W[0]._private,X=ee.oldBackgroundTimestamp===ee.backgroundTimestamp;return!X},"backgroundTimestampHasChanged"),b=l(function(W){return W[0]._private.nodeKey},"getStyleKey"),v=l(function(W){return W[0]._private.labelStyleKey},"getLabelKey"),x=l(function(W){return W[0]._private.sourceLabelStyleKey},"getSourceLabelKey"),w=l(function(W){return W[0]._private.targetLabelStyleKey},"getTargetLabelKey"),k=l(function(W,ee,X,Z,J){return t.drawElement(W,ee,X,!1,!1,J)},"drawElement"),T=l(function(W,ee,X,Z,J){return t.drawElementText(W,ee,X,Z,"main",J)},"drawLabel"),_=l(function(W,ee,X,Z,J){return t.drawElementText(W,ee,X,Z,"source",J)},"drawSourceLabel"),C=l(function(W,ee,X,Z,J){return t.drawElementText(W,ee,X,Z,"target",J)},"drawTargetLabel"),E=l(function(W){return W.boundingBox(),W[0]._private.bodyBounds},"getElementBox"),N=l(function(W){return W.boundingBox(),W[0]._private.labelBounds.main||g},"getLabelBox"),M=l(function(W){return W.boundingBox(),W[0]._private.labelBounds.source||g},"getSourceLabelBox"),I=l(function(W){return W.boundingBox(),W[0]._private.labelBounds.target||g},"getTargetLabelBox"),A=l(function(W,ee){return ee},"isLabelVisibleAtScale"),B=l(function(W){return f(E(W))},"getElementRotationPoint"),S=l(function(W,ee,X){var Z=W?W+"-":"";return{x:ee.x+X.pstyle(Z+"text-margin-x").pfValue,y:ee.y+X.pstyle(Z+"text-margin-y").pfValue}},"addTextMargin"),O=l(function(W,ee,X){var Z=W[0]._private.rscratch;return{x:Z[ee],y:Z[X]}},"getRsPt"),R=l(function(W){return S("",O(W,"labelX","labelY"),W)},"getLabelRotationPoint"),P=l(function(W){return S("source",O(W,"sourceLabelX","sourceLabelY"),W)},"getSourceLabelRotationPoint"),L=l(function(W){return S("target",O(W,"targetLabelX","targetLabelY"),W)},"getTargetLabelRotationPoint"),$=l(function(W){return m(E(W))},"getElementRotationOffset"),F=l(function(W){return m(M(W))},"getSourceLabelRotationOffset"),G=l(function(W){return m(I(W))},"getTargetLabelRotationOffset"),q=l(function(W){var ee=N(W),X=m(N(W));if(W.isNode()){switch(W.pstyle("text-halign").value){case"left":X.x=-ee.w-(ee.leftPad||0);break;case"right":X.x=-(ee.rightPad||0);break}switch(W.pstyle("text-valign").value){case"top":X.y=-ee.h-(ee.topPad||0);break;case"bottom":X.y=-(ee.botPad||0);break}}return X},"getLabelRotationOffset"),V=t.data.eleTxrCache=new S1(t,{getKey:b,doesEleInvalidateKey:y,drawElement:k,getBoundingBox:E,getRotationPoint:B,getRotationOffset:$,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),H=t.data.lblTxrCache=new S1(t,{getKey:v,drawElement:T,getBoundingBox:N,getRotationPoint:R,getRotationOffset:q,isVisible:A}),ae=t.data.slbTxrCache=new S1(t,{getKey:x,drawElement:_,getBoundingBox:M,getRotationPoint:P,getRotationOffset:F,isVisible:A}),re=t.data.tlbTxrCache=new S1(t,{getKey:w,drawElement:C,getBoundingBox:I,getRotationPoint:L,getRotationOffset:G,isVisible:A}),oe=t.data.lyrTxrCache=new $P(t);t.onUpdateEleCalcs(l(function(W,ee){V.invalidateElements(ee),H.invalidateElements(ee),ae.invalidateElements(ee),re.invalidateElements(ee),oe.invalidateElements(ee);for(var X=0;X<ee.length;X++){var Z=ee[X]._private;Z.oldBackgroundTimestamp=Z.backgroundTimestamp}},"invalidateTextureCaches"));var ue=l(function(W){for(var ee=0;ee<W.length;ee++)oe.enqueueElementRefinement(W[ee].ele)},"refineInLayers");V.onDequeue(ue),H.onDequeue(ue),ae.onDequeue(ue),re.onDequeue(ue),e.webgl&&t.initWebgl(e,{getStyleKey:b,getLabelKey:v,getSourceLabelKey:x,getTargetLabelKey:w,drawElement:k,drawLabel:T,drawSourceLabel:_,drawTargetLabel:C,getElementBox:E,getLabelBox:N,getSourceLabelBox:M,getTargetLabelBox:I,getElementRotationPoint:B,getElementRotationOffset:$,getLabelRotationPoint:R,getSourceLabelRotationPoint:P,getTargetLabelRotationPoint:L,getLabelRotationOffset:q,getSourceLabelRotationOffset:F,getTargetLabelRotationOffset:G})}function ED(e,t,r){var i=r,n=l(function(C){$r("Can not register `"+t+"` for `"+e+"` since `"+C+"` already exists in the prototype and can not be overridden")},"overrideErr");if(e==="core"){if(w1.prototype[t])return n(t);w1.prototype[t]=r}else if(e==="collection"){if(bn.prototype[t])return n(t);bn.prototype[t]=r}else if(e==="layout"){for(var a=l(function(C){this.options=C,r.call(this,C),Cr(this._private)||(this._private={}),this._private.cy=C.cy,this._private.listeners=[],this.createEmitter()},"Layout"),s=a.prototype=Object.create(r.prototype),o=[],u=0;u<o.length;u++){var h=o[u];s[h]=s[h]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var d=r.prototype.stop;s.stop=function(){var C=this.options;if(C&&C.animate){var E=this.animations;if(E)for(var N=0;N<E.length;N++)E[N].stop()}return d?d.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var p=l(function(C){return C._private.cy},"getCy"),g={addEventFields:l(function(C,E){E.layout=C,E.cy=p(C),E.target=C},"addEventFields"),bubble:l(function(){return!0},"bubble"),parent:l(function(C){return p(C)},"parent")};Qt(s,{createEmitter:l(function(){return this._private.emitter=new V2(g,this),this},"createEmitter"),emitter:l(function(){return this._private.emitter},"emitter"),on:l(function(C,E){return this.emitter().on(C,E),this},"on"),one:l(function(C,E){return this.emitter().one(C,E),this},"one"),once:l(function(C,E){return this.emitter().one(C,E),this},"once"),removeListener:l(function(C,E){return this.emitter().removeListener(C,E),this},"removeListener"),removeAllListeners:l(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),emit:l(function(C,E){return this.emitter().emit(C,E),this},"emit")}),Fr.eventAliasesOn(s),i=a}else if(e==="renderer"&&t!=="null"&&t!=="base"){var f=CD("renderer","base"),m=f.prototype,y=r,b=r.prototype,v=l(function(){f.apply(this,arguments),y.apply(this,arguments)},"Renderer"),x=v.prototype;for(var w in m){var k=m[w],T=b[w]!=null;if(T)return n(w);x[w]=k}for(var _ in b)x[_]=b[_];m.clientFunctions.forEach(function(C){x[C]=x[C]||function(){oi("Renderer does not implement `renderer."+C+"()` on its prototype")}}),i=v}else if(e==="__proto__"||e==="constructor"||e==="prototype")return oi(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return RD({map:ZP,keys:[e,t],value:i})}function CD(e,t){return OD({map:ZP,keys:[e,t]})}function S3e(e,t,r,i,n){return RD({map:QP,keys:[e,t,r,i],value:n})}function _3e(e,t,r,i){return OD({map:QP,keys:[e,t,r,i]})}var Ki,SD,A3e,_D,L3e,N3e,n1,qt,di,Wr,Cr,M3e,yt,I3e,Z2,Ua,a1,AD,$w,LD,D3e,fc,R3e,O3e,P3e,B3e,Ld,Fw,Q2,ND,MD,mc,Zi,$3e,F3e,z3e,G3e,U3e,q3e,ID,j3e,Qt,H3e,V3e,Y3e,W3e,DD,X3e,RD,OD,J2,PD,K3e,BD,Z3e,$D,Q3e,FD,J3e,zD,e5e,GD,t5e,UD,r5e,qD,i5e,jD,n5e,HD,a5e,VD,s5e,YD,o5e,WD,l5e,XD,c5e,u5e,s1,zw,KD,h5e,ev,ol,Xu,ZD,Nd,QD,o1,l1,d5e,yc,tv,JD,Ku,eR,p5e,g5e,tR,f5e,m5e,Gw,rR,rv,iR,Uw,oi,nR,$r,y5e,vo,v5e,aR,b5e,sR,yn,vc,qw,x5e,Ta,ll,w5e,cl,k5e,T5e,Md,iv,oR,c1,jw,E5e,C5e,S5e,_5e,A5e,u1,L5e,N5e,M5e,I5e,D5e,R5e,O5e,P5e,B5e,$5e,F5e,Hw,z5e,lR,G5e,nv,cR,Id,U5e,q5e,j5e,H5e,V5e,av,Vw,Yw,Zu,Qu,Y5e,cn,Dd,W5e,h1,ea,X5e,K5e,Z5e,uR,sv,ov,hR,Ww,bc,dR,pR,Q5e,gR,J5e,e6e,t6e,r6e,i6e,n6e,Ea,ul,a6e,lv,cv,s6e,Ju,d1,Xw,xc,o6e,p1,l6e,uv,ta,fR,Kw,wc,mR,Zw,c6e,Qw,u6e,h6e,yR,Rd,vR,Od,d6e,Jw,p6e,g6e,f6e,m6e,bR,y6e,v6e,b6e,x6e,w6e,k6e,T6e,xR,E6e,C6e,wR,kR,TR,S6e,_6e,g1,Pd,A6e,ek,hv,tk,ER,CR,L6e,N6e,M6e,SR,_R,I6e,D6e,R6e,O6e,P6e,AR,B6e,$6e,F6e,z6e,LR,Bd,rk,ik,NR,G6e,U6e,q6e,j6e,H6e,V6e,MR,Y6e,IR,W6e,X6e,K6e,dv,Z6e,pv,Q6e,DR,RR,OR,PR,Ps,BR,$R,FR,zR,GR,$d,nk,eh,J6e,UR,ewe,qR,twe,jR,rwe,HR,iwe,VR,nwe,YR,awe,WR,swe,XR,owe,KR,lwe,ZR,cwe,QR,uwe,JR,hwe,eO,dwe,tO,pwe,rO,gwe,iO,fwe,nO,mwe,aO,ywe,sO,vwe,oO,bwe,lO,xwe,cO,wwe,uO,kwe,hO,Twe,dO,Ewe,pO,Cwe,gO,Swe,fO,_we,mO,Awe,yO,Lwe,vO,Nwe,bO,Mwe,xO,Iwe,wO,Dwe,kO,Rwe,TO,Owe,EO,Pwe,CO,Bwe,SO,$we,_O,Fwe,AO,zwe,LO,Gwe,NO,Uwe,qwe,jwe,MO,Hwe,IO,Vwe,DO,Ywe,RO,Wwe,OO,Xwe,PO,Kwe,Zwe,Qwe,BO,Jwe,$O,eke,tke,rke,ike,nke,Fr,ake,gv,Sr,Hr,Nt,ak,ske,oke,lke,Fd,kc,sk,cke,uke,hke,dke,pke,FO,gke,fke,ok,mke,vi,ti,yke,vke,bke,Tc,Ec,Cc,os,zd,fv,xke,wke,mv,bo,kke,zO,GO,Tke,f1,th,ls,Bs,Sc,m1,yv,lk,UO,qO,Eke,Cke,jO,HO,VO,y1,YO,WO,Ske,vv,bv,XO,_ke,Ake,Lke,Nke,Mke,Ike,Dke,Rke,Oke,KO,Pke,Bke,$ke,ZO,QO,Fke,JO,eP,zke,_c,tP,rP,Gke,Uke,xv,iP,nP,Nr,qke,aP,wv,jke,Hke,kv,vn,Gd,Vke,Yke,Wke,Xke,Ac,Pn,sP,oP,lP,bn,Qr,Kke,Zke,Jr,Tv,Qke,Jke,Ev,cP,ck,Cv,eTe,tTe,uk,Sv,un,v1,rTe,b1,hk,xo,_v,dk,Bi,Av,hn,Bn,iTe,nTe,rh,x1,w1,Lv,aTe,sTe,Ud,uP,oTe,lTe,hP,cTe,uTe,hTe,dP,VZe,dTe,pP,pTe,gTe,fTe,gP,mTe,yTe,Nv,vTe,bTe,xTe,wTe,kTe,fP,mP,TTe,ETe,CTe,STe,_Te,yP,vP,pk,ih,Mv,bP,xP,wo,cs,ATe,LTe,qd,gk,Lc,jd,Hd,hl,k1,fk,NTe,MTe,wP,kP,ITe,TP,DTe,RTe,T1,OTe,$n,E1,mk,ko,EP,CP,PTe,SP,_P,AP,Iv,Dv,LP,NP,Vd,dl,C1,MP,BTe,IP,Yd,yk,DP,$Te,RP,Rv,Ov,vk,OP,FTe,zTe,GTe,UTe,qTe,jTe,HTe,VTe,YTe,WTe,XTe,KTe,ZTe,Wd,QTe,S1,Qi,JTe,_1,Pv,e7e,t7e,r7e,i7e,n7e,a7e,s7e,o7e,PP,l7e,BP,c7e,$P,xn,FP,u7e,zP,h7e,To,d7e,p7e,g7e,f7e,m7e,bk,pl,GP,xk,nh,Nc,UP,ra,y7e,Bv,qP,v7e,b7e,x7e,w7e,k7e,T7e,E7e,C7e,A1,$v,wk,jP,HP,kk,Xd,Fv,L1,N1,S7e,VP,Tk,Ek,Mc,YP,WP,Ck,Sk,XP,Kd,M1,KP,_7e,gr,A7e,L7e,N7e,ZP,QP,_k,zv,ah,M7e,Eo,I7e=D(()=>{"use strict";for(l(kw,"_arrayLikeToArray"),l(Oxe,"_arrayWithHoles"),l(Pxe,"_arrayWithoutHoles"),l(pc,"_classCallCheck"),l(Bxe,"_defineProperties"),l(gc,"_createClass"),l(ka,"_createForOfIteratorHelper"),l($I,"_defineProperty$1"),l($xe,"_iterableToArray"),l(Fxe,"_iterableToArrayLimit"),l(zxe,"_nonIterableRest"),l(Gxe,"_nonIterableSpread"),l(Pi,"_slicedToArray"),l($2,"_toConsumableArray"),l(Uxe,"_toPrimitive"),l(FI,"_toPropertyKey"),l(Xi,"_typeof"),l(Tw,"_unsupportedIterableToArray"),Ki=typeof window>"u"?null:window,SD=Ki?Ki.navigator:null,Ki&&Ki.document,A3e=Xi(""),_D=Xi({}),L3e=Xi(function(){}),N3e=typeof HTMLElement>"u"?"undefined":Xi(HTMLElement),n1=l(function(e){return e&&e.instanceString&&di(e.instanceString)?e.instanceString():null},"instanceStr"),qt=l(function(e){return e!=null&&Xi(e)==A3e},"string"),di=l(function(e){return e!=null&&Xi(e)===L3e},"fn"),Wr=l(function(e){return!Ua(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},"array"),Cr=l(function(e){return e!=null&&Xi(e)===_D&&!Wr(e)&&e.constructor===Object},"plainObject"),M3e=l(function(e){return e!=null&&Xi(e)===_D},"object"),yt=l(function(e){return e!=null&&Xi(e)===Xi(1)&&!isNaN(e)},"number"),I3e=l(function(e){return yt(e)&&Math.floor(e)===e},"integer"),Z2=l(function(e){if(N3e!=="undefined")return e!=null&&e instanceof HTMLElement},"htmlElement"),Ua=l(function(e){return a1(e)||AD(e)},"elementOrCollection"),a1=l(function(e){return n1(e)==="collection"&&e._private.single},"element"),AD=l(function(e){return n1(e)==="collection"&&!e._private.single},"collection"),$w=l(function(e){return n1(e)==="core"},"core"),LD=l(function(e){return n1(e)==="stylesheet"},"stylesheet"),D3e=l(function(e){return n1(e)==="event"},"event"),fc=l(function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},"emptyString"),R3e=l(function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},"domElement"),O3e=l(function(e){return Cr(e)&&yt(e.x1)&&yt(e.x2)&&yt(e.y1)&&yt(e.y2)},"boundingBox"),P3e=l(function(e){return M3e(e)&&di(e.then)},"promise"),B3e=l(function(){return SD&&SD.userAgent.match(/msie|trident|edge/i)},"ms"),Ld=l(function(e,t){t||(t=l(function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],n=0;n<arguments.length;n++)i.push(arguments[n]);return i.join("$")},"keyFn"));var r=l(function(){var i=this,n=arguments,a,s=t.apply(i,n),o=r.cache;return(a=o[s])||(a=o[s]=e.apply(i,n)),a},"memoizedFn");return r.cache={},r},"memoize"),Fw=Ld(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),Q2=Ld(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),ND=Ld(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),MD=l(function(e){return fc(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},"capitalize"),mc=l(function(e,t){return e.slice(-1*t.length)===t},"endsWith"),Zi="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",$3e="rgb[a]?\\(("+Zi+"[%]?)\\s*,\\s*("+Zi+"[%]?)\\s*,\\s*("+Zi+"[%]?)(?:\\s*,\\s*("+Zi+"))?\\)",F3e="rgb[a]?\\((?:"+Zi+"[%]?)\\s*,\\s*(?:"+Zi+"[%]?)\\s*,\\s*(?:"+Zi+"[%]?)(?:\\s*,\\s*(?:"+Zi+"))?\\)",z3e="hsl[a]?\\(("+Zi+")\\s*,\\s*("+Zi+"[%])\\s*,\\s*("+Zi+"[%])(?:\\s*,\\s*("+Zi+"))?\\)",G3e="hsl[a]?\\((?:"+Zi+")\\s*,\\s*(?:"+Zi+"[%])\\s*,\\s*(?:"+Zi+"[%])(?:\\s*,\\s*(?:"+Zi+"))?\\)",U3e="\\#[0-9a-fA-F]{3}",q3e="\\#[0-9a-fA-F]{6}",ID=l(function(e,t){return e<t?-1:e>t?1:0},"ascending"),j3e=l(function(e,t){return-1*ID(e,t)},"descending"),Qt=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var i=t[r];if(i!=null)for(var n=Object.keys(i),a=0;a<n.length;a++){var s=n[a];e[s]=i[s]}}return e},H3e=l(function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var t=e.length===4,r,i,n,a=16;return t?(r=parseInt(e[1]+e[1],a),i=parseInt(e[2]+e[2],a),n=parseInt(e[3]+e[3],a)):(r=parseInt(e[1]+e[2],a),i=parseInt(e[3]+e[4],a),n=parseInt(e[5]+e[6],a)),[r,i,n]}},"hex2tuple"),V3e=l(function(e){var t,r,i,n,a,s,o,u;function h(f,m,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?f+(m-f)*6*y:y<1/2?m:y<2/3?f+(m-f)*(2/3-y)*6:f}l(h,"hue2rgb");var d=new RegExp("^"+z3e+"$").exec(e);if(d){if(r=parseInt(d[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r=r%360),r/=360,i=parseFloat(d[2]),i<0||i>100||(i=i/100,n=parseFloat(d[3]),n<0||n>100)||(n=n/100,a=d[4],a!==void 0&&(a=parseFloat(a),a<0||a>1)))return;if(i===0)s=o=u=Math.round(n*255);else{var p=n<.5?n*(1+i):n+i-n*i,g=2*n-p;s=Math.round(255*h(g,p,r+1/3)),o=Math.round(255*h(g,p,r)),u=Math.round(255*h(g,p,r-1/3))}t=[s,o,u,a]}return t},"hsl2tuple"),Y3e=l(function(e){var t,r=new RegExp("^"+$3e+"$").exec(e);if(r){t=[];for(var i=[],n=1;n<=3;n++){var a=r[n];if(a[a.length-1]==="%"&&(i[n]=!0),a=parseFloat(a),i[n]&&(a=a/100*255),a<0||a>255)return;t.push(Math.floor(a))}var s=i[1]||i[2]||i[3],o=i[1]&&i[2]&&i[3];if(s&&!o)return;var u=r[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;t.push(u)}}return t},"rgb2tuple"),W3e=l(function(e){return X3e[e.toLowerCase()]},"colorname2tuple"),DD=l(function(e){return(Wr(e)?e:null)||W3e(e)||H3e(e)||Y3e(e)||V3e(e)},"color2tuple"),X3e={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},RD=l(function(e){for(var t=e.map,r=e.keys,i=r.length,n=0;n<i;n++){var a=r[n];if(Cr(a))throw Error("Tried to set map with object key");n<r.length-1?(t[a]==null&&(t[a]={}),t=t[a]):t[a]=e.value}},"setMap"),OD=l(function(e){for(var t=e.map,r=e.keys,i=r.length,n=0;n<i;n++){var a=r[n];if(Cr(a))throw Error("Tried to get map with object key");if(t=t[a],t==null)return t}return t},"getMap"),J2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},l(Jg,"getDefaultExportFromCjs"),l(e1,"requireIsObject"),l(qxe,"require_freeGlobal"),l(F2,"require_root"),l(jxe,"requireNow"),l(Hxe,"require_trimmedEndIndex"),l(Vxe,"require_baseTrim"),l(Ew,"require_Symbol"),l(Yxe,"require_getRawTag"),l(Wxe,"require_objectToString"),l(zI,"require_baseGetTag"),l(Xxe,"requireIsObjectLike"),l(t1,"requireIsSymbol"),l(Kxe,"requireToNumber"),l(Zxe,"requireDebounce"),u5e=Zxe(),s1=Jg(u5e),zw=Ki?Ki.performance:null,KD=zw&&zw.now?function(){return zw.now()}:function(){return Date.now()},h5e=function(){if(Ki){if(Ki.requestAnimationFrame)return function(e){Ki.requestAnimationFrame(e)};if(Ki.mozRequestAnimationFrame)return function(e){Ki.mozRequestAnimationFrame(e)};if(Ki.webkitRequestAnimationFrame)return function(e){Ki.webkitRequestAnimationFrame(e)};if(Ki.msRequestAnimationFrame)return function(e){Ki.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(KD())},1e3/60)}}(),ev=l(function(e){return h5e(e)},"requestAnimationFrame"),ol=KD,Xu=9261,ZD=65599,Nd=5381,QD=l(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xu,r=t,i;i=e.next(),!i.done;)r=r*ZD+i.value|0;return r},"hashIterableInts"),o1=l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xu;return t*ZD+e|0},"hashInt"),l1=l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nd;return(t<<5)+t+e|0},"hashIntAlt"),d5e=l(function(e,t){return e*2097152+t},"combineHashes"),yc=l(function(e){return e[0]*2097152+e[1]},"combineHashesArray"),tv=l(function(e,t){return[o1(e[0],t[0]),l1(e[1],t[1])]},"hashArrays"),JD=l(function(e,t){var r={value:0,done:!1},i=0,n=e.length,a={next:l(function(){return i<n?r.value=e[i++]:r.done=!0,r},"next")};return QD(a,t)},"hashIntsArray"),Ku=l(function(e,t){var r={value:0,done:!1},i=0,n=e.length,a={next:l(function(){return i<n?r.value=e.charCodeAt(i++):r.done=!0,r},"next")};return QD(a,t)},"hashString"),eR=l(function(){return p5e(arguments)},"hashStrings"),p5e=l(function(e){for(var t,r=0;r<e.length;r++){var i=e[r];r===0?t=Ku(i):t=Ku(i,t)}return t},"hashStringsArray"),l(Qxe,"rotatePoint"),g5e=l(function(e,t,r,i,n,a){return{x:(e-r)*n+r,y:(t-i)*a+i}},"movePointByBoxAspect"),l(Jxe,"rotatePosAndSkewByBox"),tR=!0,f5e=console.warn!=null,m5e=console.trace!=null,Gw=Number.MAX_SAFE_INTEGER||9007199254740991,rR=l(function(){return!0},"trueify"),rv=l(function(){return!1},"falsify"),iR=l(function(){return 0},"zeroify"),Uw=l(function(){},"noop"),oi=l(function(e){throw new Error(e)},"error"),nR=l(function(e){if(e!==void 0)tR=!!e;else return tR},"warnings"),$r=l(function(e){nR()&&(f5e?console.warn(e):(console.log(e),m5e&&console.trace()))},"warn"),y5e=l(function(e){return Qt({},e)},"clone"),vo=l(function(e){return e==null?e:Wr(e)?e.slice():Cr(e)?y5e(e):e},"copy"),v5e=l(function(e){return e.slice()},"copyArray"),aR=l(function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},"uuid"),b5e={},sR=l(function(){return b5e},"staticEmptyObject"),yn=l(function(e){var t=Object.keys(e);return function(r){for(var i={},n=0;n<t.length;n++){var a=t[n],s=r?.[a];i[a]=s===void 0?e[a]:s}return i}},"defaults"),vc=l(function(e,t,r){for(var i=e.length-1;i>=0;i--)e[i]===t&&e.splice(i,1)},"removeFromArray"),qw=l(function(e){e.splice(0,e.length)},"clearArray"),x5e=l(function(e,t){for(var r=0;r<t.length;r++){var i=t[r];e.push(i)}},"push"),Ta=l(function(e,t,r){return r&&(t=ND(r,t)),e[t]},"getPrefixedProperty"),ll=l(function(e,t,r,i){r&&(t=ND(r,t)),e[t]=i},"setPrefixedProperty"),w5e=function(){function e(){pc(this,e),this._obj={}}return l(e,"ObjectMap"),gc(e,[{key:"set",value:l(function(t,r){return this._obj[t]=r,this},"set")},{key:"delete",value:l(function(t){return this._obj[t]=void 0,this},"_delete")},{key:"clear",value:l(function(){this._obj={}},"clear")},{key:"has",value:l(function(t){return this._obj[t]!==void 0},"has")},{key:"get",value:l(function(t){return this._obj[t]},"get")}])}(),cl=typeof Map<"u"?Map:w5e,k5e="undefined",T5e=function(){function e(t){if(pc(this,e),this._obj=Object.create(null),this.size=0,t!=null){var r;t.instanceString!=null&&t.instanceString()===this.instanceString()?r=t.toArray():r=t;for(var i=0;i<r.length;i++)this.add(r[i])}}return l(e,"ObjectSet"),gc(e,[{key:"instanceString",value:l(function(){return"set"},"instanceString")},{key:"add",value:l(function(t){var r=this._obj;r[t]!==1&&(r[t]=1,this.size++)},"add")},{key:"delete",value:l(function(t){var r=this._obj;r[t]===1&&(r[t]=0,this.size--)},"_delete")},{key:"clear",value:l(function(){this._obj=Object.create(null)},"clear")},{key:"has",value:l(function(t){return this._obj[t]===1},"has")},{key:"toArray",value:l(function(){var t=this;return Object.keys(this._obj).filter(function(r){return t.has(r)})},"toArray")},{key:"forEach",value:l(function(t,r){return this.toArray().forEach(t,r)},"forEach")}])}(),Md=(typeof Set>"u"?"undefined":Xi(Set))!==k5e?Set:T5e,iv=l(function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||t===void 0||!$w(e)){oi("An element must have a core reference and parameters set");return}var i=t.group;if(i==null&&(t.data&&t.data.source!=null&&t.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){oi("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var n=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?i==="edges":!!t.pannable,active:!1,classes:new Md,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(n.position.x==null&&(n.position.x=0),n.position.y==null&&(n.position.y=0),t.renderedPosition){var a=t.renderedPosition,s=e.pan(),o=e.zoom();n.position={x:(a.x-s.x)/o,y:(a.y-s.y)/o}}var u=[];Wr(t.classes)?u=t.classes:qt(t.classes)&&(u=t.classes.split(/\s+/));for(var h=0,d=u.length;h<d;h++){var p=u[h];!p||p===""||n.classes.add(p)}this.createEmitter(),(r===void 0||r)&&this.restore();var g=t.style||t.css;g&&($r("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(g))},"Element"),oR=l(function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},l(function(t,r,i){var n;Cr(t)&&!Ua(t)&&(n=t,t=n.roots||n.root,r=n.visit,i=n.directed),i=arguments.length===2&&!di(r)?r:i,r=di(r)?r:function(){};for(var a=this._private.cy,s=t=qt(t)?this.filter(t):t,o=[],u=[],h={},d={},p={},g=0,f,m=this.byGroup(),y=m.nodes,b=m.edges,v=0;v<s.length;v++){var x=s[v],w=x.id();x.isNode()&&(o.unshift(x),e.bfs&&(p[w]=!0,u.push(x)),d[w]=0)}for(var k=l(function(){var M=e.bfs?o.shift():o.pop(),I=M.id();if(e.dfs){if(p[I])return 0;p[I]=!0,u.push(M)}var A=d[I],B=h[I],S=B!=null?B.source():null,O=B!=null?B.target():null,R=B==null?void 0:M.same(S)?O[0]:S[0],P;if(P=r(M,B,R,g++,A),P===!0)return f=M,1;if(P===!1)return 1;for(var L=M.connectedEdges().filter(function(V){return(!i||V.source().same(M))&&b.has(V)}),$=0;$<L.length;$++){var F=L[$],G=F.connectedNodes().filter(function(V){return!V.same(M)&&y.has(V)}),q=G.id();G.length!==0&&!p[q]&&(G=G[0],o.push(G),e.bfs&&(p[q]=!0,u.push(G)),h[q]=F,d[q]=d[I]+1)}},"_loop"),T;o.length!==0&&(T=k(),!(T!==0&&T===1)););for(var _=a.collection(),C=0;C<u.length;C++){var E=u[C],N=h[E.id()];N!=null&&_.push(N),_.push(E)}return{path:a.collection(_),found:a.collection(f)}},"searchFn")},"defineSearch"),c1={breadthFirstSearch:oR({bfs:!0}),depthFirstSearch:oR({dfs:!0})},c1.bfs=c1.breadthFirstSearch,c1.dfs=c1.depthFirstSearch,jw={exports:{}},E5e=jw.exports,l(e4e,"requireHeap$1"),l(t4e,"requireHeap"),A5e=t4e(),u1=Jg(A5e),L5e=yn({root:null,weight:l(function(e){return 1},"weight"),directed:!1}),N5e={dijkstra:l(function(e){if(!Cr(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var r=L5e(e),i=r.root,n=r.weight,a=r.directed,s=this,o=n,u=qt(i)?this.filter(i)[0]:i[0],h={},d={},p={},g=this.byGroup(),f=g.nodes,m=g.edges;m.unmergeBy(function(S){return S.isLoop()});for(var y=l(function(S){return h[S.id()]},"getDist"),b=l(function(S,O){h[S.id()]=O,v.updateItem(S)},"setDist"),v=new u1(function(S,O){return y(S)-y(O)}),x=0;x<f.length;x++){var w=f[x];h[w.id()]=w.same(u)?0:1/0,v.push(w)}for(var k=l(function(S,O){for(var R=(a?S.edgesTo(O):S.edgesWith(O)).intersect(m),P=1/0,L,$=0;$<R.length;$++){var F=R[$],G=o(F);(G<P||!L)&&(P=G,L=F)}return{edge:L,dist:P}},"distBetween");v.size()>0;){var T=v.pop(),_=y(T),C=T.id();if(p[C]=_,_!==1/0)for(var E=T.neighborhood().intersect(f),N=0;N<E.length;N++){var M=E[N],I=M.id(),A=k(T,M),B=_+A.dist;B<y(M)&&(b(M,B),d[I]={node:T,edge:A.edge})}}return{distanceTo:l(function(S){var O=qt(S)?f.filter(S)[0]:S[0];return p[O.id()]},"distanceTo"),pathTo:l(function(S){var O=qt(S)?f.filter(S)[0]:S[0],R=[],P=O,L=P.id();if(O.length>0)for(R.unshift(O);d[L];){var $=d[L];R.unshift($.edge),R.unshift($.node),P=$.node,L=P.id()}return s.spawn(R)},"pathTo")}},"dijkstra")},M5e={kruskal:l(function(e){e=e||function(x){return 1};for(var t=this.byGroup(),r=t.nodes,i=t.edges,n=r.length,a=new Array(n),s=r,o=l(function(x){for(var w=0;w<a.length;w++){var k=a[w];if(k.has(x))return w}},"findSetIndex"),u=0;u<n;u++)a[u]=this.spawn(r[u]);for(var h=i.sort(function(x,w){return e(x)-e(w)}),d=0;d<h.length;d++){var p=h[d],g=p.source()[0],f=p.target()[0],m=o(g),y=o(f),b=a[m],v=a[y];m!==y&&(s.merge(p),b.merge(v),a.splice(y,1))}return s},"kruskal")},I5e=yn({root:null,goal:null,weight:l(function(e){return 1},"weight"),heuristic:l(function(e){return 0},"heuristic"),directed:!1}),D5e={aStar:l(function(e){var t=this.cy(),r=I5e(e),i=r.root,n=r.goal,a=r.heuristic,s=r.directed,o=r.weight;i=t.collection(i)[0],n=t.collection(n)[0];var u=i.id(),h=n.id(),d={},p={},g={},f=new u1(function($,F){return p[$.id()]-p[F.id()]}),m=new Md,y={},b={},v=l(function($,F){f.push($),m.add(F)},"addToOpenSet"),x,w,k=l(function(){x=f.pop(),w=x.id(),m.delete(w)},"popFromOpenSet"),T=l(function($){return m.has($)},"isInOpenSet");v(i,u),d[u]=0,p[u]=a(i);for(var _=0;f.size()>0;){if(k(),_++,w===h){for(var C=[],E=n,N=h,M=b[N];C.unshift(E),M!=null&&C.unshift(M),E=y[N],E!=null;)N=E.id(),M=b[N];return{found:!0,distance:d[w],path:this.spawn(C),steps:_}}g[w]=!0;for(var I=x._private.edges,A=0;A<I.length;A++){var B=I[A];if(this.hasElementWithId(B.id())&&!(s&&B.data("source")!==w)){var S=B.source(),O=B.target(),R=S.id()!==w?S:O,P=R.id();if(this.hasElementWithId(P)&&!g[P]){var L=d[w]+o(B);if(!T(P)){d[P]=L,p[P]=L+a(R),v(R,P),y[P]=x,b[P]=B;continue}L<d[P]&&(d[P]=L,p[P]=L+a(R),y[P]=x,b[P]=B)}}}}return{found:!1,distance:void 0,path:void 0,steps:_}},"aStar")},R5e=yn({weight:l(function(e){return 1},"weight"),directed:!1}),O5e={floydWarshall:l(function(e){for(var t=this.cy(),r=R5e(e),i=r.weight,n=r.directed,a=i,s=this.byGroup(),o=s.nodes,u=s.edges,h=o.length,d=h*h,p=l(function(G){return o.indexOf(G)},"indexOf"),g=l(function(G){return o[G]},"atIndex"),f=new Array(d),m=0;m<d;m++){var y=m%h,b=(m-y)/h;b===y?f[m]=0:f[m]=1/0}for(var v=new Array(d),x=new Array(d),w=0;w<u.length;w++){var k=u[w],T=k.source()[0],_=k.target()[0];if(T!==_){var C=p(T),E=p(_),N=C*h+E,M=a(k);if(f[N]>M&&(f[N]=M,v[N]=E,x[N]=k),!n){var I=E*h+C;!n&&f[I]>M&&(f[I]=M,v[I]=C,x[I]=k)}}}for(var A=0;A<h;A++)for(var B=0;B<h;B++)for(var S=B*h+A,O=0;O<h;O++){var R=B*h+O,P=A*h+O;f[S]+f[P]<f[R]&&(f[R]=f[S]+f[P],v[R]=v[S])}var L=l(function(G){return(qt(G)?t.filter(G):G)[0]},"getArgEle"),$=l(function(G){return p(L(G))},"indexOfArgEle"),F={distance:l(function(G,q){var V=$(G),H=$(q);return f[V*h+H]},"distance"),path:l(function(G,q){var V=$(G),H=$(q),ae=g(V);if(V===H)return ae.collection();if(v[V*h+H]==null)return t.collection();var re=t.collection(),oe=V,ue;for(re.merge(ae);V!==H;)oe=V,V=v[V*h+H],ue=x[oe*h+V],re.merge(ue),re.merge(g(V));return re},"path")};return F},"floydWarshall")},P5e=yn({weight:l(function(e){return 1},"weight"),directed:!1,root:null}),B5e={bellmanFord:l(function(e){var t=this,r=P5e(e),i=r.weight,n=r.directed,a=r.root,s=i,o=this,u=this.cy(),h=this.byGroup(),d=h.edges,p=h.nodes,g=p.length,f=new cl,m=!1,y=[];a=u.collection(a)[0],d.unmergeBy(function(me){return me.isLoop()});for(var b=d.length,v=l(function(me){var Y=f.get(me.id());return Y||(Y={},f.set(me.id(),Y)),Y},"getInfo"),x=l(function(me){return(qt(me)?u.$(me):me)[0]},"getNodeFromTo"),w=l(function(me){return v(x(me)).dist},"distanceTo"),k=l(function(me){for(var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,_e=x(me),ce=[],Ne=_e;;){if(Ne==null)return t.spawn();var Be=v(Ne),je=Be.edge,qe=Be.pred;if(ce.unshift(Ne[0]),Ne.same(Y)&&ce.length>0)break;je!=null&&ce.unshift(je),Ne=qe}return o.spawn(ce)},"pathTo"),T=0;T<g;T++){var _=p[T],C=v(_);_.same(a)?C.dist=0:C.dist=1/0,C.pred=null,C.edge=null}for(var E=!1,N=l(function(me,Y,_e,ce,Ne,Be){var je=ce.dist+Be;je<Ne.dist&&!_e.same(ce.edge)&&(Ne.dist=je,Ne.pred=me,Ne.edge=_e,E=!0)},"checkForEdgeReplacement"),M=1;M<g;M++){E=!1;for(var I=0;I<b;I++){var A=d[I],B=A.source(),S=A.target(),O=s(A),R=v(B),P=v(S);N(B,S,A,R,P,O),n||N(S,B,A,P,R,O)}if(!E)break}if(E)for(var L=[],$=0;$<b;$++){var F=d[$],G=F.source(),q=F.target(),V=s(F),H=v(G).dist,ae=v(q).dist;if(H+V<ae||!n&&ae+V<H)if(m||($r("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),e.findNegativeWeightCycles!==!1){var re=[];H+V<ae&&re.push(G),!n&&ae+V<H&&re.push(q);for(var oe=re.length,ue=0;ue<oe;ue++){var W=re[ue],ee=[W];ee.push(v(W).edge);for(var X=v(W).pred;ee.indexOf(X)===-1;)ee.push(X),ee.push(v(X).edge),X=v(X).pred;ee=ee.slice(ee.indexOf(X));for(var Z=ee[0].id(),J=0,he=2;he<ee.length;he+=2)ee[he].id()<Z&&(Z=ee[he].id(),J=he);ee=ee.slice(J).concat(ee.slice(0,J)),ee.push(ee[0]);var K=ee.map(function(me){return me.id()}).join(",");L.indexOf(K)===-1&&(y.push(o.spawn(ee)),L.push(K))}}else break}return{distanceTo:w,pathTo:k,hasNegativeWeightCycle:m,negativeWeightCycles:y}},"bellmanFord")},$5e=Math.sqrt(2),F5e=l(function(e,t,r){r.length===0&&oi("Karger-Stein must be run on a connected (sub)graph");for(var i=r[e],n=i[1],a=i[2],s=t[n],o=t[a],u=r,h=u.length-1;h>=0;h--){var d=u[h],p=d[1],g=d[2];(t[p]===s&&t[g]===o||t[p]===o&&t[g]===s)&&u.splice(h,1)}for(var f=0;f<u.length;f++){var m=u[f];m[1]===o?(u[f]=m.slice(),u[f][1]=s):m[2]===o&&(u[f]=m.slice(),u[f][2]=s)}for(var y=0;y<t.length;y++)t[y]===o&&(t[y]=s);return u},"collapse"),Hw=l(function(e,t,r,i){for(;r>i;){var n=Math.floor(Math.random()*t.length);t=F5e(n,e,t),r--}return t},"contractUntil"),z5e={kargerStein:l(function(){var e=this,t=this.byGroup(),r=t.nodes,i=t.edges;i.unmergeBy(function(P){return P.isLoop()});var n=r.length,a=i.length,s=Math.ceil(Math.pow(Math.log(n)/Math.LN2,2)),o=Math.floor(n/$5e);if(n<2){oi("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],h=0;h<a;h++){var d=i[h];u.push([h,r.indexOf(d.source()),r.indexOf(d.target())])}for(var p=1/0,g=[],f=new Array(n),m=new Array(n),y=new Array(n),b=l(function(P,L){for(var $=0;$<n;$++)L[$]=P[$]},"copyNodesMap"),v=0;v<=s;v++){for(var x=0;x<n;x++)m[x]=x;var w=Hw(m,u.slice(),n,o),k=w.slice();b(m,y);var T=Hw(m,w,o,2),_=Hw(y,k,o,2);T.length<=_.length&&T.length<p?(p=T.length,g=T,b(m,f)):_.length<=T.length&&_.length<p&&(p=_.length,g=_,b(y,f))}for(var C=this.spawn(g.map(function(P){return i[P[0]]})),E=this.spawn(),N=this.spawn(),M=f[0],I=0;I<f.length;I++){var A=f[I],B=r[I];A===M?E.merge(B):N.merge(B)}var S=l(function(P){var L=e.spawn();return P.forEach(function($){L.merge($),$.connectedEdges().forEach(function(F){e.contains(F)&&!C.contains(F)&&L.merge(F)})}),L},"constructComponent"),O=[S(E),S(N)],R={cut:C,components:O,partition1:E,partition2:N};return R},"kargerStein")},G5e=l(function(e){return{x:e.x,y:e.y}},"copyPosition"),nv=l(function(e,t,r){return{x:e.x*t+r.x,y:e.y*t+r.y}},"modelToRenderedPosition"),cR=l(function(e,t,r){return{x:(e.x-r.x)/t,y:(e.y-r.y)/t}},"renderedToModelPosition"),Id=l(function(e){return{x:e[0],y:e[1]}},"array2point"),U5e=l(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,n=t;n<r;n++){var a=e[n];isFinite(a)&&(i=Math.min(a,i))}return i},"min"),q5e=l(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,n=t;n<r;n++){var a=e[n];isFinite(a)&&(i=Math.max(a,i))}return i},"max"),j5e=l(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,n=0,a=t;a<r;a++){var s=e[a];isFinite(s)&&(i+=s,n++)}return i/n},"mean"),H5e=l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(t,r):(r<e.length&&e.splice(r,e.length-r),t>0&&e.splice(0,t));for(var s=0,o=e.length-1;o>=0;o--){var u=e[o];a?isFinite(u)||(e[o]=-1/0,s++):e.splice(o,1)}n&&e.sort(function(p,g){return p-g});var h=e.length,d=Math.floor(h/2);return h%2!==0?e[d+1+s]:(e[d-1+s]+e[d+s])/2},"median"),V5e=l(function(e){return Math.PI*e/180},"deg2rad"),av=l(function(e,t){return Math.atan2(t,e)-Math.PI/2},"getAngleFromDisp"),Vw=Math.log2||function(e){return Math.log(e)/Math.log(2)},Yw=l(function(e){return e>0?1:e<0?-1:0},"signum"),Zu=l(function(e,t){return Math.sqrt(Qu(e,t))},"dist"),Qu=l(function(e,t){var r=t.x-e.x,i=t.y-e.y;return r*r+i*i},"sqdist"),Y5e=l(function(e){for(var t=e.length,r=0,i=0;i<t;i++)r+=e[i];for(var n=0;n<t;n++)e[n]=e[n]/r;return e},"inPlaceSumNormalize"),cn=l(function(e,t,r,i){return(1-i)*(1-i)*e+2*(1-i)*i*t+i*i*r},"qbezierAt"),Dd=l(function(e,t,r,i){return{x:cn(e.x,t.x,r.x,i),y:cn(e.y,t.y,r.y,i)}},"qbezierPtAt"),W5e=l(function(e,t,r,i){var n={x:t.x-e.x,y:t.y-e.y},a=Zu(e,t),s={x:n.x/a,y:n.y/a};return r=r??0,i=i??r*a,{x:e.x+s.x*i,y:e.y+s.y*i}},"lineAt"),h1=l(function(e,t,r){return Math.max(e,Math.min(r,t))},"bound"),ea=l(function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},"makeBoundingBox"),X5e=l(function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},"copyBoundingBox"),K5e=l(function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},"clearBoundingBox"),Z5e=l(function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},"updateBoundingBox"),uR=l(function(e,t,r){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r),e.y2=Math.max(e.y2,r),e.h=e.y2-e.y1},"expandBoundingBoxByPoint"),sv=l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},"expandBoundingBox"),ov=l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],r,i,n,a;if(t.length===1)r=i=n=a=t[0];else if(t.length===2)r=n=t[0],a=i=t[1];else if(t.length===4){var s=Pi(t,4);r=s[0],i=s[1],n=s[2],a=s[3]}return e.x1-=a,e.x2+=i,e.y1-=r,e.y2+=n,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},"expandBoundingBoxSides"),hR=l(function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},"assignBoundingBox"),Ww=l(function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},"boundingBoxesIntersect"),bc=l(function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2},"inBoundingBox"),dR=l(function(e,t){return bc(e,t.x,t.y)},"pointInBoundingBox"),pR=l(function(e,t){return bc(e,t.x1,t.y1)&&bc(e,t.x2,t.y2)},"boundingBoxInBoundingBox"),Q5e=(lR=Math.hypot)!==null&&lR!==void 0?lR:function(e,t){return Math.sqrt(e*e+t*t)},l(r4e,"inflatePolygon"),l(i4e,"miterBox"),gR=l(function(e,t,r,i,n,a,s){var o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=o==="auto"?wc(n,a):o,h=n/2,d=a/2;u=Math.min(u,h,d);var p=u!==h,g=u!==d,f;if(p){var m=r-h+u-s,y=i-d-s,b=r+h-u+s,v=y;if(f=xc(e,t,r,i,m,y,b,v,!1),f.length>0)return f}if(g){var x=r+h+s,w=i-d+u-s,k=x,T=i+d-u+s;if(f=xc(e,t,r,i,x,w,k,T,!1),f.length>0)return f}if(p){var _=r-h+u-s,C=i+d+s,E=r+h-u+s,N=C;if(f=xc(e,t,r,i,_,C,E,N,!1),f.length>0)return f}if(g){var M=r-h-s,I=i-d+u-s,A=M,B=i+d-u+s;if(f=xc(e,t,r,i,M,I,A,B,!1),f.length>0)return f}var S;{var O=r-h+u,R=i-d+u;if(S=d1(e,t,r,i,O,R,u+s),S.length>0&&S[0]<=O&&S[1]<=R)return[S[0],S[1]]}{var P=r+h-u,L=i-d+u;if(S=d1(e,t,r,i,P,L,u+s),S.length>0&&S[0]>=P&&S[1]<=L)return[S[0],S[1]]}{var $=r+h-u,F=i+d-u;if(S=d1(e,t,r,i,$,F,u+s),S.length>0&&S[0]>=$&&S[1]>=F)return[S[0],S[1]]}{var G=r-h+u,q=i+d-u;if(S=d1(e,t,r,i,G,q,u+s),S.length>0&&S[0]<=G&&S[1]>=q)return[S[0],S[1]]}return[]},"roundRectangleIntersectLine"),J5e=l(function(e,t,r,i,n,a,s){var o=s,u=Math.min(r,n),h=Math.max(r,n),d=Math.min(i,a),p=Math.max(i,a);return u-o<=e&&e<=h+o&&d-o<=t&&t<=p+o},"inLineVicinity"),e6e=l(function(e,t,r,i,n,a,s,o,u){var h={x1:Math.min(r,s,n)-u,x2:Math.max(r,s,n)+u,y1:Math.min(i,o,a)-u,y2:Math.max(i,o,a)+u};return!(e<h.x1||e>h.x2||t<h.y1||t>h.y2)},"inBezierVicinity"),t6e=l(function(e,t,r,i){r-=i;var n=t*t-4*e*r;if(n<0)return[];var a=Math.sqrt(n),s=2*e,o=(-t+a)/s,u=(-t-a)/s;return[o,u]},"solveQuadratic"),r6e=l(function(e,t,r,i,n){var a=1e-5;e===0&&(e=a),t/=e,r/=e,i/=e;var s,o,u,h,d,p,g,f;if(o=(3*r-t*t)/9,u=-(27*i)+t*(9*r-2*(t*t)),u/=54,s=o*o*o+u*u,n[1]=0,g=t/3,s>0){d=u+Math.sqrt(s),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),p=u-Math.sqrt(s),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),n[0]=-g+d+p,g+=(d+p)/2,n[4]=n[2]=-g,g=Math.sqrt(3)*(-p+d)/2,n[3]=g,n[5]=-g;return}if(n[5]=n[3]=0,s===0){f=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),n[0]=-g+2*f,n[4]=n[2]=-(f+g);return}o=-o,h=o*o*o,h=Math.acos(u/Math.sqrt(h)),f=2*Math.sqrt(o),n[0]=-g+f*Math.cos(h/3),n[2]=-g+f*Math.cos((h+2*Math.PI)/3),n[4]=-g+f*Math.cos((h+4*Math.PI)/3)},"solveCubic"),i6e=l(function(e,t,r,i,n,a,s,o){var u=1*r*r-4*r*n+2*r*s+4*n*n-4*n*s+s*s+i*i-4*i*a+2*i*o+4*a*a-4*a*o+o*o,h=9*r*n-3*r*r-3*r*s-6*n*n+3*n*s+9*i*a-3*i*i-3*i*o-6*a*a+3*a*o,d=3*r*r-6*r*n+r*s-r*e+2*n*n+2*n*e-s*e+3*i*i-6*i*a+i*o-i*t+2*a*a+2*a*t-o*t,p=1*r*n-r*r+r*e-n*e+i*a-i*i+i*t-a*t,g=[];r6e(u,h,d,p,g);for(var f=1e-7,m=[],y=0;y<6;y+=2)Math.abs(g[y+1])<f&&g[y]>=0&&g[y]<=1&&m.push(g[y]);m.push(1),m.push(0);for(var b=-1,v,x,w,k=0;k<m.length;k++)v=Math.pow(1-m[k],2)*r+2*(1-m[k])*m[k]*n+m[k]*m[k]*s,x=Math.pow(1-m[k],2)*i+2*(1-m[k])*m[k]*a+m[k]*m[k]*o,w=Math.pow(v-e,2)+Math.pow(x-t,2),b>=0?w<b&&(b=w):b=w;return b},"sqdistToQuadraticBezier"),n6e=l(function(e,t,r,i,n,a){var s=[e-r,t-i],o=[n-r,a-i],u=o[0]*o[0]+o[1]*o[1],h=s[0]*s[0]+s[1]*s[1],d=s[0]*o[0]+s[1]*o[1],p=d*d/u;return d<0?h:p>u?(e-n)*(e-n)+(t-a)*(t-a):h-p},"sqdistToFiniteLine"),Ea=l(function(e,t,r){for(var i,n,a,s,o,u=0,h=0;h<r.length/2;h++)if(i=r[h*2],n=r[h*2+1],h+1<r.length/2?(a=r[(h+1)*2],s=r[(h+1)*2+1]):(a=r[(h+1-r.length/2)*2],s=r[(h+1-r.length/2)*2+1]),!(i==e&&a==e))if(i>=e&&e>=a||i<=e&&e<=a)o=(e-i)/(a-i)*(s-n)+n,o>t&&u++;else continue;return u%2!==0},"pointInsidePolygonPoints"),ul=l(function(e,t,r,i,n,a,s,o,u){var h=new Array(r.length),d;o[0]!=null?(d=Math.atan(o[1]/o[0]),o[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=o;for(var p=Math.cos(-d),g=Math.sin(-d),f=0;f<h.length/2;f++)h[f*2]=a/2*(r[f*2]*p-r[f*2+1]*g),h[f*2+1]=s/2*(r[f*2+1]*p+r[f*2]*g),h[f*2]+=i,h[f*2+1]+=n;var m;if(u>0){var y=cv(h,-u);m=lv(y)}else m=h;return Ea(e,t,m)},"pointInsidePolygon"),a6e=l(function(e,t,r,i,n,a,s,o){for(var u=new Array(r.length*2),h=0;h<o.length;h++){var d=o[h];u[h*4+0]=d.startX,u[h*4+1]=d.startY,u[h*4+2]=d.stopX,u[h*4+3]=d.stopY;var p=Math.pow(d.cx-e,2)+Math.pow(d.cy-t,2);if(p<=Math.pow(d.radius,2))return!0}return Ea(e,t,u)},"pointInsideRoundPolygon"),lv=l(function(e){for(var t=new Array(e.length/2),r,i,n,a,s,o,u,h,d=0;d<e.length/4;d++){r=e[d*4],i=e[d*4+1],n=e[d*4+2],a=e[d*4+3],d<e.length/4-1?(s=e[(d+1)*4],o=e[(d+1)*4+1],u=e[(d+1)*4+2],h=e[(d+1)*4+3]):(s=e[0],o=e[1],u=e[2],h=e[3]);var p=xc(r,i,n,a,s,o,u,h,!0);t[d*2]=p[0],t[d*2+1]=p[1]}return t},"joinLines"),cv=l(function(e,t){for(var r=new Array(e.length*2),i,n,a,s,o=0;o<e.length/2;o++){i=e[o*2],n=e[o*2+1],o<e.length/2-1?(a=e[(o+1)*2],s=e[(o+1)*2+1]):(a=e[0],s=e[1]);var u=s-n,h=-(a-i),d=Math.sqrt(u*u+h*h),p=u/d,g=h/d;r[o*4]=i+p*t,r[o*4+1]=n+g*t,r[o*4+2]=a+p*t,r[o*4+3]=s+g*t}return r},"expandPolygon"),s6e=l(function(e,t,r,i,n,a){var s=r-e,o=i-t;s/=n,o/=a;var u=Math.sqrt(s*s+o*o),h=u-1;if(h<0)return[];var d=h/u;return[(r-e)*d+e,(i-t)*d+t]},"intersectLineEllipse"),Ju=l(function(e,t,r,i,n,a,s){return e-=n,t-=a,e/=r/2+s,t/=i/2+s,e*e+t*t<=1},"checkInEllipse"),d1=l(function(e,t,r,i,n,a,s){var o=[r-e,i-t],u=[e-n,t-a],h=o[0]*o[0]+o[1]*o[1],d=2*(u[0]*o[0]+u[1]*o[1]),p=u[0]*u[0]+u[1]*u[1]-s*s,g=d*d-4*h*p;if(g<0)return[];var f=(-d+Math.sqrt(g))/(2*h),m=(-d-Math.sqrt(g))/(2*h),y=Math.min(f,m),b=Math.max(f,m),v=[];if(y>=0&&y<=1&&v.push(y),b>=0&&b<=1&&v.push(b),v.length===0)return[];var x=v[0]*o[0]+e,w=v[0]*o[1]+t;if(v.length>1){if(v[0]==v[1])return[x,w];var k=v[1]*o[0]+e,T=v[1]*o[1]+t;return[x,w,k,T]}else return[x,w]},"intersectLineCircle"),Xw=l(function(e,t,r){return t<=e&&e<=r||r<=e&&e<=t?e:e<=t&&t<=r||r<=t&&t<=e?t:r},"midOfThree"),xc=l(function(e,t,r,i,n,a,s,o,u){var h=e-n,d=r-e,p=s-n,g=t-a,f=i-t,m=o-a,y=p*g-m*h,b=d*g-f*h,v=m*d-p*f;if(v!==0){var x=y/v,w=b/v,k=.001,T=0-k,_=1+k;return T<=x&&x<=_&&T<=w&&w<=_?[e+x*d,t+x*f]:u?[e+x*d,t+x*f]:[]}else return y===0||b===0?Xw(e,r,s)===s?[s,o]:Xw(e,r,n)===n?[n,a]:Xw(n,s,r)===r?[r,i]:[]:[]},"finiteLinesIntersect"),o6e=l(function(e,t,r,i,n){var a=[],s=i/2,o=n/2,u=t,h=r;a.push({x:u+s*e[0],y:h+o*e[1]});for(var d=1;d<e.length/2;d++)a.push({x:u+s*e[d*2],y:h+o*e[d*2+1]});return a},"transformPoints"),p1=l(function(e,t,r,i,n,a,s,o){var u=[],h,d=new Array(r.length),p=!0;a==null&&(p=!1);var g;if(p){for(var f=0;f<d.length/2;f++)d[f*2]=r[f*2]*a+i,d[f*2+1]=r[f*2+1]*s+n;if(o>0){var m=cv(d,-o);g=lv(m)}else g=d}else g=r;for(var y,b,v,x,w=0;w<g.length/2;w++)y=g[w*2],b=g[w*2+1],w<g.length/2-1?(v=g[(w+1)*2],x=g[(w+1)*2+1]):(v=g[0],x=g[1]),h=xc(e,t,i,n,y,b,v,x),h.length!==0&&u.push(h[0],h[1]);return u},"polygonIntersectLine"),l6e=l(function(e,t,r,i,n,a,s,o,u){var h=[],d,p=new Array(r.length*2);u.forEach(function(v,x){x===0?(p[p.length-2]=v.startX,p[p.length-1]=v.startY):(p[x*4-2]=v.startX,p[x*4-1]=v.startY),p[x*4]=v.stopX,p[x*4+1]=v.stopY,d=d1(e,t,i,n,v.cx,v.cy,v.radius),d.length!==0&&h.push(d[0],d[1])});for(var g=0;g<p.length/4;g++)d=xc(e,t,i,n,p[g*4],p[g*4+1],p[g*4+2],p[g*4+3],!1),d.length!==0&&h.push(d[0],d[1]);if(h.length>2){for(var f=[h[0],h[1]],m=Math.pow(f[0]-e,2)+Math.pow(f[1]-t,2),y=1;y<h.length/2;y++){var b=Math.pow(h[y*2]-e,2)+Math.pow(h[y*2+1]-t,2);b<=m&&(f[0]=h[y*2],f[1]=h[y*2+1],m=b)}return f}return h},"roundPolygonIntersectLine"),uv=l(function(e,t,r){var i=[e[0]-t[0],e[1]-t[1]],n=Math.sqrt(i[0]*i[0]+i[1]*i[1]),a=(n-r)/n;return a<0&&(a=1e-5),[t[0]+a*i[0],t[1]+a*i[1]]},"shortenIntersection"),ta=l(function(e,t){var r=Kw(e,t);return r=fR(r),r},"generateUnitNgonPointsFitToSquare"),fR=l(function(e){for(var t,r,i=e.length/2,n=1/0,a=1/0,s=-1/0,o=-1/0,u=0;u<i;u++)t=e[2*u],r=e[2*u+1],n=Math.min(n,t),s=Math.max(s,t),a=Math.min(a,r),o=Math.max(o,r);for(var h=2/(s-n),d=2/(o-a),p=0;p<i;p++)t=e[2*p]=e[2*p]*h,r=e[2*p+1]=e[2*p+1]*d,n=Math.min(n,t),s=Math.max(s,t),a=Math.min(a,r),o=Math.max(o,r);if(a<-1)for(var g=0;g<i;g++)r=e[2*g+1]=e[2*g+1]+(-1-a);return e},"fitPolygonToSquare"),Kw=l(function(e,t){var r=1/e*2*Math.PI,i=e%2===0?Math.PI/2+r/2:Math.PI/2;i+=t;for(var n=new Array(e*2),a,s=0;s<e;s++)a=s*r+i,n[2*s]=Math.cos(a),n[2*s+1]=Math.sin(-a);return n},"generateUnitNgonPoints"),wc=l(function(e,t){return Math.min(e/4,t/4,8)},"getRoundRectangleRadius"),mR=l(function(e,t){return Math.min(e/10,t/10,8)},"getRoundPolygonRadius"),Zw=l(function(){return 8},"getCutRectangleCornerLength"),c6e=l(function(e,t,r){return[e-2*t+r,2*(t-e),e]},"bezierPtsToQuadCoeff"),Qw=l(function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},"getBarrelCurveConstants"),l(Cw,"satPolygonIntersection"),u6e=yn({dampingFactor:.8,precision:1e-6,iterations:200,weight:l(function(e){return 1},"weight")}),h6e={pageRank:l(function(e){for(var t=u6e(e),r=t.dampingFactor,i=t.precision,n=t.iterations,a=t.weight,s=this._private.cy,o=this.byGroup(),u=o.nodes,h=o.edges,d=u.length,p=d*d,g=h.length,f=new Array(p),m=new Array(d),y=(1-r)/d,b=0;b<d;b++){for(var v=0;v<d;v++){var x=b*d+v;f[x]=0}m[b]=0}for(var w=0;w<g;w++){var k=h[w],T=k.data("source"),_=k.data("target");if(T!==_){var C=u.indexOfId(T),E=u.indexOfId(_),N=a(k),M=E*d+C;f[M]+=N,m[C]+=N}}for(var I=1/d+y,A=0;A<d;A++)if(m[A]===0)for(var B=0;B<d;B++){var S=B*d+A;f[S]=I}else for(var O=0;O<d;O++){var R=O*d+A;f[R]=f[R]/m[A]+y}for(var P=new Array(d),L=new Array(d),$,F=0;F<d;F++)P[F]=1;for(var G=0;G<n;G++){for(var q=0;q<d;q++)L[q]=0;for(var V=0;V<d;V++)for(var H=0;H<d;H++){var ae=V*d+H;L[V]+=f[ae]*P[H]}Y5e(L),$=P,P=L,L=$;for(var re=0,oe=0;oe<d;oe++){var ue=$[oe]-P[oe];re+=ue*ue}if(re<i)break}var W={rank:l(function(ee){return ee=s.collection(ee)[0],P[u.indexOf(ee)]},"rank")};return W},"pageRank")},yR=yn({root:null,weight:l(function(e){return 1},"weight"),directed:!1,alpha:0}),Rd={degreeCentralityNormalized:l(function(e){e=yR(e);var t=this.cy(),r=this.nodes(),i=r.length;if(e.directed){for(var n={},a={},s=0,o=0,u=0;u<i;u++){var h=r[u],d=h.id();e.root=h;var p=this.degreeCentrality(e);s<p.indegree&&(s=p.indegree),o<p.outdegree&&(o=p.outdegree),n[d]=p.indegree,a[d]=p.outdegree}return{indegree:l(function(v){return s==0?0:(qt(v)&&(v=t.filter(v)),n[v.id()]/s)},"indegree"),outdegree:l(function(v){return o===0?0:(qt(v)&&(v=t.filter(v)),a[v.id()]/o)},"outdegree")}}else{for(var g={},f=0,m=0;m<i;m++){var y=r[m];e.root=y;var b=this.degreeCentrality(e);f<b.degree&&(f=b.degree),g[y.id()]=b.degree}return{degree:l(function(v){return f===0?0:(qt(v)&&(v=t.filter(v)),g[v.id()]/f)},"degree")}}},"degreeCentralityNormalized"),degreeCentrality:l(function(e){e=yR(e);var t=this.cy(),r=this,i=e,n=i.root,a=i.weight,s=i.directed,o=i.alpha;if(n=t.collection(n)[0],s){for(var u=n.connectedEdges(),h=u.filter(function(T){return T.target().same(n)&&r.has(T)}),d=u.filter(function(T){return T.source().same(n)&&r.has(T)}),p=h.length,g=d.length,f=0,m=0,y=0;y<h.length;y++)f+=a(h[y]);for(var b=0;b<d.length;b++)m+=a(d[b]);return{indegree:Math.pow(p,1-o)*Math.pow(f,o),outdegree:Math.pow(g,1-o)*Math.pow(m,o)}}else{for(var v=n.connectedEdges().intersection(r),x=v.length,w=0,k=0;k<v.length;k++)w+=a(v[k]);return{degree:Math.pow(x,1-o)*Math.pow(w,o)}}},"degreeCentrality")},Rd.dc=Rd.degreeCentrality,Rd.dcn=Rd.degreeCentralityNormalised=Rd.degreeCentralityNormalized,vR=yn({harmonic:!0,weight:l(function(){return 1},"weight"),directed:!1,root:null}),Od={closenessCentralityNormalized:l(function(e){for(var t=vR(e),r=t.harmonic,i=t.weight,n=t.directed,a=this.cy(),s={},o=0,u=this.nodes(),h=this.floydWarshall({weight:i,directed:n}),d=0;d<u.length;d++){for(var p=0,g=u[d],f=0;f<u.length;f++)if(d!==f){var m=h.distance(g,u[f]);r?p+=1/m:p+=m}r||(p=1/p),o<p&&(o=p),s[g.id()]=p}return{closeness:l(function(y){return o==0?0:(qt(y)?y=a.filter(y)[0].id():y=y.id(),s[y]/o)},"closeness")}},"closenessCentralityNormalized"),closenessCentrality:l(function(e){var t=vR(e),r=t.root,i=t.weight,n=t.directed,a=t.harmonic;r=this.filter(r)[0];for(var s=this.dijkstra({root:r,weight:i,directed:n}),o=0,u=this.nodes(),h=0;h<u.length;h++){var d=u[h];if(!d.same(r)){var p=s.distanceTo(d);a?o+=1/p:o+=p}}return a?o:1/o},"closenessCentrality")},Od.cc=Od.closenessCentrality,Od.ccn=Od.closenessCentralityNormalised=Od.closenessCentralityNormalized,d6e=yn({weight:null,directed:!1}),Jw={betweennessCentrality:l(function(e){for(var t=d6e(e),r=t.directed,i=t.weight,n=i!=null,a=this.cy(),s=this.nodes(),o={},u={},h=0,d={set:l(function(v,x){u[v]=x,x>h&&(h=x)},"set"),get:l(function(v){return u[v]},"get")},p=0;p<s.length;p++){var g=s[p],f=g.id();r?o[f]=g.outgoers().nodes():o[f]=g.openNeighborhood().nodes(),d.set(f,0)}for(var m=l(function(){for(var v=s[y].id(),x=[],w={},k={},T={},_=new u1(function(q,V){return T[q]-T[V]}),C=0;C<s.length;C++){var E=s[C].id();w[E]=[],k[E]=0,T[E]=1/0}for(k[v]=1,T[v]=0,_.push(v);!_.empty();){var N=_.pop();if(x.push(N),n)for(var M=0;M<o[N].length;M++){var I=o[N][M],A=a.getElementById(N),B=void 0;A.edgesTo(I).length>0?B=A.edgesTo(I)[0]:B=I.edgesTo(A)[0];var S=i(B);I=I.id(),T[I]>T[N]+S&&(T[I]=T[N]+S,_.nodes.indexOf(I)<0?_.push(I):_.updateItem(I),k[I]=0,w[I]=[]),T[I]==T[N]+S&&(k[I]=k[I]+k[N],w[I].push(N))}else for(var O=0;O<o[N].length;O++){var R=o[N][O].id();T[R]==1/0&&(_.push(R),T[R]=T[N]+1),T[R]==T[N]+1&&(k[R]=k[R]+k[N],w[R].push(N))}}for(var P={},L=0;L<s.length;L++)P[s[L].id()]=0;for(;x.length>0;){for(var $=x.pop(),F=0;F<w[$].length;F++){var G=w[$][F];P[G]=P[G]+k[G]/k[$]*(1+P[$])}$!=s[y].id()&&d.set($,d.get($)+P[$])}},"_loop"),y=0;y<s.length;y++)m();var b={betweenness:l(function(v){var x=a.collection(v).id();return d.get(x)},"betweenness"),betweennessNormalized:l(function(v){if(h==0)return 0;var x=a.collection(v).id();return d.get(x)/h},"betweennessNormalized")};return b.betweennessNormalised=b.betweennessNormalized,b},"betweennessCentrality")},Jw.bc=Jw.betweennessCentrality,p6e=yn({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),g6e=l(function(e){return p6e(e)},"setOptions"),f6e=l(function(e,t){for(var r=0,i=0;i<t.length;i++)r+=t[i](e);return r},"getSimilarity"),m6e=l(function(e,t,r){for(var i=0;i<t;i++)e[i*t+i]=r},"addLoops"),bR=l(function(e,t){for(var r,i=0;i<t;i++){r=0;for(var n=0;n<t;n++)r+=e[n*t+i];for(var a=0;a<t;a++)e[a*t+i]=e[a*t+i]/r}},"normalize"),y6e=l(function(e,t,r){for(var i=new Array(r*r),n=0;n<r;n++){for(var a=0;a<r;a++)i[n*r+a]=0;for(var s=0;s<r;s++)for(var o=0;o<r;o++)i[n*r+o]+=e[n*r+s]*t[s*r+o]}return i},"mmult"),v6e=l(function(e,t,r){for(var i=e.slice(0),n=1;n<r;n++)e=y6e(e,i,t);return e},"expand"),b6e=l(function(e,t,r){for(var i=new Array(t*t),n=0;n<t*t;n++)i[n]=Math.pow(e[n],r);return bR(i,t),i},"inflate"),x6e=l(function(e,t,r,i){for(var n=0;n<r;n++){var a=Math.round(e[n]*Math.pow(10,i))/Math.pow(10,i),s=Math.round(t[n]*Math.pow(10,i))/Math.pow(10,i);if(a!==s)return!1}return!0},"hasConverged"),w6e=l(function(e,t,r,i){for(var n=[],a=0;a<t;a++){for(var s=[],o=0;o<t;o++)Math.round(e[a*t+o]*1e3)/1e3>0&&s.push(r[o]);s.length!==0&&n.push(i.collection(s))}return n},"assign"),k6e=l(function(e,t){for(var r=0;r<e.length;r++)if(!t[r]||e[r].id()!==t[r].id())return!1;return!0},"isDuplicate"),T6e=l(function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e.length;r++)t!=r&&k6e(e[t],e[r])&&e.splice(r,1);return e},"removeDuplicates"),xR=l(function(e){for(var t=this.nodes(),r=this.edges(),i=this.cy(),n=g6e(e),a={},s=0;s<t.length;s++)a[t[s].id()]=s;for(var o=t.length,u=o*o,h=new Array(u),d,p=0;p<u;p++)h[p]=0;for(var g=0;g<r.length;g++){var f=r[g],m=a[f.source().id()],y=a[f.target().id()],b=f6e(f,n.attributes);h[m*o+y]+=b,h[y*o+m]+=b}m6e(h,o,n.multFactor),bR(h,o);for(var v=!0,x=0;v&&x<n.maxIterations;)v=!1,d=v6e(h,o,n.expandFactor),h=b6e(d,o,n.inflateFactor),x6e(h,d,u,4)||(v=!0),x++;var w=w6e(h,o,t,i);return w=T6e(w),w},"markovClustering"),E6e={markovClustering:xR,mcl:xR},C6e=l(function(e){return e},"identity"),wR=l(function(e,t){return Math.abs(t-e)},"absDiff"),kR=l(function(e,t,r){return e+wR(t,r)},"addAbsDiff"),TR=l(function(e,t,r){return e+Math.pow(r-t,2)},"addSquaredDiff"),S6e=l(function(e){return Math.sqrt(e)},"sqrt"),_6e=l(function(e,t,r){return Math.max(e,wR(t,r))},"maxAbsDiff"),g1=l(function(e,t,r,i,n){for(var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:C6e,s=i,o,u,h=0;h<e;h++)o=t(h),u=r(h),s=n(s,o,u);return a(s)},"getDistance"),Pd={euclidean:l(function(e,t,r){return e>=2?g1(e,t,r,0,TR,S6e):g1(e,t,r,0,kR)},"euclidean"),squaredEuclidean:l(function(e,t,r){return g1(e,t,r,0,TR)},"squaredEuclidean"),manhattan:l(function(e,t,r){return g1(e,t,r,0,kR)},"manhattan"),max:l(function(e,t,r){return g1(e,t,r,-1/0,_6e)},"max")},Pd["squared-euclidean"]=Pd.squaredEuclidean,Pd.squaredeuclidean=Pd.squaredEuclidean,l(z2,"clusteringDistance"),A6e=yn({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),ek=l(function(e){return A6e(e)},"setOptions"),hv=l(function(e,t,r,i,n){var a=n!=="kMedoids",s=a?function(d){return r[d]}:function(d){return i[d](r)},o=l(function(d){return i[d](t)},"getQ"),u=r,h=t;return z2(e,i.length,s,o,u,h)},"getDist"),tk=l(function(e,t,r){for(var i=r.length,n=new Array(i),a=new Array(i),s=new Array(t),o=null,u=0;u<i;u++)n[u]=e.min(r[u]).value,a[u]=e.max(r[u]).value;for(var h=0;h<t;h++){o=[];for(var d=0;d<i;d++)o[d]=Math.random()*(a[d]-n[d])+n[d];s[h]=o}return s},"randomCentroids"),ER=l(function(e,t,r,i,n){for(var a=1/0,s=0,o=0;o<t.length;o++){var u=hv(r,e,t[o],i,n);u<a&&(a=u,s=o)}return s},"classify"),CR=l(function(e,t,r){for(var i=[],n=null,a=0;a<t.length;a++)n=t[a],r[n.id()]===e&&i.push(n);return i},"buildCluster"),L6e=l(function(e,t,r){return Math.abs(t-e)<=r},"haveValuesConverged"),N6e=l(function(e,t,r){for(var i=0;i<e.length;i++)for(var n=0;n<e[i].length;n++){var a=Math.abs(e[i][n]-t[i][n]);if(a>r)return!1}return!0},"haveMatricesConverged"),M6e=l(function(e,t,r){for(var i=0;i<r;i++)if(e===t[i])return!0;return!1},"seenBefore"),SR=l(function(e,t){var r=new Array(t);if(e.length<50)for(var i=0;i<t;i++){for(var n=e[Math.floor(Math.random()*e.length)];M6e(n,r,i);)n=e[Math.floor(Math.random()*e.length)];r[i]=n}else for(var a=0;a<t;a++)r[a]=e[Math.floor(Math.random()*e.length)];return r},"randomMedoids"),_R=l(function(e,t,r){for(var i=0,n=0;n<t.length;n++)i+=hv("manhattan",t[n],e,r,"kMedoids");return i},"findCost"),I6e=l(function(e){var t=this.cy(),r=this.nodes(),i=null,n=ek(e),a=new Array(n.k),s={},o;n.testMode?typeof n.testCentroids=="number"?(n.testCentroids,o=tk(r,n.k,n.attributes)):Xi(n.testCentroids)==="object"?o=n.testCentroids:o=tk(r,n.k,n.attributes):o=tk(r,n.k,n.attributes);for(var u=!0,h=0;u&&h<n.maxIterations;){for(var d=0;d<r.length;d++)i=r[d],s[i.id()]=ER(i,o,n.distance,n.attributes,"kMeans");u=!1;for(var p=0;p<n.k;p++){var g=CR(p,r,s);if(g.length!==0){for(var f=n.attributes.length,m=o[p],y=new Array(f),b=new Array(f),v=0;v<f;v++){b[v]=0;for(var x=0;x<g.length;x++)i=g[x],b[v]+=n.attributes[v](i);y[v]=b[v]/g.length,L6e(y[v],m[v],n.sensitivityThreshold)||(u=!0)}o[p]=y,a[p]=t.collection(g)}}h++}return a},"kMeans"),D6e=l(function(e){var t=this.cy(),r=this.nodes(),i=null,n=ek(e),a=new Array(n.k),s,o={},u,h=new Array(n.k);n.testMode?typeof n.testCentroids=="number"||(Xi(n.testCentroids)==="object"?s=n.testCentroids:s=SR(r,n.k)):s=SR(r,n.k);for(var d=!0,p=0;d&&p<n.maxIterations;){for(var g=0;g<r.length;g++)i=r[g],o[i.id()]=ER(i,s,n.distance,n.attributes,"kMedoids");d=!1;for(var f=0;f<s.length;f++){var m=CR(f,r,o);if(m.length!==0){h[f]=_R(s[f],m,n.attributes);for(var y=0;y<m.length;y++)u=_R(m[y],m,n.attributes),u<h[f]&&(h[f]=u,s[f]=m[y],d=!0);a[f]=t.collection(m)}}p++}return a},"kMedoids"),R6e=l(function(e,t,r,i,n){for(var a,s,o=0;o<t.length;o++)for(var u=0;u<e.length;u++)i[o][u]=Math.pow(r[o][u],n.m);for(var h=0;h<e.length;h++)for(var d=0;d<n.attributes.length;d++){a=0,s=0;for(var p=0;p<t.length;p++)a+=i[p][h]*n.attributes[d](t[p]),s+=i[p][h];e[h][d]=a/s}},"updateCentroids"),O6e=l(function(e,t,r,i,n){for(var a=0;a<e.length;a++)t[a]=e[a].slice();for(var s,o,u,h=2/(n.m-1),d=0;d<r.length;d++)for(var p=0;p<i.length;p++){s=0;for(var g=0;g<r.length;g++)o=hv(n.distance,i[p],r[d],n.attributes,"cmeans"),u=hv(n.distance,i[p],r[g],n.attributes,"cmeans"),s+=Math.pow(o/u,h);e[p][d]=1/s}},"updateMembership"),P6e=l(function(e,t,r,i){for(var n=new Array(r.k),a=0;a<n.length;a++)n[a]=[];for(var s,o,u=0;u<t.length;u++){s=-1/0,o=-1;for(var h=0;h<t[0].length;h++)t[u][h]>s&&(s=t[u][h],o=h);n[o].push(e[u])}for(var d=0;d<n.length;d++)n[d]=i.collection(n[d]);return n},"assign"),AR=l(function(e){var t=this.cy(),r=this.nodes(),i=ek(e),n,a,s,o,u;o=new Array(r.length);for(var h=0;h<r.length;h++)o[h]=new Array(i.k);s=new Array(r.length);for(var d=0;d<r.length;d++)s[d]=new Array(i.k);for(var p=0;p<r.length;p++){for(var g=0,f=0;f<i.k;f++)s[p][f]=Math.random(),g+=s[p][f];for(var m=0;m<i.k;m++)s[p][m]=s[p][m]/g}a=new Array(i.k);for(var y=0;y<i.k;y++)a[y]=new Array(i.attributes.length);u=new Array(r.length);for(var b=0;b<r.length;b++)u[b]=new Array(i.k);for(var v=!0,x=0;v&&x<i.maxIterations;)v=!1,R6e(a,r,s,u,i),O6e(s,o,a,r,i),N6e(s,o,i.sensitivityThreshold)||(v=!0),x++;return n=P6e(r,s,i,t),{clusters:n,degreeOfMembership:s}},"fuzzyCMeans"),B6e={kMeans:I6e,kMedoids:D6e,fuzzyCMeans:AR,fcm:AR},$6e=yn({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),F6e={single:"min",complete:"max"},z6e=l(function(e){var t=$6e(e),r=F6e[t.linkage];return r!=null&&(t.linkage=r),t},"setOptions"),LR=l(function(e,t,r,i,n){for(var a=0,s=1/0,o,u=n.attributes,h=l(function(C,E){return z2(n.distance,u.length,function(N){return u[N](C)},function(N){return u[N](E)},C,E)},"getDist"),d=0;d<e.length;d++){var p=e[d].key,g=r[p][i[p]];g<s&&(a=p,s=g)}if(n.mode==="threshold"&&s>=n.threshold||n.mode==="dendrogram"&&e.length===1)return!1;var f=t[a],m=t[i[a]],y;n.mode==="dendrogram"?y={left:f,right:m,key:f.key}:y={value:f.value.concat(m.value),key:f.key},e[f.index]=y,e.splice(m.index,1),t[f.key]=y;for(var b=0;b<e.length;b++){var v=e[b];f.key===v.key?o=1/0:n.linkage==="min"?(o=r[f.key][v.key],r[f.key][v.key]>r[m.key][v.key]&&(o=r[m.key][v.key])):n.linkage==="max"?(o=r[f.key][v.key],r[f.key][v.key]<r[m.key][v.key]&&(o=r[m.key][v.key])):n.linkage==="mean"?o=(r[f.key][v.key]*f.size+r[m.key][v.key]*m.size)/(f.size+m.size):n.mode==="dendrogram"?o=h(v.value,f.value):o=h(v.value[0],f.value[0]),r[f.key][v.key]=r[v.key][f.key]=o}for(var x=0;x<e.length;x++){var w=e[x].key;if(i[w]===f.key||i[w]===m.key){for(var k=w,T=0;T<e.length;T++){var _=e[T].key;r[w][_]<r[w][k]&&(k=_)}i[w]=k}e[x].index=x}return f.key=m.key=f.index=m.index=null,!0},"mergeClosest"),Bd=l(function(e,t,r){e&&(e.value?t.push(e.value):(e.left&&Bd(e.left,t),e.right&&Bd(e.right,t)))},"getAllChildren"),rk=l(function(e,t){if(!e)return"";if(e.left&&e.right){var r=rk(e.left,t),i=rk(e.right,t),n=t.add({group:"nodes",data:{id:r+","+i}});return t.add({group:"edges",data:{source:r,target:n.id()}}),t.add({group:"edges",data:{source:i,target:n.id()}}),n.id()}else if(e.value)return e.value.id()},"buildDendrogram"),ik=l(function(e,t,r){if(!e)return[];var i=[],n=[],a=[];return t===0?(e.left&&Bd(e.left,i),e.right&&Bd(e.right,n),a=i.concat(n),[r.collection(a)]):t===1?e.value?[r.collection(e.value)]:(e.left&&Bd(e.left,i),e.right&&Bd(e.right,n),[r.collection(i),r.collection(n)]):e.value?[r.collection(e.value)]:(e.left&&(i=ik(e.left,t-1,r)),e.right&&(n=ik(e.right,t-1,r)),i.concat(n))},"buildClustersFromTree"),NR=l(function(e){for(var t=this.cy(),r=this.nodes(),i=z6e(e),n=i.attributes,a=l(function(v,x){return z2(i.distance,n.length,function(w){return n[w](v)},function(w){return n[w](x)},v,x)},"getDist"),s=[],o=[],u=[],h=[],d=0;d<r.length;d++){var p={value:i.mode==="dendrogram"?r[d]:[r[d]],key:d,index:d};s[d]=p,h[d]=p,o[d]=[],u[d]=0}for(var g=0;g<s.length;g++)for(var f=0;f<=g;f++){var m=void 0;i.mode==="dendrogram"?m=g===f?1/0:a(s[g].value,s[f].value):m=g===f?1/0:a(s[g].value[0],s[f].value[0]),o[g][f]=m,o[f][g]=m,m<o[g][u[g]]&&(u[g]=f)}for(var y=LR(s,h,o,u,i);y;)y=LR(s,h,o,u,i);var b;return i.mode==="dendrogram"?(b=ik(s[0],i.dendrogramDepth,t),i.addDendrogram&&rk(s[0],t)):(b=new Array(s.length),s.forEach(function(v,x){v.key=v.index=null,b[x]=t.collection(v.value)})),b},"hierarchicalClustering"),G6e={hierarchicalClustering:NR,hca:NR},U6e=yn({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),q6e=l(function(e){var t=e.damping,r=e.preference;.5<=t&&t<1||oi("Damping must range on [0.5, 1).  Got: ".concat(t));var i=["median","mean","min","max"];return i.some(function(n){return n===r})||yt(r)||oi("Preference must be one of [".concat(i.map(function(n){return"'".concat(n,"'")}).join(", "),"] or a number.  Got: ").concat(r)),U6e(e)},"setOptions"),j6e=l(function(e,t,r,i){var n=l(function(a,s){return i[s](a)},"attr");return-z2(e,i.length,function(a){return n(t,a)},function(a){return n(r,a)},t,r)},"getSimilarity"),H6e=l(function(e,t){var r=null;return t==="median"?r=H5e(e):t==="mean"?r=j5e(e):t==="min"?r=U5e(e):t==="max"?r=q5e(e):r=t,r},"getPreference"),V6e=l(function(e,t,r){for(var i=[],n=0;n<e;n++)t[n*e+n]+r[n*e+n]>0&&i.push(n);return i},"findExemplars"),MR=l(function(e,t,r){for(var i=[],n=0;n<e;n++){for(var a=-1,s=-1/0,o=0;o<r.length;o++){var u=r[o];t[n*e+u]>s&&(a=u,s=t[n*e+u])}a>0&&i.push(a)}for(var h=0;h<r.length;h++)i[r[h]]=r[h];return i},"assignClusters"),Y6e=l(function(e,t,r){for(var i=MR(e,t,r),n=0;n<r.length;n++){for(var a=[],s=0;s<i.length;s++)i[s]===r[n]&&a.push(s);for(var o=-1,u=-1/0,h=0;h<a.length;h++){for(var d=0,p=0;p<a.length;p++)d+=t[a[p]*e+a[h]];d>u&&(o=h,u=d)}r[n]=a[o]}return i=MR(e,t,r),i},"assign"),IR=l(function(e){for(var t=this.cy(),r=this.nodes(),i=q6e(e),n={},a=0;a<r.length;a++)n[r[a].id()]=a;var s,o,u,h,d,p;s=r.length,o=s*s,u=new Array(o);for(var g=0;g<o;g++)u[g]=-1/0;for(var f=0;f<s;f++)for(var m=0;m<s;m++)f!==m&&(u[f*s+m]=j6e(i.distance,r[f],r[m],i.attributes));h=H6e(u,i.preference);for(var y=0;y<s;y++)u[y*s+y]=h;d=new Array(o);for(var b=0;b<o;b++)d[b]=0;p=new Array(o);for(var v=0;v<o;v++)p[v]=0;for(var x=new Array(s),w=new Array(s),k=new Array(s),T=0;T<s;T++)x[T]=0,w[T]=0,k[T]=0;for(var _=new Array(s*i.minIterations),C=0;C<_.length;C++)_[C]=0;var E;for(E=0;E<i.maxIterations;E++){for(var N=0;N<s;N++){for(var M=-1/0,I=-1/0,A=-1,B=0,S=0;S<s;S++)x[S]=d[N*s+S],B=p[N*s+S]+u[N*s+S],B>=M?(I=M,M=B,A=S):B>I&&(I=B);for(var O=0;O<s;O++)d[N*s+O]=(1-i.damping)*(u[N*s+O]-M)+i.damping*x[O];d[N*s+A]=(1-i.damping)*(u[N*s+A]-I)+i.damping*x[A]}for(var R=0;R<s;R++){for(var P=0,L=0;L<s;L++)x[L]=p[L*s+R],w[L]=Math.max(0,d[L*s+R]),P+=w[L];P-=w[R],w[R]=d[R*s+R],P+=w[R];for(var $=0;$<s;$++)p[$*s+R]=(1-i.damping)*Math.min(0,P-w[$])+i.damping*x[$];p[R*s+R]=(1-i.damping)*(P-w[R])+i.damping*x[R]}for(var F=0,G=0;G<s;G++){var q=p[G*s+G]+d[G*s+G]>0?1:0;_[E%i.minIterations*s+G]=q,F+=q}if(F>0&&(E>=i.minIterations-1||E==i.maxIterations-1)){for(var V=0,H=0;H<s;H++){k[H]=0;for(var ae=0;ae<i.minIterations;ae++)k[H]+=_[ae*s+H];(k[H]===0||k[H]===i.minIterations)&&V++}if(V===s)break}}for(var re=V6e(s,d,p),oe=Y6e(s,u,re),ue={},W=0;W<re.length;W++)ue[re[W]]=[];for(var ee=0;ee<r.length;ee++){var X=n[r[ee].id()],Z=oe[X];Z!=null&&ue[Z].push(r[ee])}for(var J=new Array(re.length),he=0;he<re.length;he++)J[he]=t.collection(ue[re[he]]);return J},"affinityPropagation"),W6e={affinityPropagation:IR,ap:IR},X6e=yn({root:void 0,directed:!1}),K6e={hierholzer:l(function(e){if(!Cr(e)){var t=arguments;e={root:t[0],directed:t[1]}}var r=X6e(e),i=r.root,n=r.directed,a=this,s=!1,o,u,h;i&&(h=qt(i)?this.filter(i)[0].id():i[0].id());var d={},p={};n?a.forEach(function(v){var x=v.id();if(v.isNode()){var w=v.indegree(!0),k=v.outdegree(!0),T=w-k,_=k-w;T==1?o?s=!0:o=x:_==1?u?s=!0:u=x:(_>1||T>1)&&(s=!0),d[x]=[],v.outgoers().forEach(function(C){C.isEdge()&&d[x].push(C.id())})}else p[x]=[void 0,v.target().id()]}):a.forEach(function(v){var x=v.id();if(v.isNode()){var w=v.degree(!0);w%2&&(o?u?s=!0:u=x:o=x),d[x]=[],v.connectedEdges().forEach(function(k){return d[x].push(k.id())})}else p[x]=[v.source().id(),v.target().id()]});var g={found:!1,trail:void 0};if(s)return g;if(u&&o)if(n){if(h&&u!=h)return g;h=u}else{if(h&&u!=h&&o!=h)return g;h||(h=u)}else h||(h=a[0].id());var f=l(function(v){for(var x=v,w=[v],k,T,_;d[x].length;)k=d[x].shift(),T=p[k][0],_=p[k][1],x!=_?(d[_]=d[_].filter(function(C){return C!=k}),x=_):!n&&x!=T&&(d[T]=d[T].filter(function(C){return C!=k}),x=T),w.unshift(k),w.unshift(x);return w},"walk"),m=[],y=[];for(y=f(h);y.length!=1;)d[y[0]].length==0?(m.unshift(a.getElementById(y.shift())),m.unshift(a.getElementById(y.shift()))):y=f(y.shift()).concat(y);m.unshift(a.getElementById(y.shift()));for(var b in d)if(d[b].length)return g;return g.found=!0,g.trail=this.spawn(m,!0),g},"hierholzer")},dv=l(function(){var e=this,t={},r=0,i=0,n=[],a=[],s={},o=l(function(d,p){for(var g=a.length-1,f=[],m=e.spawn();a[g].x!=d||a[g].y!=p;)f.push(a.pop().edge),g--;f.push(a.pop().edge),f.forEach(function(y){var b=y.connectedNodes().intersection(e);m.merge(y),b.forEach(function(v){var x=v.id(),w=v.connectedEdges().intersection(e);m.merge(v),t[x].cutVertex?m.merge(w.filter(function(k){return k.isLoop()})):m.merge(w)})}),n.push(m)},"buildComponent"),u=l(function(d,p,g){d===g&&(i+=1),t[p]={id:r,low:r++,cutVertex:!1};var f=e.getElementById(p).connectedEdges().intersection(e);if(f.size()===0)n.push(e.spawn(e.getElementById(p)));else{var m,y,b,v;f.forEach(function(x){m=x.source().id(),y=x.target().id(),b=m===p?y:m,b!==g&&(v=x.id(),s[v]||(s[v]=!0,a.push({x:p,y:b,edge:x})),b in t?t[p].low=Math.min(t[p].low,t[b].id):(u(d,b,p),t[p].low=Math.min(t[p].low,t[b].low),t[p].id<=t[b].low&&(t[p].cutVertex=!0,o(p,b))))})}},"biconnectedSearch");e.forEach(function(d){if(d.isNode()){var p=d.id();p in t||(i=0,u(p,p),t[p].cutVertex=i>1)}});var h=Object.keys(t).filter(function(d){return t[d].cutVertex}).map(function(d){return e.getElementById(d)});return{cut:e.spawn(h),components:n}},"hopcroftTarjanBiconnected"),Z6e={hopcroftTarjanBiconnected:dv,htbc:dv,htb:dv,hopcroftTarjanBiconnectedComponents:dv},pv=l(function(){var e=this,t={},r=0,i=[],n=[],a=e.spawn(e),s=l(function(o){n.push(o),t[o]={index:r,low:r++,explored:!1};var u=e.getElementById(o).connectedEdges().intersection(e);if(u.forEach(function(f){var m=f.target().id();m!==o&&(m in t||s(m),t[m].explored||(t[o].low=Math.min(t[o].low,t[m].low)))}),t[o].index===t[o].low){for(var h=e.spawn();;){var d=n.pop();if(h.merge(e.getElementById(d)),t[d].low=t[o].index,t[d].explored=!0,d===o)break}var p=h.edgesWith(h),g=h.merge(p);i.push(g),a=a.difference(g)}},"stronglyConnectedSearch");return e.forEach(function(o){if(o.isNode()){var u=o.id();u in t||s(u)}}),{cut:a,components:i}},"tarjanStronglyConnected"),Q6e={tarjanStronglyConnected:pv,tsc:pv,tscc:pv,tarjanStronglyConnectedComponents:pv},DR={},[c1,N5e,M5e,D5e,O5e,B5e,z5e,h6e,Rd,Od,Jw,E6e,B6e,G6e,W6e,K6e,Z6e,Q6e].forEach(function(e){Qt(DR,e)}),RR=0,OR=1,PR=2,Ps=l(function(e){if(!(this instanceof Ps))return new Ps(e);this.id="Thenable/1.0.7",this.state=RR,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))},"api"),Ps.prototype={fulfill:l(function(e){return BR(this,OR,"fulfillValue",e)},"fulfill"),reject:l(function(e){return BR(this,PR,"rejectReason",e)},"reject"),then:l(function(e,t){var r=this,i=new Ps;return r.onFulfilled.push(zR(e,i,"fulfill")),r.onRejected.push(zR(t,i,"reject")),$R(r),i.proxy},"then")},BR=l(function(e,t,r,i){return e.state===RR&&(e.state=t,e[r]=i,$R(e)),e},"deliver"),$R=l(function(e){e.state===OR?FR(e,"onFulfilled",e.fulfillValue):e.state===PR&&FR(e,"onRejected",e.rejectReason)},"execute"),FR=l(function(e,t,r){if(e[t].length!==0){var i=e[t];e[t]=[];var n=l(function(){for(var a=0;a<i.length;a++)i[a](r)},"func");typeof setImmediate=="function"?setImmediate(n):setTimeout(n,0)}},"execute_handlers"),zR=l(function(e,t,r){return function(i){if(typeof e!="function")t[r].call(t,i);else{var n;try{n=e(i)}catch(a){t.reject(a);return}GR(t,n)}}},"resolver"),GR=l(function(e,t){if(e===t||e.proxy===t){e.reject(new TypeError("cannot resolve promise with itself"));return}var r;if(Xi(t)==="object"&&t!==null||typeof t=="function")try{r=t.then}catch(n){e.reject(n);return}if(typeof r=="function"){var i=!1;try{r.call(t,function(n){i||(i=!0,n===t?e.reject(new TypeError("circular thenable chain")):GR(e,n))},function(n){i||(i=!0,e.reject(n))})}catch(n){i||e.reject(n)}return}e.fulfill(t)},"resolve"),Ps.all=function(e){return new Ps(function(t,r){for(var i=new Array(e.length),n=0,a=l(function(o,u){i[o]=u,n++,n===e.length&&t(i)},"fulfill"),s=0;s<e.length;s++)(function(o){var u=e[o],h=u!=null&&u.then!=null;if(h)u.then(function(p){a(o,p)},function(p){r(p)});else{var d=u;a(o,d)}})(s)})},Ps.resolve=function(e){return new Ps(function(t,r){t(e)})},Ps.reject=function(e){return new Ps(function(t,r){r(e)})},$d=typeof Promise<"u"?Promise:Ps,nk=l(function(e,t,r){var i=$w(e),n=!i,a=this._private=Qt({duration:1e3},t,r);if(a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&di(a.complete)&&a.completes.push(a.complete),n){var s=e.position();a.startPosition=a.startPosition||{x:s.x,y:s.y},a.startStyle=a.startStyle||e.cy().style().getAnimationStartStyle(e,a.style)}if(i){var o=e.pan();a.startPan={x:o.x,y:o.y},a.startZoom=e.zoom()}this.length=1,this[0]=this},"Animation"),eh=nk.prototype,Qt(eh,{instanceString:l(function(){return"animation"},"instanceString"),hook:l(function(){var e=this._private;if(!e.hooked){var t,r=e.target._private.animation;e.queue?t=r.queue:t=r.current,t.push(this),Ua(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},"hook"),play:l(function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},"play"),playing:l(function(){return this._private.playing},"playing"),apply:l(function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},"apply"),applying:l(function(){return this._private.applying},"applying"),pause:l(function(){var e=this._private;return e.playing=!1,e.started=!1,this},"pause"),stop:l(function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},"stop"),rewind:l(function(){return this.progress(0)},"rewind"),fastforward:l(function(){return this.progress(1)},"fastforward"),time:l(function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},"time"),progress:l(function(e){var t=this._private,r=t.playing;return e===void 0?t.progress:(r&&this.pause(),t.progress=e,t.started=!1,r&&this.play(),this)},"progress"),completed:l(function(){return this._private.progress===1},"completed"),reverse:l(function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var r=l(function(o,u){var h=e[o];h!=null&&(e[o]=e[u],e[u]=h)},"swap");if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var n=e.style[i],a=n.name,s=e.startStyle[a];e.startStyle[a]=n,e.style[i]=s}return t&&this.play(),this},"reverse"),promise:l(function(e){var t=this._private,r;switch(e){case"frame":r=t.frames;break;default:case"complete":case"completed":r=t.completes}return new $d(function(i,n){r.push(function(){i()})})},"promise")}),eh.complete=eh.completed,eh.run=eh.play,eh.running=eh.playing,J6e={animated:l(function(){return l(function(){var e=this,t=e.length!==void 0,r=t?e:[e],i=this._private.cy||this;if(!i.styleEnabled())return!1;var n=r[0];if(n)return n._private.animation.current.length>0},"animatedImpl")},"animated"),clearQueue:l(function(){return l(function(){var e=this,t=e.length!==void 0,r=t?e:[e],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var n=0;n<r.length;n++){var a=r[n];a._private.animation.queue=[]}return this},"clearQueueImpl")},"clearQueue"),delay:l(function(){return l(function(e,t){var r=this._private.cy||this;return r.styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this},"delayImpl")},"delay"),delayAnimation:l(function(){return l(function(e,t){var r=this._private.cy||this;return r.styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this},"delayAnimationImpl")},"delayAnimation"),animation:l(function(){return l(function(e,t){var r=this,i=r.length!==void 0,n=i?r:[r],a=this._private.cy||this,s=!i,o=!s;if(!a.styleEnabled())return this;var u=a.style();e=Qt({},e,t);var h=Object.keys(e).length===0;if(h)return new nk(n[0],e);switch(e.duration===void 0&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200;break}if(o&&(e.style=u.getPropsList(e.style||e.css),e.css=void 0),o&&e.renderedPosition!=null){var d=e.renderedPosition,p=a.pan(),g=a.zoom();e.position=cR(d,g,p)}if(s&&e.panBy!=null){var f=e.panBy,m=a.pan();e.pan={x:m.x+f.x,y:m.y+f.y}}var y=e.center||e.centre;if(s&&y!=null){var b=a.getCenterPan(y.eles,e.zoom);b!=null&&(e.pan=b)}if(s&&e.fit!=null){var v=e.fit,x=a.getFitViewport(v.eles||v.boundingBox,v.padding);x!=null&&(e.pan=x.pan,e.zoom=x.zoom)}if(s&&Cr(e.zoom)){var w=a.getZoomedViewport(e.zoom);w!=null?(w.zoomed&&(e.zoom=w.zoom),w.panned&&(e.pan=w.pan)):e.zoom=null}return new nk(n[0],e)},"animationImpl")},"animation"),animate:l(function(){return l(function(e,t){var r=this,i=r.length!==void 0,n=i?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;t&&(e=Qt({},e,t));for(var s=0;s<n.length;s++){var o=n[s],u=o.animated()&&(e.queue===void 0||e.queue),h=o.animation(e,u?{queue:!0}:void 0);h.play()}return this},"animateImpl")},"animate"),stop:l(function(){return l(function(e,t){var r=this,i=r.length!==void 0,n=i?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var s=0;s<n.length;s++){for(var o=n[s],u=o._private,h=u.animation.current,d=0;d<h.length;d++){var p=h[d],g=p._private;t&&(g.duration=0)}e&&(u.animation.queue=[]),t||(u.animation.current=[])}return a.notify("draw"),this},"stopImpl")},"stop")},l(G2,"requireIsArray"),l(n4e,"require_isKey"),l(a4e,"requireIsFunction"),l(s4e,"require_coreJsData"),l(o4e,"require_isMasked"),l(l4e,"require_toSource"),l(c4e,"require_baseIsNative"),l(u4e,"require_getValue"),l(Sw,"require_getNative"),l(U2,"require_nativeCreate"),l(h4e,"require_hashClear"),l(d4e,"require_hashDelete"),l(p4e,"require_hashGet"),l(g4e,"require_hashHas"),l(f4e,"require_hashSet"),l(m4e,"require_Hash"),l(y4e,"require_listCacheClear"),l(GI,"requireEq"),l(q2,"require_assocIndexOf"),l(v4e,"require_listCacheDelete"),l(b4e,"require_listCacheGet"),l(x4e,"require_listCacheHas"),l(w4e,"require_listCacheSet"),l(k4e,"require_ListCache"),l(T4e,"require_Map"),l(E4e,"require_mapCacheClear"),l(C4e,"require_isKeyable"),l(j2,"require_getMapData"),l(S4e,"require_mapCacheDelete"),l(_4e,"require_mapCacheGet"),l(A4e,"require_mapCacheHas"),l(L4e,"require_mapCacheSet"),l(N4e,"require_MapCache"),l(M4e,"requireMemoize"),l(I4e,"require_memoizeCapped"),l(UI,"require_stringToPath"),l(qI,"require_arrayMap"),l(D4e,"require_baseToString"),l(jI,"requireToString"),l(HI,"require_castPath"),l(_w,"require_toKey"),l(R4e,"require_baseGet"),l(O4e,"requireGet"),qwe=O4e(),jwe=Jg(qwe),l(P4e,"require_defineProperty"),l(B4e,"require_baseAssignValue"),l($4e,"require_assignValue"),l(F4e,"require_isIndex"),l(z4e,"require_baseSet"),l(G4e,"requireSet"),Zwe=G4e(),Qwe=Jg(Zwe),l(U4e,"require_copyArray"),l(q4e,"requireToPath"),tke=q4e(),rke=Jg(tke),ike={data:l(function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:l(function(r){},"beforeGet"),beforeSet:l(function(r,i){},"beforeSet"),onSet:l(function(r){},"onSet"),canSet:l(function(r){return!0},"canSet")};return e=Qt({},t,e),l(function(r,i){var n=e,a=this,s=a.length!==void 0,o=s?a:[a],u=s?a[0]:a;if(qt(r)){var h=r.indexOf(".")!==-1,d=h&&rke(r);if(n.allowGetting&&i===void 0){var p;return u&&(n.beforeGet(u),d&&u._private[n.field][r]===void 0?p=jwe(u._private[n.field],d):p=u._private[n.field][r]),p}else if(n.allowSetting&&i!==void 0){var g=!n.immutableKeys[r];if(g){var f=$I({},r,i);n.beforeSet(a,f);for(var m=0,y=o.length;m<y;m++){var b=o[m];n.canSet(b)&&(d&&u._private[n.field][r]===void 0?Qwe(b._private[n.field],d,i):b._private[n.field][r]=i)}n.updateStyle&&a.updateStyle(),n.onSet(a),n.settingTriggersEvent&&a[n.triggerFnName](n.settingEvent)}}}else if(n.allowSetting&&Cr(r)){var v=r,x,w,k=Object.keys(v);n.beforeSet(a,v);for(var T=0;T<k.length;T++){x=k[T],w=v[x];var _=!n.immutableKeys[x];if(_)for(var C=0;C<o.length;C++){var E=o[C];n.canSet(E)&&(E._private[n.field][x]=w)}}n.updateStyle&&a.updateStyle(),n.onSet(a),n.settingTriggersEvent&&a[n.triggerFnName](n.settingEvent)}else if(n.allowBinding&&di(r)){var N=r;a.on(n.bindingEvent,N)}else if(n.allowGetting&&r===void 0){var M;return u&&(n.beforeGet(u),M=u._private[n.field]),M}return a},"dataImpl")},"data"),removeData:l(function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Qt({},t,e),l(function(r){var i=e,n=this,a=n.length!==void 0,s=a?n:[n];if(qt(r)){for(var o=r.split(/\s+/),u=o.length,h=0;h<u;h++){var d=o[h];if(!fc(d)){var p=!i.immutableKeys[d];if(p)for(var g=0,f=s.length;g<f;g++)s[g]._private[i.field][d]=void 0}}i.triggerEvent&&n[i.triggerFnName](i.event)}else if(r===void 0){for(var m=0,y=s.length;m<y;m++)for(var b=s[m]._private[i.field],v=Object.keys(b),x=0;x<v.length;x++){var w=v[x],k=!i.immutableKeys[w];k&&(b[w]=void 0)}i.triggerEvent&&n[i.triggerFnName](i.event)}return n},"removeDataImpl")},"removeData")},nke={eventAliasesOn:l(function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(r,i){var n=this,a=Array.prototype.slice.call(arguments,0);return new $d(function(s,o){var u=l(function(p){n.off.apply(n,d),s(p)},"callback"),h=a.concat([u]),d=h.concat([]);n.on.apply(n,h)})}},"eventAliasesOn")},Fr={},[J6e,ike,nke].forEach(function(e){Qt(Fr,e)}),ake={animate:Fr.animate(),animation:Fr.animation(),animated:Fr.animated(),clearQueue:Fr.clearQueue(),delay:Fr.delay(),delayAnimation:Fr.delayAnimation(),stop:Fr.stop()},gv={classes:l(function(e){var t=this;if(e===void 0){var r=[];return t[0]._private.classes.forEach(function(f){return r.push(f)}),r}else Wr(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],n=new Md(e),a=0;a<t.length;a++){for(var s=t[a],o=s._private,u=o.classes,h=!1,d=0;d<e.length;d++){var p=e[d],g=u.has(p);if(!g){h=!0;break}}h||(h=u.size!==e.length),h&&(o.classes=n,i.push(s))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),t},"classes"),addClass:l(function(e){return this.toggleClass(e,!0)},"addClass"),hasClass:l(function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},"hasClass"),toggleClass:l(function(e,t){Wr(e)||(e=e.match(/\S+/g)||[]);for(var r=this,i=t===void 0,n=[],a=0,s=r.length;a<s;a++)for(var o=r[a],u=o._private.classes,h=!1,d=0;d<e.length;d++){var p=e[d],g=u.has(p),f=!1;t||i&&!g?(u.add(p),f=!0):(!t||i&&g)&&(u.delete(p),f=!0),!h&&f&&(n.push(o),h=!0)}return n.length>0&&this.spawn(n).updateStyle().emit("class"),r},"toggleClass"),removeClass:l(function(e){return this.toggleClass(e,!1)},"removeClass"),flashClass:l(function(e,t){var r=this;if(t==null)t=250;else if(t===0)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},t),r},"flashClass")},gv.className=gv.classNames=gv.classes,Sr={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Zi,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"},Sr.variable="(?:[\\w-.]|(?:\\\\"+Sr.metaChar+"))+",Sr.className="(?:[\\w-]|(?:\\\\"+Sr.metaChar+"))+",Sr.value=Sr.string+"|"+Sr.number,Sr.id=Sr.variable,function(){var e,t,r;for(e=Sr.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],Sr.comparatorOp+="|@"+t;for(e=Sr.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],!(t.indexOf("!")>=0)&&t!=="="&&(Sr.comparatorOp+="|\\!"+t)}(),Hr=l(function(){return{checks:[]}},"newQuery"),Nt={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},ak=[{selector:":selected",matches:l(function(e){return e.selected()},"matches")},{selector:":unselected",matches:l(function(e){return!e.selected()},"matches")},{selector:":selectable",matches:l(function(e){return e.selectable()},"matches")},{selector:":unselectable",matches:l(function(e){return!e.selectable()},"matches")},{selector:":locked",matches:l(function(e){return e.locked()},"matches")},{selector:":unlocked",matches:l(function(e){return!e.locked()},"matches")},{selector:":visible",matches:l(function(e){return e.visible()},"matches")},{selector:":hidden",matches:l(function(e){return!e.visible()},"matches")},{selector:":transparent",matches:l(function(e){return e.transparent()},"matches")},{selector:":grabbed",matches:l(function(e){return e.grabbed()},"matches")},{selector:":free",matches:l(function(e){return!e.grabbed()},"matches")},{selector:":removed",matches:l(function(e){return e.removed()},"matches")},{selector:":inside",matches:l(function(e){return!e.removed()},"matches")},{selector:":grabbable",matches:l(function(e){return e.grabbable()},"matches")},{selector:":ungrabbable",matches:l(function(e){return!e.grabbable()},"matches")},{selector:":animated",matches:l(function(e){return e.animated()},"matches")},{selector:":unanimated",matches:l(function(e){return!e.animated()},"matches")},{selector:":parent",matches:l(function(e){return e.isParent()},"matches")},{selector:":childless",matches:l(function(e){return e.isChildless()},"matches")},{selector:":child",matches:l(function(e){return e.isChild()},"matches")},{selector:":orphan",matches:l(function(e){return e.isOrphan()},"matches")},{selector:":nonorphan",matches:l(function(e){return e.isChild()},"matches")},{selector:":compound",matches:l(function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()},"matches")},{selector:":loop",matches:l(function(e){return e.isLoop()},"matches")},{selector:":simple",matches:l(function(e){return e.isSimple()},"matches")},{selector:":active",matches:l(function(e){return e.active()},"matches")},{selector:":inactive",matches:l(function(e){return!e.active()},"matches")},{selector:":backgrounding",matches:l(function(e){return e.backgrounding()},"matches")},{selector:":nonbackgrounding",matches:l(function(e){return!e.backgrounding()},"matches")}].sort(function(e,t){return j3e(e.selector,t.selector)}),ske=function(){for(var e={},t,r=0;r<ak.length;r++)t=ak[r],e[t.selector]=t.matches;return e}(),oke=l(function(e,t){return ske[e](t)},"stateSelectorMatches"),lke="("+ak.map(function(e){return e.selector}).join("|")+")",Fd=l(function(e){return e.replace(new RegExp("\\\\("+Sr.metaChar+")","g"),function(t,r){return r})},"cleanMetaChars"),kc=l(function(e,t,r){e[e.length-1]=r},"replaceLastQuery"),sk=[{name:"group",query:!0,regex:"("+Sr.group+")",populate:l(function(e,t,r){var i=Pi(r,1),n=i[0];t.checks.push({type:Nt.GROUP,value:n==="*"?n:n+"s"})},"populate")},{name:"state",query:!0,regex:lke,populate:l(function(e,t,r){var i=Pi(r,1),n=i[0];t.checks.push({type:Nt.STATE,value:n})},"populate")},{name:"id",query:!0,regex:"\\#("+Sr.id+")",populate:l(function(e,t,r){var i=Pi(r,1),n=i[0];t.checks.push({type:Nt.ID,value:Fd(n)})},"populate")},{name:"className",query:!0,regex:"\\.("+Sr.className+")",populate:l(function(e,t,r){var i=Pi(r,1),n=i[0];t.checks.push({type:Nt.CLASS,value:Fd(n)})},"populate")},{name:"dataExists",query:!0,regex:"\\[\\s*("+Sr.variable+")\\s*\\]",populate:l(function(e,t,r){var i=Pi(r,1),n=i[0];t.checks.push({type:Nt.DATA_EXIST,field:Fd(n)})},"populate")},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Sr.variable+")\\s*("+Sr.comparatorOp+")\\s*("+Sr.value+")\\s*\\]",populate:l(function(e,t,r){var i=Pi(r,3),n=i[0],a=i[1],s=i[2],o=new RegExp("^"+Sr.string+"$").exec(s)!=null;o?s=s.substring(1,s.length-1):s=parseFloat(s),t.checks.push({type:Nt.DATA_COMPARE,field:Fd(n),operator:a,value:s})},"populate")},{name:"dataBool",query:!0,regex:"\\[\\s*("+Sr.boolOp+")\\s*("+Sr.variable+")\\s*\\]",populate:l(function(e,t,r){var i=Pi(r,2),n=i[0],a=i[1];t.checks.push({type:Nt.DATA_BOOL,field:Fd(a),operator:n})},"populate")},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Sr.meta+")\\s*("+Sr.comparatorOp+")\\s*("+Sr.number+")\\s*\\]\\]",populate:l(function(e,t,r){var i=Pi(r,3),n=i[0],a=i[1],s=i[2];t.checks.push({type:Nt.META_COMPARE,field:Fd(n),operator:a,value:parseFloat(s)})},"populate")},{name:"nextQuery",separator:!0,regex:Sr.separator,populate:l(function(e,t){var r=e.currentSubject,i=e.edgeCount,n=e.compoundCount,a=e[e.length-1];r!=null&&(a.subject=r,e.currentSubject=null),a.edgeCount=i,a.compoundCount=n,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=Hr();return s},"populate")},{name:"directedEdge",separator:!0,regex:Sr.directedEdge,populate:l(function(e,t){if(e.currentSubject==null){var r=Hr(),i=t,n=Hr();return r.checks.push({type:Nt.DIRECTED_EDGE,source:i,target:n}),kc(e,t,r),e.edgeCount++,n}else{var a=Hr(),s=t,o=Hr();return a.checks.push({type:Nt.NODE_SOURCE,source:s,target:o}),kc(e,t,a),e.edgeCount++,o}},"populate")},{name:"undirectedEdge",separator:!0,regex:Sr.undirectedEdge,populate:l(function(e,t){if(e.currentSubject==null){var r=Hr(),i=t,n=Hr();return r.checks.push({type:Nt.UNDIRECTED_EDGE,nodes:[i,n]}),kc(e,t,r),e.edgeCount++,n}else{var a=Hr(),s=t,o=Hr();return a.checks.push({type:Nt.NODE_NEIGHBOR,node:s,neighbor:o}),kc(e,t,a),o}},"populate")},{name:"child",separator:!0,regex:Sr.child,populate:l(function(e,t){if(e.currentSubject==null){var r=Hr(),i=Hr(),n=e[e.length-1];return r.checks.push({type:Nt.CHILD,parent:n,child:i}),kc(e,t,r),e.compoundCount++,i}else if(e.currentSubject===t){var a=Hr(),s=e[e.length-1],o=Hr(),u=Hr(),h=Hr(),d=Hr();return a.checks.push({type:Nt.COMPOUND_SPLIT,left:s,right:o,subject:u}),u.checks=t.checks,t.checks=[{type:Nt.TRUE}],d.checks.push({type:Nt.TRUE}),o.checks.push({type:Nt.PARENT,parent:d,child:h}),kc(e,s,a),e.currentSubject=u,e.compoundCount++,h}else{var p=Hr(),g=Hr(),f=[{type:Nt.PARENT,parent:p,child:g}];return p.checks=t.checks,t.checks=f,e.compoundCount++,g}},"populate")},{name:"descendant",separator:!0,regex:Sr.descendant,populate:l(function(e,t){if(e.currentSubject==null){var r=Hr(),i=Hr(),n=e[e.length-1];return r.checks.push({type:Nt.DESCENDANT,ancestor:n,descendant:i}),kc(e,t,r),e.compoundCount++,i}else if(e.currentSubject===t){var a=Hr(),s=e[e.length-1],o=Hr(),u=Hr(),h=Hr(),d=Hr();return a.checks.push({type:Nt.COMPOUND_SPLIT,left:s,right:o,subject:u}),u.checks=t.checks,t.checks=[{type:Nt.TRUE}],d.checks.push({type:Nt.TRUE}),o.checks.push({type:Nt.ANCESTOR,ancestor:d,descendant:h}),kc(e,s,a),e.currentSubject=u,e.compoundCount++,h}else{var p=Hr(),g=Hr(),f=[{type:Nt.ANCESTOR,ancestor:p,descendant:g}];return p.checks=t.checks,t.checks=f,e.compoundCount++,g}},"populate")},{name:"subject",modifier:!0,regex:Sr.subject,populate:l(function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return $r("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var r=e[e.length-1],i=r.checks[0],n=i==null?null:i.type;n===Nt.DIRECTED_EDGE?i.type=Nt.NODE_TARGET:n===Nt.UNDIRECTED_EDGE&&(i.type=Nt.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)},"populate")}],sk.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)}),cke=l(function(e){for(var t,r,i,n=0;n<sk.length;n++){var a=sk[n],s=a.name,o=e.match(a.regexObj);if(o!=null){r=o,t=a,i=s;var u=o[0];e=e.substring(u.length);break}}return{expr:t,match:r,name:i,remaining:e}},"consumeExpr"),uke=l(function(e){var t=e.match(/^\s+/);if(t){var r=t[0];e=e.substring(r.length)}return e},"consumeWhitespace"),hke=l(function(e){var t=this,r=t.inputText=e,i=t[0]=Hr();for(t.length=1,r=uke(r);;){var n=cke(r);if(n.expr==null)return $r("The selector `"+e+"`is invalid"),!1;var a=n.match.slice(1),s=n.expr.populate(t,i,a);if(s===!1)return!1;if(s!=null&&(i=s),r=n.remaining,r.match(/^\s*$/))break}var o=t[t.length-1];t.currentSubject!=null&&(o.subject=t.currentSubject),o.edgeCount=t.edgeCount,o.compoundCount=t.compoundCount;for(var u=0;u<t.length;u++){var h=t[u];if(h.compoundCount>0&&h.edgeCount>0)return $r("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(h.edgeCount>1)return $r("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;h.edgeCount===1&&$r("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},"parse"),dke=l(function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=l(function(u){return u??""},"clean"),t=l(function(u){return qt(u)?'"'+u+'"':e(u)},"cleanVal"),r=l(function(u){return" "+u+" "},"space"),i=l(function(u,h){var d=u.type,p=u.value;switch(d){case Nt.GROUP:{var g=e(p);return g.substring(0,g.length-1)}case Nt.DATA_COMPARE:{var f=u.field,m=u.operator;return"["+f+r(e(m))+t(p)+"]"}case Nt.DATA_BOOL:{var y=u.operator,b=u.field;return"["+e(y)+b+"]"}case Nt.DATA_EXIST:{var v=u.field;return"["+v+"]"}case Nt.META_COMPARE:{var x=u.operator,w=u.field;return"[["+w+r(e(x))+t(p)+"]]"}case Nt.STATE:return p;case Nt.ID:return"#"+p;case Nt.CLASS:return"."+p;case Nt.PARENT:case Nt.CHILD:return n(u.parent,h)+r(">")+n(u.child,h);case Nt.ANCESTOR:case Nt.DESCENDANT:return n(u.ancestor,h)+" "+n(u.descendant,h);case Nt.COMPOUND_SPLIT:{var k=n(u.left,h),T=n(u.subject,h),_=n(u.right,h);return k+(k.length>0?" ":"")+T+_}case Nt.TRUE:return""}},"checkToString"),n=l(function(u,h){return u.checks.reduce(function(d,p,g){return d+(h===u&&g===0?"$":"")+i(p,h)},"")},"queryToString"),a="",s=0;s<this.length;s++){var o=this[s];a+=n(o,o.subject),this.length>1&&s<this.length-1&&(a+=", ")}return this.toStringCache=a,a},"toString"),pke={parse:hke,toString:dke},FO=l(function(e,t,r){var i,n=qt(e),a=yt(e),s=qt(r),o,u,h=!1,d=!1,p=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),d=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),h=!0),(n||s||h)&&(o=!n&&!a?"":""+e,u=""+r),h&&(e=o=o.toLowerCase(),r=u=u.toLowerCase()),t){case"*=":i=o.indexOf(u)>=0;break;case"$=":i=o.indexOf(u,o.length-u.length)>=0;break;case"^=":i=o.indexOf(u)===0;break;case"=":i=e===r;break;case">":p=!0,i=e>r;break;case">=":p=!0,i=e>=r;break;case"<":p=!0,i=e<r;break;case"<=":p=!0,i=e<=r;break;default:i=!1;break}return d&&(e!=null||!p)&&(i=!i),i},"valCmp"),gke=l(function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},"boolCmp"),fke=l(function(e){return e!==void 0},"existCmp"),ok=l(function(e,t){return e.data(t)},"data"),mke=l(function(e,t){return e[t]()},"meta"),vi=[],ti=l(function(e,t){return e.checks.every(function(r){return vi[r.type](r,t)})},"matches"),vi[Nt.GROUP]=function(e,t){var r=e.value;return r==="*"||r===t.group()},vi[Nt.STATE]=function(e,t){var r=e.value;return oke(r,t)},vi[Nt.ID]=function(e,t){var r=e.value;return t.id()===r},vi[Nt.CLASS]=function(e,t){var r=e.value;return t.hasClass(r)},vi[Nt.META_COMPARE]=function(e,t){var r=e.field,i=e.operator,n=e.value;return FO(mke(t,r),i,n)},vi[Nt.DATA_COMPARE]=function(e,t){var r=e.field,i=e.operator,n=e.value;return FO(ok(t,r),i,n)},vi[Nt.DATA_BOOL]=function(e,t){var r=e.field,i=e.operator;return gke(ok(t,r),i)},vi[Nt.DATA_EXIST]=function(e,t){var r=e.field;return e.operator,fke(ok(t,r))},vi[Nt.UNDIRECTED_EDGE]=function(e,t){var r=e.nodes[0],i=e.nodes[1],n=t.source(),a=t.target();return ti(r,n)&&ti(i,a)||ti(i,n)&&ti(r,a)},vi[Nt.NODE_NEIGHBOR]=function(e,t){return ti(e.node,t)&&t.neighborhood().some(function(r){return r.isNode()&&ti(e.neighbor,r)})},vi[Nt.DIRECTED_EDGE]=function(e,t){return ti(e.source,t.source())&&ti(e.target,t.target())},vi[Nt.NODE_SOURCE]=function(e,t){return ti(e.source,t)&&t.outgoers().some(function(r){return r.isNode()&&ti(e.target,r)})},vi[Nt.NODE_TARGET]=function(e,t){return ti(e.target,t)&&t.incomers().some(function(r){return r.isNode()&&ti(e.source,r)})},vi[Nt.CHILD]=function(e,t){return ti(e.child,t)&&ti(e.parent,t.parent())},vi[Nt.PARENT]=function(e,t){return ti(e.parent,t)&&t.children().some(function(r){return ti(e.child,r)})},vi[Nt.DESCENDANT]=function(e,t){return ti(e.descendant,t)&&t.ancestors().some(function(r){return ti(e.ancestor,r)})},vi[Nt.ANCESTOR]=function(e,t){return ti(e.ancestor,t)&&t.descendants().some(function(r){return ti(e.descendant,r)})},vi[Nt.COMPOUND_SPLIT]=function(e,t){return ti(e.subject,t)&&ti(e.left,t)&&ti(e.right,t)},vi[Nt.TRUE]=function(){return!0},vi[Nt.COLLECTION]=function(e,t){var r=e.value;return r.has(t)},vi[Nt.FILTER]=function(e,t){var r=e.value;return r(t)},yke=l(function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===Nt.ID)return e.getElementById(t[0].checks[0].value).collection();var r=l(function(i){for(var n=0;n<t.length;n++){var a=t[n];if(ti(a,i))return!0}return!1},"selectorFunction");return t.text()==null&&(r=l(function(){return!0},"selectorFunction")),e.filter(r)},"filter"),vke=l(function(e){for(var t=this,r=0;r<t.length;r++){var i=t[r];if(ti(i,e))return!0}return!1},"matches"),bke={matches:vke,filter:yke},Tc=l(function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||qt(e)&&e.match(/^\s*$/)||(Ua(e)?this.addQuery({checks:[{type:Nt.COLLECTION,value:e.collection()}]}):di(e)?this.addQuery({checks:[{type:Nt.FILTER,value:e}]}):qt(e)?this.parse(e)||(this.invalid=!0):oi("A selector must be created from a string; found "))},"Selector"),Ec=Tc.prototype,[pke,bke].forEach(function(e){return Qt(Ec,e)}),Ec.text=function(){return this.inputText},Ec.size=function(){return this.length},Ec.eq=function(e){return this[e]},Ec.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},Ec.addQuery=function(e){this[this.length++]=e},Ec.selector=Ec.toString,Cc={allAre:l(function(e){var t=new Tc(e);return this.every(function(r){return t.matches(r)})},"allAre"),is:l(function(e){var t=new Tc(e);return this.some(function(r){return t.matches(r)})},"is"),some:l(function(e,t){for(var r=0;r<this.length;r++){var i=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(i)return!0}return!1},"some"),every:l(function(e,t){for(var r=0;r<this.length;r++){var i=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(!i)return!1}return!0},"every"),same:l(function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,r=e.length;return t!==r?!1:t===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},"same"),anySame:l(function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},"anySame"),allAreNeighbors:l(function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(r){return t.hasElementWithId(r.id())})},"allAreNeighbors"),contains:l(function(e){e=this.cy().collection(e);var t=this;return e.every(function(r){return t.hasElementWithId(r.id())})},"contains")},Cc.allAreNeighbours=Cc.allAreNeighbors,Cc.has=Cc.contains,Cc.equal=Cc.equals=Cc.same,os=l(function(e,t){return l(function(r,i,n,a){var s=r,o=this,u;if(s==null?u="":Ua(s)&&s.length===1&&(u=s.id()),o.length===1&&u){var h=o[0]._private,d=h.traversalCache=h.traversalCache||{},p=d[t]=d[t]||[],g=Ku(u),f=p[g];return f||(p[g]=e.call(o,r,i,n,a))}else return e.call(o,r,i,n,a)},"traversalCache")},"cache"),zd={parent:l(function(e){var t=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var i=0;i<this.length;i++){var n=this[i],a=n._private.parent;a&&t.push(a)}return this.spawn(t,!0).filter(e)},"parent"),parents:l(function(e){for(var t=[],r=this.parent();r.nonempty();){for(var i=0;i<r.length;i++){var n=r[i];t.push(n)}r=r.parent()}return this.spawn(t,!0).filter(e)},"parents"),commonAncestors:l(function(e){for(var t,r=0;r<this.length;r++){var i=this[r],n=i.parents();t=t||n,t=t.intersect(n)}return t.filter(e)},"commonAncestors"),orphans:l(function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},"orphans"),nonorphans:l(function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},"nonorphans"),children:os(function(e){for(var t=[],r=0;r<this.length;r++)for(var i=this[r],n=i._private.children,a=0;a<n.length;a++)t.push(n[a]);return this.spawn(t,!0).filter(e)},"children"),siblings:l(function(e){return this.parent().children().not(this).filter(e)},"siblings"),isParent:l(function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},"isParent"),isChildless:l(function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},"isChildless"),isChild:l(function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},"isChild"),isOrphan:l(function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},"isOrphan"),descendants:l(function(e){var t=[];function r(i){for(var n=0;n<i.length;n++){var a=i[n];t.push(a),a.children().nonempty()&&r(a.children())}}return l(r,"add"),r(this.children()),this.spawn(t,!0).filter(e)},"descendants")},l(Aw,"forEachCompound"),l(VI,"addChildren"),zd.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Aw(this,e,t,VI)},l(YI,"addParent"),zd.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Aw(this,e,t,YI)},l(j4e,"addParentAndChildren"),zd.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Aw(this,e,t,j4e)},zd.ancestors=zd.parents,fv=xke={data:Fr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Fr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Fr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Fr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Fr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Fr.removeData({field:"rscratch",triggerEvent:!1}),id:l(function(){var e=this[0];if(e)return e._private.data.id},"id")},fv.attr=fv.data,fv.removeAttr=fv.removeData,wke=xke,mv={},l(Lw,"defineDegreeFunction"),Qt(mv,{degree:Lw(function(e,t){return t.source().same(t.target())?2:1}),indegree:Lw(function(e,t){return t.target().same(e)?1:0}),outdegree:Lw(function(e,t){return t.source().same(e)?1:0})}),l(Cd,"defineDegreeBoundsFunction"),Qt(mv,{minDegree:Cd("degree",function(e,t){return e<t}),maxDegree:Cd("degree",function(e,t){return e>t}),minIndegree:Cd("indegree",function(e,t){return e<t}),maxIndegree:Cd("indegree",function(e,t){return e>t}),minOutdegree:Cd("outdegree",function(e,t){return e<t}),maxOutdegree:Cd("outdegree",function(e,t){return e>t})}),Qt(mv,{totalDegree:l(function(e){for(var t=0,r=this.nodes(),i=0;i<r.length;i++)t+=r[i].degree(e);return t},"totalDegree")}),zO=l(function(e,t,r){for(var i=0;i<e.length;i++){var n=e[i];if(!n.locked()){var a=n._private.position,s={x:t.x!=null?t.x-a.x:0,y:t.y!=null?t.y-a.y:0};n.isParent()&&!(s.x===0&&s.y===0)&&n.children().shift(s,r),n.dirtyBoundingBoxCache()}}},"beforePositionSet"),GO={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:l(function(e){e.updateCompoundBounds()},"beforeGet"),beforeSet:l(function(e,t){zO(e,t,!1)},"beforeSet"),onSet:l(function(e){e.dirtyCompoundBoundsCache()},"onSet"),canSet:l(function(e){return!e.locked()},"canSet")},bo=kke={position:Fr.data(GO),silentPosition:Fr.data(Qt({},GO,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:l(function(e,t){zO(e,t,!0)},"beforeSet"),onSet:l(function(e){e.dirtyCompoundBoundsCache()},"onSet")})),positions:l(function(e,t){if(Cr(e))t?this.silentPosition(e):this.position(e);else if(di(e)){var r=e,i=this.cy();i.startBatch();for(var n=0;n<this.length;n++){var a=this[n],s=void 0;(s=r(a,n))&&(t?a.silentPosition(s):a.position(s))}i.endBatch()}return this},"positions"),silentPositions:l(function(e){return this.positions(e,!0)},"silentPositions"),shift:l(function(e,t,r){var i;if(Cr(e)?(i={x:yt(e.x)?e.x:0,y:yt(e.y)?e.y:0},r=t):qt(e)&&yt(t)&&(i={x:0,y:0},i[e]=t),i!=null){var n=this.cy();n.startBatch();for(var a=0;a<this.length;a++){var s=this[a];if(!(n.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var o=s.position(),u={x:o.x+i.x,y:o.y+i.y};r?s.silentPosition(u):s.position(u)}}n.endBatch()}return this},"shift"),silentShift:l(function(e,t){return Cr(e)?this.shift(e,!0):qt(e)&&yt(t)&&this.shift(e,t,!0),this},"silentShift"),renderedPosition:l(function(e,t){var r=this[0],i=this.cy(),n=i.zoom(),a=i.pan(),s=Cr(e)?e:void 0,o=s!==void 0||t!==void 0&&qt(e);if(r&&r.isNode())if(o)for(var u=0;u<this.length;u++){var h=this[u];t!==void 0?h.position(e,(t-a[e])/n):s!==void 0&&h.position(cR(s,n,a))}else{var d=r.position();return s=nv(d,n,a),e===void 0?s:s[e]}else if(!o)return;return this},"renderedPosition"),relativePosition:l(function(e,t){var r=this[0],i=this.cy(),n=Cr(e)?e:void 0,a=n!==void 0||t!==void 0&&qt(e),s=i.hasCompoundNodes();if(r&&r.isNode())if(a)for(var o=0;o<this.length;o++){var u=this[o],h=s?u.parent():null,d=h&&h.length>0,p=d;d&&(h=h[0]);var g=p?h.position():{x:0,y:0};t!==void 0?u.position(e,t+g[e]):n!==void 0&&u.position({x:n.x+g.x,y:n.y+g.y})}else{var f=r.position(),m=s?r.parent():null,y=m&&m.length>0,b=y;y&&(m=m[0]);var v=b?m.position():{x:0,y:0};return n={x:f.x-v.x,y:f.y-v.y},e===void 0?n:n[e]}else if(!a)return;return this},"relativePosition")},bo.modelPosition=bo.point=bo.position,bo.modelPositions=bo.points=bo.positions,bo.renderedPoint=bo.renderedPosition,bo.relativePoint=bo.relativePosition,Tke=kke,f1=th={},th.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),i=r.zoom(),n=r.pan(),a=t.x1*i+n.x,s=t.x2*i+n.x,o=t.y1*i+n.y,u=t.y2*i+n.y;return{x1:a,x2:s,y1:o,y2:u,w:s-a,h:u-o}},th.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var i=r._private;i.compoundBoundsClean=!1,i.bbCache=null,e||r.emitAndNotify("bounds")}}),this)},th.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(s){if(!s.isParent())return;var o=s._private,u=s.children(),h=s.pstyle("compound-sizing-wrt-labels").value==="include",d={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},p=u.boundingBox({includeLabels:h,includeOverlays:!1,useCache:!1}),g=o.position;(p.w===0||p.h===0)&&(p={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},p.x1=g.x-p.w/2,p.x2=g.x+p.w/2,p.y1=g.y-p.h/2,p.y2=g.y+p.h/2);function f(N,M,I){var A=0,B=0,S=M+I;return N>0&&S>0&&(A=M/S*N,B=I/S*N),{biasDiff:A,biasComplementDiff:B}}l(f,"computeBiasValues");function m(N,M,I,A){if(I.units==="%")switch(A){case"width":return N>0?I.pfValue*N:0;case"height":return M>0?I.pfValue*M:0;case"average":return N>0&&M>0?I.pfValue*(N+M)/2:0;case"min":return N>0&&M>0?N>M?I.pfValue*M:I.pfValue*N:0;case"max":return N>0&&M>0?N>M?I.pfValue*N:I.pfValue*M:0;default:return 0}else return I.units==="px"?I.pfValue:0}l(m,"computePaddingValues");var y=d.width.left.value;d.width.left.units==="px"&&d.width.val>0&&(y=y*100/d.width.val);var b=d.width.right.value;d.width.right.units==="px"&&d.width.val>0&&(b=b*100/d.width.val);var v=d.height.top.value;d.height.top.units==="px"&&d.height.val>0&&(v=v*100/d.height.val);var x=d.height.bottom.value;d.height.bottom.units==="px"&&d.height.val>0&&(x=x*100/d.height.val);var w=f(d.width.val-p.w,y,b),k=w.biasDiff,T=w.biasComplementDiff,_=f(d.height.val-p.h,v,x),C=_.biasDiff,E=_.biasComplementDiff;o.autoPadding=m(p.w,p.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(p.w,d.width.val),g.x=(-k+p.x1+p.x2+T)/2,o.autoHeight=Math.max(p.h,d.height.val),g.y=(-C+p.y1+p.y2+E)/2}l(r,"update");for(var i=0;i<this.length;i++){var n=this[i],a=n._private;(!a.compoundBoundsClean||e)&&(r(n),t.batching()||(a.compoundBoundsClean=!0))}return this},ls=l(function(e){return e===1/0||e===-1/0?0:e},"noninf"),Bs=l(function(e,t,r,i,n){i-t===0||n-r===0||t==null||r==null||i==null||n==null||(e.x1=t<e.x1?t:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=r<e.y1?r:e.y1,e.y2=n>e.y2?n:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},"updateBounds"),Sc=l(function(e,t){return t==null?e:Bs(e,t.x1,t.y1,t.x2,t.y2)},"updateBoundsFromBox"),m1=l(function(e,t,r){return Ta(e,t,r)},"prefixedProperty"),yv=l(function(e,t,r){if(!t.cy().headless()){var i=t._private,n=i.rstyle,a=n.arrowWidth/2,s=t.pstyle(r+"-arrow-shape").value,o,u;if(s!=="none"){r==="source"?(o=n.srcX,u=n.srcY):r==="target"?(o=n.tgtX,u=n.tgtY):(o=n.midX,u=n.midY);var h=i.arrowBounds=i.arrowBounds||{},d=h[r]=h[r]||{};d.x1=o-a,d.y1=u-a,d.x2=o+a,d.y2=u+a,d.w=d.x2-d.x1,d.h=d.y2-d.y1,sv(d,1),Bs(e,d.x1,d.y1,d.x2,d.y2)}}},"updateBoundsFromArrow"),lk=l(function(e,t,r){if(!t.cy().headless()){var i;r?i=r+"-":i="";var n=t._private,a=n.rstyle,s=t.pstyle(i+"label").strValue;if(s){var o=t.pstyle("text-halign"),u=t.pstyle("text-valign"),h=m1(a,"labelWidth",r),d=m1(a,"labelHeight",r),p=m1(a,"labelX",r),g=m1(a,"labelY",r),f=t.pstyle(i+"text-margin-x").pfValue,m=t.pstyle(i+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle(i+"text-rotation"),v=t.pstyle("text-outline-width").pfValue,x=t.pstyle("text-border-width").pfValue,w=x/2,k=t.pstyle("text-background-padding").pfValue,T=2,_=d,C=h,E=C/2,N=_/2,M,I,A,B;if(y)M=p-E,I=p+E,A=g-N,B=g+N;else{switch(o.value){case"left":M=p-C,I=p;break;case"center":M=p-E,I=p+E;break;case"right":M=p,I=p+C;break}switch(u.value){case"top":A=g-_,B=g;break;case"center":A=g-N,B=g+N;break;case"bottom":A=g,B=g+_;break}}var S=f-Math.max(v,w)-k-T,O=f+Math.max(v,w)+k+T,R=m-Math.max(v,w)-k-T,P=m+Math.max(v,w)+k+T;M+=S,I+=O,A+=R,B+=P;var L=r||"main",$=n.labelBounds,F=$[L]=$[L]||{};F.x1=M,F.y1=A,F.x2=I,F.y2=B,F.w=I-M,F.h=B-A,F.leftPad=S,F.rightPad=O,F.topPad=R,F.botPad=P;var G=y&&b.strValue==="autorotate",q=b.pfValue!=null&&b.pfValue!==0;if(G||q){var V=G?m1(n.rstyle,"labelAngle",r):b.pfValue,H=Math.cos(V),ae=Math.sin(V),re=(M+I)/2,oe=(A+B)/2;if(!y){switch(o.value){case"left":re=I;break;case"right":re=M;break}switch(u.value){case"top":oe=B;break;case"bottom":oe=A;break}}var ue=l(function(K,me){return K=K-re,me=me-oe,{x:K*H-me*ae+re,y:K*ae+me*H+oe}},"rotate"),W=ue(M,A),ee=ue(M,B),X=ue(I,A),Z=ue(I,B);M=Math.min(W.x,ee.x,X.x,Z.x),I=Math.max(W.x,ee.x,X.x,Z.x),A=Math.min(W.y,ee.y,X.y,Z.y),B=Math.max(W.y,ee.y,X.y,Z.y)}var J=L+"Rot",he=$[J]=$[J]||{};he.x1=M,he.y1=A,he.x2=I,he.y2=B,he.w=I-M,he.h=B-A,Bs(e,M,A,I,B),Bs(n.labelBounds.all,M,A,I,B)}return e}},"updateBoundsFromLabel"),UO=l(function(e,t){if(!t.cy().headless()){var r=t.pstyle("outline-opacity").value,i=t.pstyle("outline-width").value,n=t.pstyle("outline-offset").value,a=i+n;qO(e,t,r,a,"outside",a/2)}},"updateBoundsFromOutline"),qO=l(function(e,t,r,i,n,a){if(!(r===0||i<=0||n==="inside")){var s=t.cy(),o=t.pstyle("shape").value,u=s.renderer().nodeShapes[o],h=t.position(),d=h.x,p=h.y,g=t.width(),f=t.height();if(u.hasMiterBounds){n==="center"&&(i/=2);var m=u.miterBounds(d,p,g,f,i);Sc(e,m)}else a!=null&&a>0&&ov(e,[a,a,a,a])}},"updateBoundsFromMiter"),Eke=l(function(e,t){if(!t.cy().headless()){var r=t.pstyle("border-opacity").value,i=t.pstyle("border-width").pfValue,n=t.pstyle("border-position").value;qO(e,t,r,i,n)}},"updateBoundsFromMiterBorder"),Cke=l(function(e,t){var r=e._private.cy,i=r.styleEnabled(),n=r.headless(),a=ea(),s=e._private,o=e.isNode(),u=e.isEdge(),h,d,p,g,f,m,y=s.rstyle,b=o&&i?e.pstyle("bounds-expansion").pfValue:[0],v=l(function(he){return he.pstyle("display").value!=="none"},"isDisplayed"),x=!i||v(e)&&(!u||v(e.source())&&v(e.target()));if(x){var w=0,k=0;i&&t.includeOverlays&&(w=e.pstyle("overlay-opacity").value,w!==0&&(k=e.pstyle("overlay-padding").value));var T=0,_=0;i&&t.includeUnderlays&&(T=e.pstyle("underlay-opacity").value,T!==0&&(_=e.pstyle("underlay-padding").value));var C=Math.max(k,_),E=0,N=0;if(i&&(E=e.pstyle("width").pfValue,N=E/2),o&&t.includeNodes){var M=e.position();f=M.x,m=M.y;var I=e.outerWidth(),A=I/2,B=e.outerHeight(),S=B/2;h=f-A,d=f+A,p=m-S,g=m+S,Bs(a,h,p,d,g),i&&UO(a,e),i&&t.includeOutlines&&!n&&UO(a,e),i&&Eke(a,e)}else if(u&&t.includeEdges)if(i&&!n){var O=e.pstyle("curve-style").strValue;if(h=Math.min(y.srcX,y.midX,y.tgtX),d=Math.max(y.srcX,y.midX,y.tgtX),p=Math.min(y.srcY,y.midY,y.tgtY),g=Math.max(y.srcY,y.midY,y.tgtY),h-=N,d+=N,p-=N,g+=N,Bs(a,h,p,d,g),O==="haystack"){var R=y.haystackPts;if(R&&R.length===2){if(h=R[0].x,p=R[0].y,d=R[1].x,g=R[1].y,h>d){var P=h;h=d,d=P}if(p>g){var L=p;p=g,g=L}Bs(a,h-N,p-N,d+N,g+N)}}else if(O==="bezier"||O==="unbundled-bezier"||mc(O,"segments")||mc(O,"taxi")){var $;switch(O){case"bezier":case"unbundled-bezier":$=y.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":$=y.linePts;break}if($!=null)for(var F=0;F<$.length;F++){var G=$[F];h=G.x-N,d=G.x+N,p=G.y-N,g=G.y+N,Bs(a,h,p,d,g)}}}else{var q=e.source(),V=q.position(),H=e.target(),ae=H.position();if(h=V.x,d=ae.x,p=V.y,g=ae.y,h>d){var re=h;h=d,d=re}if(p>g){var oe=p;p=g,g=oe}h-=N,d+=N,p-=N,g+=N,Bs(a,h,p,d,g)}if(i&&t.includeEdges&&u&&(yv(a,e,"mid-source"),yv(a,e,"mid-target"),yv(a,e,"source"),yv(a,e,"target")),i){var ue=e.pstyle("ghost").value==="yes";if(ue){var W=e.pstyle("ghost-offset-x").pfValue,ee=e.pstyle("ghost-offset-y").pfValue;Bs(a,a.x1+W,a.y1+ee,a.x2+W,a.y2+ee)}}var X=s.bodyBounds=s.bodyBounds||{};hR(X,a),ov(X,b),sv(X,1),i&&(h=a.x1,d=a.x2,p=a.y1,g=a.y2,Bs(a,h-C,p-C,d+C,g+C));var Z=s.overlayBounds=s.overlayBounds||{};hR(Z,a),ov(Z,b),sv(Z,1);var J=s.labelBounds=s.labelBounds||{};J.all!=null?K5e(J.all):J.all=ea(),i&&t.includeLabels&&(t.includeMainLabels&&lk(a,e,null),u&&(t.includeSourceLabels&&lk(a,e,"source"),t.includeTargetLabels&&lk(a,e,"target")))}return a.x1=ls(a.x1),a.y1=ls(a.y1),a.x2=ls(a.x2),a.y2=ls(a.y2),a.w=ls(a.x2-a.x1),a.h=ls(a.y2-a.y1),a.w>0&&a.h>0&&x&&(ov(a,b),sv(a,1)),a},"boundingBoxImpl"),jO=l(function(e){var t=0,r=l(function(n){return(n?1:0)<<t++},"tf"),i=0;return i+=r(e.incudeNodes),i+=r(e.includeEdges),i+=r(e.includeLabels),i+=r(e.includeMainLabels),i+=r(e.includeSourceLabels),i+=r(e.includeTargetLabels),i+=r(e.includeOverlays),i+=r(e.includeOutlines),i},"getKey"),HO=l(function(e){var t=l(function(a){return Math.round(a)},"r");if(e.isEdge()){var r=e.source().position(),i=e.target().position();return JD([t(r.x),t(r.y),t(i.x),t(i.y)])}else{var n=e.position();return JD([t(n.x),t(n.y)])}},"getBoundingBoxPosKey"),VO=l(function(e,t){var r=e._private,i,n=e.isEdge(),a=t==null?YO:jO(t),s=a===YO;if(r.bbCache==null?(i=Cke(e,y1),r.bbCache=i,r.bbCachePosKey=HO(e)):i=r.bbCache,!s){var o=e.isNode();i=ea(),(t.includeNodes&&o||t.includeEdges&&!o)&&(t.includeOverlays?Sc(i,r.overlayBounds):Sc(i,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!n||t.includeSourceLabels&&t.includeTargetLabels)?Sc(i,r.labelBounds.all):(t.includeMainLabels&&Sc(i,r.labelBounds.mainRot),t.includeSourceLabels&&Sc(i,r.labelBounds.sourceRot),t.includeTargetLabels&&Sc(i,r.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},"cachedBoundingBoxImpl"),y1={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},YO=jO(y1),WO=yn(y1),th.boundingBox=function(e){var t,r=e===void 0||e.useCache===void 0||e.useCache===!0,i=Ld(function(d){var p=d._private;return p.bbCache==null||p.styleDirty||p.bbCachePosKey!==HO(d)},function(d){return d.id()});if(r&&this.length===1&&!i(this[0]))e===void 0?e=y1:e=WO(e),t=VO(this[0],e);else{t=ea(),e=e||y1;var n=WO(e),a=this,s=a.cy(),o=s.styleEnabled();this.edges().forEach(i),this.nodes().forEach(i),o&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var u=0;u<a.length;u++){var h=a[u];i(h)&&h.dirtyBoundingBoxCache(),Sc(t,VO(h,n))}}return t.x1=ls(t.x1),t.y1=ls(t.y1),t.x2=ls(t.x2),t.y2=ls(t.y2),t.w=ls(t.x2-t.x1),t.h=ls(t.y2-t.y1),t},th.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},th.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),i=r.hasCompoundNodes(),n=r.collection();if(i&&(n=t.filter(function(h){return h.isParent()}),t=t.not(n)),Cr(e)){var a=e;e=l(function(){return a},"fn")}var s=l(function(h,d){return h._private.bbAtOldPos=e(h,d)},"storeOldPos"),o=l(function(h){return h._private.bbAtOldPos},"getOldPos");r.startBatch(),t.forEach(s).silentPositions(e),i&&(n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),n.updateCompoundBounds(!0));var u=X5e(this.boundingBox({useCache:!1}));return t.silentPositions(o),i&&(n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),n.updateCompoundBounds(!0)),r.endBatch(),u},f1.boundingbox=f1.bb=f1.boundingBox,f1.renderedBoundingbox=f1.renderedBoundingBox,Ske=th,vv=bv={},XO=l(function(e){e.uppercaseName=MD(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=MD(e.outerName),vv[e.name]=l(function(){var t=this[0],r=t._private,i=r.cy,n=i._private.styleEnabled;if(t)if(n){if(t.isParent())return t.updateCompoundBounds(),r[e.autoName]||0;var a=t.pstyle(e.name);switch(a.strValue){case"label":return t.recalculateRenderedStyle(),r.rstyle[e.labelName]||0;default:return a.pfValue}}else return 1},"dimImpl"),vv["outer"+e.uppercaseName]=l(function(){var t=this[0],r=t._private,i=r.cy,n=i._private.styleEnabled;if(t)if(n){var a=t[e.name](),s=t.pstyle("border-position").value,o;s==="center"?o=t.pstyle("border-width").pfValue:s==="outside"?o=2*t.pstyle("border-width").pfValue:o=0;var u=2*t.padding();return a+o+u}else return 1},"outerDimImpl"),vv["rendered"+e.uppercaseName]=l(function(){var t=this[0];if(t){var r=t[e.name]();return r*this.cy().zoom()}},"renderedDimImpl"),vv["rendered"+e.uppercaseOuterName]=l(function(){var t=this[0];if(t){var r=t[e.outerName]();return r*this.cy().zoom()}},"renderedOuterDimImpl")},"defineDimFns"),XO({name:"width"}),XO({name:"height"}),bv.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},bv.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},bv.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()},_ke=bv,Ake=l(function(e,t){if(e.isEdge()&&e.takesUpSpace())return t(e)},"ifEdge"),Lke=l(function(e,t){if(e.isEdge()&&e.takesUpSpace()){var r=e.cy();return nv(t(e),r.zoom(),r.pan())}},"ifEdgeRenderedPosition"),Nke=l(function(e,t){if(e.isEdge()&&e.takesUpSpace()){var r=e.cy(),i=r.pan(),n=r.zoom();return t(e).map(function(a){return nv(a,n,i)})}},"ifEdgeRenderedPositions"),Mke=l(function(e){return e.renderer().getControlPoints(e)},"controlPoints"),Ike=l(function(e){return e.renderer().getSegmentPoints(e)},"segmentPoints"),Dke=l(function(e){return e.renderer().getSourceEndpoint(e)},"sourceEndpoint"),Rke=l(function(e){return e.renderer().getTargetEndpoint(e)},"targetEndpoint"),Oke=l(function(e){return e.renderer().getEdgeMidpoint(e)},"midpoint"),KO={controlPoints:{get:Mke,mult:!0},segmentPoints:{get:Ike,mult:!0},sourceEndpoint:{get:Dke},targetEndpoint:{get:Rke},midpoint:{get:Oke}},Pke=l(function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},"renderedName"),Bke=Object.keys(KO).reduce(function(e,t){var r=KO[t],i=Pke(t);return e[t]=function(){return Ake(this,r.get)},r.mult?e[i]=function(){return Nke(this,r.get)}:e[i]=function(){return Lke(this,r.get)},e},{}),$ke=Qt({},Tke,Ske,_ke,Bke),ZO=l(function(e,t){this.recycle(e,t)},"Event"),l(r1,"returnFalse"),l(H2,"returnTrue"),ZO.prototype={instanceString:l(function(){return"event"},"instanceString"),recycle:l(function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=r1,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?H2:r1):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,i=this.cy.zoom(),n=this.cy.pan();this.renderedPosition={x:r.x*i+n.x,y:r.y*i+n.y}}this.timeStamp=e&&e.timeStamp||Date.now()},"recycle"),preventDefault:l(function(){this.isDefaultPrevented=H2;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},"preventDefault"),stopPropagation:l(function(){this.isPropagationStopped=H2;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},"stopPropagation"),stopImmediatePropagation:l(function(){this.isImmediatePropagationStopped=H2,this.stopPropagation()},"stopImmediatePropagation"),isDefaultPrevented:r1,isPropagationStopped:r1,isImmediatePropagationStopped:r1},QO=/^([^.]+)(\.(?:[^.]+))?$/,Fke=".*",JO={qualifierCompare:l(function(e,t){return e===t},"qualifierCompare"),eventMatches:l(function(){return!0},"eventMatches"),addEventFields:l(function(){},"addEventFields"),callbackContext:l(function(e){return e},"callbackContext"),beforeEmit:l(function(){},"beforeEmit"),afterEmit:l(function(){},"afterEmit"),bubble:l(function(){return!1},"bubble"),parent:l(function(){return null},"parent"),context:null},eP=Object.keys(JO),zke={},l(V2,"Emitter"),_c=V2.prototype,tP=l(function(e,t,r,i,n,a,s){di(i)&&(n=i,i=null),s&&(a==null?a=s:a=Qt({},a,s));for(var o=Wr(r)?r:r.split(/\s+/),u=0;u<o.length;u++){var h=o[u];if(!fc(h)){var d=h.match(QO);if(d){var p=d[1],g=d[2]?d[2]:null,f=t(e,h,p,g,i,n,a);if(f===!1)break}}}},"forEachEvent"),rP=l(function(e,t){return e.addEventFields(e.context,t),new ZO(t.type,t)},"makeEventObj"),Gke=l(function(e,t,r){if(D3e(r)){t(e,r);return}else if(Cr(r)){t(e,rP(e,r));return}for(var i=Wr(r)?r:r.split(/\s+/),n=0;n<i.length;n++){var a=i[n];if(!fc(a)){var s=a.match(QO);if(s){var o=s[1],u=s[2]?s[2]:null,h=rP(e,{type:o,namespace:u,target:e.context});t(e,h)}}}},"forEachEventObj"),_c.on=_c.addListener=function(e,t,r,i,n){return tP(this,function(a,s,o,u,h,d,p){di(d)&&a.listeners.push({event:s,callback:d,type:o,namespace:u,qualifier:h,conf:p})},e,t,r,i,n),this},_c.one=function(e,t,r,i){return this.on(e,t,r,i,{one:!0})},_c.removeListener=_c.off=function(e,t,r,i){var n=this;this.emitting!==0&&(this.listeners=v5e(this.listeners));for(var a=this.listeners,s=l(function(u){var h=a[u];tP(n,function(d,p,g,f,m,y){if((h.type===g||e==="*")&&(!f&&h.namespace!==".*"||h.namespace===f)&&(!m||d.qualifierCompare(h.qualifier,m))&&(!y||h.callback===y))return a.splice(u,1),!1},e,t,r,i)},"_loop"),o=a.length-1;o>=0;o--)s(o);return this},_c.removeAllListeners=function(){return this.removeListener("*")},_c.emit=_c.trigger=function(e,t,r){var i=this.listeners,n=i.length;return this.emitting++,Wr(t)||(t=[t]),Gke(this,function(a,s){r!=null&&(i=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],n=i.length);for(var o=l(function(){var h=i[u];if(h.type===s.type&&(!h.namespace||h.namespace===s.namespace||h.namespace===Fke)&&a.eventMatches(a.context,h,s)){var d=[s];t!=null&&x5e(d,t),a.beforeEmit(a.context,h,s),h.conf&&h.conf.one&&(a.listeners=a.listeners.filter(function(f){return f!==h}));var p=a.callbackContext(a.context,h,s),g=h.callback.apply(p,d);a.afterEmit(a.context,h,s),g===!1&&(s.stopPropagation(),s.preventDefault())}},"_loop2"),u=0;u<n;u++)o();a.bubble(a.context)&&!s.isPropagationStopped()&&a.parent(a.context).emit(s,t)},e),this.emitting--,this},Uke={qualifierCompare:l(function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},"qualifierCompare"),eventMatches:l(function(e,t,r){var i=t.qualifier;return i!=null?e!==r.target&&a1(r.target)&&i.matches(r.target):!0},"eventMatches"),addEventFields:l(function(e,t){t.cy=e.cy(),t.target=e},"addEventFields"),callbackContext:l(function(e,t,r){return t.qualifier!=null?r.target:e},"callbackContext"),beforeEmit:l(function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},"beforeEmit"),bubble:l(function(){return!0},"bubble"),parent:l(function(e){return e.isChild()?e.parent():e.cy()},"parent")},xv=l(function(e){return qt(e)?new Tc(e):e},"argSelector"),iP={createEmitter:l(function(){for(var e=0;e<this.length;e++){var t=this[e],r=t._private;r.emitter||(r.emitter=new V2(Uke,t))}return this},"createEmitter"),emitter:l(function(){return this._private.emitter},"emitter"),on:l(function(e,t,r){for(var i=xv(t),n=0;n<this.length;n++){var a=this[n];a.emitter().on(e,i,r)}return this},"on"),removeListener:l(function(e,t,r){for(var i=xv(t),n=0;n<this.length;n++){var a=this[n];a.emitter().removeListener(e,i,r)}return this},"removeListener"),removeAllListeners:l(function(){for(var e=0;e<this.length;e++){var t=this[e];t.emitter().removeAllListeners()}return this},"removeAllListeners"),one:l(function(e,t,r){for(var i=xv(t),n=0;n<this.length;n++){var a=this[n];a.emitter().one(e,i,r)}return this},"one"),once:l(function(e,t,r){for(var i=xv(t),n=0;n<this.length;n++){var a=this[n];a.emitter().on(e,i,r,{once:!0,onceCollection:this})}},"once"),emit:l(function(e,t){for(var r=0;r<this.length;r++){var i=this[r];i.emitter().emit(e,t)}return this},"emit"),emitAndNotify:l(function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this},"emitAndNotify")},Fr.eventAliasesOn(iP),nP={nodes:l(function(e){return this.filter(function(t){return t.isNode()}).filter(e)},"nodes"),edges:l(function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},"edges"),byGroup:l(function(){for(var e=this.spawn(),t=this.spawn(),r=0;r<this.length;r++){var i=this[r];i.isNode()?e.push(i):t.push(i)}return{nodes:e,edges:t}},"byGroup"),filter:l(function(e,t){if(e===void 0)return this;if(qt(e)||Ua(e))return new Tc(e).filter(this);if(di(e)){for(var r=this.spawn(),i=this,n=0;n<i.length;n++){var a=i[n],s=t?e.apply(t,[a,n,i]):e(a,n,i);s&&r.push(a)}return r}return this.spawn()},"filter"),not:l(function(e){if(e){qt(e)&&(e=this.filter(e));for(var t=this.spawn(),r=0;r<this.length;r++){var i=this[r],n=e.has(i);n||t.push(i)}return t}else return this},"not"),absoluteComplement:l(function(){var e=this.cy();return e.mutableElements().not(this)},"absoluteComplement"),intersect:l(function(e){if(qt(e)){var t=e;return this.filter(t)}for(var r=this.spawn(),i=this,n=e,a=this.length<e.length,s=a?i:n,o=a?n:i,u=0;u<s.length;u++){var h=s[u];o.has(h)&&r.push(h)}return r},"intersect"),xor:l(function(e){var t=this._private.cy;qt(e)&&(e=t.$(e));var r=this.spawn(),i=this,n=e,a=l(function(s,o){for(var u=0;u<s.length;u++){var h=s[u],d=h._private.data.id,p=o.hasElementWithId(d);p||r.push(h)}},"add");return a(i,n),a(n,i),r},"xor"),diff:l(function(e){var t=this._private.cy;qt(e)&&(e=t.$(e));var r=this.spawn(),i=this.spawn(),n=this.spawn(),a=this,s=e,o=l(function(u,h,d){for(var p=0;p<u.length;p++){var g=u[p],f=g._private.data.id,m=h.hasElementWithId(f);m?n.merge(g):d.push(g)}},"add");return o(a,s,r),o(s,a,i),{left:r,right:i,both:n}},"diff"),add:l(function(e){var t=this._private.cy;if(!e)return this;if(qt(e)){var r=e;e=t.mutableElements().filter(r)}for(var i=this.spawnSelf(),n=0;n<e.length;n++){var a=e[n],s=!this.has(a);s&&i.push(a)}return i},"add"),merge:l(function(e){var t=this._private,r=t.cy;if(!e)return this;if(e&&qt(e)){var i=e;e=r.mutableElements().filter(i)}for(var n=t.map,a=0;a<e.length;a++){var s=e[a],o=s._private.data.id,u=!n.has(o);if(u){var h=this.length++;this[h]=s,n.set(o,{ele:s,index:h})}}return this},"merge"),unmergeAt:l(function(e){var t=this[e],r=t.id(),i=this._private,n=i.map;this[e]=void 0,n.delete(r);var a=e===this.length-1;if(this.length>1&&!a){var s=this.length-1,o=this[s],u=o._private.data.id;this[s]=void 0,this[e]=o,n.set(u,{ele:o,index:e})}return this.length--,this},"unmergeAt"),unmergeOne:l(function(e){e=e[0];var t=this._private,r=e._private.data.id,i=t.map,n=i.get(r);if(!n)return this;var a=n.index;return this.unmergeAt(a),this},"unmergeOne"),unmerge:l(function(e){var t=this._private.cy;if(!e)return this;if(e&&qt(e)){var r=e;e=t.mutableElements().filter(r)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},"unmerge"),unmergeBy:l(function(e){for(var t=this.length-1;t>=0;t--){var r=this[t];e(r)&&this.unmergeAt(t)}return this},"unmergeBy"),map:l(function(e,t){for(var r=[],i=this,n=0;n<i.length;n++){var a=i[n],s=t?e.apply(t,[a,n,i]):e(a,n,i);r.push(s)}return r},"map"),reduce:l(function(e,t){for(var r=t,i=this,n=0;n<i.length;n++)r=e(r,i[n],n,i);return r},"reduce"),max:l(function(e,t){for(var r=-1/0,i,n=this,a=0;a<n.length;a++){var s=n[a],o=t?e.apply(t,[s,a,n]):e(s,a,n);o>r&&(r=o,i=s)}return{value:r,ele:i}},"max"),min:l(function(e,t){for(var r=1/0,i,n=this,a=0;a<n.length;a++){var s=n[a],o=t?e.apply(t,[s,a,n]):e(s,a,n);o<r&&(r=o,i=s)}return{value:r,ele:i}},"min")},Nr=nP,Nr.u=Nr["|"]=Nr["+"]=Nr.union=Nr.or=Nr.add,Nr["\\"]=Nr["!"]=Nr["-"]=Nr.difference=Nr.relativeComplement=Nr.subtract=Nr.not,Nr.n=Nr["&"]=Nr["."]=Nr.and=Nr.intersection=Nr.intersect,Nr["^"]=Nr["(+)"]=Nr["(-)"]=Nr.symmetricDifference=Nr.symdiff=Nr.xor,Nr.fnFilter=Nr.filterFn=Nr.stdFilter=Nr.filter,Nr.complement=Nr.abscomp=Nr.absoluteComplement,qke={isNode:l(function(){return this.group()==="nodes"},"isNode"),isEdge:l(function(){return this.group()==="edges"},"isEdge"),isLoop:l(function(){return this.isEdge()&&this.source()[0]===this.target()[0]},"isLoop"),isSimple:l(function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},"isSimple"),group:l(function(){var e=this[0];if(e)return e._private.group},"group")},aP=l(function(e,t){var r=e.cy(),i=r.hasCompoundNodes();function n(h){var d=h.pstyle("z-compound-depth");return d.value==="auto"?i?h.zDepth():0:d.value==="bottom"?-1:d.value==="top"?Gw:0}l(n,"getDepth");var a=n(e)-n(t);if(a!==0)return a;function s(h){var d=h.pstyle("z-index-compare");return d.value==="auto"&&h.isNode()?1:0}l(s,"getEleDepth");var o=s(e)-s(t);if(o!==0)return o;var u=e.pstyle("z-index").value-t.pstyle("z-index").value;return u!==0?u:e.poolIndex()-t.poolIndex()},"zIndexSort"),wv={forEach:l(function(e,t){if(di(e))for(var r=this.length,i=0;i<r;i++){var n=this[i],a=t?e.apply(t,[n,i,this]):e(n,i,this);if(a===!1)break}return this},"forEach"),toArray:l(function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},"toArray"),slice:l(function(e,t){var r=[],i=this.length;t==null&&(t=i),e==null&&(e=0),e<0&&(e=i+e),t<0&&(t=i+t);for(var n=e;n>=0&&n<t&&n<i;n++)r.push(this[n]);return this.spawn(r)},"slice"),size:l(function(){return this.length},"size"),eq:l(function(e){return this[e]||this.spawn()},"eq"),first:l(function(){return this[0]||this.spawn()},"first"),last:l(function(){return this[this.length-1]||this.spawn()},"last"),empty:l(function(){return this.length===0},"empty"),nonempty:l(function(){return!this.empty()},"nonempty"),sort:l(function(e){if(!di(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},"sort"),sortByZIndex:l(function(){return this.sort(aP)},"sortByZIndex"),zDepth:l(function(){var e=this[0];if(e){var t=e._private,r=t.group;if(r==="nodes"){var i=t.data.parent?e.parents().size():0;return e.isParent()?i:Gw-1}else{var n=t.source,a=t.target,s=n.zDepth(),o=a.zDepth();return Math.max(s,o,0)}}},"zDepth")},wv.each=wv.forEach,jke=l(function(){var e="undefined",t=(typeof Symbol>"u"?"undefined":Xi(Symbol))!=e&&Xi(Symbol.iterator)!=e;t&&(wv[Symbol.iterator]=function(){var r=this,i={value:void 0,done:!1},n=0,a=this.length;return $I({next:l(function(){return n<a?i.value=r[n++]:(i.value=void 0,i.done=!0),i},"next")},Symbol.iterator,function(){return this})})},"defineSymbolIterator"),jke(),Hke=yn({nodeDimensionsIncludeLabels:!1}),kv={layoutDimensions:l(function(e){e=Hke(e);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var r=this.boundingBox();t={w:r.w,h:r.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},"layoutDimensions"),layoutPositions:l(function(e,t,r){var i=this.nodes().filter(function(k){return!k.isParent()}),n=this.cy(),a=t.eles,s=l(function(k){return k.id()},"getMemoizeKey"),o=Ld(r,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=l(function(k,T,_){var C={x:T.x1+T.w/2,y:T.y1+T.h/2},E={x:(_.x-C.x)*k,y:(_.y-C.y)*k};return{x:C.x+E.x,y:C.y+E.y}},"calculateSpacing"),h=t.spacingFactor&&t.spacingFactor!==1,d=l(function(){if(!h)return null;for(var k=ea(),T=0;T<i.length;T++){var _=i[T],C=o(_,T);uR(k,C.x,C.y)}return k},"spacingBb"),p=d(),g=Ld(function(k,T){var _=o(k,T);if(h){var C=Math.abs(t.spacingFactor);_=u(C,p,_)}return t.transform!=null&&(_=t.transform(k,_)),_},s);if(t.animate){for(var f=0;f<i.length;f++){var m=i[f],y=g(m,f),b=t.animateFilter==null||t.animateFilter(m,f);if(b){var v=m.animation({position:y,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(v)}else m.position(y)}if(t.fit){var x=n.animation({fit:{boundingBox:a.boundingBoxAt(g),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(x)}else if(t.zoom!==void 0&&t.pan!==void 0){var w=n.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(w)}e.animations.forEach(function(k){return k.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),$d.all(e.animations.map(function(k){return k.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(g),t.fit&&n.fit(t.eles,t.padding),t.zoom!=null&&n.zoom(t.zoom),t.pan&&n.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},"layoutPositions"),layout:l(function(e){var t=this.cy();return t.makeLayout(Qt({},e,{eles:this}))},"layout")},kv.createLayout=kv.makeLayout=kv.layout,l(WI,"styleCache"),l(Y2,"cacheStyleFunction"),l(W2,"cachePrototypeStyleFunction"),vn={recalculateRenderedStyle:l(function(e){var t=this.cy(),r=t.renderer(),i=t.styleEnabled();return r&&i&&r.recalculateRenderedStyle(this,e),this},"recalculateRenderedStyle"),dirtyStyleCache:l(function(){var e=this.cy(),t=l(function(i){return i._private.styleCache=null},"dirty");if(e.hasCompoundNodes()){var r;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(t)}else this.forEach(function(i){t(i),i.connectedEdges().forEach(t)});return this},"dirtyStyleCache"),updateStyle:l(function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var r=t._private.batchStyleEles;return r.merge(this),this}var i=t.hasCompoundNodes(),n=this;e=!!(e||e===void 0),i&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var a=n;return e?a.emitAndNotify("style"):a.emit("style"),n.forEach(function(s){return s._private.styleDirty=!0}),this},"updateStyle"),cleanStyle:l(function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var r=this[t];r._private.styleDirty&&(r._private.styleDirty=!1,e.style().apply(r))}},"cleanStyle"),parsedStyle:l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this[0],i=r.cy();if(i.styleEnabled()&&r){r._private.styleDirty&&(r._private.styleDirty=!1,i.style().apply(r));var n=r._private.style[e];return n??(t?i.style().getDefaultProperty(e):null)}},"parsedStyle"),numericStyle:l(function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var r=t.pstyle(e);return r.pfValue!==void 0?r.pfValue:r.value}},"numericStyle"),numericStyleUnits:l(function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},"numericStyleUnits"),renderedStyle:l(function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];if(r)return t.style().getRenderedStyle(r,e)},"renderedStyle"),style:l(function(e,t){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,n=r.style();if(Cr(e)){var a=e;n.applyBypass(this,a,i),this.emitAndNotify("style")}else if(qt(e))if(t===void 0){var s=this[0];return s?n.getStylePropertyValue(s,e):void 0}else n.applyBypass(this,e,t,i),this.emitAndNotify("style");else if(e===void 0){var o=this[0];return o?n.getRawStyle(o):void 0}return this},"style"),removeStyle:l(function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=!1,i=t.style(),n=this;if(e===void 0)for(var a=0;a<n.length;a++){var s=n[a];i.removeAllBypasses(s,r)}else{e=e.split(/\s+/);for(var o=0;o<n.length;o++){var u=n[o];i.removeBypasses(u,e,r)}}return this.emitAndNotify("style"),this},"removeStyle"),show:l(function(){return this.css("display","element"),this},"show"),hide:l(function(){return this.css("display","none"),this},"hide"),effectiveOpacity:l(function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var i=r._private,n=r.pstyle("opacity").value;if(!t)return n;var a=i.data.parent?r.parents():null;if(a)for(var s=0;s<a.length;s++){var o=a[s],u=o.pstyle("opacity").value;n=u*n}return n}},"effectiveOpacity"),transparent:l(function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],r=t.cy().hasCompoundNodes();if(t)return r?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},"transparent"),backgrounding:l(function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding},"backgrounding")},l(Nw,"checkCompound"),l(Mw,"defineDerivedStateFunction"),Gd=Y2("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)}),vn.takesUpSpace=W2("takesUpSpace",Mw({ok:Gd})),Vke=Y2("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&Gd(e)}),Yke=Y2("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&Gd(e)}),vn.interactive=W2("interactive",Mw({ok:Vke,parentOk:Yke,edgeOkViaNode:Gd})),vn.noninteractive=function(){var e=this[0];if(e)return!e.interactive()},Wke=Y2("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&Gd(e)}),Xke=Gd,vn.visible=W2("visible",Mw({ok:Wke,edgeOkViaNode:Xke})),vn.hidden=function(){var e=this[0];if(e)return!e.visible()},vn.isBundledBezier=W2("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1}),vn.bypass=vn.css=vn.style,vn.renderedCss=vn.renderedStyle,vn.removeBypass=vn.removeCss=vn.removeStyle,vn.pstyle=vn.parsedStyle,Ac={},l(XI,"defineSwitchFunction"),l(Sd,"defineSwitchSet"),Sd({field:"locked",overrideField:l(function(e){return e.cy().autolock()?!0:void 0},"overrideField"),on:"lock",off:"unlock"}),Sd({field:"grabbable",overrideField:l(function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},"overrideField"),on:"grabify",off:"ungrabify"}),Sd({field:"selected",ableField:"selectable",overrideAble:l(function(e){return e.cy().autounselectify()?!1:void 0},"overrideAble"),on:"select",off:"unselect"}),Sd({field:"selectable",overrideField:l(function(e){return e.cy().autounselectify()?!1:void 0},"overrideField"),on:"selectify",off:"unselectify"}),Ac.deselect=Ac.unselect,Ac.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},Sd({field:"active",on:"activate",off:"unactivate"}),Sd({field:"pannable",on:"panify",off:"unpanify"}),Ac.inactive=function(){var e=this[0];if(e)return!e._private.active},Pn={},sP=l(function(e){return l(function(t){for(var r=this,i=[],n=0;n<r.length;n++){var a=r[n];if(a.isNode()){for(var s=!1,o=a.connectedEdges(),u=0;u<o.length;u++){var h=o[u],d=h.source(),p=h.target();if(e.noIncomingEdges&&p===a&&d!==a||e.noOutgoingEdges&&d===a&&p!==a){s=!0;break}}s||i.push(a)}}return this.spawn(i,!0).filter(t)},"dagExtremityImpl")},"defineDagExtremity"),oP=l(function(e){return function(t){for(var r=this,i=[],n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var s=a.connectedEdges(),o=0;o<s.length;o++){var u=s[o],h=u.source(),d=u.target();e.outgoing&&h===a?(i.push(u),i.push(d)):e.incoming&&d===a&&(i.push(u),i.push(h))}}return this.spawn(i,!0).filter(t)}},"defineDagOneHop"),lP=l(function(e){return function(t){for(var r=this,i=[],n={};;){var a=e.outgoing?r.outgoers():r.incomers();if(a.length===0)break;for(var s=!1,o=0;o<a.length;o++){var u=a[o],h=u.id();n[h]||(n[h]=!0,i.push(u),s=!0)}if(!s)break;r=a}return this.spawn(i,!0).filter(t)}},"defineDagAllHops"),Pn.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},Qt(Pn,{roots:sP({noIncomingEdges:!0}),leaves:sP({noOutgoingEdges:!0}),outgoers:os(oP({outgoing:!0}),"outgoers"),successors:lP({outgoing:!0}),incomers:os(oP({incoming:!0}),"incomers"),predecessors:lP({})}),Qt(Pn,{neighborhood:os(function(e){for(var t=[],r=this.nodes(),i=0;i<r.length;i++)for(var n=r[i],a=n.connectedEdges(),s=0;s<a.length;s++){var o=a[s],u=o.source(),h=o.target(),d=n===u?h:u;d.length>0&&t.push(d[0]),t.push(o[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:l(function(e){return this.neighborhood().add(this).filter(e)},"closedNeighborhood"),openNeighborhood:l(function(e){return this.neighborhood(e)},"openNeighborhood")}),Pn.neighbourhood=Pn.neighborhood,Pn.closedNeighbourhood=Pn.closedNeighborhood,Pn.openNeighbourhood=Pn.openNeighborhood,Qt(Pn,{source:os(l(function(e){var t=this[0],r;return t&&(r=t._private.source||t.cy().collection()),r&&e?r.filter(e):r},"sourceImpl"),"source"),target:os(l(function(e){var t=this[0],r;return t&&(r=t._private.target||t.cy().collection()),r&&e?r.filter(e):r},"targetImpl"),"target"),sources:KI({attr:"source"}),targets:KI({attr:"target"})}),l(KI,"defineSourceFunction"),Qt(Pn,{edgesWith:os(ZI(),"edgesWith"),edgesTo:os(ZI({thisIsSrc:!0}),"edgesTo")}),l(ZI,"defineEdgesWithFunction"),Qt(Pn,{connectedEdges:os(function(e){for(var t=[],r=this,i=0;i<r.length;i++){var n=r[i];if(n.isNode())for(var a=n._private.edges,s=0;s<a.length;s++){var o=a[s];t.push(o)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:os(function(e){for(var t=[],r=this,i=0;i<r.length;i++){var n=r[i];n.isEdge()&&(t.push(n.source()[0]),t.push(n.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:os(QI(),"parallelEdges"),codirectedEdges:os(QI({codirected:!0}),"codirectedEdges")}),l(QI,"defineParallelEdgesFunction"),Qt(Pn,{components:l(function(e){var t=this,r=t.cy(),i=r.collection(),n=e==null?t.nodes():e.nodes(),a=[];e!=null&&n.empty()&&(n=e.sources());var s=l(function(u,h){i.merge(u),n.unmerge(u),h.merge(u)},"visitInComponent");if(n.empty())return t.spawn();var o=l(function(){var u=r.collection();a.push(u);var h=n[0];s(h,u),t.bfs({directed:!1,roots:h,visit:l(function(d){return s(d,u)},"visit")}),u.forEach(function(d){d.connectedEdges().forEach(function(p){t.has(p)&&u.has(p.source())&&u.has(p.target())&&u.merge(p)})})},"_loop");do o();while(n.length>0);return a},"components"),component:l(function(){var e=this[0];return e.cy().mutableElements().components(e)[0]},"component")}),Pn.componentsOf=Pn.components,bn=l(function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){oi("A collection must have a reference to the core");return}var n=new cl,a=!1;if(!t)t=[];else if(t.length>0&&Cr(t[0])&&!a1(t[0])){a=!0;for(var s=[],o=new Md,u=0,h=t.length;u<h;u++){var d=t[u];d.data==null&&(d.data={});var p=d.data;if(p.id==null)p.id=aR();else if(e.hasElementWithId(p.id)||o.has(p.id))continue;var g=new iv(e,d,!1);s.push(g),o.add(p.id)}t=s}this.length=0;for(var f=0,m=t.length;f<m;f++){var y=t[f][0];if(y!=null){var b=y._private.data.id;(!r||!n.has(b))&&(r&&n.set(b,{index:this.length,ele:y}),this[this.length]=y,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(v){this.lazyMap=v},rebuildMap:l(function(){for(var v=this.lazyMap=new cl,x=this.eles,w=0;w<x.length;w++){var k=x[w];v.set(k.id(),{index:w,ele:k})}},"rebuildMap")},r&&(this._private.map=n),a&&!i&&this.restore()},"Collection"),Qr=iv.prototype=bn.prototype=Object.create(Array.prototype),Qr.instanceString=function(){return"collection"},Qr.spawn=function(e,t){return new bn(this.cy(),e,t)},Qr.spawnSelf=function(){return this.spawn(this)},Qr.cy=function(){return this._private.cy},Qr.renderer=function(){return this._private.cy.renderer()},Qr.element=function(){return this[0]},Qr.collection=function(){return AD(this)?this:new bn(this._private.cy,[this])},Qr.unique=function(){return new bn(this._private.cy,this,!0)},Qr.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},Qr.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new bn(t)},Qr.$id=Qr.getElementById,Qr.poolIndex=function(){var e=this._private.cy,t=e._private.elements,r=this[0]._private.data.id;return t._private.map.get(r).index},Qr.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},Qr.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},Qr.json=function(e){var t=this.element(),r=this.cy();if(t==null&&e)return this;if(t!=null){var i=t._private;if(Cr(e)){if(r.startBatch(),e.data){t.data(e.data);var n=i.data;if(t.isEdge()){var a=!1,s={},o=e.data.source,u=e.data.target;o!=null&&o!=n.source&&(s.source=""+o,a=!0),u!=null&&u!=n.target&&(s.target=""+u,a=!0),a&&(t=t.move(s))}else{var h="parent"in e.data,d=e.data.parent;h&&(d!=null||n.parent!=null)&&d!=n.parent&&(d===void 0&&(d=null),d!=null&&(d=""+d),t=t.move({parent:d}))}}e.position&&t.position(e.position);var p=l(function(m,y,b){var v=e[m];v!=null&&v!==i[m]&&(v?t[y]():t[b]())},"checkSwitch");return p("removed","remove","restore"),p("selected","select","unselect"),p("selectable","selectify","unselectify"),p("locked","lock","unlock"),p("grabbable","grabify","ungrabify"),p("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),r.endBatch(),this}else if(e===void 0){var g={data:vo(i.data),position:vo(i.position),group:i.group,removed:i.removed,selected:i.selected,selectable:i.selectable,locked:i.locked,grabbable:i.grabbable,pannable:i.pannable,classes:null};g.classes="";var f=0;return i.classes.forEach(function(m){return g.classes+=f++===0?m:" "+m}),g}}},Qr.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],i=r.json();e.push(i)}return e},Qr.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var i=this[r],n=i.json(),a=new iv(e,n,!1);t.push(a)}return new bn(e,t)},Qr.copy=Qr.clone,Qr.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,i=r.cy(),n=i._private,a=[],s=[],o,u=0,h=r.length;u<h;u++){var d=r[u];t&&!d.removed()||(d.isNode()?a.push(d):s.push(d))}o=a.concat(s);var p,g=l(function(){o.splice(p,1),p--},"removeFromElements");for(p=0;p<o.length;p++){var f=o[p],m=f._private,y=m.data;if(f.clearTraversalCache(),!(!t&&!m.removed)){if(y.id===void 0)y.id=aR();else if(yt(y.id))y.id=""+y.id;else if(fc(y.id)||!qt(y.id)){oi("Can not create element with invalid string ID `"+y.id+"`"),g();continue}else if(i.hasElementWithId(y.id)){oi("Can not create second element with ID `"+y.id+"`"),g();continue}}var b=y.id;if(f.isNode()){var v=m.position;v.x==null&&(v.x=0),v.y==null&&(v.y=0)}if(f.isEdge()){for(var x=f,w=["source","target"],k=w.length,T=!1,_=0;_<k;_++){var C=w[_],E=y[C];yt(E)&&(E=y[C]=""+y[C]),E==null||E===""?(oi("Can not create edge `"+b+"` with unspecified "+C),T=!0):i.hasElementWithId(E)||(oi("Can not create edge `"+b+"` with nonexistant "+C+" `"+E+"`"),T=!0)}if(T){g();continue}var N=i.getElementById(y.source),M=i.getElementById(y.target);N.same(M)?N._private.edges.push(x):(N._private.edges.push(x),M._private.edges.push(x)),x._private.source=N,x._private.target=M}m.map=new cl,m.map.set(b,{ele:f,index:0}),m.removed=!1,t&&i.addToPool(f)}for(var I=0;I<a.length;I++){var A=a[I],B=A._private.data;yt(B.parent)&&(B.parent=""+B.parent);var S=B.parent,O=S!=null;if(O||A._private.parent){var R=A._private.parent?i.collection().merge(A._private.parent):i.getElementById(S);if(R.empty())B.parent=void 0;else if(R[0].removed())$r("Node added with missing parent, reference to parent removed"),B.parent=void 0,A._private.parent=null;else{for(var P=!1,L=R;!L.empty();){if(A.same(L)){P=!0,B.parent=void 0;break}L=L.parent()}P||(R[0]._private.children.push(A),A._private.parent=R[0],n.hasCompoundNodes=!0)}}}if(o.length>0){for(var $=o.length===r.length?r:new bn(i,o),F=0;F<$.length;F++){var G=$[F];G.isNode()||(G.parallelEdges().clearTraversalCache(),G.source().clearTraversalCache(),G.target().clearTraversalCache())}var q;n.hasCompoundNodes?q=i.collection().merge($).merge($.connectedNodes()).merge($.parent()):q=$,q.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?$.emitAndNotify("add"):t&&$.emit("add")}return r},Qr.removed=function(){var e=this[0];return e&&e._private.removed},Qr.inside=function(){var e=this[0];return e&&!e._private.removed},Qr.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,i=[],n={},a=r._private.cy;function s(S){for(var O=S._private.edges,R=0;R<O.length;R++)u(O[R])}l(s,"addConnectedEdges");function o(S){for(var O=S._private.children,R=0;R<O.length;R++)u(O[R])}l(o,"addChildren");function u(S){var O=n[S.id()];t&&S.removed()||O||(n[S.id()]=!0,S.isNode()?(i.push(S),s(S),o(S)):i.unshift(S))}l(u,"add");for(var h=0,d=r.length;h<d;h++){var p=r[h];u(p)}function g(S,O){var R=S._private.edges;vc(R,O),S.clearTraversalCache()}l(g,"removeEdgeRef");function f(S){S.clearTraversalCache()}l(f,"removeParallelRef");var m=[];m.ids={};function y(S,O){O=O[0],S=S[0];var R=S._private.children,P=S.id();vc(R,O),O._private.parent=null,m.ids[P]||(m.ids[P]=!0,m.push(S))}l(y,"removeChildRef"),r.dirtyCompoundBoundsCache(),t&&a.removeFromPool(i);for(var b=0;b<i.length;b++){var v=i[b];if(v.isEdge()){var x=v.source()[0],w=v.target()[0];g(x,v),g(w,v);for(var k=v.parallelEdges(),T=0;T<k.length;T++){var _=k[T];f(_),_.isBundledBezier()&&_.dirtyBoundingBoxCache()}}else{var C=v.parent();C.length!==0&&y(C,v)}t&&(v._private.removed=!0)}var E=a._private.elements;a._private.hasCompoundNodes=!1;for(var N=0;N<E.length;N++){var M=E[N];if(M.isParent()){a._private.hasCompoundNodes=!0;break}}var I=new bn(this.cy(),i);I.size()>0&&(e?I.emitAndNotify("remove"):t&&I.emit("remove"));for(var A=0;A<m.length;A++){var B=m[A];(!t||!B.removed())&&B.updateStyle()}return I},Qr.move=function(e){var t=this._private.cy,r=this,i=!1,n=!1,a=l(function(f){return f==null?f:""+f},"toString");if(e.source!==void 0||e.target!==void 0){var s=a(e.source),o=a(e.target),u=s!=null&&t.hasElementWithId(s),h=o!=null&&t.hasElementWithId(o);(u||h)&&(t.batch(function(){r.remove(i,n),r.emitAndNotify("moveout");for(var f=0;f<r.length;f++){var m=r[f],y=m._private.data;m.isEdge()&&(u&&(y.source=s),h&&(y.target=o))}r.restore(i,n)}),r.emitAndNotify("move"))}else if(e.parent!==void 0){var d=a(e.parent),p=d===null||t.hasElementWithId(d);if(p){var g=d===null?void 0:d;t.batch(function(){var f=r.remove(i,n);f.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var y=r[m],b=y._private.data;y.isNode()&&(b.parent=g)}f.restore(i,n)}),r.emitAndNotify("move")}}return this},[DR,ake,gv,Cc,zd,wke,mv,$ke,iP,nP,qke,wv,kv,vn,Ac,Pn].forEach(function(e){Qt(Qr,e)}),Kke={add:l(function(e){var t,r=this;if(Ua(e)){var i=e;if(i._private.cy===r)t=i.restore();else{for(var n=[],a=0;a<i.length;a++){var s=i[a];n.push(s.json())}t=new bn(r,n)}}else if(Wr(e)){var o=e;t=new bn(r,o)}else if(Cr(e)&&(Wr(e.nodes)||Wr(e.edges))){for(var u=e,h=[],d=["nodes","edges"],p=0,g=d.length;p<g;p++){var f=d[p],m=u[f];if(Wr(m))for(var y=0,b=m.length;y<b;y++){var v=Qt({group:f},m[y]);h.push(v)}}t=new bn(r,h)}else{var x=e;t=new iv(r,x).collection()}return t},"add"),remove:l(function(e){if(!Ua(e)&&qt(e)){var t=e;e=this.$(t)}return e.remove()},"remove")},l(H4e,"generateCubicBezier"),Zke=function(){function e(i){return-i.tension*i.x-i.friction*i.v}l(e,"springAccelerationForState");function t(i,n,a){var s={x:i.x+a.dx*n,v:i.v+a.dv*n,tension:i.tension,friction:i.friction};return{dx:s.v,dv:e(s)}}l(t,"springEvaluateStateWithDerivative");function r(i,n){var a={dx:i.v,dv:e(i)},s=t(i,n*.5,a),o=t(i,n*.5,s),u=t(i,n,o),h=1/6*(a.dx+2*(s.dx+o.dx)+u.dx),d=1/6*(a.dv+2*(s.dv+o.dv)+u.dv);return i.x=i.x+h*n,i.v=i.v+d*n,i}return l(r,"springIntegrateState"),l(function i(n,a,s){var o={x:-1,v:0,tension:null,friction:null},u=[0],h=0,d=1/1e4,p=16/1e3,g,f,m;for(n=parseFloat(n)||500,a=parseFloat(a)||20,s=s||null,o.tension=n,o.friction=a,g=s!==null,g?(h=i(n,a),f=h/s*p):f=p;m=r(m||o,f),u.push(1+m.x),h+=16,Math.abs(m.x)>d&&Math.abs(m.v)>d;);return g?function(y){return u[y*(u.length-1)|0]}:h},"springRK4Factory")}(),Jr=l(function(e,t,r,i){var n=H4e(e,t,r,i);return function(a,s,o){return a+(s-a)*n(o)}},"cubicBezier"),Tv={linear:l(function(e,t,r){return e+(t-e)*r},"linear"),ease:Jr(.25,.1,.25,1),"ease-in":Jr(.42,0,1,1),"ease-out":Jr(0,0,.58,1),"ease-in-out":Jr(.42,0,.58,1),"ease-in-sine":Jr(.47,0,.745,.715),"ease-out-sine":Jr(.39,.575,.565,1),"ease-in-out-sine":Jr(.445,.05,.55,.95),"ease-in-quad":Jr(.55,.085,.68,.53),"ease-out-quad":Jr(.25,.46,.45,.94),"ease-in-out-quad":Jr(.455,.03,.515,.955),"ease-in-cubic":Jr(.55,.055,.675,.19),"ease-out-cubic":Jr(.215,.61,.355,1),"ease-in-out-cubic":Jr(.645,.045,.355,1),"ease-in-quart":Jr(.895,.03,.685,.22),"ease-out-quart":Jr(.165,.84,.44,1),"ease-in-out-quart":Jr(.77,0,.175,1),"ease-in-quint":Jr(.755,.05,.855,.06),"ease-out-quint":Jr(.23,1,.32,1),"ease-in-out-quint":Jr(.86,0,.07,1),"ease-in-expo":Jr(.95,.05,.795,.035),"ease-out-expo":Jr(.19,1,.22,1),"ease-in-out-expo":Jr(1,0,0,1),"ease-in-circ":Jr(.6,.04,.98,.335),"ease-out-circ":Jr(.075,.82,.165,1),"ease-in-out-circ":Jr(.785,.135,.15,.86),spring:l(function(e,t,r){if(r===0)return Tv.linear;var i=Zke(e,t,r);return function(n,a,s){return n+(a-n)*i(s)}},"spring"),"cubic-bezier":Jr},l(JI,"getEasedValue"),l(eD,"getValue"),l(_d,"ease"),l(V4e,"step$1"),l(i1,"valid"),l(Y4e,"startAnimation"),l(tD,"stepAll"),Qke={animate:Fr.animate(),animation:Fr.animation(),animated:Fr.animated(),clearQueue:Fr.clearQueue(),delay:Fr.delay(),delayAnimation:Fr.delayAnimation(),stop:Fr.stop(),addToAnimationPool:l(function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},"addToAnimationPool"),stopAnimationLoop:l(function(){this._private.animationsRunning=!1},"stopAnimationLoop"),startAnimationLoop:l(function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function t(){e._private.animationsRunning&&ev(l(function(i){tD(i,e),t()},"animationStep"))}l(t,"headlessStep");var r=e.renderer();r&&r.beforeRender?r.beforeRender(l(function(i,n){tD(n,e)},"rendererAnimationStep"),r.beforeRenderPriorities.animations):t()},"startAnimationLoop")},Jke={qualifierCompare:l(function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},"qualifierCompare"),eventMatches:l(function(e,t,r){var i=t.qualifier;return i!=null?e!==r.target&&a1(r.target)&&i.matches(r.target):!0},"eventMatches"),addEventFields:l(function(e,t){t.cy=e,t.target=e},"addEventFields"),callbackContext:l(function(e,t,r){return t.qualifier!=null?r.target:e},"callbackContext")},Ev=l(function(e){return qt(e)?new Tc(e):e},"argSelector"),cP={createEmitter:l(function(){var e=this._private;return e.emitter||(e.emitter=new V2(Jke,this)),this},"createEmitter"),emitter:l(function(){return this._private.emitter},"emitter"),on:l(function(e,t,r){return this.emitter().on(e,Ev(t),r),this},"on"),removeListener:l(function(e,t,r){return this.emitter().removeListener(e,Ev(t),r),this},"removeListener"),removeAllListeners:l(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),one:l(function(e,t,r){return this.emitter().one(e,Ev(t),r),this},"one"),once:l(function(e,t,r){return this.emitter().one(e,Ev(t),r),this},"once"),emit:l(function(e,t){return this.emitter().emit(e,t),this},"emit"),emitAndNotify:l(function(e,t){return this.emit(e),this.notify(e,t),this},"emitAndNotify")},Fr.eventAliasesOn(cP),ck={png:l(function(e){var t=this._private.renderer;return e=e||{},t.png(e)},"png"),jpg:l(function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)},"jpg")},ck.jpeg=ck.jpg,Cv={layout:l(function(e){var t=this;if(e==null){oi("Layout options must be specified to make a layout");return}if(e.name==null){oi("A `name` must be specified to make a layout");return}var r=e.name,i=t.extension("layout",r);if(i==null){oi("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var n;qt(e.eles)?n=t.$(e.eles):n=e.eles!=null?e.eles:t.$();var a=new i(Qt({},e,{cy:t,eles:n}));return a},"layout")},Cv.createLayout=Cv.makeLayout=Cv.layout,eTe={notify:l(function(e,t){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var i=r.batchNotifications[e]=r.batchNotifications[e]||this.collection();t!=null&&i.merge(t);return}if(r.notificationsEnabled){var n=this.renderer();this.destroyed()||!n||n.notify(e,t)}},"notify"),notifications:l(function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},"notifications"),noNotifications:l(function(e){this.notifications(!1),e(),this.notifications(!0)},"noNotifications"),batching:l(function(){return this._private.batchCount>0},"batching"),startBatch:l(function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},"startBatch"),endBatch:l(function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(r){var i=e.batchNotifications[r];i.empty()?t.notify(r):t.notify(r,i)})}return this},"endBatch"),batch:l(function(e){return this.startBatch(),e(),this.endBatch(),this},"batch"),batchData:l(function(e){var t=this;return this.batch(function(){for(var r=Object.keys(e),i=0;i<r.length;i++){var n=r[i],a=e[n],s=t.getElementById(n);s.data(a)}})},"batchData")},tTe=yn({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),uk={renderTo:l(function(e,t,r,i){var n=this._private.renderer;return n.renderTo(e,t,r,i),this},"renderTo"),renderer:l(function(){return this._private.renderer},"renderer"),forceRender:l(function(){return this.notify("draw"),this},"forceRender"),resize:l(function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},"resize"),initRenderer:l(function(e){var t=this,r=t.extension("renderer",e.name);if(r==null){oi("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&$r("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=tTe(e);i.cy=t,t._private.renderer=new r(i),this.notify("init")},"initRenderer"),destroyRenderer:l(function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(r){var i=r._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},"destroyRenderer"),onRender:l(function(e){return this.on("render",e)},"onRender"),offRender:l(function(e){return this.off("render",e)},"offRender")},uk.invalidateDimensions=uk.resize,Sv={collection:l(function(e,t){return qt(e)?this.$(e):Ua(e)?e.collection():Wr(e)?(t||(t={}),new bn(this,e,t.unique,t.removed)):new bn(this)},"collection"),nodes:l(function(e){var t=this.$(function(r){return r.isNode()});return e?t.filter(e):t},"nodes"),edges:l(function(e){var t=this.$(function(r){return r.isEdge()});return e?t.filter(e):t},"edges"),$:l(function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},"$"),mutableElements:l(function(){return this._private.elements},"mutableElements")},Sv.elements=Sv.filter=Sv.$,un={},v1="t",rTe="f",un.apply=function(e){for(var t=this,r=t._private,i=r.cy,n=i.collection(),a=0;a<e.length;a++){var s=e[a],o=t.getContextMeta(s);if(!o.empty){var u=t.getContextStyle(o),h=t.applyContextStyle(o,u,s);s._private.appliedInitStyle?t.updateTransitions(s,h.diffProps):s._private.appliedInitStyle=!0;var d=t.updateStyleHints(s);d&&n.push(s)}}return n},un.getPropertiesDiff=function(e,t){var r=this,i=r._private.propDiffs=r._private.propDiffs||{},n=e+"-"+t,a=i[n];if(a)return a;for(var s=[],o={},u=0;u<r.length;u++){var h=r[u],d=e[u]===v1,p=t[u]===v1,g=d!==p,f=h.mappedProperties.length>0;if(g||p&&f){var m=void 0;g&&f||g?m=h.properties:f&&(m=h.mappedProperties);for(var y=0;y<m.length;y++){for(var b=m[y],v=b.name,x=!1,w=u+1;w<r.length;w++){var k=r[w],T=t[w]===v1;if(T&&(x=k.properties[b.name]!=null,x))break}!o[v]&&!x&&(o[v]=!0,s.push(v))}}}return i[n]=s,s},un.getContextMeta=function(e){for(var t=this,r="",i,n=e._private.styleCxtKey||"",a=0;a<t.length;a++){var s=t[a],o=s.selector&&s.selector.matches(e);o?r+=v1:r+=rTe}return i=t.getPropertiesDiff(n,r),e._private.styleCxtKey=r,{key:r,diffPropNames:i,empty:i.length===0}},un.getContextStyle=function(e){var t=e.key,r=this,i=this._private.contextStyles=this._private.contextStyles||{};if(i[t])return i[t];for(var n={_private:{key:t}},a=0;a<r.length;a++){var s=r[a],o=t[a]===v1;if(o)for(var u=0;u<s.properties.length;u++){var h=s.properties[u];n[h.name]=h}}return i[t]=n,n},un.applyContextStyle=function(e,t,r){for(var i=this,n=e.diffPropNames,a={},s=i.types,o=0;o<n.length;o++){var u=n[o],h=t[u],d=r.pstyle(u);if(!h)if(d)d.bypass?h={name:u,deleteBypassed:!0}:h={name:u,delete:!0};else continue;if(d!==h){if(h.mapped===s.fn&&d!=null&&d.mapping!=null&&d.mapping.value===h.value){var p=d.mapping,g=p.fnValue=h.value(r);if(g===p.prevFnValue)continue}var f=a[u]={prev:d};i.applyParsedProperty(r,h),f.next=r.pstyle(u),f.next&&f.next.bypass&&(f.next=f.next.bypassed)}}return{diffProps:a}},un.updateStyleHints=function(e){var t=e._private,r=this,i=r.propertyGroupNames,n=r.propertyGroupKeys,a=l(function(X,Z,J){return r.getPropertiesHash(X,Z,J)},"propHash"),s=t.styleKey;if(e.removed())return!1;var o=t.group==="nodes",u=e._private.style;i=Object.keys(u);for(var h=0;h<n.length;h++){var d=n[h];t.styleKeys[d]=[Xu,Nd]}for(var p=l(function(X,Z){return t.styleKeys[Z][0]=o1(X,t.styleKeys[Z][0])},"updateGrKey1"),g=l(function(X,Z){return t.styleKeys[Z][1]=l1(X,t.styleKeys[Z][1])},"updateGrKey2"),f=l(function(X,Z){p(X,Z),g(X,Z)},"updateGrKey"),m=l(function(X,Z){for(var J=0;J<X.length;J++){var he=X.charCodeAt(J);p(he,Z),g(he,Z)}},"updateGrKeyWStr"),y=2e9,b=l(function(X){return-128<X&&X<128&&Math.floor(X)!==X?y-(X*1024|0):X},"cleanNum"),v=0;v<i.length;v++){var x=i[v],w=u[x];if(w!=null){var k=this.properties[x],T=k.type,_=k.groupKey,C=void 0;k.hashOverride!=null?C=k.hashOverride(e,w):w.pfValue!=null&&(C=w.pfValue);var E=k.enums==null?w.value:null,N=C!=null,M=E!=null,I=N||M,A=w.units;if(T.number&&I&&!T.multiple){var B=N?C:E;f(b(B),_),!N&&A!=null&&m(A,_)}else m(w.strValue,_)}}for(var S=[Xu,Nd],O=0;O<n.length;O++){var R=n[O],P=t.styleKeys[R];S[0]=o1(P[0],S[0]),S[1]=l1(P[1],S[1])}t.styleKey=d5e(S[0],S[1]);var L=t.styleKeys;t.labelDimsKey=yc(L.labelDimensions);var $=a(e,["label"],L.labelDimensions);if(t.labelKey=yc($),t.labelStyleKey=yc(tv(L.commonLabel,$)),!o){var F=a(e,["source-label"],L.labelDimensions);t.sourceLabelKey=yc(F),t.sourceLabelStyleKey=yc(tv(L.commonLabel,F));var G=a(e,["target-label"],L.labelDimensions);t.targetLabelKey=yc(G),t.targetLabelStyleKey=yc(tv(L.commonLabel,G))}if(o){var q=t.styleKeys,V=q.nodeBody,H=q.nodeBorder,ae=q.nodeOutline,re=q.backgroundImage,oe=q.compound,ue=q.pie,W=q.stripe,ee=[V,H,ae,re,oe,ue,W].filter(function(X){return X!=null}).reduce(tv,[Xu,Nd]);t.nodeKey=yc(ee),t.hasPie=ue!=null&&ue[0]!==Xu&&ue[1]!==Nd,t.hasStripe=W!=null&&W[0]!==Xu&&W[1]!==Nd}return s!==t.styleKey},un.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null,t.hasStripe=null},un.applyParsedProperty=function(e,t){var r=this,i=t,n=e._private.style,a,s=r.types,o=r.properties[i.name].type,u=i.bypass,h=n[i.name],d=h&&h.bypass,p=e._private,g="mapping",f=l(function(q){return q==null?null:q.pfValue!=null?q.pfValue:q.value},"getVal"),m=l(function(){var q=f(h),V=f(i);r.checkTriggers(e,i.name,q,V)},"checkTriggers");if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(i=t=this.parse(t.name,"bezier",u)),i.delete)return n[i.name]=void 0,m(),!0;if(i.deleteBypassed)return h?h.bypass?(h.bypassed=void 0,m(),!0):!1:(m(),!0);if(i.deleteBypass)return h?h.bypass?(n[i.name]=h.bypassed,m(),!0):!1:(m(),!0);var y=l(function(){$r("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")},"printMappingErr");switch(i.mapped){case s.mapData:{for(var b=i.field.split("."),v=p.data,x=0;x<b.length&&v;x++){var w=b[x];v=v[w]}if(v==null)return y(),!1;var k;if(yt(v)){var T=i.fieldMax-i.fieldMin;T===0?k=0:k=(v-i.fieldMin)/T}else return $r("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+v+"` for `"+e.id()+"` is non-numeric)"),!1;if(k<0?k=0:k>1&&(k=1),o.color){var _=i.valueMin[0],C=i.valueMax[0],E=i.valueMin[1],N=i.valueMax[1],M=i.valueMin[2],I=i.valueMax[2],A=i.valueMin[3]==null?1:i.valueMin[3],B=i.valueMax[3]==null?1:i.valueMax[3],S=[Math.round(_+(C-_)*k),Math.round(E+(N-E)*k),Math.round(M+(I-M)*k),Math.round(A+(B-A)*k)];a={bypass:i.bypass,name:i.name,value:S,strValue:"rgb("+S[0]+", "+S[1]+", "+S[2]+")"}}else if(o.number){var O=i.valueMin+(i.valueMax-i.valueMin)*k;a=this.parse(i.name,O,i.bypass,g)}else return!1;if(!a)return y(),!1;a.mapping=i,i=a;break}case s.data:{for(var R=i.field.split("."),P=p.data,L=0;L<R.length&&P;L++){var $=R[L];P=P[$]}if(P!=null&&(a=this.parse(i.name,P,i.bypass,g)),!a)return y(),!1;a.mapping=i,i=a;break}case s.fn:{var F=i.value,G=i.fnValue!=null?i.fnValue:F(e);if(i.prevFnValue=G,G==null)return $r("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+e.id()+"` is null)"),!1;if(a=this.parse(i.name,G,i.bypass,g),!a)return $r("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+e.id()+"` is invalid)"),!1;a.mapping=vo(i),i=a;break}case void 0:break;default:return!1}return u?(d?i.bypassed=h.bypassed:i.bypassed=h,n[i.name]=i):d?h.bypassed=i:n[i.name]=i,m(),!0},un.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var i=e[r];if(this.clearStyleHints(i),i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),!t)i._private.style={};else for(var n=i._private.style,a=Object.keys(n),s=0;s<a.length;s++){var o=a[s],u=n[o];u!=null&&(u.bypass?u.bypassed=null:n[o]=null)}}},un.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()},un.updateTransitions=function(e,t){var r=this,i=e._private,n=e.pstyle("transition-property").value,a=e.pstyle("transition-duration").pfValue,s=e.pstyle("transition-delay").pfValue;if(n.length>0&&a>0){for(var o={},u=!1,h=0;h<n.length;h++){var d=n[h],p=e.pstyle(d),g=t[d];if(g){var f=g.prev,m=f,y=g.next!=null?g.next:p,b=!1,v=void 0,x=1e-6;m&&(yt(m.pfValue)&&yt(y.pfValue)?(b=y.pfValue-m.pfValue,v=m.pfValue+x*b):yt(m.value)&&yt(y.value)?(b=y.value-m.value,v=m.value+x*b):Wr(m.value)&&Wr(y.value)&&(b=m.value[0]!==y.value[0]||m.value[1]!==y.value[1]||m.value[2]!==y.value[2],v=m.strValue),b&&(o[d]=y.strValue,this.applyBypass(e,d,v),u=!0))}}if(!u)return;i.transitioning=!0,new $d(function(w){s>0?e.delayAnimation(s).play().promise().then(w):w()}).then(function(){return e.animation({style:o,duration:a,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,n),e.emitAndNotify("style"),i.transitioning=!1})}else i.transitioning&&(this.removeBypasses(e,n),e.emitAndNotify("style"),i.transitioning=!1)},un.checkTrigger=function(e,t,r,i,n,a){var s=this.properties[t],o=n(s);e.removed()||o!=null&&o(r,i,e)&&a(s)},un.checkZOrderTrigger=function(e,t,r,i){var n=this;this.checkTrigger(e,t,r,i,function(a){return a.triggersZOrder},function(){n._private.cy.notify("zorder",e)})},un.checkBoundsTrigger=function(e,t,r,i){this.checkTrigger(e,t,r,i,function(n){return n.triggersBounds},function(n){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})},un.checkConnectedEdgesBoundsTrigger=function(e,t,r,i){this.checkTrigger(e,t,r,i,function(n){return n.triggersBoundsOfConnectedEdges},function(n){e.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})},un.checkParallelEdgesBoundsTrigger=function(e,t,r,i){this.checkTrigger(e,t,r,i,function(n){return n.triggersBoundsOfParallelEdges},function(n){e.parallelEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})},un.checkTriggers=function(e,t,r,i){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,i),this.checkBoundsTrigger(e,t,r,i),this.checkConnectedEdgesBoundsTrigger(e,t,r,i),this.checkParallelEdgesBoundsTrigger(e,t,r,i)},b1={},b1.applyBypass=function(e,t,r,i){var n=this,a=[],s=!0;if(t==="*"||t==="**"){if(r!==void 0)for(var o=0;o<n.properties.length;o++){var u=n.properties[o],h=u.name,d=this.parse(h,r,!0);d&&a.push(d)}}else if(qt(t)){var p=this.parse(t,r,!0);p&&a.push(p)}else if(Cr(t)){var g=t;i=r;for(var f=Object.keys(g),m=0;m<f.length;m++){var y=f[m],b=g[y];if(b===void 0&&(b=g[Q2(y)]),b!==void 0){var v=this.parse(y,b,!0);v&&a.push(v)}}}else return!1;if(a.length===0)return!1;for(var x=!1,w=0;w<e.length;w++){for(var k=e[w],T={},_=void 0,C=0;C<a.length;C++){var E=a[C];if(i){var N=k.pstyle(E.name);_=T[E.name]={prev:N}}x=this.applyParsedProperty(k,vo(E))||x,i&&(_.next=k.pstyle(E.name))}x&&this.updateStyleHints(k),i&&this.updateTransitions(k,T,s)}return x},b1.overrideBypass=function(e,t,r){t=Fw(t);for(var i=0;i<e.length;i++){var n=e[i],a=n._private.style[t],s=this.properties[t].type,o=s.color,u=s.mutiple,h=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(n,t,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),o?a.strValue="rgb("+r.join(",")+")":u?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(n)),this.checkTriggers(n,t,h,r)}},b1.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)},b1.removeBypasses=function(e,t,r){for(var i=!0,n=0;n<e.length;n++){for(var a=e[n],s={},o=0;o<t.length;o++){var u=t[o],h=this.properties[u],d=a.pstyle(h.name);if(!(!d||!d.bypass)){var p="",g=this.parse(u,p,!0),f=s[h.name]={prev:d};this.applyParsedProperty(a,g),f.next=a.pstyle(h.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,s,i)}},hk={},hk.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1},hk.containerCss=function(e){var t=this._private.cy,r=t.container(),i=t.window();if(i&&r&&i.getComputedStyle)return i.getComputedStyle(r).getPropertyValue(e)},xo={},xo.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},xo.getRawStyle=function(e,t){var r=this;if(e=e[0],e){for(var i={},n=0;n<r.properties.length;n++){var a=r.properties[n],s=r.getStylePropertyValue(e,a.name,t);s!=null&&(i[a.name]=s,i[Q2(a.name)]=s)}return i}},xo.getIndexedStyle=function(e,t,r,i){var n=e.pstyle(t)[r][i];return n??e.cy().style().getDefaultProperty(t)[r][0]},xo.getStylePropertyValue=function(e,t,r){var i=this;if(e=e[0],e){var n=i.properties[t];n.alias&&(n=n.pointsTo);var a=n.type,s=e.pstyle(n.name);if(s){var o=s.value,u=s.units,h=s.strValue;if(r&&a.number&&o!=null&&yt(o)){var d=e.cy().zoom(),p=l(function(y){return y*d},"getRenderedValue"),g=l(function(y,b){return p(y)+b},"getValueStringWithUnits"),f=Wr(o),m=f?u.every(function(y){return y!=null}):u!=null;return m?f?o.map(function(y,b){return g(y,u[b])}).join(" "):g(o,u):f?o.map(function(y){return qt(y)?y:""+p(y)}).join(" "):""+p(o)}else if(h!=null)return h}return null}},xo.getAnimationStartStyle=function(e,t){for(var r={},i=0;i<t.length;i++){var n=t[i],a=n.name,s=e.pstyle(a);s!==void 0&&(Cr(s)?s=this.parse(a,s.strValue):s=this.parse(a,s)),s&&(r[a]=s)}return r},xo.getPropsList=function(e){var t=this,r=[],i=e,n=t.properties;if(i)for(var a=Object.keys(i),s=0;s<a.length;s++){var o=a[s],u=i[o],h=n[o]||n[Fw(o)],d=this.parse(h.name,u);d&&r.push(d)}return r},xo.getNonDefaultPropertiesHash=function(e,t,r){var i=r.slice(),n,a,s,o,u,h;for(u=0;u<t.length;u++)if(n=t[u],a=e.pstyle(n,!1),a!=null)if(a.pfValue!=null)i[0]=o1(o,i[0]),i[1]=l1(o,i[1]);else for(s=a.strValue,h=0;h<s.length;h++)o=s.charCodeAt(h),i[0]=o1(o,i[0]),i[1]=l1(o,i[1]);return i},xo.getPropertiesHash=xo.getNonDefaultPropertiesHash,_v={},_v.appendFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var i=e[r],n=i.selector,a=i.style||i.css,s=Object.keys(a);t.selector(n);for(var o=0;o<s.length;o++){var u=s[o],h=a[u];t.css(u,h)}}return t},_v.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},_v.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],i=r.selector,n=r.properties,a={},s=0;s<n.length;s++){var o=n[s];a[o.name]=o.strValue}e.push({selector:i?i.toString():"core",style:a})}return e},dk={},dk.appendFromString=function(e){var t=this,r=this,i=""+e,n,a,s;i=i.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){i.length>n.length?i=i.substr(n.length):i=""}l(o,"removeSelAndBlockFromRemaining");function u(){a.length>s.length?a=a.substr(s.length):a=""}for(l(u,"removePropAndValFromRem");;){var h=i.match(/^\s*$/);if(h)break;var d=i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){$r("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+i);break}n=d[0];var p=d[1];if(p!=="core"){var g=new Tc(p);if(g.invalid){$r("Skipping parsing of block: Invalid selector found in string stylesheet: "+p),o();continue}}var f=d[2],m=!1;a=f;for(var y=[];;){var b=a.match(/^\s*$/);if(b)break;var v=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!v){$r("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+f),m=!0;break}s=v[0];var x=v[1],w=v[2],k=t.properties[x];if(!k){$r("Skipping property: Invalid property name in: "+s),u();continue}var T=r.parse(x,w);if(!T){$r("Skipping property: Invalid property definition in: "+s),u();continue}y.push({name:x,val:w}),u()}if(m){o();break}r.selector(p);for(var _=0;_<y.length;_++){var C=y[_];r.css(C.name,C.val)}o()}return r},dk.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t},Bi={},function(){var e=Zi,t=F3e,r=G3e,i=U3e,n=q3e,a=l(function(ee){return"^"+ee+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},"data"),s=l(function(ee){var X=e+"|\\w+|"+t+"|"+r+"|"+i+"|"+n;return"^"+ee+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+X+")\\s*\\,\\s*("+X+")\\)$"},"mapData"),o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Bi.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:l(function(ee,X){switch(ee.length){case 2:return X[0]!=="deg"&&X[0]!=="rad"&&X[1]!=="deg"&&X[1]!=="rad";case 1:return qt(ee[0])||X[0]==="deg"||X[0]==="rad";default:return!1}},"validate")},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:l(function(ee){var X=ee.length;return X===1||X===2||X===4},"validate")}};var u={zeroNonZero:l(function(ee,X){return(ee==null||X==null)&&ee!==X||ee==0&&X!=0?!0:ee!=0&&X==0},"zeroNonZero"),any:l(function(ee,X){return ee!=X},"any"),emptyNonEmpty:l(function(ee,X){var Z=fc(ee),J=fc(X);return Z&&!J||!Z&&J},"emptyNonEmpty")},h=Bi.types,d=[{name:"label",type:h.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:h.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:h.bidirectionalSize,triggersBounds:u.any}],p=[{name:"source-label",type:h.text,triggersBounds:u.any},{name:"source-text-rotation",type:h.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:h.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:h.size,triggersBounds:u.any}],g=[{name:"target-label",type:h.text,triggersBounds:u.any},{name:"target-text-rotation",type:h.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:h.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:h.size,triggersBounds:u.any}],f=[{name:"font-family",type:h.fontFamily,triggersBounds:u.any},{name:"font-style",type:h.fontStyle,triggersBounds:u.any},{name:"font-weight",type:h.fontWeight,triggersBounds:u.any},{name:"font-size",type:h.size,triggersBounds:u.any},{name:"text-transform",type:h.textTransform,triggersBounds:u.any},{name:"text-wrap",type:h.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:h.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:h.size,triggersBounds:u.any},{name:"text-outline-width",type:h.size,triggersBounds:u.any},{name:"line-height",type:h.positiveNumber,triggersBounds:u.any}],m=[{name:"text-valign",type:h.valign,triggersBounds:u.any},{name:"text-halign",type:h.halign,triggersBounds:u.any},{name:"color",type:h.color},{name:"text-outline-color",type:h.color},{name:"text-outline-opacity",type:h.zeroOneNumber},{name:"text-background-color",type:h.color},{name:"text-background-opacity",type:h.zeroOneNumber},{name:"text-background-padding",type:h.size,triggersBounds:u.any},{name:"text-border-opacity",type:h.zeroOneNumber},{name:"text-border-color",type:h.color},{name:"text-border-width",type:h.size,triggersBounds:u.any},{name:"text-border-style",type:h.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:h.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:h.justification},{name:"box-select-labels",type:h.bool,triggersBounds:u.any}],y=[{name:"events",type:h.bool,triggersZOrder:u.any},{name:"text-events",type:h.bool,triggersZOrder:u.any},{name:"box-selection",type:h.boxSelection,triggersZOrder:u.any}],b=[{name:"display",type:h.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:u.any,triggersBoundsOfParallelEdges:l(function(ee,X,Z){return ee===X?!1:Z.pstyle("curve-style").value==="bezier"},"triggersBoundsOfParallelEdges")},{name:"visibility",type:h.visibility,triggersZOrder:u.any},{name:"opacity",type:h.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:h.zeroOneNumber},{name:"min-zoomed-font-size",type:h.size},{name:"z-compound-depth",type:h.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:h.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:h.number,triggersZOrder:u.any}],v=[{name:"overlay-padding",type:h.size,triggersBounds:u.any},{name:"overlay-color",type:h.color},{name:"overlay-opacity",type:h.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:h.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:h.cornerRadius}],x=[{name:"underlay-padding",type:h.size,triggersBounds:u.any},{name:"underlay-color",type:h.color},{name:"underlay-opacity",type:h.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:h.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:h.cornerRadius}],w=[{name:"transition-property",type:h.propList},{name:"transition-duration",type:h.time},{name:"transition-delay",type:h.time},{name:"transition-timing-function",type:h.easing}],k=l(function(ee,X){return X.value==="label"?-ee.poolIndex():X.pfValue},"nodeSizeHashOverride"),T=[{name:"height",type:h.nodeSize,triggersBounds:u.any,hashOverride:k},{name:"width",type:h.nodeSize,triggersBounds:u.any,hashOverride:k},{name:"shape",type:h.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:h.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:h.cornerRadius},{name:"background-color",type:h.color},{name:"background-fill",type:h.fill},{name:"background-opacity",type:h.zeroOneNumber},{name:"background-blacken",type:h.nOneOneNumber},{name:"background-gradient-stop-colors",type:h.colors},{name:"background-gradient-stop-positions",type:h.percentages},{name:"background-gradient-direction",type:h.gradientDirection},{name:"padding",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:h.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:h.boundsExpansion,triggersBounds:u.any}],_=[{name:"border-color",type:h.color},{name:"border-opacity",type:h.zeroOneNumber},{name:"border-width",type:h.size,triggersBounds:u.any},{name:"border-style",type:h.borderStyle},{name:"border-cap",type:h.lineCap},{name:"border-join",type:h.lineJoin},{name:"border-dash-pattern",type:h.numbers},{name:"border-dash-offset",type:h.number},{name:"border-position",type:h.linePosition}],C=[{name:"outline-color",type:h.color},{name:"outline-opacity",type:h.zeroOneNumber},{name:"outline-width",type:h.size,triggersBounds:u.any},{name:"outline-style",type:h.borderStyle},{name:"outline-offset",type:h.size,triggersBounds:u.any}],E=[{name:"background-image",type:h.urls},{name:"background-image-crossorigin",type:h.bgCrossOrigin},{name:"background-image-opacity",type:h.zeroOneNumbers},{name:"background-image-containment",type:h.bgContainment},{name:"background-image-smoothing",type:h.bools},{name:"background-position-x",type:h.bgPos},{name:"background-position-y",type:h.bgPos},{name:"background-width-relative-to",type:h.bgRelativeTo},{name:"background-height-relative-to",type:h.bgRelativeTo},{name:"background-repeat",type:h.bgRepeat},{name:"background-fit",type:h.bgFit},{name:"background-clip",type:h.bgClip},{name:"background-width",type:h.bgWH},{name:"background-height",type:h.bgWH},{name:"background-offset-x",type:h.bgPos},{name:"background-offset-y",type:h.bgPos}],N=[{name:"position",type:h.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:h.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:h.size,triggersBounds:u.any},{name:"min-width-bias-left",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:h.size,triggersBounds:u.any},{name:"min-height-bias-top",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:h.sizeMaybePercent,triggersBounds:u.any}],M=[{name:"line-style",type:h.lineStyle},{name:"line-color",type:h.color},{name:"line-fill",type:h.fill},{name:"line-cap",type:h.lineCap},{name:"line-opacity",type:h.zeroOneNumber},{name:"line-dash-pattern",type:h.numbers},{name:"line-dash-offset",type:h.number},{name:"line-outline-width",type:h.size},{name:"line-outline-color",type:h.color},{name:"line-gradient-stop-colors",type:h.colors},{name:"line-gradient-stop-positions",type:h.percentages},{name:"curve-style",type:h.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelEdges:l(function(ee,X){return ee===X?!1:ee==="bezier"||X==="bezier"},"triggersBoundsOfParallelEdges")},{name:"haystack-radius",type:h.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:h.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:h.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:h.size,triggersBounds:u.any},{name:"control-point-distances",type:h.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:h.numbers,triggersBounds:u.any},{name:"segment-distances",type:h.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:h.numbers,triggersBounds:u.any},{name:"segment-radii",type:h.numbers,triggersBounds:u.any},{name:"radius-type",type:h.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:h.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:h.size,triggersBounds:u.any},{name:"taxi-direction",type:h.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:h.number,triggersBounds:u.any},{name:"edge-distances",type:h.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:h.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:h.angle,triggersBounds:u.any},{name:"loop-sweep",type:h.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:h.size,triggersBounds:u.any},{name:"target-distance-from-node",type:h.size,triggersBounds:u.any}],I=[{name:"ghost",type:h.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:h.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:h.zeroOneNumber}],A=[{name:"selection-box-color",type:h.color},{name:"selection-box-opacity",type:h.zeroOneNumber},{name:"selection-box-border-color",type:h.color},{name:"selection-box-border-width",type:h.size},{name:"active-bg-color",type:h.color},{name:"active-bg-opacity",type:h.zeroOneNumber},{name:"active-bg-size",type:h.size},{name:"outside-texture-bg-color",type:h.color},{name:"outside-texture-bg-opacity",type:h.zeroOneNumber}],B=[];Bi.pieBackgroundN=16,B.push({name:"pie-size",type:h.sizeMaybePercent}),B.push({name:"pie-hole",type:h.sizeMaybePercent}),B.push({name:"pie-start-angle",type:h.angle});for(var S=1;S<=Bi.pieBackgroundN;S++)B.push({name:"pie-"+S+"-background-color",type:h.color}),B.push({name:"pie-"+S+"-background-size",type:h.percent}),B.push({name:"pie-"+S+"-background-opacity",type:h.zeroOneNumber});var O=[];Bi.stripeBackgroundN=16,O.push({name:"stripe-size",type:h.sizeMaybePercent}),O.push({name:"stripe-direction",type:h.axisDirectionPrimary});for(var R=1;R<=Bi.stripeBackgroundN;R++)O.push({name:"stripe-"+R+"-background-color",type:h.color}),O.push({name:"stripe-"+R+"-background-size",type:h.percent}),O.push({name:"stripe-"+R+"-background-opacity",type:h.zeroOneNumber});var P=[],L=Bi.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:h.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:h.color},{name:"arrow-fill",type:h.arrowFill},{name:"arrow-width",type:h.arrowWidth}].forEach(function(ee){L.forEach(function(X){var Z=X+"-"+ee.name,J=ee.type,he=ee.triggersBounds;P.push({name:Z,type:J,triggersBounds:he})})},{});var $=Bi.properties=[].concat(y,w,b,v,x,I,m,f,d,p,g,T,_,C,E,B,O,N,M,P,A),F=Bi.propertyGroups={behavior:y,transition:w,visibility:b,overlay:v,underlay:x,ghost:I,commonLabel:m,labelDimensions:f,mainLabel:d,sourceLabel:p,targetLabel:g,nodeBody:T,nodeBorder:_,nodeOutline:C,backgroundImage:E,pie:B,stripe:O,compound:N,edgeLine:M,edgeArrow:P,core:A},G=Bi.propertyGroupNames={},q=Bi.propertyGroupKeys=Object.keys(F);q.forEach(function(ee){G[ee]=F[ee].map(function(X){return X.name}),F[ee].forEach(function(X){return X.groupKey=ee})});var V=Bi.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Bi.propertyNames=$.map(function(ee){return ee.name});for(var H=0;H<$.length;H++){var ae=$[H];$[ae.name]=ae}for(var re=0;re<V.length;re++){var oe=V[re],ue=$[oe.pointsTo],W={name:oe.name,alias:!0,pointsTo:ue};$.push(W),$[oe.name]=W}}(),Bi.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},Bi.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=Qt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,h){for(var d=1;d<=Bi.pieBackgroundN;d++){var p=h.name.replace("{{i}}",d),g=h.value;u[p]=g}return u},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(u,h){for(var d=1;d<=Bi.stripeBackgroundN;d++){var p=h.name.replace("{{i}}",d),g=h.value;u[p]=g}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,h){return Bi.arrowPrefixes.forEach(function(d){var p=d+"-"+h.name,g=h.value;u[p]=g}),u},{})),r={},i=0;i<this.properties.length;i++){var n=this.properties[i];if(!n.pointsTo){var a=n.name,s=t[a],o=this.parse(a,s);r[a]=o}}return e.defaultProperties=r,e.defaultProperties},Bi.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length},Av={},Av.parse=function(e,t,r,i){var n=this;if(di(t))return n.parseImplWarn(e,t,r,i);var a=i==="mapping"||i===!0||i===!1||i==null?"dontcare":i,s=r?"t":"f",o=""+t,u=eR(e,o,s,a),h=n.propCache=n.propCache||[],d;return(d=h[u])||(d=h[u]=n.parseImplWarn(e,t,r,i)),(r||i==="mapping")&&(d=vo(d),d&&(d.value=vo(d.value))),d},Av.parseImplWarn=function(e,t,r,i){var n=this.parseImpl(e,t,r,i);return!n&&t!=null&&$r("The style property `".concat(e,": ").concat(t,"` is invalid")),n&&(n.name==="width"||n.name==="height")&&t==="label"&&$r("The style value of `label` is deprecated for `"+n.name+"`"),n},Av.parseImpl=function(e,t,r,i){var n=this;e=Fw(e);var a=n.properties[e],s=t,o=n.types;if(!a||t===void 0)return null;a.alias&&(a=a.pointsTo,e=a.name);var u=qt(t);u&&(t=t.trim());var h=a.type;if(!h)return null;if(r&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(di(t))return{name:e,value:t,strValue:"fn",mapped:o.fn,bypass:r};var d,p;if(!(!u||i||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(d=new RegExp(o.data.regex).exec(t))){if(r)return!1;var g=o.data;return{name:e,value:d,strValue:""+t,mapped:g,field:d[1],bypass:r}}else if(t.length>=10&&t[0]==="m"&&(p=new RegExp(o.mapData.regex).exec(t))){if(r||h.multiple)return!1;var f=o.mapData;if(!(h.color||h.number))return!1;var m=this.parse(e,p[4]);if(!m||m.mapped)return!1;var y=this.parse(e,p[5]);if(!y||y.mapped)return!1;if(m.pfValue===y.pfValue||m.strValue===y.strValue)return $r("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+m.strValue+"`"),this.parse(e,m.strValue);if(h.color){var b=m.value,v=y.value,x=b[0]===v[0]&&b[1]===v[1]&&b[2]===v[2]&&(b[3]===v[3]||(b[3]==null||b[3]===1)&&(v[3]==null||v[3]===1));if(x)return!1}return{name:e,value:p,strValue:""+t,mapped:f,field:p[1],fieldMin:parseFloat(p[2]),fieldMax:parseFloat(p[3]),valueMin:m.value,valueMax:y.value,bypass:r}}}if(h.multiple&&i!=="multiple"){var w;if(u?w=t.split(/\s+/):Wr(t)?w=t:w=[t],h.evenMultiple&&w.length%2!==0)return null;for(var k=[],T=[],_=[],C="",E=!1,N=0;N<w.length;N++){var M=n.parse(e,w[N],r,"multiple");E=E||qt(M.value),k.push(M.value),_.push(M.pfValue!=null?M.pfValue:M.value),T.push(M.units),C+=(N>0?" ":"")+M.strValue}return h.validate&&!h.validate(k,T)?null:h.singleEnum&&E?k.length===1&&qt(k[0])?{name:e,value:k[0],strValue:k[0],bypass:r}:null:{name:e,value:k,pfValue:_,strValue:C,bypass:r,units:T}}var I=l(function(){for(var ue=0;ue<h.enums.length;ue++){var W=h.enums[ue];if(W===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null},"checkEnums");if(h.number){var A,B="px";if(h.units&&(A=h.units),h.implicitUnits&&(B=h.implicitUnits),!h.unitless)if(u){var S="px|em"+(h.allowPercent?"|\\%":"");A&&(S=A);var O=t.match("^("+Zi+")("+S+")?$");O&&(t=O[1],A=O[2]||B)}else(!A||h.implicitUnits)&&(A=B);if(t=parseFloat(t),isNaN(t)&&h.enums===void 0)return null;if(isNaN(t)&&h.enums!==void 0)return t=s,I();if(h.integer&&!I3e(t)||h.min!==void 0&&(t<h.min||h.strictMin&&t===h.min)||h.max!==void 0&&(t>h.max||h.strictMax&&t===h.max))return null;var R={name:e,value:t,strValue:""+t+(A||""),units:A,bypass:r};return h.unitless||A!=="px"&&A!=="em"?R.pfValue=t:R.pfValue=A==="px"||!A?t:this.getEmSizeInPixels()*t,(A==="ms"||A==="s")&&(R.pfValue=A==="ms"?t:1e3*t),(A==="deg"||A==="rad")&&(R.pfValue=A==="rad"?t:V5e(t)),A==="%"&&(R.pfValue=t/100),R}else if(h.propList){var P=[],L=""+t;if(L!=="none"){for(var $=L.split(/\s*,\s*|\s+/),F=0;F<$.length;F++){var G=$[F].trim();n.properties[G]?P.push(G):$r("`"+G+"` is not a valid property name")}if(P.length===0)return null}return{name:e,value:P,strValue:P.length===0?"none":P.join(" "),bypass:r}}else if(h.color){var q=DD(t);return q?{name:e,value:q,pfValue:q,strValue:"rgb("+q[0]+","+q[1]+","+q[2]+")",bypass:r}:null}else if(h.regex||h.regexes){if(h.enums){var V=I();if(V)return V}for(var H=h.regexes?h.regexes:[h.regex],ae=0;ae<H.length;ae++){var re=new RegExp(H[ae]),oe=re.exec(t);if(oe)return{name:e,value:h.singleRegexMatchValue?oe[1]:oe,strValue:""+t,bypass:r}}return null}else return h.string?{name:e,value:""+t,strValue:""+t,bypass:r}:h.enums?I():null},hn=l(function(e){if(!(this instanceof hn))return new hn(e);if(!$w(e)){oi("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},"Style"),Bn=hn.prototype,Bn.instanceString=function(){return"style"},Bn.clear=function(){for(var e=this._private,t=e.cy,r=t.elements(),i=0;i<this.length;i++)this[i]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(r,!0),r.forEach(function(n){var a=n[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this},Bn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Bn.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},Bn.selector=function(e){var t=e==="core"?null:new Tc(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this},Bn.css=function(){var e=this,t=arguments;if(t.length===1)for(var r=t[0],i=0;i<e.properties.length;i++){var n=e.properties[i],a=r[n.name];a===void 0&&(a=r[Q2(n.name)]),a!==void 0&&this.cssRule(n.name,a)}else t.length===2&&this.cssRule(t[0],t[1]);return this},Bn.style=Bn.css,Bn.cssRule=function(e,t){var r=this.parse(e,t);if(r){var i=this.length-1;this[i].properties.push(r),this[i].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[i].mappedProperties.push(r);var n=!this[i].selector;n&&(this._private.coreStyle[r.name]=r)}return this},Bn.append=function(e){return LD(e)?e.appendToStyle(this):Wr(e)?this.appendFromJson(e):qt(e)&&this.appendFromString(e),this},hn.fromJson=function(e,t){var r=new hn(e);return r.fromJson(t),r},hn.fromString=function(e,t){return new hn(e).fromString(t)},[un,b1,hk,xo,_v,dk,Bi,Av].forEach(function(e){Qt(Bn,e)}),hn.types=Bn.types,hn.properties=Bn.properties,hn.propertyGroups=Bn.propertyGroups,hn.propertyGroupNames=Bn.propertyGroupNames,hn.propertyGroupKeys=Bn.propertyGroupKeys,iTe={style:l(function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},"style"),setStyle:l(function(e){var t=this._private;return LD(e)?t.style=e.generateStyle(this):Wr(e)?t.style=hn.fromJson(this,e):qt(e)?t.style=hn.fromString(this,e):t.style=hn(this),t.style},"setStyle"),updateStyle:l(function(){this.mutableElements().updateStyle()},"updateStyle")},nTe="single",rh={autolock:l(function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},"autolock"),autoungrabify:l(function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},"autoungrabify"),autounselectify:l(function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},"autounselectify"),selectionType:l(function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=nTe),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},"selectionType"),panningEnabled:l(function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},"panningEnabled"),userPanningEnabled:l(function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},"userPanningEnabled"),zoomingEnabled:l(function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},"zoomingEnabled"),userZoomingEnabled:l(function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},"userZoomingEnabled"),boxSelectionEnabled:l(function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},"boxSelectionEnabled"),pan:l(function(){var e=arguments,t=this._private.pan,r,i,n,a,s;switch(e.length){case 0:return t;case 1:if(qt(e[0]))return r=e[0],t[r];if(Cr(e[0])){if(!this._private.panningEnabled)return this;n=e[0],a=n.x,s=n.y,yt(a)&&(t.x=a),yt(s)&&(t.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=e[0],i=e[1],(r==="x"||r==="y")&&yt(i)&&(t[r]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},"pan"),panBy:l(function(e,t){var r=arguments,i=this._private.pan,n,a,s,o,u;if(!this._private.panningEnabled)return this;switch(r.length){case 1:Cr(e)&&(s=r[0],o=s.x,u=s.y,yt(o)&&(i.x+=o),yt(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:n=e,a=t,(n==="x"||n==="y")&&yt(a)&&(i[n]+=a),this.emit("pan viewport");break}return this.notify("viewport"),this},"panBy"),gc:l(function(){this.notify("gc")},"gc"),fit:l(function(e,t){var r=this.getFitViewport(e,t);if(r){var i=this._private;i.zoom=r.zoom,i.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},"fit"),getFitViewport:l(function(e,t){if(yt(e)&&t===void 0&&(t=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var r;if(qt(e)){var i=e;e=this.$(i)}else if(O3e(e)){var n=e;r={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else Ua(e)||(e=this.mutableElements());if(!(Ua(e)&&e.empty())){r=r||e.boundingBox();var a=this.width(),s=this.height(),o;if(t=yt(t)?t:0,!isNaN(a)&&!isNaN(s)&&a>0&&s>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){o=Math.min((a-2*t)/r.w,(s-2*t)/r.h),o=o>this._private.maxZoom?this._private.maxZoom:o,o=o<this._private.minZoom?this._private.minZoom:o;var u={x:(a-o*(r.x1+r.x2))/2,y:(s-o*(r.y1+r.y2))/2};return{zoom:o,pan:u}}}}},"getFitViewport"),zoomRange:l(function(e,t){var r=this._private;if(t==null){var i=e;e=i.min,t=i.max}return yt(e)&&yt(t)&&e<=t?(r.minZoom=e,r.maxZoom=t):yt(e)&&t===void 0&&e<=r.maxZoom?r.minZoom=e:yt(t)&&e===void 0&&t>=r.minZoom&&(r.maxZoom=t),this},"zoomRange"),minZoom:l(function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},"minZoom"),maxZoom:l(function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},"maxZoom"),getZoomedViewport:l(function(e){var t=this._private,r=t.pan,i=t.zoom,n,a,s=!1;if(t.zoomingEnabled||(s=!0),yt(e)?a=e:Cr(e)&&(a=e.level,e.position!=null?n=nv(e.position,i,r):e.renderedPosition!=null&&(n=e.renderedPosition),n!=null&&!t.panningEnabled&&(s=!0)),a=a>t.maxZoom?t.maxZoom:a,a=a<t.minZoom?t.minZoom:a,s||!yt(a)||a===i||n!=null&&(!yt(n.x)||!yt(n.y)))return null;if(n!=null){var o=r,u=i,h=a,d={x:-h/u*(n.x-o.x)+n.x,y:-h/u*(n.y-o.y)+n.y};return{zoomed:!0,panned:!0,zoom:h,pan:d}}else return{zoomed:!0,panned:!1,zoom:a,pan:r}},"getZoomedViewport"),zoom:l(function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),r=this._private;return t==null||!t.zoomed?this:(r.zoom=t.zoom,t.panned&&(r.pan.x=t.pan.x,r.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},"zoom"),viewport:l(function(e){var t=this._private,r=!0,i=!0,n=[],a=!1,s=!1;if(!e)return this;if(yt(e.zoom)||(r=!1),Cr(e.pan)||(i=!1),!r&&!i)return this;if(r){var o=e.zoom;o<t.minZoom||o>t.maxZoom||!t.zoomingEnabled?a=!0:(t.zoom=o,n.push("zoom"))}if(i&&(!a||!e.cancelOnFailedZoom)&&t.panningEnabled){var u=e.pan;yt(u.x)&&(t.pan.x=u.x,s=!1),yt(u.y)&&(t.pan.y=u.y,s=!1),s||n.push("pan")}return n.length>0&&(n.push("viewport"),this.emit(n.join(" ")),this.notify("viewport")),this},"viewport"),center:l(function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},"center"),getCenterPan:l(function(e,t){if(this._private.panningEnabled){if(qt(e)){var r=e;e=this.mutableElements().filter(r)}else Ua(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),n=this.width(),a=this.height();t=t===void 0?this._private.zoom:t;var s={x:(n-t*(i.x1+i.x2))/2,y:(a-t*(i.y1+i.y2))/2};return s}}},"getCenterPan"),reset:l(function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},"reset"),invalidateSize:l(function(){this._private.sizeCache=null},"invalidateSize"),size:l(function(){var e=this._private,t=e.container,r=this;return e.sizeCache=e.sizeCache||(t?function(){var i=r.window().getComputedStyle(t),n=l(function(a){return parseFloat(i.getPropertyValue(a))},"val");return{width:t.clientWidth-n("padding-left")-n("padding-right"),height:t.clientHeight-n("padding-top")-n("padding-bottom")}}():{width:1,height:1})},"size"),width:l(function(){return this.size().width},"width"),height:l(function(){return this.size().height},"height"),extent:l(function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),i={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},"extent"),renderedExtent:l(function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},"renderedExtent"),multiClickDebounceTime:l(function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this},"multiClickDebounceTime")},rh.centre=rh.center,rh.autolockNodes=rh.autolock,rh.autoungrabifyNodes=rh.autoungrabify,x1={data:Fr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Fr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Fr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Fr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})},x1.attr=x1.data,x1.removeAttr=x1.removeData,w1=l(function(e){var t=this;e=Qt({},e);var r=e.container;r&&!Z2(r)&&Z2(r[0])&&(r=r[0]);var i=r?r._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var n=i.readies=i.readies||[];r&&(r._cyreg=i),i.cy=t;var a=Ki!==void 0&&r!==void 0&&!e.headless,s=e;s.layout=Qt({name:a?"grid":"null"},s.layout),s.renderer=Qt({name:a?"canvas":"null"},s.renderer);var o=l(function(g,f,m){return f!==void 0?f:m!==void 0?m:g},"defVal"),u=this._private={container:r,ready:!1,options:s,elements:new bn(this),listeners:[],aniEles:new bn(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:o(!0,s.zoomingEnabled),userZoomingEnabled:o(!0,s.userZoomingEnabled),panningEnabled:o(!0,s.panningEnabled),userPanningEnabled:o(!0,s.userPanningEnabled),boxSelectionEnabled:o(!0,s.boxSelectionEnabled),autolock:o(!1,s.autolock,s.autolockNodes),autoungrabify:o(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:o(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?a:s.styleEnabled,zoom:yt(s.zoom)?s.zoom:1,pan:{x:Cr(s.pan)&&yt(s.pan.x)?s.pan.x:0,y:Cr(s.pan)&&yt(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:o(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var h=l(function(g,f){var m=g.some(P3e);if(m)return $d.all(g).then(f);f(g)},"loadExtData");u.styleEnabled&&t.setStyle([]);var d=Qt({},s,s.renderer);t.initRenderer(d);var p=l(function(g,f,m){t.notifications(!1);var y=t.mutableElements();y.length>0&&y.remove(),g!=null&&(Cr(g)||Wr(g))&&t.add(g),t.one("layoutready",function(v){t.notifications(!0),t.emit(v),t.one("load",f),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",m),t.emit("done")});var b=Qt({},t._private.options.layout);b.eles=t.elements(),t.layout(b).run()},"setElesAndLayout");h([s.style,s.elements],function(g){var f=g[0],m=g[1];u.styleEnabled&&t.style().append(f),p(m,function(){t.startAnimationLoop(),u.ready=!0,di(s.ready)&&t.on("ready",s.ready);for(var y=0;y<n.length;y++){var b=n[y];t.on("ready",b)}i&&(i.readies=[]),t.emit("ready")},s.done)})},"Core"),Lv=w1.prototype,Qt(Lv,{instanceString:l(function(){return"core"},"instanceString"),isReady:l(function(){return this._private.ready},"isReady"),destroyed:l(function(){return this._private.destroyed},"destroyed"),ready:l(function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},"ready"),destroy:l(function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},"destroy"),hasElementWithId:l(function(e){return this._private.elements.hasElementWithId(e)},"hasElementWithId"),getElementById:l(function(e){return this._private.elements.getElementById(e)},"getElementById"),hasCompoundNodes:l(function(){return this._private.hasCompoundNodes},"hasCompoundNodes"),headless:l(function(){return this._private.renderer.isHeadless()},"headless"),styleEnabled:l(function(){return this._private.styleEnabled},"styleEnabled"),addToPool:l(function(e){return this._private.elements.merge(e),this},"addToPool"),removeFromPool:l(function(e){return this._private.elements.unmerge(e),this},"removeFromPool"),container:l(function(){return this._private.container||null},"container"),window:l(function(){var e=this._private.container;if(e==null)return Ki;var t=this._private.container.ownerDocument;return t===void 0||t==null?Ki:t.defaultView||Ki},"window"),mount:l(function(e){if(e!=null){var t=this,r=t._private,i=r.options;return!Z2(e)&&Z2(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),r.container=e,r.styleEnabled=!0,t.invalidateSize(),t.initRenderer(Qt({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),t.startAnimationLoop(),t.style(i.style),t.emit("mount"),t}},"mount"),unmount:l(function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},"unmount"),options:l(function(){return vo(this._private.options)},"options"),json:l(function(e){var t=this,r=t._private,i=t.mutableElements(),n=l(function(x){return t.getElementById(x.id())},"getFreshRef");if(Cr(e)){if(t.startBatch(),e.elements){var a={},s=l(function(x,w){for(var k=[],T=[],_=0;_<x.length;_++){var C=x[_];if(!C.data.id){$r("cy.json() cannot handle elements without an ID attribute");continue}var E=""+C.data.id,N=t.getElementById(E);a[E]=!0,N.length!==0?T.push({ele:N,json:C}):(w&&(C.group=w),k.push(C))}t.add(k);for(var M=0;M<T.length;M++){var I=T[M],A=I.ele,B=I.json;A.json(B)}},"updateEles");if(Wr(e.elements))s(e.elements);else for(var o=["nodes","edges"],u=0;u<o.length;u++){var h=o[u],d=e.elements[h];Wr(d)&&s(d,h)}var p=t.collection();i.filter(function(x){return!a[x.id()]}).forEach(function(x){x.isParent()?p.merge(x):x.remove()}),p.forEach(function(x){return x.children().move({parent:null})}),p.forEach(function(x){return n(x).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==r.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x!==r.pan.x||e.pan.y!==r.pan.y)&&t.pan(e.pan),e.data&&t.data(e.data);for(var g=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],f=0;f<g.length;f++){var m=g[f];e[m]!=null&&t[m](e[m])}return t.endBatch(),this}else{var y=!!e,b={};y?b.elements=this.elements().map(function(x){return x.json()}):(b.elements={},i.forEach(function(x){var w=x.group();b.elements[w]||(b.elements[w]=[]),b.elements[w].push(x.json())})),this._private.styleEnabled&&(b.style=t.style().json()),b.data=vo(t.data());var v=r.options;return b.zoomingEnabled=r.zoomingEnabled,b.userZoomingEnabled=r.userZoomingEnabled,b.zoom=r.zoom,b.minZoom=r.minZoom,b.maxZoom=r.maxZoom,b.panningEnabled=r.panningEnabled,b.userPanningEnabled=r.userPanningEnabled,b.pan=vo(r.pan),b.boxSelectionEnabled=r.boxSelectionEnabled,b.renderer=vo(v.renderer),b.hideEdgesOnViewport=v.hideEdgesOnViewport,b.textureOnViewport=v.textureOnViewport,b.wheelSensitivity=v.wheelSensitivity,b.motionBlur=v.motionBlur,b.multiClickDebounceTime=v.multiClickDebounceTime,b}},"json")}),Lv.$id=Lv.getElementById,[Kke,Qke,cP,ck,Cv,eTe,uk,Sv,iTe,rh,x1].forEach(function(e){Qt(Lv,e)}),aTe={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")},sTe={maximal:!1,acyclic:!1},Ud=l(function(e){return e.scratch("breadthfirst")},"getInfo"),uP=l(function(e,t){return e.scratch("breadthfirst",t)},"setInfo"),l(rD,"BreadthFirstLayout"),rD.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,i=r.nodes().filter(function(ce){return ce.isChildless()}),n=r,a=e.directed,s=e.acyclic||e.maximal||e.maximalAdjustments>0,o=!!e.boundingBox,u=ea(o?e.boundingBox:structuredClone(t.extent())),h;if(Ua(e.roots))h=e.roots;else if(Wr(e.roots)){for(var d=[],p=0;p<e.roots.length;p++){var g=e.roots[p],f=t.getElementById(g);d.push(f)}h=t.collection(d)}else if(qt(e.roots))h=t.$(e.roots);else if(a)h=i.roots();else{var m=r.components();h=t.collection();for(var y=l(function(){var ce=m[b],Ne=ce.maxDegree(!1),Be=ce.filter(function(je){return je.degree(!1)===Ne});h=h.add(Be)},"_loop"),b=0;b<m.length;b++)y()}var v=[],x={},w=l(function(ce,Ne){v[Ne]==null&&(v[Ne]=[]);var Be=v[Ne].length;v[Ne].push(ce),uP(ce,{index:Be,depth:Ne})},"addToDepth"),k=l(function(ce,Ne){var Be=Ud(ce),je=Be.depth,qe=Be.index;v[je][qe]=null,ce.isChildless()&&w(ce,Ne)},"changeDepth");n.bfs({roots:h,directed:e.directed,visit:l(function(ce,Ne,Be,je,qe){var Se=ce[0],Re=Se.id();Se.isChildless()&&w(Se,qe),x[Re]=!0},"visit")});for(var T=[],_=0;_<i.length;_++){var C=i[_];x[C.id()]||T.push(C)}var E=l(function(ce){for(var Ne=v[ce],Be=0;Be<Ne.length;Be++){var je=Ne[Be];if(je==null){Ne.splice(Be,1),Be--;continue}uP(je,{depth:ce,index:Be})}},"assignDepthsAt"),N=l(function(ce,Ne){for(var Be=Ud(ce),je=ce.incomers().filter(function(Ve){return Ve.isNode()&&r.has(Ve)}),qe=-1,Se=ce.id(),Re=0;Re<je.length;Re++){var ve=je[Re],Fe=Ud(ve);qe=Math.max(qe,Fe.depth)}if(Be.depth<=qe){if(!e.acyclic&&Ne[Se])return null;var de=qe+1;return k(ce,de),Ne[Se]=de,!0}return!1},"adjustMaximally");if(a&&s){var M=[],I={},A=l(function(ce){return M.push(ce)},"enqueue"),B=l(function(){return M.shift()},"dequeue");for(i.forEach(function(ce){return M.push(ce)});M.length>0;){var S=B(),O=N(S,I);if(O)S.outgoers().filter(function(ce){return ce.isNode()&&r.has(ce)}).forEach(A);else if(O===null){$r("Detected double maximal shift for node `"+S.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var R=0;if(e.avoidOverlap)for(var P=0;P<i.length;P++){var L=i[P],$=L.layoutDimensions(e),F=$.w,G=$.h;R=Math.max(R,F,G)}var q={},V=l(function(ce){if(q[ce.id()])return q[ce.id()];for(var Ne=Ud(ce).depth,Be=ce.neighborhood(),je=0,qe=0,Se=0;Se<Be.length;Se++){var Re=Be[Se];if(!(Re.isEdge()||Re.isParent()||!i.has(Re))){var ve=Ud(Re);if(ve!=null){var Fe=ve.index,de=ve.depth;if(!(Fe==null||de==null)){var Ve=v[de].length;de<Ne&&(je+=Fe/Ve,qe++)}}}}return qe=Math.max(1,qe),je=je/qe,qe===0&&(je=0),q[ce.id()]=je,je},"getWeightedPercent"),H=l(function(ce,Ne){var Be=V(ce),je=V(Ne),qe=Be-je;return qe===0?ID(ce.id(),Ne.id()):qe},"sortFn");e.depthSort!==void 0&&(H=e.depthSort);for(var ae=v.length,re=0;re<ae;re++)v[re].sort(H),E(re);for(var oe=[],ue=0;ue<T.length;ue++)oe.push(T[ue]);var W=l(function(){for(var ce=0;ce<ae;ce++)E(ce)},"assignDepths");oe.length&&(v.unshift(oe),ae=v.length,W());for(var ee=0,X=0;X<ae;X++)ee=Math.max(v[X].length,ee);var Z={x:u.x1+u.w/2,y:u.y1+u.h/2},J=i.reduce(function(ce,Ne){return function(Be){return{w:ce.w===-1?Be.w:(ce.w+Be.w)/2,h:ce.h===-1?Be.h:(ce.h+Be.h)/2}}(Ne.boundingBox({includeLabels:e.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),he=Math.max(ae===1?0:o?(u.h-e.padding*2-J.h)/(ae-1):(u.h-e.padding*2-J.h)/(ae+1),R),K=v.reduce(function(ce,Ne){return Math.max(ce,Ne.length)},0),me=l(function(ce){var Ne=Ud(ce),Be=Ne.depth,je=Ne.index;if(e.circle){var qe=Math.min(u.w/2/ae,u.h/2/ae);qe=Math.max(qe,R);var Se=qe*Be+qe-(ae>0&&v[0].length<=3?qe/2:0),Re=2*Math.PI/v[Be].length*je;return Be===0&&v[0].length===1&&(Se=1),{x:Z.x+Se*Math.cos(Re),y:Z.y+Se*Math.sin(Re)}}else{var ve=v[Be].length,Fe=Math.max(ve===1?0:o?(u.w-e.padding*2-J.w)/((e.grid?K:ve)-1):(u.w-e.padding*2-J.w)/((e.grid?K:ve)+1),R),de={x:Z.x+(je+1-(ve+1)/2)*Fe,y:Z.y+(Be+1-(ae+1)/2)*he};return de}},"getPositionTopBottom"),Y={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(Y).indexOf(e.direction)===-1&&oi("Invalid direction '".concat(e.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Y).join(", ")));var _e=l(function(ce){return Jxe(me(ce),u,Y[e.direction])},"getPosition");return r.nodes().layoutPositions(this,e,_e),this},oTe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")},l(iD,"CircleLayout"),iD.prototype.run=function(){var e=this.options,t=e,r=e.cy,i=t.eles,n=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,a=i.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));for(var s=ea(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},u=t.sweep===void 0?2*Math.PI-2*Math.PI/a.length:t.sweep,h=u/Math.max(1,a.length-1),d,p=0,g=0;g<a.length;g++){var f=a[g],m=f.layoutDimensions(t),y=m.w,b=m.h;p=Math.max(p,y,b)}if(yt(t.radius)?d=t.radius:a.length<=1?d=0:d=Math.min(s.h,s.w)/2-p,a.length>1&&t.avoidOverlap){p*=1.75;var v=Math.cos(h)-Math.cos(0),x=Math.sin(h)-Math.sin(0),w=Math.sqrt(p*p/(v*v+x*x));d=Math.max(w,d)}var k=l(function(T,_){var C=t.startAngle+_*h*(n?1:-1),E=d*Math.cos(C),N=d*Math.sin(C),M={x:o.x+E,y:o.y+N};return M},"getPos");return i.nodes().layoutPositions(this,t,k),this},lTe={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:l(function(e){return e.degree()},"concentric"),levelWidth:l(function(e){return e.maxDegree()/4},"levelWidth"),animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")},l(nD,"ConcentricLayout"),nD.prototype.run=function(){for(var e=this.options,t=e,r=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,i=e.cy,n=t.eles,a=n.nodes().not(":parent"),s=ea(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},u=[],h=0,d=0;d<a.length;d++){var p=a[d],g=void 0;g=t.concentric(p),u.push({value:g,node:p}),p._private.scratch.concentric=g}a.updateStyle();for(var f=0;f<a.length;f++){var m=a[f],y=m.layoutDimensions(t);h=Math.max(h,y.w,y.h)}u.sort(function(he,K){return K.value-he.value});for(var b=t.levelWidth(a),v=[[]],x=v[0],w=0;w<u.length;w++){var k=u[w];if(x.length>0){var T=Math.abs(x[0].value-k.value);T>=b&&(x=[],v.push(x))}x.push(k)}var _=h+t.minNodeSpacing;if(!t.avoidOverlap){var C=v.length>0&&v[0].length>1,E=Math.min(s.w,s.h)/2-_,N=E/(v.length+C?1:0);_=Math.min(_,N)}for(var M=0,I=0;I<v.length;I++){var A=v[I],B=t.sweep===void 0?2*Math.PI-2*Math.PI/A.length:t.sweep,S=A.dTheta=B/Math.max(1,A.length-1);if(A.length>1&&t.avoidOverlap){var O=Math.cos(S)-Math.cos(0),R=Math.sin(S)-Math.sin(0),P=Math.sqrt(_*_/(O*O+R*R));M=Math.max(P,M)}A.r=M,M+=_}if(t.equidistant){for(var L=0,$=0,F=0;F<v.length;F++){var G=v[F],q=G.r-$;L=Math.max(L,q)}$=0;for(var V=0;V<v.length;V++){var H=v[V];V===0&&($=H.r),H.r=$,$+=L}}for(var ae={},re=0;re<v.length;re++)for(var oe=v[re],ue=oe.dTheta,W=oe.r,ee=0;ee<oe.length;ee++){var X=oe[ee],Z=t.startAngle+(r?1:-1)*ue*ee,J={x:o.x+W*Math.cos(Z),y:o.y+W*Math.sin(Z)};ae[X.node.id()]=J}return n.nodes().layoutPositions(this,t,function(he){var K=he.id();return ae[K]}),this},cTe={ready:l(function(){},"ready"),stop:l(function(){},"stop"),animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:l(function(e){return 2048},"nodeRepulsion"),nodeOverlap:4,idealEdgeLength:l(function(e){return 32},"idealEdgeLength"),edgeElasticity:l(function(e){return 32},"edgeElasticity"),nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1},l(X2,"CoseLayout"),X2.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,(e.animate===!0||e.animate===!1)&&r.emit({type:"layoutstart",layout:r}),e.debug===!0?hP=!0:hP=!1;var i=uTe(t,r,e);hP&&VZe(i),e.randomize&&dTe(i);var n=ol(),a=l(function(){pTe(i,t,e),e.fit===!0&&t.fit(e.padding)},"refresh"),s=l(function(p){return!(r.stopped||p>=e.numIter||(gTe(i,e),i.temperature=i.temperature*e.coolingFactor,i.temperature<e.minTemp))},"mainLoop"),o=l(function(){if(e.animate===!0||e.animate===!1)a(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var p=e.eles.nodes(),g=pP(i,e,p);p.layoutPositions(r,e,g)}},"done"),u=0,h=!0;if(e.animate===!0){var d=l(function(){for(var p=0;h&&p<e.refresh;)h=s(u),u++,p++;if(!h)mP(i,e),o();else{var g=ol();g-n>=e.animationThreshold&&a(),ev(d)}},"frame");d()}else{for(;h;)h=s(u),u++;mP(i,e),o()}return this},X2.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},X2.prototype.destroy=function(){return this.thread&&this.thread.stop(),this},uTe=l(function(e,t,r){for(var i=r.eles.edges(),n=r.eles.nodes(),a=ea(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:n.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:r.initialTemp,clientWidth:a.w,clientHeight:a.h,boundingBox:a},o=r.eles.components(),u={},h=0;h<o.length;h++)for(var d=o[h],p=0;p<d.length;p++){var g=d[p];u[g.id()]=h}for(var h=0;h<s.nodeSize;h++){var f=n[h],m=f.layoutDimensions(r),y={};y.isLocked=f.locked(),y.id=f.data("id"),y.parentId=f.data("parent"),y.cmptId=u[f.id()],y.children=[],y.positionX=f.position("x"),y.positionY=f.position("y"),y.offsetX=0,y.offsetY=0,y.height=m.w,y.width=m.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(f.style("padding")),y.padRight=parseFloat(f.style("padding")),y.padTop=parseFloat(f.style("padding")),y.padBottom=parseFloat(f.style("padding")),y.nodeRepulsion=di(r.nodeRepulsion)?r.nodeRepulsion(f):r.nodeRepulsion,s.layoutNodes.push(y),s.idToIndex[y.id]=h}for(var b=[],v=0,x=-1,w=[],h=0;h<s.nodeSize;h++){var f=s.layoutNodes[h],k=f.parentId;k!=null?s.layoutNodes[s.idToIndex[k]].children.push(f.id):(b[++x]=f.id,w.push(f.id))}for(s.graphSet.push(w);v<=x;){var T=b[v++],_=s.idToIndex[T],g=s.layoutNodes[_],C=g.children;if(C.length>0){s.graphSet.push(C);for(var h=0;h<C.length;h++)b[++x]=C[h]}}for(var h=0;h<s.graphSet.length;h++)for(var E=s.graphSet[h],p=0;p<E.length;p++){var N=s.idToIndex[E[p]];s.indexToGraph[N]=h}for(var h=0;h<s.edgeSize;h++){var M=i[h],I={};I.id=M.data("id"),I.sourceId=M.data("source"),I.targetId=M.data("target");var A=di(r.idealEdgeLength)?r.idealEdgeLength(M):r.idealEdgeLength,B=di(r.edgeElasticity)?r.edgeElasticity(M):r.edgeElasticity,S=s.idToIndex[I.sourceId],O=s.idToIndex[I.targetId],R=s.indexToGraph[S],P=s.indexToGraph[O];if(R!=P){for(var L=hTe(I.sourceId,I.targetId,s),$=s.graphSet[L],F=0,y=s.layoutNodes[S];$.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],F++;for(y=s.layoutNodes[O];$.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],F++;A*=F*r.nestingFactor}I.idealLength=A,I.elasticity=B,s.layoutEdges.push(I)}return s},"createLayoutInfo"),hTe=l(function(e,t,r){var i=dP(e,t,0,r);return 2>i.count?0:i.graph},"findLCA"),dP=l(function(e,t,r,i){var n=i.graphSet[r];if(-1<n.indexOf(e)&&-1<n.indexOf(t))return{count:2,graph:r};for(var a=0,s=0;s<n.length;s++){var o=n[s],u=i.idToIndex[o],h=i.layoutNodes[u].children;if(h.length!==0){var d=i.indexToGraph[i.idToIndex[h[0]]],p=dP(e,t,d,i);if(p.count!==0)if(p.count===1){if(a++,a===2)break}else return p}}return{count:a,graph:r}},"findLCA_aux"),dTe=l(function(e,t){for(var r=e.clientWidth,i=e.clientHeight,n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];a.children.length===0&&!a.isLocked&&(a.positionX=Math.random()*r,a.positionY=Math.random()*i)}},"randomizePositions"),pP=l(function(e,t,r){var i=e.boundingBox,n={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(r.forEach(function(a){var s=e.layoutNodes[e.idToIndex[a.data("id")]];n.x1=Math.min(n.x1,s.positionX),n.x2=Math.max(n.x2,s.positionX),n.y1=Math.min(n.y1,s.positionY),n.y2=Math.max(n.y2,s.positionY)}),n.w=n.x2-n.x1,n.h=n.y2-n.y1),function(a,s){var o=e.layoutNodes[e.idToIndex[a.data("id")]];if(t.boundingBox){var u=n.w===0?.5:(o.positionX-n.x1)/n.w,h=n.h===0?.5:(o.positionY-n.y1)/n.h;return{x:i.x1+u*i.w,y:i.y1+h*i.h}}else return{x:o.positionX,y:o.positionY}}},"getScaleInBoundsFn"),pTe=l(function(e,t,r){var i=r.layout,n=r.eles.nodes(),a=pP(e,r,n);n.positions(a),e.ready!==!0&&(e.ready=!0,i.one("layoutready",r.ready),i.emit({type:"layoutready",layout:this}))},"refreshPositions"),gTe=l(function(e,t,r){fTe(e,t),vTe(e),bTe(e,t),xTe(e),wTe(e)},"step"),fTe=l(function(e,t){for(var r=0;r<e.graphSet.length;r++)for(var i=e.graphSet[r],n=i.length,a=0;a<n;a++)for(var s=e.layoutNodes[e.idToIndex[i[a]]],o=a+1;o<n;o++){var u=e.layoutNodes[e.idToIndex[i[o]]];mTe(s,u,e,t)}},"calculateNodeForces"),gP=l(function(e){return-1+2*e*Math.random()},"randomDistance"),mTe=l(function(e,t,r,i){var n=e.cmptId,a=t.cmptId;if(!(n!==a&&!r.isCompound)){var s=t.positionX-e.positionX,o=t.positionY-e.positionY,u=1;s===0&&o===0&&(s=gP(u),o=gP(u));var h=yTe(e,t,s,o);if(h>0)var b=i.nodeOverlap*h,y=Math.sqrt(s*s+o*o),v=b*s/y,x=b*o/y;else var d=Nv(e,s,o),p=Nv(t,-1*s,-1*o),g=p.x-d.x,f=p.y-d.y,m=g*g+f*f,y=Math.sqrt(m),b=(e.nodeRepulsion+t.nodeRepulsion)/m,v=b*g/y,x=b*f/y;e.isLocked||(e.offsetX-=v,e.offsetY-=x),t.isLocked||(t.offsetX+=v,t.offsetY+=x)}},"nodeRepulsion"),yTe=l(function(e,t,r,i){if(r>0)var n=e.maxX-t.minX;else var n=t.maxX-e.minX;if(i>0)var a=e.maxY-t.minY;else var a=t.maxY-e.minY;return n>=0&&a>=0?Math.sqrt(n*n+a*a):0},"nodesOverlap"),Nv=l(function(e,t,r){var i=e.positionX,n=e.positionY,a=e.height||1,s=e.width||1,o=r/t,u=a/s,h={};return t===0&&0<r||t===0&&0>r?(h.x=i,h.y=n+a/2,h):0<t&&-1*u<=o&&o<=u?(h.x=i+s/2,h.y=n+s*r/2/t,h):0>t&&-1*u<=o&&o<=u?(h.x=i-s/2,h.y=n-s*r/2/t,h):0<r&&(o<=-1*u||o>=u)?(h.x=i+a*t/2/r,h.y=n+a/2,h):(0>r&&(o<=-1*u||o>=u)&&(h.x=i-a*t/2/r,h.y=n-a/2),h)},"findClippingPoint"),vTe=l(function(e,t){for(var r=0;r<e.edgeSize;r++){var i=e.layoutEdges[r],n=e.idToIndex[i.sourceId],a=e.layoutNodes[n],s=e.idToIndex[i.targetId],o=e.layoutNodes[s],u=o.positionX-a.positionX,h=o.positionY-a.positionY;if(!(u===0&&h===0)){var d=Nv(a,u,h),p=Nv(o,-1*u,-1*h),g=p.x-d.x,f=p.y-d.y,m=Math.sqrt(g*g+f*f),y=Math.pow(i.idealLength-m,2)/i.elasticity;if(m!==0)var b=y*g/m,v=y*f/m;else var b=0,v=0;a.isLocked||(a.offsetX+=b,a.offsetY+=v),o.isLocked||(o.offsetX-=b,o.offsetY-=v)}}},"calculateEdgeForces"),bTe=l(function(e,t){if(t.gravity!==0)for(var r=1,i=0;i<e.graphSet.length;i++){var n=e.graphSet[i],a=n.length;if(i===0)var u=e.clientHeight/2,h=e.clientWidth/2;else var s=e.layoutNodes[e.idToIndex[n[0]]],o=e.layoutNodes[e.idToIndex[s.parentId]],u=o.positionX,h=o.positionY;for(var d=0;d<a;d++){var p=e.layoutNodes[e.idToIndex[n[d]]];if(!p.isLocked){var g=u-p.positionX,f=h-p.positionY,m=Math.sqrt(g*g+f*f);if(m>r){var y=t.gravity*g/m,b=t.gravity*f/m;p.offsetX+=y,p.offsetY+=b}}}}},"calculateGravityForces"),xTe=l(function(e,t){var r=[],i=0,n=-1;for(r.push.apply(r,e.graphSet[0]),n+=e.graphSet[0].length;i<=n;){var a=r[i++],s=e.idToIndex[a],o=e.layoutNodes[s],u=o.children;if(0<u.length&&!o.isLocked){for(var h=o.offsetX,d=o.offsetY,p=0;p<u.length;p++){var g=e.layoutNodes[e.idToIndex[u[p]]];g.offsetX+=h,g.offsetY+=d,r[++n]=u[p]}o.offsetX=0,o.offsetY=0}}},"propagateForces"),wTe=l(function(e,t){for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];if(!(0<i.children.length||i.isLocked)){var n=kTe(i.offsetX,i.offsetY,e.temperature);i.positionX+=n.x,i.positionY+=n.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,fP(i,e)}}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},"updatePositions"),kTe=l(function(e,t,r){var i=Math.sqrt(e*e+t*t);if(i>r)var n={x:r*e/i,y:r*t/i};else var n={x:e,y:t};return n},"limitForce"),fP=l(function(e,t){var r=e.parentId;if(r!=null){var i=t.layoutNodes[t.idToIndex[r]],n=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,n=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,n=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,n=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,n=!0),n)return fP(i,t)}},"updateAncestryBoundaries"),mP=l(function(e,t){for(var r=e.layoutNodes,i=[],n=0;n<r.length;n++){var a=r[n],s=a.cmptId,o=i[s]=i[s]||[];o.push(a)}for(var u=0,n=0;n<i.length;n++){var h=i[n];if(h){h.x1=1/0,h.x2=-1/0,h.y1=1/0,h.y2=-1/0;for(var d=0;d<h.length;d++){var p=h[d];h.x1=Math.min(h.x1,p.positionX-p.width/2),h.x2=Math.max(h.x2,p.positionX+p.width/2),h.y1=Math.min(h.y1,p.positionY-p.height/2),h.y2=Math.max(h.y2,p.positionY+p.height/2)}h.w=h.x2-h.x1,h.h=h.y2-h.y1,u+=h.w*h.h}}i.sort(function(v,x){return x.w*x.h-v.w*v.h});for(var g=0,f=0,m=0,y=0,b=Math.sqrt(u)*e.clientWidth/e.clientHeight,n=0;n<i.length;n++){var h=i[n];if(h){for(var d=0;d<h.length;d++){var p=h[d];p.isLocked||(p.positionX+=g-h.x1,p.positionY+=f-h.y1)}g+=h.w+t.componentSpacing,m+=h.w+t.componentSpacing,y=Math.max(y,h.h),m>b&&(f+=y+t.componentSpacing,g=0,m=0,y=0)}}},"separateComponents"),TTe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:l(function(e){},"position"),sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")},l(aD,"GridLayout"),aD.prototype.run=function(){var e=this.options,t=e,r=e.cy,i=t.eles,n=i.nodes().not(":parent");t.sort&&(n=n.sort(t.sort));var a=ea(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)i.nodes().layoutPositions(this,t,function(V){return{x:a.x1,y:a.y1}});else{var s=n.size(),o=Math.sqrt(s*a.h/a.w),u=Math.round(o),h=Math.round(a.w/a.h*o),d=l(function(V){if(V==null)return Math.min(u,h);var H=Math.min(u,h);H==u?u=V:h=V},"small"),p=l(function(V){if(V==null)return Math.max(u,h);var H=Math.max(u,h);H==u?u=V:h=V},"large"),g=t.rows,f=t.cols!=null?t.cols:t.columns;if(g!=null&&f!=null)u=g,h=f;else if(g!=null&&f==null)u=g,h=Math.ceil(s/u);else if(g==null&&f!=null)h=f,u=Math.ceil(s/h);else if(h*u>s){var m=d(),y=p();(m-1)*y>=s?d(m-1):(y-1)*m>=s&&p(y-1)}else for(;h*u<s;){var b=d(),v=p();(v+1)*b>=s?p(v+1):d(b+1)}var x=a.w/h,w=a.h/u;if(t.condense&&(x=0,w=0),t.avoidOverlap)for(var k=0;k<n.length;k++){var T=n[k],_=T._private.position;(_.x==null||_.y==null)&&(_.x=0,_.y=0);var C=T.layoutDimensions(t),E=t.avoidOverlapPadding,N=C.w+E,M=C.h+E;x=Math.max(x,N),w=Math.max(w,M)}for(var I={},A=l(function(V,H){return!!I["c-"+V+"-"+H]},"used"),B=l(function(V,H){I["c-"+V+"-"+H]=!0},"use"),S=0,O=0,R=l(function(){O++,O>=h&&(O=0,S++)},"moveToNextCell"),P={},L=0;L<n.length;L++){var $=n[L],F=t.position($);if(F&&(F.row!==void 0||F.col!==void 0)){var G={row:F.row,col:F.col};if(G.col===void 0)for(G.col=0;A(G.row,G.col);)G.col++;else if(G.row===void 0)for(G.row=0;A(G.row,G.col);)G.row++;P[$.id()]=G,B(G.row,G.col)}}var q=l(function(V,H){var ae,re;if(V.locked()||V.isParent())return!1;var oe=P[V.id()];if(oe)ae=oe.col*x+x/2+a.x1,re=oe.row*w+w/2+a.y1;else{for(;A(S,O);)R();ae=O*x+x/2+a.x1,re=S*w+w/2+a.y1,B(S,O),R()}return{x:ae,y:re}},"getPos");n.layoutPositions(this,t,q)}return this},ETe={ready:l(function(){},"ready"),stop:l(function(){},"stop")},l(Iw,"NullLayout"),Iw.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this},Iw.prototype.stop=function(){return this},CTe={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")},l(sD,"PresetLayout"),sD.prototype.run=function(){var e=this.options,t=e.eles,r=t.nodes(),i=di(e.positions);function n(a){if(e.positions==null)return G5e(a.position());if(i)return e.positions(a);var s=e.positions[a._private.data.id];return s??null}return l(n,"getPosition"),r.layoutPositions(this,e,function(a,s){var o=n(a);return a.locked()||o==null?!1:o}),this},STe={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")},l(oD,"RandomLayout"),oD.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,i=ea(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),n=l(function(a,s){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}},"getPos");return r.nodes().layoutPositions(this,e,n),this},_Te=[{name:"breadthfirst",impl:rD},{name:"circle",impl:iD},{name:"concentric",impl:nD},{name:"cose",impl:X2},{name:"grid",impl:aD},{name:"null",impl:Iw},{name:"preset",impl:sD},{name:"random",impl:oD}],l(lD,"NullRenderer"),yP=l(function(){},"noop"),vP=l(function(){throw new Error("A headless instance can not render images")},"throwImgErr"),lD.prototype={recalculateRenderedStyle:yP,notify:l(function(){this.notifications++},"notify"),init:yP,isHeadless:l(function(){return!0},"isHeadless"),png:vP,jpg:vP},pk={},pk.arrowShapeWidth=.3,pk.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=l(function(u,h,d,p,g,f,m){var y=g.x-d/2-m,b=g.x+d/2+m,v=g.y-d/2-m,x=g.y+d/2+m,w=y<=u&&u<=b&&v<=h&&h<=x;return w},"bbCollide"),i=l(function(u,h,d,p,g){var f=u*Math.cos(p)-h*Math.sin(p),m=u*Math.sin(p)+h*Math.cos(p),y=f*d,b=m*d,v=y+g.x,x=b+g.y;return{x:v,y:x}},"transform"),n=l(function(u,h,d,p){for(var g=[],f=0;f<u.length;f+=2){var m=u[f],y=u[f+1];g.push(i(m,y,h,d,p))}return g},"transformPoints"),a=l(function(u){for(var h=[],d=0;d<u.length;d++){var p=u[d];h.push(p.x,p.y)}return h},"pointsToArr"),s=l(function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},"standardGap"),o=l(function(u,h){qt(h)&&(h=e[h]),e[u]=Qt({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:l(function(d,p,g,f,m,y){var b=a(n(this.points,g+2*y,f,m)),v=Ea(d,p,b);return v},"collide"),roughCollide:r,draw:l(function(d,p,g,f){var m=n(this.points,p,g,f);t.arrowShapeImpl("polygon")(d,m)},"draw"),spacing:l(function(d){return 0},"spacing"),gap:s},h)},"defineArrowShape");o("none",{collide:rv,roughCollide:rv,draw:Uw,spacing:iR,gap:iR}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:l(function(u,h,d,p,g){var f=n(this.points,h,d,p),m=this.controlPoint,y=i(m[0],m[1],h,d,p);t.arrowShapeImpl(this.name)(u,f,y)},"draw"),gap:l(function(u){return s(u)*.8},"gap")}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:l(function(u,h,d,p,g,f,m){var y=a(n(this.points,d+2*m,p,g)),b=a(n(this.pointsTee,d+2*m,p,g)),v=Ea(u,h,y)||Ea(u,h,b);return v},"collide"),draw:l(function(u,h,d,p,g){var f=n(this.points,h,d,p),m=n(this.pointsTee,h,d,p);t.arrowShapeImpl(this.name)(u,f,m)},"draw")}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:l(function(u,h,d,p,g,f,m){var y=g,b=Math.pow(y.x-u,2)+Math.pow(y.y-h,2)<=Math.pow((d+2*m)*this.radius,2),v=a(n(this.points,d+2*m,p,g));return Ea(u,h,v)||b},"collide"),draw:l(function(u,h,d,p,g){var f=n(this.pointsTr,h,d,p);t.arrowShapeImpl(this.name)(u,f,p.x,p.y,this.radius*h)},"draw"),spacing:l(function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius},"spacing")}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:l(function(u,h){var d=this.baseCrossLinePts.slice(),p=h/u,g=3,f=5;return d[g]=d[g]-p,d[f]=d[f]-p,d},"crossLinePts"),collide:l(function(u,h,d,p,g,f,m){var y=a(n(this.points,d+2*m,p,g)),b=a(n(this.crossLinePts(d,f),d+2*m,p,g)),v=Ea(u,h,y)||Ea(u,h,b);return v},"collide"),draw:l(function(u,h,d,p,g){var f=n(this.points,h,d,p),m=n(this.crossLinePts(h,g),h,d,p);t.arrowShapeImpl(this.name)(u,f,m)},"draw")}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:l(function(u){return s(u)*.525},"gap")}),o("circle",{radius:.15,collide:l(function(u,h,d,p,g,f,m){var y=g,b=Math.pow(y.x-u,2)+Math.pow(y.y-h,2)<=Math.pow((d+2*m)*this.radius,2);return b},"collide"),draw:l(function(u,h,d,p,g){t.arrowShapeImpl(this.name)(u,p.x,p.y,this.radius*h)},"draw"),spacing:l(function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius},"spacing")}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:l(function(u){return 1},"spacing"),gap:l(function(u){return 1},"gap")}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:l(function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value},"gap")}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:l(function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value},"gap")})},ih={},ih.projectIntoViewport=function(e,t){var r=this.cy,i=this.findContainerClientCoords(),n=i[0],a=i[1],s=i[4],o=r.pan(),u=r.zoom(),h=((e-n)/s-o.x)/u,d=((t-a)/s-o.y)/u;return[h,d]},ih.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),i=l(function(b){return parseFloat(r.getPropertyValue(b))},"styleValue"),n={left:i("padding-left"),right:i("padding-right"),top:i("padding-top"),bottom:i("padding-bottom")},a={left:i("border-left-width"),right:i("border-right-width"),top:i("border-top-width"),bottom:i("border-bottom-width")},s=e.clientWidth,o=e.clientHeight,u=n.left+n.right,h=n.top+n.bottom,d=a.left+a.right,p=t.width/(s+d),g=s-u,f=o-h,m=t.left+n.left+a.left,y=t.top+n.top+a.top;return this.containerBB=[m,y,g,f,p]},ih.invalidateContainerClientCoordsCache=function(){this.containerBB=null},ih.findNearestElement=function(e,t,r,i){return this.findNearestElements(e,t,r,i)[0]},ih.findNearestElements=function(e,t,r,i){var n=this,a=this,s=a.getCachedZSortedEles(),o=[],u=a.cy.zoom(),h=a.cy.hasCompoundNodes(),d=(i?24:8)/u,p=(i?8:2)/u,g=(i?8:2)/u,f=1/0,m,y;r&&(s=s.interactive);function b(C,E){if(C.isNode()){if(y)return;y=C,o.push(C)}if(C.isEdge()&&(E==null||E<f))if(m){if(m.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value){for(var N=0;N<o.length;N++)if(o[N].isEdge()){o[N]=C,m=C,f=E??f;break}}}else o.push(C),m=C,f=E??f}l(b,"addEle");function v(C){var E=C.outerWidth()+2*p,N=C.outerHeight()+2*p,M=E/2,I=N/2,A=C.position(),B=C.pstyle("corner-radius").value==="auto"?"auto":C.pstyle("corner-radius").pfValue,S=C._private.rscratch;if(A.x-M<=e&&e<=A.x+M&&A.y-I<=t&&t<=A.y+I){var O=a.nodeShapes[n.getNodeShape(C)];if(O.checkPoint(e,t,0,E,N,A.x,A.y,B,S))return b(C,0),!0}}l(v,"checkNode");function x(C){var E=C._private,N=E.rscratch,M=C.pstyle("width").pfValue,I=C.pstyle("arrow-scale").value,A=M/2+d,B=A*A,S=A*2,O=E.source,R=E.target,P;if(N.edgeType==="segments"||N.edgeType==="straight"||N.edgeType==="haystack"){for(var L=N.allpts,$=0;$+3<L.length;$+=2)if(J5e(e,t,L[$],L[$+1],L[$+2],L[$+3],S)&&B>(P=n6e(e,t,L[$],L[$+1],L[$+2],L[$+3])))return b(C,P),!0}else if(N.edgeType==="bezier"||N.edgeType==="multibezier"||N.edgeType==="self"||N.edgeType==="compound"){for(var L=N.allpts,$=0;$+5<N.allpts.length;$+=4)if(e6e(e,t,L[$],L[$+1],L[$+2],L[$+3],L[$+4],L[$+5],S)&&B>(P=i6e(e,t,L[$],L[$+1],L[$+2],L[$+3],L[$+4],L[$+5])))return b(C,P),!0}for(var O=O||E.source,R=R||E.target,F=n.getArrowWidth(M,I),G=[{name:"source",x:N.arrowStartX,y:N.arrowStartY,angle:N.srcArrowAngle},{name:"target",x:N.arrowEndX,y:N.arrowEndY,angle:N.tgtArrowAngle},{name:"mid-source",x:N.midX,y:N.midY,angle:N.midsrcArrowAngle},{name:"mid-target",x:N.midX,y:N.midY,angle:N.midtgtArrowAngle}],$=0;$<G.length;$++){var q=G[$],V=a.arrowShapes[C.pstyle(q.name+"-arrow-shape").value],H=C.pstyle("width").pfValue;if(V.roughCollide(e,t,F,q.angle,{x:q.x,y:q.y},H,d)&&V.collide(e,t,F,q.angle,{x:q.x,y:q.y},H,d))return b(C),!0}h&&o.length>0&&(v(O),v(R))}l(x,"checkEdge");function w(C,E,N){return Ta(C,E,N)}l(w,"preprop");function k(C,E){var N=C._private,M=g,I;E?I=E+"-":I="",C.boundingBox();var A=N.labelBounds[E||"main"],B=C.pstyle(I+"label").value,S=C.pstyle("text-events").strValue==="yes";if(!(!S||!B)){var O=w(N.rscratch,"labelX",E),R=w(N.rscratch,"labelY",E),P=w(N.rscratch,"labelAngle",E),L=C.pstyle(I+"text-margin-x").pfValue,$=C.pstyle(I+"text-margin-y").pfValue,F=A.x1-M-L,G=A.x2+M-L,q=A.y1-M-$,V=A.y2+M-$;if(P){var H=Math.cos(P),ae=Math.sin(P),re=l(function(Z,J){return Z=Z-O,J=J-R,{x:Z*H-J*ae+O,y:Z*ae+J*H+R}},"rotate"),oe=re(F,q),ue=re(F,V),W=re(G,q),ee=re(G,V),X=[oe.x+L,oe.y+$,W.x+L,W.y+$,ee.x+L,ee.y+$,ue.x+L,ue.y+$];if(Ea(e,t,X))return b(C),!0}else if(bc(A,e,t))return b(C),!0}}l(k,"checkLabel");for(var T=s.length-1;T>=0;T--){var _=s[T];_.isNode()?v(_)||k(_):x(_)||k(_)||k(_,"source")||k(_,"target")}return o},ih.getAllInBox=function(e,t,r,i){var n=this.getCachedZSortedEles().interactive,a=this.cy.zoom(),s=2/a,o=[],u=Math.min(e,r),h=Math.max(e,r),d=Math.min(t,i),p=Math.max(t,i);e=u,r=h,t=d,i=p;var g=ea({x1:e,y1:t,x2:r,y2:i}),f=[{x:g.x1,y:g.y1},{x:g.x2,y:g.y1},{x:g.x2,y:g.y2},{x:g.x1,y:g.y2}],m=[[f[0],f[1]],[f[1],f[2]],[f[2],f[3]],[f[3],f[0]]];function y(J,he,K){return Ta(J,he,K)}l(y,"preprop");function b(J,he){var K=J._private,me=s,Y="";J.boundingBox();var _e=K.labelBounds.main;if(!_e)return null;var ce=y(K.rscratch,"labelX",he),Ne=y(K.rscratch,"labelY",he),Be=y(K.rscratch,"labelAngle",he),je=J.pstyle(Y+"text-margin-x").pfValue,qe=J.pstyle(Y+"text-margin-y").pfValue,Se=_e.x1-me-je,Re=_e.x2+me-je,ve=_e.y1-me-qe,Fe=_e.y2+me-qe;if(Be){var de=Math.cos(Be),Ve=Math.sin(Be),Q=l(function(Me,z){return Me=Me-ce,z=z-Ne,{x:Me*de-z*Ve+ce,y:Me*Ve+z*de+Ne}},"rotate");return[Q(Se,ve),Q(Re,ve),Q(Re,Fe),Q(Se,Fe)]}else return[{x:Se,y:ve},{x:Re,y:ve},{x:Re,y:Fe},{x:Se,y:Fe}]}l(b,"getRotatedLabelBox");function v(J,he,K,me){function Y(_e,ce,Ne){return(Ne.y-_e.y)*(ce.x-_e.x)>(ce.y-_e.y)*(Ne.x-_e.x)}return l(Y,"ccw"),Y(J,K,me)!==Y(he,K,me)&&Y(J,he,K)!==Y(J,he,me)}l(v,"doLinesIntersect");for(var x=0;x<n.length;x++){var w=n[x];if(w.isNode()){var k=w,T=k.pstyle("text-events").strValue==="yes",_=k.pstyle("box-selection").strValue,C=k.pstyle("box-select-labels").strValue==="yes";if(_==="none")continue;var E=(_==="overlap"||C)&&T,N=k.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:E});if(_==="contain"){var M=!1;if(C&&T){var I=b(k);I&&Cw(I,f)&&(o.push(k),M=!0)}!M&&pR(g,N)&&o.push(k)}else if(_==="overlap"&&Ww(g,N)){var A=k.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),B=[{x:A.x1,y:A.y1},{x:A.x2,y:A.y1},{x:A.x2,y:A.y2},{x:A.x1,y:A.y2}];if(Cw(B,f))o.push(k);else{var S=b(k);S&&Cw(S,f)&&o.push(k)}}}else{var O=w,R=O._private,P=R.rscratch,L=O.pstyle("box-selection").strValue;if(L==="none")continue;if(L==="contain"){if(P.startX!=null&&P.startY!=null&&!bc(g,P.startX,P.startY)||P.endX!=null&&P.endY!=null&&!bc(g,P.endX,P.endY))continue;if(P.edgeType==="bezier"||P.edgeType==="multibezier"||P.edgeType==="self"||P.edgeType==="compound"||P.edgeType==="segments"||P.edgeType==="haystack"){for(var $=R.rstyle.bezierPts||R.rstyle.linePts||R.rstyle.haystackPts,F=!0,G=0;G<$.length;G++)if(!dR(g,$[G])){F=!1;break}F&&o.push(O)}else P.edgeType==="straight"&&o.push(O)}else if(L==="overlap"){var q=!1;if(P.startX!=null&&P.startY!=null&&P.endX!=null&&P.endY!=null&&(bc(g,P.startX,P.startY)||bc(g,P.endX,P.endY)))o.push(O),q=!0;else if(!q&&P.edgeType==="haystack"){for(var V=R.rstyle.haystackPts,H=0;H<V.length;H++)if(dR(g,V[H])){o.push(O),q=!0;break}}if(!q){var ae=R.rstyle.bezierPts||R.rstyle.linePts||R.rstyle.haystackPts;if((!ae||ae.length<2)&&P.edgeType==="straight"&&P.startX!=null&&P.startY!=null&&P.endX!=null&&P.endY!=null&&(ae=[{x:P.startX,y:P.startY},{x:P.endX,y:P.endY}]),!ae||ae.length<2)continue;for(var re=0;re<ae.length-1;re++){for(var oe=ae[re],ue=ae[re+1],W=0;W<m.length;W++){var ee=Pi(m[W],2),X=ee[0],Z=ee[1];if(v(oe,ue,X,Z)){o.push(O),q=!0;break}}if(q)break}}}}}return o},Mv={},Mv.calculateArrowAngles=function(e){var t=e._private.rscratch,r=t.edgeType==="haystack",i=t.edgeType==="bezier",n=t.edgeType==="multibezier",a=t.edgeType==="segments",s=t.edgeType==="compound",o=t.edgeType==="self",u,h,d,p,g,f,v,x;if(r?(d=t.haystackPts[0],p=t.haystackPts[1],g=t.haystackPts[2],f=t.haystackPts[3]):(d=t.arrowStartX,p=t.arrowStartY,g=t.arrowEndX,f=t.arrowEndY),v=t.midX,x=t.midY,a)u=d-t.segpts[0],h=p-t.segpts[1];else if(n||s||o||i){var m=t.allpts,y=cn(m[0],m[2],m[4],.1),b=cn(m[1],m[3],m[5],.1);u=d-y,h=p-b}else u=d-v,h=p-x;t.srcArrowAngle=av(u,h);var v=t.midX,x=t.midY;if(r&&(v=(d+g)/2,x=(p+f)/2),u=g-d,h=f-p,a){var m=t.allpts;if(m.length/2%2===0){var w=m.length/2,k=w-2;u=m[w]-m[k],h=m[w+1]-m[k+1]}else if(t.isRound)u=t.midVector[1],h=-t.midVector[0];else{var w=m.length/2-1,k=w-2;u=m[w]-m[k],h=m[w+1]-m[k+1]}}else if(n||s||o){var m=t.allpts,T=t.ctrlpts,_,C,E,N;if(T.length/2%2===0){var M=m.length/2-1,I=M+2,A=I+2;_=cn(m[M],m[I],m[A],0),C=cn(m[M+1],m[I+1],m[A+1],0),E=cn(m[M],m[I],m[A],1e-4),N=cn(m[M+1],m[I+1],m[A+1],1e-4)}else{var I=m.length/2-1,M=I-2,A=I+2;_=cn(m[M],m[I],m[A],.4999),C=cn(m[M+1],m[I+1],m[A+1],.4999),E=cn(m[M],m[I],m[A],.5),N=cn(m[M+1],m[I+1],m[A+1],.5)}u=E-_,h=N-C}if(t.midtgtArrowAngle=av(u,h),t.midDispX=u,t.midDispY=h,u*=-1,h*=-1,a){var m=t.allpts;if(m.length/2%2!==0&&!t.isRound){var w=m.length/2-1,B=w+2;u=-(m[B]-m[w]),h=-(m[B+1]-m[w+1])}}if(t.midsrcArrowAngle=av(u,h),a)u=g-t.segpts[t.segpts.length-2],h=f-t.segpts[t.segpts.length-1];else if(n||s||o||i){var m=t.allpts,S=m.length,y=cn(m[S-6],m[S-4],m[S-2],.9),b=cn(m[S-5],m[S-3],m[S-1],.9);u=g-y,h=f-b}else u=g-v,h=f-x;t.tgtArrowAngle=av(u,h)},Mv.getArrowWidth=Mv.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},i=r[e+", "+t];return i||(i=Math.max(Math.pow(e*13.37,.9),29)*t,r[e+", "+t]=i,i)},wo={},cs={},TP=l(function(e,t,r){r.x=t.x-e.x,r.y=t.y-e.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},"asVec"),DTe=l(function(e,t){t.x=e.x*-1,t.y=e.y*-1,t.nx=e.nx*-1,t.ny=e.ny*-1,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},"invertVec"),RTe=l(function(e,t,r,i,n){if(e!==ITe?TP(t,e,wo):DTe(cs,wo),TP(t,r,cs),ATe=wo.nx*cs.ny-wo.ny*cs.nx,LTe=wo.nx*cs.nx-wo.ny*-cs.ny,Lc=Math.asin(Math.max(-1,Math.min(1,ATe))),Math.abs(Lc)<1e-6){bP=t.x,xP=t.y,Hd=k1=0;return}qd=1,gk=!1,LTe<0?Lc<0?Lc=Math.PI+Lc:(Lc=Math.PI-Lc,qd=-1,gk=!0):Lc>0&&(qd=-1,gk=!0),t.radius!==void 0?k1=t.radius:k1=i,jd=Lc/2,fk=Math.min(wo.len/2,cs.len/2),n?(hl=Math.abs(Math.cos(jd)*k1/Math.sin(jd)),hl>fk?(hl=fk,Hd=Math.abs(hl*Math.sin(jd)/Math.cos(jd))):Hd=k1):(hl=Math.min(fk,k1),Hd=Math.abs(hl*Math.sin(jd)/Math.cos(jd))),wP=t.x+cs.nx*hl,kP=t.y+cs.ny*hl,bP=wP-cs.ny*Hd*qd,xP=kP+cs.nx*Hd*qd,NTe=t.x+wo.nx*hl,MTe=t.y+wo.ny*hl,ITe=t},"calcCornerArc"),l(cD,"drawPreparedRoundCorner"),l(Dw,"getRoundCorner"),T1=.01,OTe=Math.sqrt(2*T1),$n={},$n.findMidptPtsEtc=function(e,t){var r=t.posPts,i=t.intersectionPts,n=t.vectorNormInverse,a,s=e.pstyle("source-endpoint"),o=e.pstyle("target-endpoint"),u=s.units!=null&&o.units!=null,h=l(function(k,T,_,C){var E=C-T,N=_-k,M=Math.sqrt(N*N+E*E);return{x:-E/M,y:N/M}},"recalcVectorNormInverse"),d=e.pstyle("edge-distances").value;switch(d){case"node-position":a=r;break;case"intersection":a=i;break;case"endpoints":{if(u){var p=this.manualEndptToPx(e.source()[0],s),g=Pi(p,2),f=g[0],m=g[1],y=this.manualEndptToPx(e.target()[0],o),b=Pi(y,2),v=b[0],x=b[1],w={x1:f,y1:m,x2:v,y2:x};n=h(f,m,v,x),a=w}else $r("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=i;break}}return{midptPts:a,vectorNormInverse:n}},$n.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],i=r._private,n=i.rscratch;if(!n.haystack){var a=Math.random()*2*Math.PI;n.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,n.target={x:Math.cos(a),y:Math.sin(a)}}var s=i.source,o=i.target,u=s.position(),h=o.position(),d=s.width(),p=o.width(),g=s.height(),f=o.height(),m=r.pstyle("haystack-radius").value,y=m/2;n.haystackPts=n.allpts=[n.source.x*d*y+u.x,n.source.y*g*y+u.y,n.target.x*p*y+h.x,n.target.y*f*y+h.y],n.midX=(n.allpts[0]+n.allpts[2])/2,n.midY=(n.allpts[1]+n.allpts[3])/2,n.edgeType="haystack",n.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}},$n.findSegmentsPoints=function(e,t){var r=e._private.rscratch,i=e.pstyle("segment-weights"),n=e.pstyle("segment-distances"),a=e.pstyle("segment-radii"),s=e.pstyle("radius-type"),o=Math.min(i.pfValue.length,n.pfValue.length),u=a.pfValue[a.pfValue.length-1],h=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var d=0;d<o;d++){var p=i.pfValue[d],g=n.pfValue[d],f=1-p,m=p,y=this.findMidptPtsEtc(e,t),b=y.midptPts,v=y.vectorNormInverse,x={x:b.x1*f+b.x2*m,y:b.y1*f+b.y2*m};r.segpts.push(x.x+v.x*g,x.y+v.y*g),r.radii.push(a.pfValue[d]!==void 0?a.pfValue[d]:u),r.isArcRadius.push((s.pfValue[d]!==void 0?s.pfValue[d]:h)==="arc-radius")}},$n.findLoopPoints=function(e,t,r,i){var n=e._private.rscratch,a=t.dirCounts,s=t.srcPos,o=e.pstyle("control-point-distances"),u=o?o.pfValue[0]:void 0,h=e.pstyle("loop-direction").pfValue,d=e.pstyle("loop-sweep").pfValue,p=e.pstyle("control-point-step-size").pfValue;n.edgeType="self";var g=r,f=p;i&&(g=0,f=u);var m=h-Math.PI/2,y=m-d/2,b=m+d/2,v=h+"_"+d;g=a[v]===void 0?a[v]=0:++a[v],n.ctrlpts=[s.x+Math.cos(y)*1.4*f*(g/3+1),s.y+Math.sin(y)*1.4*f*(g/3+1),s.x+Math.cos(b)*1.4*f*(g/3+1),s.y+Math.sin(b)*1.4*f*(g/3+1)]},$n.findCompoundLoopPoints=function(e,t,r,i){var n=e._private.rscratch;n.edgeType="compound";var a=t.srcPos,s=t.tgtPos,o=t.srcW,u=t.srcH,h=t.tgtW,d=t.tgtH,p=e.pstyle("control-point-step-size").pfValue,g=e.pstyle("control-point-distances"),f=g?g.pfValue[0]:void 0,m=r,y=p;i&&(m=0,y=f);var b=50,v={x:a.x-o/2,y:a.y-u/2},x={x:s.x-h/2,y:s.y-d/2},w={x:Math.min(v.x,x.x),y:Math.min(v.y,x.y)},k=.5,T=Math.max(k,Math.log(o*T1)),_=Math.max(k,Math.log(h*T1));n.ctrlpts=[w.x,w.y-(1+Math.pow(b,1.12)/100)*y*(m/3+1)*T,w.x-(1+Math.pow(b,1.12)/100)*y*(m/3+1)*_,w.y]},$n.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},$n.findBezierPoints=function(e,t,r,i,n){var a=e._private.rscratch,s=e.pstyle("control-point-step-size").pfValue,o=e.pstyle("control-point-distances"),u=e.pstyle("control-point-weights"),h=o&&u?Math.min(o.value.length,u.value.length):1,d=o?o.pfValue[0]:void 0,p=u.value[0],g=i;a.edgeType=g?"multibezier":"bezier",a.ctrlpts=[];for(var f=0;f<h;f++){var m=(.5-t.eles.length/2+r)*s*(n?-1:1),y=void 0,b=Yw(m);g&&(d=o?o.pfValue[f]:s,p=u.value[f]),i?y=d:y=d!==void 0?b*d:void 0;var v=y!==void 0?y:m,x=1-p,w=p,k=this.findMidptPtsEtc(e,t),T=k.midptPts,_=k.vectorNormInverse,C={x:T.x1*x+T.x2*w,y:T.y1*x+T.y2*w};a.ctrlpts.push(C.x+_.x*v,C.y+_.y*v)}},$n.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var i="vertical",n="horizontal",a="leftward",s="rightward",o="downward",u="upward",h="auto",d=t.posPts,p=t.srcW,g=t.srcH,f=t.tgtW,m=t.tgtH,y=e.pstyle("edge-distances").value,b=y!=="node-position",v=e.pstyle("taxi-direction").value,x=v,w=e.pstyle("taxi-turn"),k=w.units==="%",T=w.pfValue,_=T<0,C=e.pstyle("taxi-turn-min-distance").pfValue,E=b?(p+f)/2:0,N=b?(g+m)/2:0,M=d.x2-d.x1,I=d.y2-d.y1,A=l(function(z,te){return z>0?Math.max(z-te,0):Math.min(z+te,0)},"subDWH"),B=A(M,E),S=A(I,N),O=!1;x===h?v=Math.abs(B)>Math.abs(S)?n:i:x===u||x===o?(v=i,O=!0):(x===a||x===s)&&(v=n,O=!0);var R=v===i,P=R?S:B,L=R?I:M,$=Yw(L),F=!1;!(O&&(k||_))&&(x===o&&L<0||x===u&&L>0||x===a&&L>0||x===s&&L<0)&&($*=-1,P=$*Math.abs(P),F=!0);var G;if(k){var q=T<0?1+T:T;G=q*P}else{var V=T<0?P:0;G=V+T*$}var H=l(function(z){return Math.abs(z)<C||Math.abs(z)>=Math.abs(P)},"getIsTooClose"),ae=H(G),re=H(Math.abs(P)-Math.abs(G)),oe=ae||re;if(oe&&!F)if(R){var ue=Math.abs(L)<=g/2,W=Math.abs(M)<=f/2;if(ue){var ee=(d.x1+d.x2)/2,X=d.y1,Z=d.y2;r.segpts=[ee,X,ee,Z]}else if(W){var J=(d.y1+d.y2)/2,he=d.x1,K=d.x2;r.segpts=[he,J,K,J]}else r.segpts=[d.x1,d.y2]}else{var me=Math.abs(L)<=p/2,Y=Math.abs(I)<=m/2;if(me){var _e=(d.y1+d.y2)/2,ce=d.x1,Ne=d.x2;r.segpts=[ce,_e,Ne,_e]}else if(Y){var Be=(d.x1+d.x2)/2,je=d.y1,qe=d.y2;r.segpts=[Be,je,Be,qe]}else r.segpts=[d.x2,d.y1]}else if(R){var Se=d.y1+G+(b?g/2*$:0),Re=d.x1,ve=d.x2;r.segpts=[Re,Se,ve,Se]}else{var Fe=d.x1+G+(b?p/2*$:0),de=d.y1,Ve=d.y2;r.segpts=[Fe,de,Fe,Ve]}if(r.isRound){var Q=e.pstyle("taxi-radius").value,Me=e.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Q),r.isArcRadius=new Array(r.segpts.length/2).fill(Me)}},$n.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if(r.edgeType==="bezier"){var i=t.srcPos,n=t.tgtPos,a=t.srcW,s=t.srcH,o=t.tgtW,u=t.tgtH,h=t.srcShape,d=t.tgtShape,p=t.srcCornerRadius,g=t.tgtCornerRadius,f=t.srcRs,m=t.tgtRs,y=!yt(r.startX)||!yt(r.startY),b=!yt(r.arrowStartX)||!yt(r.arrowStartY),v=!yt(r.endX)||!yt(r.endY),x=!yt(r.arrowEndX)||!yt(r.arrowEndY),w=3,k=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,T=w*k,_=Zu({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),C=_<T,E=Zu({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),N=E<T,M=!1;if(y||b||C){M=!0;var I={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},A=Math.sqrt(I.x*I.x+I.y*I.y),B={x:I.x/A,y:I.y/A},S=Math.max(a,s),O={x:r.ctrlpts[0]+B.x*2*S,y:r.ctrlpts[1]+B.y*2*S},R=h.intersectLine(i.x,i.y,a,s,O.x,O.y,0,p,f);C?(r.ctrlpts[0]=r.ctrlpts[0]+B.x*(T-_),r.ctrlpts[1]=r.ctrlpts[1]+B.y*(T-_)):(r.ctrlpts[0]=R[0]+B.x*T,r.ctrlpts[1]=R[1]+B.y*T)}if(v||x||N){M=!0;var P={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},L=Math.sqrt(P.x*P.x+P.y*P.y),$={x:P.x/L,y:P.y/L},F=Math.max(a,s),G={x:r.ctrlpts[0]+$.x*2*F,y:r.ctrlpts[1]+$.y*2*F},q=d.intersectLine(n.x,n.y,o,u,G.x,G.y,0,g,m);N?(r.ctrlpts[0]=r.ctrlpts[0]+$.x*(T-E),r.ctrlpts[1]=r.ctrlpts[1]+$.y*(T-E)):(r.ctrlpts[0]=q[0]+$.x*T,r.ctrlpts[1]=q[1]+$.y*T)}M&&this.findEndpoints(e)}},$n.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);t.allpts.push(t.endX,t.endY);var i,n;t.ctrlpts.length/2%2===0?(i=t.allpts.length/2-1,t.midX=t.allpts[i],t.midY=t.allpts[i+1]):(i=t.allpts.length/2-3,n=.5,t.midX=cn(t.allpts[i],t.allpts[i+2],t.allpts[i+4],n),t.midY=cn(t.allpts[i+1],t.allpts[i+3],t.allpts[i+5],n))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var a=2;a+3<t.allpts.length;a+=2){var s=t.radii[a/2-1],o=t.isArcRadius[a/2-1];t.roundCorners.push(Dw({x:t.allpts[a-2],y:t.allpts[a-1]},{x:t.allpts[a],y:t.allpts[a+1],radius:s},{x:t.allpts[a+2],y:t.allpts[a+3]},s,o))}}if(t.segpts.length%4===0){var u=t.segpts.length/2,h=u-2;t.midX=(t.segpts[h]+t.segpts[u])/2,t.midY=(t.segpts[h+1]+t.segpts[u+1])/2}else{var d=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[d],t.midY=t.segpts[d+1];else{var p={x:t.segpts[d],y:t.segpts[d+1]},g=t.roundCorners[d/2];if(g.radius===0){var f={x:t.segpts[d+2],y:t.segpts[d+3]};t.midX=p.x,t.midY=p.y,t.midVector=[p.y-f.y,f.x-p.x]}else{var m=[p.x-g.cx,p.y-g.cy],y=g.radius/Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2));m=m.map(function(b){return b*y}),t.midX=g.cx+m[0],t.midY=g.cy+m[1],t.midVector=m}}}}},$n.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||yt(t.startX)&&yt(t.startY)&&yt(t.endX)&&yt(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,$r("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},$n.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var r=this,i=r.cy,n=i.hasCompoundNodes(),a=new cl,s=l(function(E,N){return[].concat($2(E),[N?1:0]).join("-")},"getKey"),o=[],u=[],h=0;h<e.length;h++){var d=e[h],p=d._private,g=d.pstyle("curve-style").value;if(!(d.removed()||!d.takesUpSpace())){if(g==="haystack"){u.push(d);continue}var f=g==="unbundled-bezier"||mc(g,"segments")||g==="straight"||g==="straight-triangle"||mc(g,"taxi"),m=g==="unbundled-bezier"||g==="bezier",y=p.source,b=p.target,v=y.poolIndex(),x=b.poolIndex(),w=[v,x].sort(),k=s(w,f),T=a.get(k);T==null&&(T={eles:[]},o.push({pairId:w,edgeIsUnbundled:f}),a.set(k,T)),T.eles.push(d),f&&(T.hasUnbundled=!0),m&&(T.hasBezier=!0)}}for(var _=l(function(){var E=o[C],N=E.pairId,M=E.edgeIsUnbundled,I=s(N,M),A=a.get(I),B;if(!A.hasUnbundled){var S=A.eles[0].parallelEdges().filter(function(Q){return Q.isBundledBezier()});qw(A.eles),S.forEach(function(Q){return A.eles.push(Q)}),A.eles.sort(function(Q,Me){return Q.poolIndex()-Me.poolIndex()})}var O=A.eles[0],R=O.source(),P=O.target();if(R.poolIndex()>P.poolIndex()){var L=R;R=P,P=L}var $=A.srcPos=R.position(),F=A.tgtPos=P.position(),G=A.srcW=R.outerWidth(),q=A.srcH=R.outerHeight(),V=A.tgtW=P.outerWidth(),H=A.tgtH=P.outerHeight(),ae=A.srcShape=r.nodeShapes[t.getNodeShape(R)],re=A.tgtShape=r.nodeShapes[t.getNodeShape(P)],oe=A.srcCornerRadius=R.pstyle("corner-radius").value==="auto"?"auto":R.pstyle("corner-radius").pfValue,ue=A.tgtCornerRadius=P.pstyle("corner-radius").value==="auto"?"auto":P.pstyle("corner-radius").pfValue,W=A.tgtRs=P._private.rscratch,ee=A.srcRs=R._private.rscratch;A.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var X=0;X<A.eles.length;X++){var Z=A.eles[X],J=Z[0]._private.rscratch,he=Z.pstyle("curve-style").value,K=he==="unbundled-bezier"||mc(he,"segments")||mc(he,"taxi"),me=!R.same(Z.source());if(!A.calculatedIntersection&&R!==P&&(A.hasBezier||A.hasUnbundled)){A.calculatedIntersection=!0;var Y=ae.intersectLine($.x,$.y,G,q,F.x,F.y,0,oe,ee),_e=A.srcIntn=Y,ce=re.intersectLine(F.x,F.y,V,H,$.x,$.y,0,ue,W),Ne=A.tgtIntn=ce,Be=A.intersectionPts={x1:Y[0],x2:ce[0],y1:Y[1],y2:ce[1]},je=A.posPts={x1:$.x,x2:F.x,y1:$.y,y2:F.y},qe=ce[1]-Y[1],Se=ce[0]-Y[0],Re=Math.sqrt(Se*Se+qe*qe);yt(Re)&&Re>=OTe||(Re=Math.sqrt(Math.max(Se*Se,T1)+Math.max(qe*qe,T1)));var ve=A.vector={x:Se,y:qe},Fe=A.vectorNorm={x:ve.x/Re,y:ve.y/Re},de={x:-Fe.y,y:Fe.x};A.nodesOverlap=!yt(Re)||re.checkPoint(Y[0],Y[1],0,V,H,F.x,F.y,ue,W)||ae.checkPoint(ce[0],ce[1],0,G,q,$.x,$.y,oe,ee),A.vectorNormInverse=de,B={nodesOverlap:A.nodesOverlap,dirCounts:A.dirCounts,calculatedIntersection:!0,hasBezier:A.hasBezier,hasUnbundled:A.hasUnbundled,eles:A.eles,srcPos:F,srcRs:W,tgtPos:$,tgtRs:ee,srcW:V,srcH:H,tgtW:G,tgtH:q,srcIntn:Ne,tgtIntn:_e,srcShape:re,tgtShape:ae,posPts:{x1:je.x2,y1:je.y2,x2:je.x1,y2:je.y1},intersectionPts:{x1:Be.x2,y1:Be.y2,x2:Be.x1,y2:Be.y1},vector:{x:-ve.x,y:-ve.y},vectorNorm:{x:-Fe.x,y:-Fe.y},vectorNormInverse:{x:-de.x,y:-de.y}}}var Ve=me?B:A;J.nodesOverlap=Ve.nodesOverlap,J.srcIntn=Ve.srcIntn,J.tgtIntn=Ve.tgtIntn,J.isRound=he.startsWith("round"),n&&(R.isParent()||R.isChild()||P.isParent()||P.isChild())&&(R.parents().anySame(P)||P.parents().anySame(R)||R.same(P)&&R.isParent())?t.findCompoundLoopPoints(Z,Ve,X,K):R===P?t.findLoopPoints(Z,Ve,X,K):he.endsWith("segments")?t.findSegmentsPoints(Z,Ve):he.endsWith("taxi")?t.findTaxiPoints(Z,Ve):he==="straight"||!K&&A.eles.length%2===1&&X===Math.floor(A.eles.length/2)?t.findStraightEdgePoints(Z):t.findBezierPoints(Z,Ve,X,K,me),t.findEndpoints(Z),t.tryToCorrectInvalidPoints(Z,Ve),t.checkForInvalidEdgeWarning(Z),t.storeAllpts(Z),t.storeEdgeProjections(Z),t.calculateArrowAngles(Z),t.recalculateEdgeLabelProjections(Z),t.calculateLabelAngles(Z)}},"_loop"),C=0;C<o.length;C++)_();this.findHaystackPoints(u)}},l(uD,"getPts"),$n.getSegmentPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="segments")return uD(t.segpts)},$n.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return uD(t.ctrlpts)},$n.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}},E1={},E1.manualEndptToPx=function(e,t){var r=this,i=e.position(),n=e.outerWidth(),a=e.outerHeight(),s=e._private.rscratch;if(t.value.length===2){var o=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(o[0]=o[0]*n),t.units[1]==="%"&&(o[1]=o[1]*a),o[0]+=i.x,o[1]+=i.y,o}else{var u=t.pfValue[0];u=-Math.PI/2+u;var h=2*Math.max(n,a),d=[i.x+Math.cos(u)*h,i.y+Math.sin(u)*h];return r.nodeShapes[this.getNodeShape(e)].intersectLine(i.x,i.y,n,a,d[0],d[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,s)}},E1.findEndpoints=function(e){var t,r,i,n,a=this,s,o=e.source()[0],u=e.target()[0],h=o.position(),d=u.position(),p=e.pstyle("target-arrow-shape").value,g=e.pstyle("source-arrow-shape").value,f=e.pstyle("target-distance-from-node").pfValue,m=e.pstyle("source-distance-from-node").pfValue,y=o._private.rscratch,b=u._private.rscratch,v=e.pstyle("curve-style").value,x=e._private.rscratch,w=x.edgeType,k=mc(v,"taxi"),T=w==="self"||w==="compound",_=w==="bezier"||w==="multibezier"||T,C=w!=="bezier",E=w==="straight"||w==="segments",N=w==="segments",M=_||C||E,I=T||k,A=e.pstyle("source-endpoint"),B=I?"outside-to-node":A.value,S=o.pstyle("corner-radius").value==="auto"?"auto":o.pstyle("corner-radius").pfValue,O=e.pstyle("target-endpoint"),R=I?"outside-to-node":O.value,P=u.pstyle("corner-radius").value==="auto"?"auto":u.pstyle("corner-radius").pfValue;x.srcManEndpt=A,x.tgtManEndpt=O;var L,$,F,G,q=(t=(O==null||(r=O.pfValue)===null||r===void 0?void 0:r.length)===2?O.pfValue:null)!==null&&t!==void 0?t:[0,0],V=(i=(A==null||(n=A.pfValue)===null||n===void 0?void 0:n.length)===2?A.pfValue:null)!==null&&i!==void 0?i:[0,0];if(_){var H=[x.ctrlpts[0],x.ctrlpts[1]],ae=C?[x.ctrlpts[x.ctrlpts.length-2],x.ctrlpts[x.ctrlpts.length-1]]:H;L=ae,$=H}else if(E){var re=N?x.segpts.slice(0,2):[d.x+q[0],d.y+q[1]],oe=N?x.segpts.slice(x.segpts.length-2):[h.x+V[0],h.y+V[1]];L=oe,$=re}if(R==="inside-to-node")s=[d.x,d.y];else if(O.units)s=this.manualEndptToPx(u,O);else if(R==="outside-to-line")s=x.tgtIntn;else if(R==="outside-to-node"||R==="outside-to-node-or-label"?F=L:(R==="outside-to-line"||R==="outside-to-line-or-label")&&(F=[h.x,h.y]),s=a.nodeShapes[this.getNodeShape(u)].intersectLine(d.x,d.y,u.outerWidth(),u.outerHeight(),F[0],F[1],0,P,b),R==="outside-to-node-or-label"||R==="outside-to-line-or-label"){var ue=u._private.rscratch,W=ue.labelWidth,ee=ue.labelHeight,X=ue.labelX,Z=ue.labelY,J=W/2,he=ee/2,K=u.pstyle("text-valign").value;K==="top"?Z-=he:K==="bottom"&&(Z+=he);var me=u.pstyle("text-halign").value;me==="left"?X-=J:me==="right"&&(X+=J);var Y=p1(F[0],F[1],[X-J,Z-he,X+J,Z-he,X+J,Z+he,X-J,Z+he],d.x,d.y);if(Y.length>0){var _e=h,ce=Qu(_e,Id(s)),Ne=Qu(_e,Id(Y)),Be=ce;if(Ne<ce&&(s=Y,Be=Ne),Y.length>2){var je=Qu(_e,{x:Y[2],y:Y[3]});je<Be&&(s=[Y[2],Y[3]])}}}var qe=uv(s,L,a.arrowShapes[p].spacing(e)+f),Se=uv(s,L,a.arrowShapes[p].gap(e)+f);if(x.endX=Se[0],x.endY=Se[1],x.arrowEndX=qe[0],x.arrowEndY=qe[1],B==="inside-to-node")s=[h.x,h.y];else if(A.units)s=this.manualEndptToPx(o,A);else if(B==="outside-to-line")s=x.srcIntn;else if(B==="outside-to-node"||B==="outside-to-node-or-label"?G=$:(B==="outside-to-line"||B==="outside-to-line-or-label")&&(G=[d.x,d.y]),s=a.nodeShapes[this.getNodeShape(o)].intersectLine(h.x,h.y,o.outerWidth(),o.outerHeight(),G[0],G[1],0,S,y),B==="outside-to-node-or-label"||B==="outside-to-line-or-label"){var Re=o._private.rscratch,ve=Re.labelWidth,Fe=Re.labelHeight,de=Re.labelX,Ve=Re.labelY,Q=ve/2,Me=Fe/2,z=o.pstyle("text-valign").value;z==="top"?Ve-=Me:z==="bottom"&&(Ve+=Me);var te=o.pstyle("text-halign").value;te==="left"?de-=Q:te==="right"&&(de+=Q);var se=p1(G[0],G[1],[de-Q,Ve-Me,de+Q,Ve-Me,de+Q,Ve+Me,de-Q,Ve+Me],h.x,h.y);if(se.length>0){var pe=d,fe=Qu(pe,Id(s)),we=Qu(pe,Id(se)),Ce=fe;if(we<fe&&(s=[se[0],se[1]],Ce=we),se.length>2){var Te=Qu(pe,{x:se[2],y:se[3]});Te<Ce&&(s=[se[2],se[3]])}}}var ze=uv(s,$,a.arrowShapes[g].spacing(e)+m),He=uv(s,$,a.arrowShapes[g].gap(e)+m);x.startX=He[0],x.startY=He[1],x.arrowStartX=ze[0],x.arrowStartY=ze[1],M&&(!yt(x.startX)||!yt(x.startY)||!yt(x.endX)||!yt(x.endY)?x.badLine=!0:x.badLine=!1)},E1.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},E1.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}},mk={},l(W4e,"pushBezierPts"),mk.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,i=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,i==="multibezier"||i==="bezier"||i==="self"||i==="compound"){t.rstyle.bezierPts=[];for(var n=0;n+5<r.allpts.length;n+=4)W4e(this,e,r.allpts.slice(n,n+6))}else if(i==="segments")for(var a=t.rstyle.linePts=[],n=0;n+1<r.allpts.length;n+=2)a.push({x:r.allpts[n],y:r.allpts[n+1]});else if(i==="haystack"){var s=r.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},mk.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)},ko={},ko.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!fc(t)){var r,i,n=e._private,a=e.width(),s=e.height(),o=e.padding(),u=e.position(),h=e.pstyle("text-halign").strValue,d=e.pstyle("text-valign").strValue,p=n.rscratch,g=n.rstyle;switch(h){case"left":r=u.x-a/2-o;break;case"right":r=u.x+a/2+o;break;default:r=u.x}switch(d){case"top":i=u.y-s/2-o;break;case"bottom":i=u.y+s/2+o;break;default:i=u.y}p.labelX=r,p.labelY=i,g.labelX=r,g.labelY=i,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}},EP=l(function(e,t){var r=Math.atan(t/e);return e===0&&r<0&&(r=r*-1),r},"lineAngleFromDelta"),CP=l(function(e,t){var r=t.x-e.x,i=t.y-e.y;return EP(r,i)},"lineAngle"),PTe=l(function(e,t,r,i){var n=h1(0,i-.001,1),a=h1(0,i+.001,1),s=Dd(e,t,r,n),o=Dd(e,t,r,a);return CP(s,o)},"bezierAngle"),ko.recalculateEdgeLabelProjections=function(e){var t,r=e._private,i=r.rscratch,n=this,a={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(a.mid||a.source||a.target){t={x:i.midX,y:i.midY};var s=l(function(d,p,g){ll(r.rscratch,d,p,g),ll(r.rstyle,d,p,g)},"setRs");s("labelX",null,t.x),s("labelY",null,t.y);var o=EP(i.midDispX,i.midDispY);s("labelAutoAngle",null,o);var u=l(function(){if(u.cache)return u.cache;for(var d=[],p=0;p+5<i.allpts.length;p+=4){var g={x:i.allpts[p],y:i.allpts[p+1]},f={x:i.allpts[p+2],y:i.allpts[p+3]},m={x:i.allpts[p+4],y:i.allpts[p+5]};d.push({p0:g,p1:f,p2:m,startDist:0,length:0,segments:[]})}var y=r.rstyle.bezierPts,b=n.bezierProjPcts.length;function v(_,C,E,N,M){var I=Zu(C,E),A=_.segments[_.segments.length-1],B={p0:C,p1:E,t0:N,t1:M,startDist:A?A.startDist+A.length:0,length:I};_.segments.push(B),_.length+=I}l(v,"addSegment");for(var x=0;x<d.length;x++){var w=d[x],k=d[x-1];k&&(w.startDist=k.startDist+k.length),v(w,w.p0,y[x*b],0,n.bezierProjPcts[0]);for(var T=0;T<b-1;T++)v(w,y[x*b+T],y[x*b+T+1],n.bezierProjPcts[T],n.bezierProjPcts[T+1]);v(w,y[x*b+b-1],w.p2,n.bezierProjPcts[b-1],1)}return u.cache=d},"createControlPointInfo"),h=l(function(d){var p,g=d==="source";if(a[d]){var f=e.pstyle(d+"-text-offset").pfValue;switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=u(),y,b=0,v=0,x=0;x<m.length;x++){for(var w=m[g?x:m.length-1-x],k=0;k<w.segments.length;k++){var T=w.segments[g?k:w.segments.length-1-k],_=x===m.length-1&&k===w.segments.length-1;if(b=v,v+=T.length,v>=f||_){y={cp:w,segment:T};break}}if(y)break}var C=y.cp,E=y.segment,N=(f-b)/E.length,M=E.t1-E.t0,I=g?E.t0+M*N:E.t1-M*N;I=h1(0,I,1),t=Dd(C.p0,C.p1,C.p2,I),p=PTe(C.p0,C.p1,C.p2,I);break}case"straight":case"segments":case"haystack":{for(var A=0,B,S,O,R,P=i.allpts.length,L=0;L+3<P&&(g?(O={x:i.allpts[L],y:i.allpts[L+1]},R={x:i.allpts[L+2],y:i.allpts[L+3]}):(O={x:i.allpts[P-2-L],y:i.allpts[P-1-L]},R={x:i.allpts[P-4-L],y:i.allpts[P-3-L]}),B=Zu(O,R),S=A,A+=B,!(A>=f));L+=2);var $=f-S,F=$/B;F=h1(0,F,1),t=W5e(O,R,F),p=CP(O,R);break}}s("labelX",d,t.x),s("labelY",d,t.y),s("labelAutoAngle",d,p)}},"calculateEndProjection");h("source"),h("target"),this.applyLabelDimensions(e)}},ko.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},ko.applyPrefixedLabelDimensions=function(e,t){var r=e._private,i=this.getLabelText(e,t),n=Ku(i,e._private.labelDimsKey);if(Ta(r.rscratch,"prefixedLabelDimsKey",t)!==n){ll(r.rscratch,"prefixedLabelDimsKey",t,n);var a=this.calculateLabelDimensions(e,i),s=e.pstyle("line-height").pfValue,o=e.pstyle("text-wrap").strValue,u=Ta(r.rscratch,"labelWrapCachedLines",t)||[],h=o!=="wrap"?1:Math.max(u.length,1),d=a.height/h,p=d*s,g=a.width,f=a.height+(h-1)*(s-1)*d;ll(r.rstyle,"labelWidth",t,g),ll(r.rscratch,"labelWidth",t,g),ll(r.rstyle,"labelHeight",t,f),ll(r.rscratch,"labelHeight",t,f),ll(r.rscratch,"labelLineHeight",t,p)}},ko.getLabelText=function(e,t){var r=e._private,i=t?t+"-":"",n=e.pstyle(i+"label").strValue,a=e.pstyle("text-transform").value,s=l(function(q,V){return V?(ll(r.rscratch,q,t,V),V):Ta(r.rscratch,q,t)},"rscratch");if(!n)return"";a=="none"||(a=="uppercase"?n=n.toUpperCase():a=="lowercase"&&(n=n.toLowerCase()));var o=e.pstyle("text-wrap").value;if(o==="wrap"){var u=s("labelKey");if(u!=null&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var h="\u200B",d=n.split(`
`),p=e.pstyle("text-max-width").pfValue,g=e.pstyle("text-overflow-wrap").value,f=g==="anywhere",m=[],y=/[\s\u200b]+|$/g,b=0;b<d.length;b++){var v=d[b],x=this.calculateLabelDimensions(e,v),w=x.width;if(f){var k=v.split("").join(h);v=k}if(w>p){var T=v.matchAll(y),_="",C=0,E=ka(T),N;try{for(E.s();!(N=E.n()).done;){var M=N.value,I=M[0],A=v.substring(C,M.index);C=M.index+I.length;var B=_.length===0?A:_+A+I,S=this.calculateLabelDimensions(e,B),O=S.width;O<=p?_+=A+I:(_&&m.push(_),_=A+I)}}catch(q){E.e(q)}finally{E.f()}_.match(/^[\s\u200b]+$/)||m.push(_)}else m.push(v)}s("labelWrapCachedLines",m),n=s("labelWrapCachedText",m.join(`
`)),s("labelWrapKey",u)}else if(o==="ellipsis"){var R=e.pstyle("text-max-width").pfValue,P="",L="\u2026",$=!1;if(this.calculateLabelDimensions(e,n).width<R)return n;for(var F=0;F<n.length;F++){var G=this.calculateLabelDimensions(e,P+n[F]+L).width;if(G>R)break;P+=n[F],F===n.length-1&&($=!0)}return $||(P+=L),P}return n},ko.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t},ko.calculateLabelDimensions=function(e,t){var r=this,i=r.cy.window(),n=i.document,a=0,s=e.pstyle("font-style").strValue,o=e.pstyle("font-size").pfValue,u=e.pstyle("font-family").strValue,h=e.pstyle("font-weight").strValue,d=this.labelCalcCanvas,p=this.labelCalcCanvasContext;if(!d){d=this.labelCalcCanvas=n.createElement("canvas"),p=this.labelCalcCanvasContext=d.getContext("2d");var g=d.style;g.position="absolute",g.left="-9999px",g.top="-9999px",g.zIndex="-1",g.visibility="hidden",g.pointerEvents="none"}p.font="".concat(s," ").concat(h," ").concat(o,"px ").concat(u);for(var f=0,m=0,y=t.split(`
`),b=0;b<y.length;b++){var v=y[b],x=p.measureText(v),w=Math.ceil(x.width),k=o;f=Math.max(w,f),m+=k}return f+=a,m+=a,{width:f,height:m}},ko.calculateLabelAngle=function(e,t){var r=e._private,i=r.rscratch,n=e.isEdge(),a=t?t+"-":"",s=e.pstyle(a+"text-rotation"),o=s.strValue;return o==="none"?0:n&&o==="autorotate"?i.labelAutoAngle:o==="autorotate"?0:s.pfValue},ko.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),i=e._private,n=i.rscratch;n.labelAngle=t.calculateLabelAngle(e),r&&(n.sourceLabelAngle=t.calculateLabelAngle(e,"source"),n.targetLabelAngle=t.calculateLabelAngle(e,"target"))},SP={},_P=28,AP=!1,SP.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(r==="cutrectangle"&&(e.width()<_P||e.height()<_P))return AP||($r("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),AP=!0),"rectangle";if(e.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var i=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(i).name}return r},Iv={},Iv.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,i=l(function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(a),s)for(var o=0;o<a.length;o++){var u=a[o],h=u._private,d=h.rstyle;d.clean=!1,d.cleanConnected=!1}},"enqueue");r.binder(e).on("bounds.* dirty.*",l(function(a){var s=a.target;i(s)},"onDirtyBounds")).on("style.* background.*",l(function(a){var s=a.target;i(s,!1)},"onDirtyStyle"));var n=l(function(a){if(a){var s=r.onUpdateEleCalcsFns;t.cleanStyle();for(var o=0;o<t.length;o++){var u=t[o],h=u._private.rstyle;u.isNode()&&!h.cleanConnected&&(i(u.connectedEdges()),h.cleanConnected=!0)}if(s)for(var d=0;d<s.length;d++){var p=s[d];p(a,t)}r.recalculateRenderedStyle(t),t=e.collection()}},"updateEleCalcs");r.flushRenderedStyleQueue=function(){n(!0)},r.beforeRender(n,r.beforeRenderPriorities.eleCalcs)},Iv.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)},Iv.recalculateRenderedStyle=function(e,t){var r=l(function(w){return w._private.rstyle.cleanConnected},"isCleanConnected");if(e.length!==0){var i=[],n=[];if(!this.destroyed){t===void 0&&(t=!0);for(var a=0;a<e.length;a++){var s=e[a],o=s._private,u=o.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(u.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(w){return!w._private.rstyle.clean&&w.isBundledBezier()})&&(u.clean=!1),!(t&&u.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?n.push(s):i.push(s),u.clean=!0)}for(var h=0;h<n.length;h++){var d=n[h],p=d._private,g=p.rstyle,f=d.position();this.recalculateNodeLabelProjection(d),g.nodeX=f.x,g.nodeY=f.y,g.nodeW=d.pstyle("width").pfValue,g.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(i);for(var m=0;m<i.length;m++){var y=i[m],b=y._private,v=b.rstyle,x=b.rscratch;v.srcX=x.arrowStartX,v.srcY=x.arrowStartY,v.tgtX=x.arrowEndX,v.tgtY=x.arrowEndY,v.midX=x.midX,v.midY=x.midY,v.labelAngle=x.labelAngle,v.sourceLabelAngle=x.sourceLabelAngle,v.targetLabelAngle=x.targetLabelAngle}}}},Dv={},Dv.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var i=e[r],n=i._private.rscratch;i.grabbed()&&!i.isParent()?t.push(i):n.inDragLayer?e.drag.push(i):e.nondrag.push(i)}for(var r=0;r<t.length;r++){var i=t[r];e.drag.push(i)}}},Dv.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null},Dv.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(aP),t.interactive=t.filter(function(r){return r.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t},LP={},[ih,Mv,$n,E1,mk,ko,SP,Iv,Dv].forEach(function(e){Qt(LP,e)}),NP={},NP.getCachedImage=function(e,t,r){var i=this,n=i.imageCache=i.imageCache||{},a=n[e];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=n[e]=n[e]||{};var s=a.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var o="data:",u=e.substring(0,o.length).toLowerCase()===o;return u||(t=t==="null"?null:t,s.crossOrigin=t),s.src=e,s},Vd={},Vd.registerBinding=function(e,t,r,i){var n=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var a=[],s=0;s<e.length;s++){var o=e[s];if(o!==void 0){var u=this.binder(o);a.push(u.on.apply(u,n))}}return a}var u=this.binder(e);return u.on.apply(u,n)},Vd.binder=function(e){var t=this,r=t.cy.window(),i=e===r||e===r.document||e===r.document.body||R3e(e);if(t.supportsPassiveEvents==null){var n=!1;try{var a=Object.defineProperty({},"passive",{get:l(function(){return n=!0,!0},"get")});r.addEventListener("test",null,a)}catch{}t.supportsPassiveEvents=n}var s=l(function(o,u,h){var d=Array.prototype.slice.call(arguments);return i&&t.supportsPassiveEvents&&(d[2]={capture:h??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:d}),(e.addEventListener||e.on).apply(e,d),this},"on");return{on:s,addEventListener:s,addListener:s,bind:s}},Vd.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},Vd.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},Vd.load=function(){var e=this,t=e.cy.window(),r=l(function(z){return z.selected()},"isSelected"),i=l(function(z){var te=z.getRootNode();if(te&&te.nodeType===11&&te.host!==void 0)return te},"getShadowRoot"),n=l(function(z,te,se,pe){z==null&&(z=e.cy);for(var fe=0;fe<te.length;fe++){var we=te[fe];z.emit({originalEvent:se,type:we,position:pe})}},"triggerEvents"),a=l(function(z){return z.shiftKey||z.metaKey||z.ctrlKey},"isMultSelKeyDown"),s=l(function(z,te){var se=!0;if(e.cy.hasCompoundNodes()&&z&&z.pannable())for(var pe=0;te&&pe<te.length;pe++){var z=te[pe];if(z.isNode()&&z.isParent()&&!z.pannable()){se=!1;break}}else se=!0;return se},"allowPanningPassthrough"),o=l(function(z){z[0]._private.grabbed=!0},"setGrabbed"),u=l(function(z){z[0]._private.grabbed=!1},"setFreed"),h=l(function(z){z[0]._private.rscratch.inDragLayer=!0},"setInDragLayer"),d=l(function(z){z[0]._private.rscratch.inDragLayer=!1},"setOutDragLayer"),p=l(function(z){z[0]._private.rscratch.isGrabTarget=!0},"setGrabTarget"),g=l(function(z){z[0]._private.rscratch.isGrabTarget=!1},"removeGrabTarget"),f=l(function(z,te){var se=te.addToList,pe=se.has(z);!pe&&z.grabbable()&&!z.locked()&&(se.merge(z),o(z))},"addToDragList"),m=l(function(z,te){if(z.cy().hasCompoundNodes()&&!(te.inDragLayer==null&&te.addToList==null)){var se=z.descendants();te.inDragLayer&&(se.forEach(h),se.connectedEdges().forEach(h)),te.addToList&&f(se,te)}},"addDescendantsToDrag"),y=l(function(z,te){te=te||{};var se=z.cy().hasCompoundNodes();te.inDragLayer&&(z.forEach(h),z.neighborhood().stdFilter(function(pe){return!se||pe.isEdge()}).forEach(h)),te.addToList&&z.forEach(function(pe){f(pe,te)}),m(z,te),x(z,{inDragLayer:te.inDragLayer}),e.updateCachedGrabbedEles()},"addNodesToDrag"),b=y,v=l(function(z){z&&(e.getCachedZSortedEles().forEach(function(te){u(te),d(te),g(te)}),e.updateCachedGrabbedEles())},"freeDraggedElements"),x=l(function(z,te){if(!(te.inDragLayer==null&&te.addToList==null)&&z.cy().hasCompoundNodes()){var se=z.ancestors().orphans();if(!se.same(z)){var pe=se.descendants().spawnSelf().merge(se).unmerge(z).unmerge(z.descendants()),fe=pe.connectedEdges();te.inDragLayer&&(fe.forEach(h),pe.forEach(h)),te.addToList&&pe.forEach(function(we){f(we,te)})}}},"updateAncestorsInDragLayer"),w=l(function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},"blurActiveDomElement"),k=typeof MutationObserver<"u",T=typeof ResizeObserver<"u";k?(e.removeObserver=new MutationObserver(function(z){for(var te=0;te<z.length;te++){var se=z[te],pe=se.removedNodes;if(pe)for(var fe=0;fe<pe.length;fe++){var we=pe[fe];if(we===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(z){e.destroy()});var _=s1(function(){e.cy.resize()},100);k&&(e.styleObserver=new MutationObserver(_),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",_),T&&(e.resizeObserver=new ResizeObserver(_),e.resizeObserver.observe(e.container));var C=l(function(z,te){for(;z!=null;)te(z),z=z.parentNode},"forEachUp"),E=l(function(){e.invalidateContainerClientCoordsCache()},"invalidateCoords");C(e.container,function(z){e.registerBinding(z,"transitionend",E),e.registerBinding(z,"animationend",E),e.registerBinding(z,"scroll",E)}),e.registerBinding(e.container,"contextmenu",function(z){z.preventDefault()});var N=l(function(){return e.selection[4]!==0},"inBoxSelection"),M=l(function(z){for(var te=e.findContainerClientCoords(),se=te[0],pe=te[1],fe=te[2],we=te[3],Ce=z.touches?z.touches:[z],Te=!1,ze=0;ze<Ce.length;ze++){var He=Ce[ze];if(se<=He.clientX&&He.clientX<=se+fe&&pe<=He.clientY&&He.clientY<=pe+we){Te=!0;break}}if(!Te)return!1;for(var at=e.container,$e=z.target,Ye=$e.parentNode,Ue=!1;Ye;){if(Ye===at){Ue=!0;break}Ye=Ye.parentNode}return!!Ue},"eventInContainer");e.registerBinding(e.container,"mousedown",l(function(z){if(M(z)&&!(e.hoverData.which===1&&z.which!==1)){z.preventDefault(),w(),e.hoverData.capture=!0,e.hoverData.which=z.which;var te=e.cy,se=[z.clientX,z.clientY],pe=e.projectIntoViewport(se[0],se[1]),fe=e.selection,we=e.findNearestElements(pe[0],pe[1],!0,!1),Ce=we[0],Te=e.dragData.possibleDragElements;e.hoverData.mdownPos=pe,e.hoverData.mdownGPos=se;var ze=l(function(Ue){return{originalEvent:z,type:Ue,position:{x:pe[0],y:pe[1]}}},"makeEvent"),He=l(function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var Ue=e.hoverData.down;Ue?Ue.emit(ze("taphold")):te.emit(ze("taphold"))}},e.tapholdDuration)},"checkForTaphold");if(z.which==3){e.hoverData.cxtStarted=!0;var at={originalEvent:z,type:"cxttapstart",position:{x:pe[0],y:pe[1]}};Ce?(Ce.activate(),Ce.emit(at),e.hoverData.down=Ce):te.emit(at),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(z.which==1){Ce&&Ce.activate();{if(Ce!=null&&e.nodeIsGrabbable(Ce)){var $e=l(function(Ue){Ue.emit(ze("grab"))},"triggerGrab");if(p(Ce),!Ce.selected())Te=e.dragData.possibleDragElements=te.collection(),b(Ce,{addToList:Te}),Ce.emit(ze("grabon")).emit(ze("grab"));else{Te=e.dragData.possibleDragElements=te.collection();var Ye=te.$(function(Ue){return Ue.isNode()&&Ue.selected()&&e.nodeIsGrabbable(Ue)});y(Ye,{addToList:Te}),Ce.emit(ze("grabon")),Ye.forEach($e)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=Ce,e.hoverData.downs=we,e.hoverData.downTime=new Date().getTime()}n(Ce,["mousedown","tapstart","vmousedown"],z,{x:pe[0],y:pe[1]}),Ce==null?(fe[4]=1,e.data.bgActivePosistion={x:pe[0],y:pe[1]},e.redrawHint("select",!0),e.redraw()):Ce.pannable()&&(fe[4]=1),He()}fe[0]=fe[2]=pe[0],fe[1]=fe[3]=pe[1]}},"mousedownHandler"),!1);var I=i(e.container);e.registerBinding([t,I],"mousemove",l(function(z){var te=e.hoverData.capture;if(!(!te&&!M(z))){var se=!1,pe=e.cy,fe=pe.zoom(),we=[z.clientX,z.clientY],Ce=e.projectIntoViewport(we[0],we[1]),Te=e.hoverData.mdownPos,ze=e.hoverData.mdownGPos,He=e.selection,at=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(at=e.findNearestElement(Ce[0],Ce[1],!0,!1));var $e=e.hoverData.last,Ye=e.hoverData.down,Ue=[Ce[0]-He[2],Ce[1]-He[3]],Ge=e.dragData.possibleDragElements,Xe;if(ze){var kt=we[0]-ze[0],ct=kt*kt,ot=we[1]-ze[1],Et=ot*ot,tt=ct+Et;e.hoverData.isOverThresholdDrag=Xe=tt>=e.desktopTapThreshold2}var ht=a(z);Xe&&(e.hoverData.tapholdCancelled=!0);var ft=l(function(){var Mr=e.hoverData.dragDelta=e.hoverData.dragDelta||[];Mr.length===0?(Mr.push(Ue[0]),Mr.push(Ue[1])):(Mr[0]+=Ue[0],Mr[1]+=Ue[1])},"updateDragDelta");se=!0,n(at,["mousemove","vmousemove","tapdrag"],z,{x:Ce[0],y:Ce[1]});var Qe=l(function(Mr){return{originalEvent:z,type:Mr,position:{x:Ce[0],y:Ce[1]}}},"makeEvent"),Ze=l(function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||pe.emit(Qe("boxstart")),He[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()},"goIntoBoxMode");if(e.hoverData.which===3){if(Xe){var _t=Qe("cxtdrag");Ye?Ye.emit(_t):pe.emit(_t),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||at!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit(Qe("cxtdragout")),e.hoverData.cxtOver=at,at&&at.emit(Qe("cxtdragover")))}}else if(e.hoverData.dragging){if(se=!0,pe.panningEnabled()&&pe.userPanningEnabled()){var jt;if(e.hoverData.justStartedPan){var Pt=e.hoverData.mdownPos;jt={x:(Ce[0]-Pt[0])*fe,y:(Ce[1]-Pt[1])*fe},e.hoverData.justStartedPan=!1}else jt={x:Ue[0]*fe,y:Ue[1]*fe};pe.panBy(jt),pe.emit(Qe("dragpan")),e.hoverData.dragged=!0}Ce=e.projectIntoViewport(z.clientX,z.clientY)}else if(He[4]==1&&(Ye==null||Ye.pannable())){if(Xe){if(!e.hoverData.dragging&&pe.boxSelectionEnabled()&&(ht||!pe.panningEnabled()||!pe.userPanningEnabled()))Ze();else if(!e.hoverData.selecting&&pe.panningEnabled()&&pe.userPanningEnabled()){var Vr=s(Ye,e.hoverData.downs);Vr&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,He[4]=0,e.data.bgActivePosistion=Id(Te),e.redrawHint("select",!0),e.redraw())}Ye&&Ye.pannable()&&Ye.active()&&Ye.unactivate()}}else{if(Ye&&Ye.pannable()&&Ye.active()&&Ye.unactivate(),(!Ye||!Ye.grabbed())&&at!=$e&&($e&&n($e,["mouseout","tapdragout"],z,{x:Ce[0],y:Ce[1]}),at&&n(at,["mouseover","tapdragover"],z,{x:Ce[0],y:Ce[1]}),e.hoverData.last=at),Ye)if(Xe){if(pe.boxSelectionEnabled()&&ht)Ye&&Ye.grabbed()&&(v(Ge),Ye.emit(Qe("freeon")),Ge.emit(Qe("free")),e.dragData.didDrag&&(Ye.emit(Qe("dragfreeon")),Ge.emit(Qe("dragfree")))),Ze();else if(Ye&&Ye.grabbed()&&e.nodeIsDraggable(Ye)){var lr=!e.dragData.didDrag;lr&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||y(Ge,{inDragLayer:!0});var Jt={x:0,y:0};if(yt(Ue[0])&&yt(Ue[1])&&(Jt.x+=Ue[0],Jt.y+=Ue[1],lr)){var fr=e.hoverData.dragDelta;fr&&yt(fr[0])&&yt(fr[1])&&(Jt.x+=fr[0],Jt.y+=fr[1])}e.hoverData.draggingEles=!0,Ge.silentShift(Jt).emit(Qe("position")).emit(Qe("drag")),e.redrawHint("drag",!0),e.redraw()}}else ft();se=!0}if(He[2]=Ce[0],He[3]=Ce[1],se)return z.stopPropagation&&z.stopPropagation(),z.preventDefault&&z.preventDefault(),!1}},"mousemoveHandler"),!1);var A,B,S;e.registerBinding(t,"mouseup",l(function(z){if(!(e.hoverData.which===1&&z.which!==1&&e.hoverData.capture)){var te=e.hoverData.capture;if(te){e.hoverData.capture=!1;var se=e.cy,pe=e.projectIntoViewport(z.clientX,z.clientY),fe=e.selection,we=e.findNearestElement(pe[0],pe[1],!0,!1),Ce=e.dragData.possibleDragElements,Te=e.hoverData.down,ze=a(z);e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,Te&&Te.unactivate();var He=l(function(Xe){return{originalEvent:z,type:Xe,position:{x:pe[0],y:pe[1]}}},"makeEvent");if(e.hoverData.which===3){var at=He("cxttapend");if(Te?Te.emit(at):se.emit(at),!e.hoverData.cxtDragged){var $e=He("cxttap");Te?Te.emit($e):se.emit($e)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(n(we,["mouseup","tapend","vmouseup"],z,{x:pe[0],y:pe[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(n(Te,["click","tap","vclick"],z,{x:pe[0],y:pe[1]}),B=!1,z.timeStamp-S<=se.multiClickDebounceTime()?(A&&clearTimeout(A),B=!0,S=null,n(Te,["dblclick","dbltap","vdblclick"],z,{x:pe[0],y:pe[1]})):(A=setTimeout(function(){B||n(Te,["oneclick","onetap","voneclick"],z,{x:pe[0],y:pe[1]})},se.multiClickDebounceTime()),S=z.timeStamp)),Te==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!a(z)&&(se.$(r).unselect(["tapunselect"]),Ce.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=Ce=se.collection()),we==Te&&!e.dragData.didDrag&&!e.hoverData.selecting&&we!=null&&we._private.selectable&&(e.hoverData.dragging||(se.selectionType()==="additive"||ze?we.selected()?we.unselect(["tapunselect"]):we.select(["tapselect"]):ze||(se.$(r).unmerge(we).unselect(["tapunselect"]),we.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var Ye=se.collection(e.getAllInBox(fe[0],fe[1],fe[2],fe[3]));e.redrawHint("select",!0),Ye.length>0&&e.redrawHint("eles",!0),se.emit(He("boxend"));var Ue=l(function(Xe){return Xe.selectable()&&!Xe.selected()},"eleWouldBeSelected");se.selectionType()==="additive"||ze||se.$(r).unmerge(Ye).unselect(),Ye.emit(He("box")).stdFilter(Ue).select().emit(He("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!fe[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var Ge=Te&&Te.grabbed();v(Ce),Ge&&(Te.emit(He("freeon")),Ce.emit(He("free")),e.dragData.didDrag&&(Te.emit(He("dragfreeon")),Ce.emit(He("dragfree"))))}}fe[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},"mouseupHandler"),!1);var O=[],R=4,P,L=1e5,$=l(function(z,te){for(var se=0;se<z.length;se++)if(z[se]%te!==0)return!1;return!0},"allAreDivisibleBy"),F=l(function(z){for(var te=Math.abs(z[0]),se=1;se<z.length;se++)if(Math.abs(z[se])!==te)return!1;return!0},"allAreSameMagnitude"),G=l(function(z){var te=!1,se=z.deltaY;if(se==null&&(z.wheelDeltaY!=null?se=z.wheelDeltaY/4:z.wheelDelta!=null&&(se=z.wheelDelta/4)),se!==0){if(P==null)if(O.length>=R){var pe=O;if(P=$(pe,5),!P){var fe=Math.abs(pe[0]);P=F(pe)&&fe>5}if(P)for(var we=0;we<pe.length;we++)L=Math.min(Math.abs(pe[we]),L)}else O.push(se),te=!0;else P&&(L=Math.min(Math.abs(se),L));if(!e.scrollingPage){var Ce=e.cy,Te=Ce.zoom(),ze=Ce.pan(),He=e.projectIntoViewport(z.clientX,z.clientY),at=[He[0]*Te+ze.x,He[1]*Te+ze.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||N()){z.preventDefault();return}if(Ce.panningEnabled()&&Ce.userPanningEnabled()&&Ce.zoomingEnabled()&&Ce.userZoomingEnabled()){z.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var $e;te&&Math.abs(se)>5&&(se=Yw(se)*5),$e=se/-250,P&&($e/=L,$e*=3),$e=$e*e.wheelSensitivity;var Ye=z.deltaMode===1;Ye&&($e*=33);var Ue=Ce.zoom()*Math.pow(10,$e);z.type==="gesturechange"&&(Ue=e.gestureStartZoom*z.scale),Ce.zoom({level:Ue,renderedPosition:{x:at[0],y:at[1]}}),Ce.emit({type:z.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:z,position:{x:He[0],y:He[1]}})}}}},"wheelHandler");e.registerBinding(e.container,"wheel",G,!0),e.registerBinding(t,"scroll",l(function(z){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},"scrollHandler"),!0),e.registerBinding(e.container,"gesturestart",l(function(z){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||z.preventDefault()},"gestureStartHandler"),!0),e.registerBinding(e.container,"gesturechange",function(z){e.hasTouchStarted||G(z)},!0),e.registerBinding(e.container,"mouseout",l(function(z){var te=e.projectIntoViewport(z.clientX,z.clientY);e.cy.emit({originalEvent:z,type:"mouseout",position:{x:te[0],y:te[1]}})},"mouseOutHandler"),!1),e.registerBinding(e.container,"mouseover",l(function(z){var te=e.projectIntoViewport(z.clientX,z.clientY);e.cy.emit({originalEvent:z,type:"mouseover",position:{x:te[0],y:te[1]}})},"mouseOverHandler"),!1);var q,V,H,ae,re,oe,ue,W,ee,X,Z,J,he,K=l(function(z,te,se,pe){return Math.sqrt((se-z)*(se-z)+(pe-te)*(pe-te))},"distance"),me=l(function(z,te,se,pe){return(se-z)*(se-z)+(pe-te)*(pe-te)},"distanceSq"),Y;e.registerBinding(e.container,"touchstart",Y=l(function(z){if(e.hasTouchStarted=!0,!!M(z)){w(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var te=e.cy,se=e.touchData.now,pe=e.touchData.earlier;if(z.touches[0]){var fe=e.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);se[0]=fe[0],se[1]=fe[1]}if(z.touches[1]){var fe=e.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);se[2]=fe[0],se[3]=fe[1]}if(z.touches[2]){var fe=e.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);se[4]=fe[0],se[5]=fe[1]}var we=l(function(tt){return{originalEvent:z,type:tt,position:{x:se[0],y:se[1]}}},"makeEvent");if(z.touches[1]){e.touchData.singleTouchMoved=!0,v(e.dragData.touchDragEles);var Ce=e.findContainerClientCoords();ee=Ce[0],X=Ce[1],Z=Ce[2],J=Ce[3],q=z.touches[0].clientX-ee,V=z.touches[0].clientY-X,H=z.touches[1].clientX-ee,ae=z.touches[1].clientY-X,he=0<=q&&q<=Z&&0<=H&&H<=Z&&0<=V&&V<=J&&0<=ae&&ae<=J;var Te=te.pan(),ze=te.zoom();re=K(q,V,H,ae),oe=me(q,V,H,ae),ue=[(q+H)/2,(V+ae)/2],W=[(ue[0]-Te.x)/ze,(ue[1]-Te.y)/ze];var He=200,at=He*He;if(oe<at&&!z.touches[2]){var $e=e.findNearestElement(se[0],se[1],!0,!0),Ye=e.findNearestElement(se[2],se[3],!0,!0);$e&&$e.isNode()?($e.activate().emit(we("cxttapstart")),e.touchData.start=$e):Ye&&Ye.isNode()?(Ye.activate().emit(we("cxttapstart")),e.touchData.start=Ye):te.emit(we("cxttapstart")),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(z.touches[2])te.boxSelectionEnabled()&&z.preventDefault();else if(!z.touches[1]&&z.touches[0]){var Ue=e.findNearestElements(se[0],se[1],!0,!0),Ge=Ue[0];if(Ge!=null&&(Ge.activate(),e.touchData.start=Ge,e.touchData.starts=Ue,e.nodeIsGrabbable(Ge))){var Xe=e.dragData.touchDragEles=te.collection(),kt=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),Ge.selected()?(kt=te.$(function(tt){return tt.selected()&&e.nodeIsGrabbable(tt)}),y(kt,{addToList:Xe})):b(Ge,{addToList:Xe}),p(Ge),Ge.emit(we("grabon")),kt?kt.forEach(function(tt){tt.emit(we("grab"))}):Ge.emit(we("grab"))}n(Ge,["touchstart","tapstart","vmousedown"],z,{x:se[0],y:se[1]}),Ge==null&&(e.data.bgActivePosistion={x:fe[0],y:fe[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&n(e.touchData.start,["taphold"],z,{x:se[0],y:se[1]})},e.tapholdDuration)}if(z.touches.length>=1){for(var ct=e.touchData.startPosition=[null,null,null,null,null,null],ot=0;ot<se.length;ot++)ct[ot]=pe[ot]=se[ot];var Et=z.touches[0];e.touchData.startGPosition=[Et.clientX,Et.clientY]}}},"touchstartHandler"),!1);var _e;e.registerBinding(t,"touchmove",_e=l(function(z){var te=e.touchData.capture;if(!(!te&&!M(z))){var se=e.selection,pe=e.cy,fe=e.touchData.now,we=e.touchData.earlier,Ce=pe.zoom();if(z.touches[0]){var Te=e.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);fe[0]=Te[0],fe[1]=Te[1]}if(z.touches[1]){var Te=e.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);fe[2]=Te[0],fe[3]=Te[1]}if(z.touches[2]){var Te=e.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);fe[4]=Te[0],fe[5]=Te[1]}var ze=l(function(P8){return{originalEvent:z,type:P8,position:{x:fe[0],y:fe[1]}}},"makeEvent"),He=e.touchData.startGPosition,at;if(te&&z.touches[0]&&He){for(var $e=[],Ye=0;Ye<fe.length;Ye++)$e[Ye]=fe[Ye]-we[Ye];var Ue=z.touches[0].clientX-He[0],Ge=Ue*Ue,Xe=z.touches[0].clientY-He[1],kt=Xe*Xe,ct=Ge+kt;at=ct>=e.touchTapThreshold2}if(te&&e.touchData.cxt){z.preventDefault();var ot=z.touches[0].clientX-ee,Et=z.touches[0].clientY-X,tt=z.touches[1].clientX-ee,ht=z.touches[1].clientY-X,ft=me(ot,Et,tt,ht),Qe=ft/oe,Ze=150,_t=Ze*Ze,jt=1.5,Pt=jt*jt;if(Qe>=Pt||ft>=_t){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Vr=ze("cxttapend");e.touchData.start?(e.touchData.start.unactivate().emit(Vr),e.touchData.start=null):pe.emit(Vr)}}if(te&&e.touchData.cxt){var Vr=ze("cxtdrag");e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(Vr):pe.emit(Vr),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var lr=e.findNearestElement(fe[0],fe[1],!0,!0);(!e.touchData.cxtOver||lr!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit(ze("cxtdragout")),e.touchData.cxtOver=lr,lr&&lr.emit(ze("cxtdragover")))}else if(te&&z.touches[2]&&pe.boxSelectionEnabled())z.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||pe.emit(ze("boxstart")),e.touchData.selecting=!0,e.touchData.didSelect=!0,se[4]=1,!se||se.length===0||se[0]===void 0?(se[0]=(fe[0]+fe[2]+fe[4])/3,se[1]=(fe[1]+fe[3]+fe[5])/3,se[2]=(fe[0]+fe[2]+fe[4])/3+1,se[3]=(fe[1]+fe[3]+fe[5])/3+1):(se[2]=(fe[0]+fe[2]+fe[4])/3,se[3]=(fe[1]+fe[3]+fe[5])/3),e.redrawHint("select",!0),e.redraw();else if(te&&z.touches[1]&&!e.touchData.didSelect&&pe.zoomingEnabled()&&pe.panningEnabled()&&pe.userZoomingEnabled()&&pe.userPanningEnabled()){z.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Jt=e.dragData.touchDragEles;if(Jt){e.redrawHint("drag",!0);for(var fr=0;fr<Jt.length;fr++){var Mr=Jt[fr]._private;Mr.grabbed=!1,Mr.rscratch.inDragLayer=!1}}var be=e.touchData.start,ot=z.touches[0].clientX-ee,Et=z.touches[0].clientY-X,tt=z.touches[1].clientX-ee,ht=z.touches[1].clientY-X,dt=K(ot,Et,tt,ht),ut=dt/re;if(he){var ur=ot-q,Ir=Et-V,Ar=tt-H,Cn=ht-ae,ni=(ur+Ar)/2,nn=(Ir+Cn)/2,Ka=pe.zoom(),Xr=Ka*ut,Ai=pe.pan(),xt=W[0]*Ka+Ai.x,rt=W[1]*Ka+Ai.y,We={x:-Xr/Ka*(xt-Ai.x-ni)+xt,y:-Xr/Ka*(rt-Ai.y-nn)+rt};if(be&&be.active()){var Jt=e.dragData.touchDragEles;v(Jt),e.redrawHint("drag",!0),e.redrawHint("eles",!0),be.unactivate().emit(ze("freeon")),Jt.emit(ze("free")),e.dragData.didDrag&&(be.emit(ze("dragfreeon")),Jt.emit(ze("dragfree")))}pe.viewport({zoom:Xr,pan:We,cancelOnFailedZoom:!0}),pe.emit(ze("pinchzoom")),re=dt,q=ot,V=Et,H=tt,ae=ht,e.pinching=!0}if(z.touches[0]){var Te=e.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);fe[0]=Te[0],fe[1]=Te[1]}if(z.touches[1]){var Te=e.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);fe[2]=Te[0],fe[3]=Te[1]}if(z.touches[2]){var Te=e.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);fe[4]=Te[0],fe[5]=Te[1]}}else if(z.touches[0]&&!e.touchData.didSelect){var Ht=e.touchData.start,ge=e.touchData.last,lr;if(!e.hoverData.draggingEles&&!e.swipePanning&&(lr=e.findNearestElement(fe[0],fe[1],!0,!0)),te&&Ht!=null&&z.preventDefault(),te&&Ht!=null&&e.nodeIsDraggable(Ht))if(at){var Jt=e.dragData.touchDragEles,gn=!e.dragData.didDrag;gn&&y(Jt,{inDragLayer:!0}),e.dragData.didDrag=!0;var ye={x:0,y:0};if(yt($e[0])&&yt($e[1])&&(ye.x+=$e[0],ye.y+=$e[1],gn)){e.redrawHint("eles",!0);var Rr=e.touchData.dragDelta;Rr&&yt(Rr[0])&&yt(Rr[1])&&(ye.x+=Rr[0],ye.y+=Rr[1])}e.hoverData.draggingEles=!0,Jt.silentShift(ye).emit(ze("position")).emit(ze("drag")),e.redrawHint("drag",!0),e.touchData.startPosition[0]==we[0]&&e.touchData.startPosition[1]==we[1]&&e.redrawHint("eles",!0),e.redraw()}else{var Rr=e.touchData.dragDelta=e.touchData.dragDelta||[];Rr.length===0?(Rr.push($e[0]),Rr.push($e[1])):(Rr[0]+=$e[0],Rr[1]+=$e[1])}if(n(Ht||lr,["touchmove","tapdrag","vmousemove"],z,{x:fe[0],y:fe[1]}),(!Ht||!Ht.grabbed())&&lr!=ge&&(ge&&ge.emit(ze("tapdragout")),lr&&lr.emit(ze("tapdragover"))),e.touchData.last=lr,te)for(var fr=0;fr<fe.length;fr++)fe[fr]&&e.touchData.startPosition[fr]&&at&&(e.touchData.singleTouchMoved=!0);if(te&&(Ht==null||Ht.pannable())&&pe.panningEnabled()&&pe.userPanningEnabled()){var O8=s(Ht,e.touchData.starts);O8&&(z.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=Id(e.touchData.startPosition)),e.swipePanning?(pe.panBy({x:$e[0]*Ce,y:$e[1]*Ce}),pe.emit(ze("dragpan"))):at&&(e.swipePanning=!0,pe.panBy({x:Ue*Ce,y:Xe*Ce}),pe.emit(ze("dragpan")),Ht&&(Ht.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var Te=e.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);fe[0]=Te[0],fe[1]=Te[1]}}for(var Ye=0;Ye<fe.length;Ye++)we[Ye]=fe[Ye];te&&z.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},"touchmoveHandler"),!1);var ce;e.registerBinding(t,"touchcancel",ce=l(function(z){var te=e.touchData.start;e.touchData.capture=!1,te&&te.unactivate()},"touchcancelHandler"));var Ne,Be,je,qe;if(e.registerBinding(t,"touchend",Ne=l(function(z){var te=e.touchData.start,se=e.touchData.capture;if(se)z.touches.length===0&&(e.touchData.capture=!1),z.preventDefault();else return;var pe=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var fe=e.cy,we=fe.zoom(),Ce=e.touchData.now,Te=e.touchData.earlier;if(z.touches[0]){var ze=e.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);Ce[0]=ze[0],Ce[1]=ze[1]}if(z.touches[1]){var ze=e.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);Ce[2]=ze[0],Ce[3]=ze[1]}if(z.touches[2]){var ze=e.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);Ce[4]=ze[0],Ce[5]=ze[1]}var He=l(function(Ze){return{originalEvent:z,type:Ze,position:{x:Ce[0],y:Ce[1]}}},"makeEvent");te&&te.unactivate();var at;if(e.touchData.cxt){if(at=He("cxttapend"),te?te.emit(at):fe.emit(at),!e.touchData.cxtDragged){var $e=He("cxttap");te?te.emit($e):fe.emit($e)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!z.touches[2]&&fe.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var Ye=fe.collection(e.getAllInBox(pe[0],pe[1],pe[2],pe[3]));pe[0]=void 0,pe[1]=void 0,pe[2]=void 0,pe[3]=void 0,pe[4]=0,e.redrawHint("select",!0),fe.emit(He("boxend"));var Ue=l(function(Ze){return Ze.selectable()&&!Ze.selected()},"eleWouldBeSelected");Ye.emit(He("box")).stdFilter(Ue).select().emit(He("boxselect")),Ye.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(te?.unactivate(),z.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!z.touches[1]&&!z.touches[0]&&!z.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Ge=e.dragData.touchDragEles;if(te!=null){var Xe=te._private.grabbed;v(Ge),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Xe&&(te.emit(He("freeon")),Ge.emit(He("free")),e.dragData.didDrag&&(te.emit(He("dragfreeon")),Ge.emit(He("dragfree")))),n(te,["touchend","tapend","vmouseup","tapdragout"],z,{x:Ce[0],y:Ce[1]}),te.unactivate(),e.touchData.start=null}else{var kt=e.findNearestElement(Ce[0],Ce[1],!0,!0);n(kt,["touchend","tapend","vmouseup","tapdragout"],z,{x:Ce[0],y:Ce[1]})}var ct=e.touchData.startPosition[0]-Ce[0],ot=ct*ct,Et=e.touchData.startPosition[1]-Ce[1],tt=Et*Et,ht=ot+tt,ft=ht*we*we;e.touchData.singleTouchMoved||(te||fe.$(":selected").unselect(["tapunselect"]),n(te,["tap","vclick"],z,{x:Ce[0],y:Ce[1]}),Be=!1,z.timeStamp-qe<=fe.multiClickDebounceTime()?(je&&clearTimeout(je),Be=!0,qe=null,n(te,["dbltap","vdblclick"],z,{x:Ce[0],y:Ce[1]})):(je=setTimeout(function(){Be||n(te,["onetap","voneclick"],z,{x:Ce[0],y:Ce[1]})},fe.multiClickDebounceTime()),qe=z.timeStamp)),te!=null&&!e.dragData.didDrag&&te._private.selectable&&ft<e.touchTapThreshold2&&!e.pinching&&(fe.selectionType()==="single"?(fe.$(r).unmerge(te).unselect(["tapunselect"]),te.select(["tapselect"])):te.selected()?te.unselect(["tapunselect"]):te.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var Qe=0;Qe<Ce.length;Qe++)Te[Qe]=Ce[Qe];e.dragData.didDrag=!1,z.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),z.touches.length<2&&(z.touches.length===1&&(e.touchData.startGPosition=[z.touches[0].clientX,z.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},"touchendHandler"),!1),typeof TouchEvent>"u"){var Se=[],Re=l(function(z){return{clientX:z.clientX,clientY:z.clientY,force:1,identifier:z.pointerId,pageX:z.pageX,pageY:z.pageY,radiusX:z.width/2,radiusY:z.height/2,screenX:z.screenX,screenY:z.screenY,target:z.target}},"makeTouch"),ve=l(function(z){return{event:z,touch:Re(z)}},"makePointer"),Fe=l(function(z){Se.push(ve(z))},"addPointer"),de=l(function(z){for(var te=0;te<Se.length;te++){var se=Se[te];if(se.event.pointerId===z.pointerId){Se.splice(te,1);return}}},"removePointer"),Ve=l(function(z){var te=Se.filter(function(se){return se.event.pointerId===z.pointerId})[0];te.event=z,te.touch=Re(z)},"updatePointer"),Q=l(function(z){z.touches=Se.map(function(te){return te.touch})},"addTouchesToEvent"),Me=l(function(z){return z.pointerType==="mouse"||z.pointerType===4},"pointerIsMouse");e.registerBinding(e.container,"pointerdown",function(z){Me(z)||(z.preventDefault(),Fe(z),Q(z),Y(z))}),e.registerBinding(e.container,"pointerup",function(z){Me(z)||(de(z),Q(z),Ne(z))}),e.registerBinding(e.container,"pointercancel",function(z){Me(z)||(de(z),Q(z),ce(z))}),e.registerBinding(e.container,"pointermove",function(z){Me(z)||(z.preventDefault(),Ve(z),Q(z),_e(z))})}},dl={},dl.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:l(function(r,i,n,a,s,o){this.renderer.nodeShapeImpl("polygon",r,i,n,a,s,this.points)},"draw"),intersectLine:l(function(r,i,n,a,s,o,u,h){return p1(s,o,this.points,r,i,n/2,a/2,u)},"intersectLine"),checkPoint:l(function(r,i,n,a,s,o,u,h){return ul(r,i,this.points,o,u,a,s,[0,-1],n)},"checkPoint"),hasMiterBounds:e!=="rectangle",miterBounds:l(function(r,i,n,a,s,o){return i4e(this.points,r,i,n,a,s)},"miterBounds")}},dl.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:l(function(e,t,r,i,n,a){this.renderer.nodeShapeImpl(this.name,e,t,r,i,n)},"draw"),intersectLine:l(function(e,t,r,i,n,a,s,o){return s6e(n,a,e,t,r/2+s,i/2+s)},"intersectLine"),checkPoint:l(function(e,t,r,i,n,a,s,o){return Ju(e,t,i,n,a,s,r)},"checkPoint")}},dl.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:l(function(r,i,n,a,s,o,u){if(o[u]!==void 0&&o[u+"-cx"]===r&&o[u+"-cy"]===i)return o[u];o[u]=new Array(t.length/2),o[u+"-cx"]=r,o[u+"-cy"]=i;var h=n/2,d=a/2;s=s==="auto"?mR(n,a):s;for(var p=new Array(t.length/2),g=0;g<t.length/2;g++)p[g]={x:r+h*t[g*2],y:i+d*t[g*2+1]};var f,m,y,b,v=p.length;for(m=p[v-1],f=0;f<v;f++)y=p[f%v],b=p[(f+1)%v],o[u][f]=Dw(m,y,b,s),m=y,y=b;return o[u]},"getOrCreateCorners"),draw:l(function(r,i,n,a,s,o,u){this.renderer.nodeShapeImpl("round-polygon",r,i,n,a,s,this.points,this.getOrCreateCorners(i,n,a,s,o,u,"drawCorners"))},"draw"),intersectLine:l(function(r,i,n,a,s,o,u,h,d){return l6e(s,o,this.points,r,i,n,a,u,this.getOrCreateCorners(r,i,n,a,h,d,"corners"))},"intersectLine"),checkPoint:l(function(r,i,n,a,s,o,u,h,d){return a6e(r,i,this.points,o,u,a,s,this.getOrCreateCorners(o,u,a,s,h,d,"corners"))},"checkPoint")}},dl.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:ta(4,0),draw:l(function(e,t,r,i,n,a){this.renderer.nodeShapeImpl(this.name,e,t,r,i,n,this.points,a)},"draw"),intersectLine:l(function(e,t,r,i,n,a,s,o){return gR(n,a,e,t,r,i,s,o)},"intersectLine"),checkPoint:l(function(e,t,r,i,n,a,s,o){var u=i/2,h=n/2;o=o==="auto"?wc(i,n):o,o=Math.min(u,h,o);var d=o*2;return!!(ul(e,t,this.points,a,s,i,n-d,[0,-1],r)||ul(e,t,this.points,a,s,i-d,n,[0,-1],r)||Ju(e,t,d,d,a-u+o,s-h+o,r)||Ju(e,t,d,d,a+u-o,s-h+o,r)||Ju(e,t,d,d,a+u-o,s+h-o,r)||Ju(e,t,d,d,a-u+o,s+h-o,r))},"checkPoint")}},dl.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Zw(),points:ta(4,0),draw:l(function(e,t,r,i,n,a){this.renderer.nodeShapeImpl(this.name,e,t,r,i,n,null,a)},"draw"),generateCutTrianglePts:l(function(e,t,r,i,n){var a=n==="auto"?this.cornerLength:n,s=t/2,o=e/2,u=r-o,h=r+o,d=i-s,p=i+s;return{topLeft:[u,d+a,u+a,d,u+a,d+a],topRight:[h-a,d,h,d+a,h-a,d+a],bottomRight:[h,p-a,h-a,p,h-a,p-a],bottomLeft:[u+a,p,u,p-a,u+a,p-a]}},"generateCutTrianglePts"),intersectLine:l(function(e,t,r,i,n,a,s,o){var u=this.generateCutTrianglePts(r+2*s,i+2*s,e,t,o),h=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return p1(n,a,h,e,t)},"intersectLine"),checkPoint:l(function(e,t,r,i,n,a,s,o){var u=o==="auto"?this.cornerLength:o;if(ul(e,t,this.points,a,s,i,n-2*u,[0,-1],r)||ul(e,t,this.points,a,s,i-2*u,n,[0,-1],r))return!0;var h=this.generateCutTrianglePts(i,n,a,s);return Ea(e,t,h.topLeft)||Ea(e,t,h.topRight)||Ea(e,t,h.bottomRight)||Ea(e,t,h.bottomLeft)},"checkPoint")}},dl.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:ta(4,0),draw:l(function(e,t,r,i,n,a){this.renderer.nodeShapeImpl(this.name,e,t,r,i,n)},"draw"),intersectLine:l(function(e,t,r,i,n,a,s,o){var u=.15,h=.5,d=.85,p=this.generateBarrelBezierPts(r+2*s,i+2*s,e,t),g=l(function(m){var y=Dd({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},u),b=Dd({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},h),v=Dd({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},d);return[m[0],m[1],y.x,y.y,b.x,b.y,v.x,v.y,m[4],m[5]]},"approximateBarrelCurvePts"),f=[].concat(g(p.topLeft),g(p.topRight),g(p.bottomRight),g(p.bottomLeft));return p1(n,a,f,e,t)},"intersectLine"),generateBarrelBezierPts:l(function(e,t,r,i){var n=t/2,a=e/2,s=r-a,o=r+a,u=i-n,h=i+n,d=Qw(e,t),p=d.heightOffset,g=d.widthOffset,f=d.ctrlPtOffsetPct*e,m={topLeft:[s,u+p,s+f,u,s+g,u],topRight:[o-g,u,o-f,u,o,u+p],bottomRight:[o,h-p,o-f,h,o-g,h],bottomLeft:[s+g,h,s+f,h,s,h-p]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},"generateBarrelBezierPts"),checkPoint:l(function(e,t,r,i,n,a,s,o){var u=Qw(i,n),h=u.heightOffset,d=u.widthOffset;if(ul(e,t,this.points,a,s,i,n-2*h,[0,-1],r)||ul(e,t,this.points,a,s,i-2*d,n,[0,-1],r))return!0;for(var p=this.generateBarrelBezierPts(i,n,a,s),g=l(function(_,C,E){var N=E[4],M=E[2],I=E[0],A=E[5],B=E[1],S=Math.min(N,I),O=Math.max(N,I),R=Math.min(A,B),P=Math.max(A,B);if(S<=_&&_<=O&&R<=C&&C<=P){var L=c6e(N,M,I),$=t6e(L[0],L[1],L[2],_),F=$.filter(function(G){return 0<=G&&G<=1});if(F.length>0)return F[0]}return null},"getCurveT"),f=Object.keys(p),m=0;m<f.length;m++){var y=f[m],b=p[y],v=g(e,t,b);if(v!=null){var x=b[5],w=b[3],k=b[1],T=cn(x,w,k,v);if(b.isTop&&T<=t||b.isBottom&&t<=T)return!0}}return!1},"checkPoint")}},dl.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:ta(4,0),draw:l(function(e,t,r,i,n,a){this.renderer.nodeShapeImpl(this.name,e,t,r,i,n,this.points,a)},"draw"),intersectLine:l(function(e,t,r,i,n,a,s,o){var u=e-(r/2+s),h=t-(i/2+s),d=h,p=e+(r/2+s),g=xc(n,a,e,t,u,h,p,d,!1);return g.length>0?g:gR(n,a,e,t,r,i,s,o)},"intersectLine"),checkPoint:l(function(e,t,r,i,n,a,s,o){o=o==="auto"?wc(i,n):o;var u=2*o;if(ul(e,t,this.points,a,s,i,n-u,[0,-1],r)||ul(e,t,this.points,a,s,i-u,n,[0,-1],r))return!0;var h=i/2+2*r,d=n/2+2*r,p=[a-h,s-d,a-h,s,a+h,s,a+h,s-d];return!!(Ea(e,t,p)||Ju(e,t,u,u,a+i/2-o,s+n/2-o,r)||Ju(e,t,u,u,a-i/2+o,s+n/2-o,r))},"checkPoint")}},dl.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",ta(3,0)),this.generateRoundPolygon("round-triangle",ta(3,0)),this.generatePolygon("rectangle",ta(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",ta(5,0)),this.generateRoundPolygon("round-pentagon",ta(5,0)),this.generatePolygon("hexagon",ta(6,0)),this.generateRoundPolygon("round-hexagon",ta(6,0)),this.generatePolygon("heptagon",ta(7,0)),this.generateRoundPolygon("round-heptagon",ta(7,0)),this.generatePolygon("octagon",ta(8,0)),this.generateRoundPolygon("round-octagon",ta(8,0));var i=new Array(20);{var n=Kw(5,0),a=Kw(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<a.length/2;o++)a[o*2]*=s,a[o*2+1]*=s;for(var o=0;o<20/4;o++)i[o*4]=n[o*2],i[o*4+1]=n[o*2+1],i[o*4+2]=a[o*2],i[o*4+3]=a[o*2+1]}i=fR(i),this.generatePolygon("star",i),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}e.makePolygon=function(h){var d=h.join("$"),p="polygon-"+d,g;return(g=this[p])?g:t.generatePolygon(p,h)}},C1={},C1.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},C1.redraw=function(e){e=e||sR();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},C1.beforeRender=function(e,t){if(!this.destroyed){t==null&&oi("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(i,n){return n.priority-i.priority})}},MP=l(function(e,t,r){for(var i=e.beforeRenderCallbacks,n=0;n<i.length;n++)i[n].fn(t,r)},"beforeRenderCallbacks"),C1.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=l(function(i){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){MP(e,!0,i);var n=ol();e.render(e.renderOptions);var a=e.lastDrawTime=ol();e.averageRedrawTime===void 0&&(e.averageRedrawTime=a-n),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var s=a-n;e.redrawTotalTime+=s,e.lastRedrawTime=s,e.averageRedrawTime=e.averageRedrawTime/2+s/2,e.requestedFrame=!1}else MP(e,!1,i);e.skipFrame=!1,ev(r)}},"renderFn");ev(r)}},BTe=l(function(e){this.init(e)},"BaseRenderer"),IP=BTe,Yd=IP.prototype,Yd.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Yd.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),i=t.cy.window();if(i){var n=i.document,a=n.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",u=n.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!u){var h=n.createElement("style");h.id=s,h.textContent="."+o+" { position: relative; }",a.insertBefore(h,a.children[0])}var d=i.getComputedStyle(r),p=d.getPropertyValue("position");p==="static"&&$r("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=yt(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},Yd.notify=function(e,t){var r=this,i=r.cy;if(!this.destroyed){if(e==="init"){r.load();return}if(e==="destroy"){r.destroy();return}(e==="add"||e==="remove"||e==="move"&&i.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&r.invalidateCachedZSortedEles(),e==="viewport"&&r.redrawHint("select",!0),e==="gc"&&r.redrawHint("gc",!0),(e==="load"||e==="resize"||e==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Yd.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],i=r,n=i.target;(n.off||n.removeEventListener).apply(n,i.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}},Yd.isHeadless=function(){return!1},[pk,LP,NP,Vd,dl,C1].forEach(function(e){Qt(Yd,e)}),yk=1e3/60,DP={setupDequeueing:l(function(e){return l(function(){var t=this,r=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var i=s1(function(){r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},e.deqRedrawThreshold),n=l(function(s,o){var u=ol(),h=r.averageRedrawTime,d=r.lastRedrawTime,p=[],g=r.cy.extent(),f=r.getPixelRatio();for(s||r.flushRenderedStyleQueue();;){var m=ol(),y=m-u,b=m-o;if(d<yk){var v=yk-(s?h:0);if(b>=e.deqFastCost*v)break}else if(s){if(y>=e.deqCost*d||y>=e.deqAvgCost*h)break}else if(b>=e.deqNoDrawCost*yk)break;var x=e.deq(t,f,g);if(x.length>0)for(var w=0;w<x.length;w++)p.push(x[w]);else break}p.length>0&&(e.onDeqd(t,p),!s&&e.shouldRedraw(t,p,f,g)&&i())},"dequeue"),a=e.priority||Uw;r.beforeRender(n,a(t))}},"setupDequeueingImpl")},"setupDequeueing")},$Te=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rv;pc(this,e),this.idsByKey=new cl,this.keyForId=new cl,this.cachesByLvl=new cl,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return l(e,"ElementTextureCacheLookup"),gc(e,[{key:"getIdsFor",value:l(function(t){t==null&&oi("Can not get id list for null key");var r=this.idsByKey,i=this.idsByKey.get(t);return i||(i=new Md,r.set(t,i)),i},"getIdsFor")},{key:"addIdForKey",value:l(function(t,r){t!=null&&this.getIdsFor(t).add(r)},"addIdForKey")},{key:"deleteIdForKey",value:l(function(t,r){t!=null&&this.getIdsFor(t).delete(r)},"deleteIdForKey")},{key:"getNumberOfIdsForKey",value:l(function(t){return t==null?0:this.getIdsFor(t).size},"getNumberOfIdsForKey")},{key:"updateKeyMappingFor",value:l(function(t){var r=t.id(),i=this.keyForId.get(r),n=this.getKey(t);this.deleteIdForKey(i,r),this.addIdForKey(n,r),this.keyForId.set(r,n)},"updateKeyMappingFor")},{key:"deleteKeyMappingFor",value:l(function(t){var r=t.id(),i=this.keyForId.get(r);this.deleteIdForKey(i,r),this.keyForId.delete(r)},"deleteKeyMappingFor")},{key:"keyHasChangedFor",value:l(function(t){var r=t.id(),i=this.keyForId.get(r),n=this.getKey(t);return i!==n},"keyHasChangedFor")},{key:"isInvalid",value:l(function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)},"isInvalid")},{key:"getCachesAt",value:l(function(t){var r=this.cachesByLvl,i=this.lvls,n=r.get(t);return n||(n=new cl,r.set(t,n),i.push(t)),n},"getCachesAt")},{key:"getCache",value:l(function(t,r){return this.getCachesAt(r).get(t)},"getCache")},{key:"get",value:l(function(t,r){var i=this.getKey(t),n=this.getCache(i,r);return n!=null&&this.updateKeyMappingFor(t),n},"get")},{key:"getForCachedKey",value:l(function(t,r){var i=this.keyForId.get(t.id()),n=this.getCache(i,r);return n},"getForCachedKey")},{key:"hasCache",value:l(function(t,r){return this.getCachesAt(r).has(t)},"hasCache")},{key:"has",value:l(function(t,r){var i=this.getKey(t);return this.hasCache(i,r)},"has")},{key:"setCache",value:l(function(t,r,i){i.key=t,this.getCachesAt(r).set(t,i)},"setCache")},{key:"set",value:l(function(t,r,i){var n=this.getKey(t);this.setCache(n,r,i),this.updateKeyMappingFor(t)},"set")},{key:"deleteCache",value:l(function(t,r){this.getCachesAt(r).delete(t)},"deleteCache")},{key:"delete",value:l(function(t,r){var i=this.getKey(t);this.deleteCache(i,r)},"_delete")},{key:"invalidateKey",value:l(function(t){var r=this;this.lvls.forEach(function(i){return r.deleteCache(t,i)})},"invalidateKey")},{key:"invalidate",value:l(function(t){var r=t.id(),i=this.keyForId.get(r);this.deleteKeyMappingFor(t);var n=this.doesEleInvalidateKey(t);return n&&this.invalidateKey(i),n||this.getNumberOfIdsForKey(i)===0},"invalidate")}])}(),RP=25,Rv=50,Ov=-4,vk=3,OP=7.99,FTe=8,zTe=1024,GTe=1024,UTe=1024,qTe=.2,jTe=.8,HTe=10,VTe=.15,YTe=.1,WTe=.9,XTe=.9,KTe=100,ZTe=1,Wd={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},QTe=yn({getKey:null,doesEleInvalidateKey:rv,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:rR,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),S1=l(function(e,t){var r=this;r.renderer=e,r.onDequeues=[];var i=QTe(t);Qt(r,i),r.lookup=new $Te(i.getKey,i.doesEleInvalidateKey),r.setupDequeueing()},"ElementTextureCache"),Qi=S1.prototype,Qi.reasons=Wd,Qi.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},Qi.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{},i=r[e]=r[e]||[];return i},Qi.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new u1(function(r,i){return i.reqs-r.reqs});return t},Qi.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t},Qi.getElement=function(e,t,r,i,n){var a=this,s=this.renderer,o=s.cy.zoom(),u=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!a.allowEdgeTxrCaching&&e.isEdge()||!a.allowParentTxrCaching&&e.isParent())return null;if(i==null&&(i=Math.ceil(Vw(o*r))),i<Ov)i=Ov;else if(o>=OP||i>vk)return null;var h=Math.pow(2,i),d=t.h*h,p=t.w*h,g=s.eleTextBiggerThanMin(e,h);if(!this.isVisible(e,g))return null;var f=u.get(e,i);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;var m;if(d<=RP?m=RP:d<=Rv?m=Rv:m=Math.ceil(d/Rv)*Rv,d>UTe||p>GTe)return null;var y=a.getTextureQueue(m),b=y[y.length-2],v=l(function(){return a.recycleTexture(m,p)||a.addTexture(m,p)},"addNewTxr");b||(b=y[y.length-1]),b||(b=v()),b.width-b.usedWidth<p&&(b=v());for(var x=l(function(O){return O&&O.scaledLabelShown===g},"scalableFrom"),w=n&&n===Wd.dequeue,k=n&&n===Wd.highQuality,T=n&&n===Wd.downscale,_,C=i+1;C<=vk;C++){var E=u.get(e,C);if(E){_=E;break}}var N=_&&_.level===i+1?_:null,M=l(function(){b.context.drawImage(N.texture.canvas,N.x,0,N.width,N.height,b.usedWidth,0,p,d)},"downscale");if(b.context.setTransform(1,0,0,1,0,0),b.context.clearRect(b.usedWidth,0,p,m),x(N))M();else if(x(_))if(k){for(var I=_.level;I>i;I--)N=a.getElement(e,t,r,I,Wd.downscale);M()}else return a.queueElement(e,_.level-1),_;else{var A;if(!w&&!k&&!T)for(var B=i-1;B>=Ov;B--){var S=u.get(e,B);if(S){A=S;break}}if(x(A))return a.queueElement(e,i),A;b.context.translate(b.usedWidth,0),b.context.scale(h,h),this.drawElement(b.context,e,t,g,!1),b.context.scale(1/h,1/h),b.context.translate(-b.usedWidth,0)}return f={x:b.usedWidth,texture:b,level:i,scale:h,width:p,height:d,scaledLabelShown:g},b.usedWidth+=Math.ceil(p+FTe),b.eleCaches.push(f),u.set(e,i,f),a.checkTextureFullness(b),f},Qi.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},Qi.invalidateElement=function(e){var t=this,r=t.lookup,i=[],n=r.isInvalid(e);if(n){for(var a=Ov;a<=vk;a++){var s=r.getForCachedKey(e,a);s&&i.push(s)}var o=r.invalidate(e);if(o)for(var u=0;u<i.length;u++){var h=i[u],d=h.texture;d.invalidatedWidth+=h.width,h.invalidated=!0,t.checkTextureUtility(d)}t.removeFromQueue(e)}},Qi.checkTextureUtility=function(e){e.invalidatedWidth>=qTe*e.width&&this.retireTexture(e)},Qi.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>jTe&&e.fullnessChecks>=HTe?vc(r,e):e.fullnessChecks++},Qi.retireTexture=function(e){var t=this,r=e.height,i=t.getTextureQueue(r),n=this.lookup;vc(i,e),e.retired=!0;for(var a=e.eleCaches,s=0;s<a.length;s++){var o=a[s];n.deleteCache(o.key,o.level)}qw(a);var u=t.getRetiredTextureQueue(r);u.push(e)},Qi.addTexture=function(e,t){var r=this,i=r.getTextureQueue(e),n={};return i.push(n),n.eleCaches=[],n.height=e,n.width=Math.max(zTe,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=r.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},Qi.recycleTexture=function(e,t){for(var r=this,i=r.getTextureQueue(e),n=r.getRetiredTextureQueue(e),a=0;a<n.length;a++){var s=n[a];if(s.width>=t)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,qw(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),vc(n,s),i.push(s),s}},Qi.queueElement=function(e,t){var r=this,i=r.getElementQueue(),n=r.getElementKeyToQueue(),a=this.getKey(e),s=n[a];if(s)s.level=Math.max(s.level,t),s.eles.merge(e),s.reqs++,i.updateItem(s);else{var o={eles:e.spawn().merge(e),level:t,reqs:1,key:a};i.push(o),n[a]=o}},Qi.dequeue=function(e){for(var t=this,r=t.getElementQueue(),i=t.getElementKeyToQueue(),n=[],a=t.lookup,s=0;s<ZTe&&r.size()>0;s++){var o=r.pop(),u=o.key,h=o.eles[0],d=a.hasCache(h,o.level);if(i[u]=null,!d){n.push(o);var p=t.getBoundingBox(h);t.getElement(h,p,e,o.level,Wd.dequeue)}}return n},Qi.removeFromQueue=function(e){var t=this,r=t.getElementQueue(),i=t.getElementKeyToQueue(),n=this.getKey(e),a=i[n];a!=null&&(a.eles.length===1?(a.reqs=Gw,r.updateItem(a),r.pop(),i[n]=null):a.eles.unmerge(e))},Qi.onDequeue=function(e){this.onDequeues.push(e)},Qi.offDequeue=function(e){vc(this.onDequeues,e)},Qi.setupDequeueing=DP.setupDequeueing({deqRedrawThreshold:KTe,deqCost:VTe,deqAvgCost:YTe,deqNoDrawCost:WTe,deqFastCost:XTe,deq:l(function(e,t,r){return e.dequeue(t,r)},"deq"),onDeqd:l(function(e,t){for(var r=0;r<e.onDequeues.length;r++){var i=e.onDequeues[r];i(t)}},"onDeqd"),shouldRedraw:l(function(e,t,r,i){for(var n=0;n<t.length;n++)for(var a=t[n].eles,s=0;s<a.length;s++){var o=a[s].boundingBox();if(Ww(o,i))return!0}return!1},"shouldRedraw"),priority:l(function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq},"priority")}),JTe=1,_1=-4,Pv=2,e7e=3.99,t7e=50,r7e=50,i7e=.15,n7e=.1,a7e=.9,s7e=.9,o7e=1,PP=250,l7e=4e3*4e3,BP=32767,c7e=!0,$P=l(function(e){var t=this,r=t.renderer=e,i=r.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=ol()-2*PP,t.skipping=!1,t.eleTxrDeqs=i.collection(),t.scheduleElementRefinement=s1(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},r7e),r.beforeRender(function(a,s){s-t.lastInvalidationTime<=PP?t.skipping=!0:t.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var n=l(function(a,s){return s.reqs-a.reqs},"qSort");t.layersQueue=new u1(n),t.setupDequeueing()},"LayeredTextureCache"),xn=$P.prototype,FP=0,u7e=Math.pow(2,53)-1,xn.makeLayer=function(e,t){var r=Math.pow(2,t),i=Math.ceil(e.w*r),n=Math.ceil(e.h*r),a=this.renderer.makeOffscreenCanvas(i,n),s={id:FP=++FP%u7e,bb:e,level:t,width:i,height:n,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,u=-s.bb.x1,h=-s.bb.y1;return o.scale(r,r),o.translate(u,h),s},xn.getLayers=function(e,t,r){var i=this,n=i.renderer,a=n.cy,s=a.zoom(),o=i.firstGet;if(i.firstGet=!1,r==null){if(r=Math.ceil(Vw(s*t)),r<_1)r=_1;else if(s>=e7e||r>Pv)return null}i.validateLayersElesOrdering(r,e);var u=i.layersByLevel,h=Math.pow(2,r),d=u[r]=u[r]||[],p,g=i.levelIsComplete(r,e),f,m=l(function(){var N=l(function(B){if(i.validateLayersElesOrdering(B,e),i.levelIsComplete(B,e))return f=u[B],!0},"canUseAsTmpLvl"),M=l(function(B){if(!f)for(var S=r+B;_1<=S&&S<=Pv&&!N(S);S+=B);},"checkLvls");M(1),M(-1);for(var I=d.length-1;I>=0;I--){var A=d[I];A.invalid&&vc(d,A)}},"checkTempLevels");if(!g)m();else return d;var y=l(function(){if(!p){p=ea();for(var N=0;N<e.length;N++)Z5e(p,e[N].boundingBox())}return p},"getBb"),b=l(function(N){N=N||{};var M=N.after;y();var I=Math.ceil(p.w*h),A=Math.ceil(p.h*h);if(I>BP||A>BP)return null;var B=I*A;if(B>l7e)return null;var S=i.makeLayer(p,r);if(M!=null){var O=d.indexOf(M)+1;d.splice(O,0,S)}else(N.insert===void 0||N.insert)&&d.unshift(S);return S},"makeLayer");if(i.skipping&&!o)return null;for(var v=null,x=e.length/JTe,w=!o,k=0;k<e.length;k++){var T=e[k],_=T._private.rscratch,C=_.imgLayerCaches=_.imgLayerCaches||{},E=C[r];if(E){v=E;continue}if((!v||v.eles.length>=x||!pR(v.bb,T.boundingBox()))&&(v=b({insert:!0,after:v}),!v))return null;f||w?i.queueLayer(v,T):i.drawEleInLayer(v,T,r,t),v.eles.push(T),C[r]=v}return f||(w?null:d)},xn.getEleLevelForLayerLevel=function(e,t){return e},xn.drawEleInLayer=function(e,t,r,i){var n=this,a=this.renderer,s=e.context,o=t.boundingBox();o.w===0||o.h===0||!t.visible()||(r=n.getEleLevelForLayerLevel(r,i),a.setImgSmoothing(s,!1),a.drawCachedElement(s,t,null,null,r,c7e),a.setImgSmoothing(s,!0))},xn.levelIsComplete=function(e,t){var r=this,i=r.layersByLevel[e];if(!i||i.length===0)return!1;for(var n=0,a=0;a<i.length;a++){var s=i[a];if(s.reqs>0||s.invalid)return!1;n+=s.eles.length}return n===t.length},xn.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var i=0;i<r.length;i++){for(var n=r[i],a=-1,s=0;s<t.length;s++)if(n.eles[0]===t[s]){a=s;break}if(a<0){this.invalidateLayer(n);continue}for(var o=a,s=0;s<n.eles.length;s++)if(n.eles[s]!==t[o+s]){this.invalidateLayer(n);break}}},xn.updateElementsInLayers=function(e,t){for(var r=this,i=a1(e[0]),n=0;n<e.length;n++)for(var a=i?null:e[n],s=i?e[n]:e[n].ele,o=s._private.rscratch,u=o.imgLayerCaches=o.imgLayerCaches||{},h=_1;h<=Pv;h++){var d=u[h];d&&(a&&r.getEleLevelForLayerLevel(d.level)!==a.level||t(d,s,a))}},xn.haveLayers=function(){for(var e=this,t=!1,r=_1;r<=Pv;r++){var i=e.layersByLevel[r];if(i&&i.length>0){t=!0;break}}return t},xn.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=ol(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,l(function(r,i,n){t.invalidateLayer(r)},"invalAssocLayers")))},xn.invalidateLayer=function(e){if(this.lastInvalidationTime=ol(),!e.invalid){var t=e.level,r=e.eles,i=this.layersByLevel[t];vc(i,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var n=0;n<r.length;n++){var a=r[n]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}},xn.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,l(function(r,i,n){var a=r.replacement;if(a||(a=r.replacement=t.makeLayer(r.bb,r.level),a.replaces=r,a.eles=r.eles),!a.reqs)for(var s=0;s<a.eles.length;s++)t.queueLayer(a,a.eles[s])},"refineEachEle"))},xn.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},xn.queueLayer=function(e,t){var r=this,i=r.layersQueue,n=e.elesQueue,a=n.hasId=n.hasId||{};if(!e.replacement){if(t){if(a[t.id()])return;n.push(t),a[t.id()]=!0}e.reqs?(e.reqs++,i.updateItem(e)):(e.reqs=1,i.push(e))}},xn.dequeue=function(e){for(var t=this,r=t.layersQueue,i=[],n=0;n<o7e&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var s=a.elesQueue.shift();s&&(t.drawEleInLayer(a,s,a.level,e),n++),i.length===0&&i.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}return i},xn.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],i=e.replaces,n=r.indexOf(i);if(!(n<0||i.invalid)){r[n]=e;for(var a=0;a<e.eles.length;a++){var s=e.eles[a]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[e.level]=e)}t.requestRedraw()}},xn.requestRedraw=s1(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),xn.setupDequeueing=DP.setupDequeueing({deqRedrawThreshold:t7e,deqCost:i7e,deqAvgCost:n7e,deqNoDrawCost:a7e,deqFastCost:s7e,deq:l(function(e,t){return e.dequeue(t)},"deq"),onDeqd:Uw,shouldRedraw:rR,priority:l(function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq},"priority")}),zP={},l(X4e,"polygon"),l(K4e,"triangleBackcurve"),l(hD,"triangleTee"),l(Z4e,"circleTriangle"),l(Q4e,"circle$1"),zP.arrowShapeImpl=function(e){return(h7e||(h7e={polygon:X4e,"triangle-backcurve":K4e,"triangle-tee":hD,"circle-triangle":Z4e,"triangle-cross":hD,circle:Q4e}))[e]},To={},To.drawElement=function(e,t,r,i,n,a){var s=this;t.isNode()?s.drawNode(e,t,r,i,n,a):s.drawEdge(e,t,r,i,n,a)},To.drawElementOverlay=function(e,t){var r=this;t.isNode()?r.drawNodeOverlay(e,t):r.drawEdgeOverlay(e,t)},To.drawElementUnderlay=function(e,t){var r=this;t.isNode()?r.drawNodeUnderlay(e,t):r.drawEdgeUnderlay(e,t)},To.drawCachedElementPortion=function(e,t,r,i,n,a,s,o){var u=this,h=r.getBoundingBox(t);if(!(h.w===0||h.h===0)){var d=r.getElement(t,h,i,n,a);if(d!=null){var p=o(u,t);if(p===0)return;var g=s(u,t),f=h.x1,m=h.y1,y=h.w,b=h.h,v,x,w,k,T;if(g!==0){var _=r.getRotationPoint(t);w=_.x,k=_.y,e.translate(w,k),e.rotate(g),T=u.getImgSmoothing(e),T||u.setImgSmoothing(e,!0);var C=r.getRotationOffset(t);v=C.x,x=C.y}else v=f,x=m;var E;p!==1&&(E=e.globalAlpha,e.globalAlpha=E*p),e.drawImage(d.texture.canvas,d.x,0,d.width,d.height,v,x,y,b),p!==1&&(e.globalAlpha=E),g!==0&&(e.rotate(-g),e.translate(-w,-k),T||u.setImgSmoothing(e,!1))}else r.drawElement(e,t)}},d7e=l(function(){return 0},"getZeroRotation"),p7e=l(function(e,t){return e.getTextAngle(t,null)},"getLabelRotation"),g7e=l(function(e,t){return e.getTextAngle(t,"source")},"getSourceLabelRotation"),f7e=l(function(e,t){return e.getTextAngle(t,"target")},"getTargetLabelRotation"),m7e=l(function(e,t){return t.effectiveOpacity()},"getOpacity"),bk=l(function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()},"getTextOpacity"),To.drawCachedElement=function(e,t,r,i,n,a){var s=this,o=s.data,u=o.eleTxrCache,h=o.lblTxrCache,d=o.slbTxrCache,p=o.tlbTxrCache,g=t.boundingBox(),f=a===!0?u.reasons.highQuality:null;if(!(g.w===0||g.h===0||!t.visible())&&(!i||Ww(g,i))){var m=t.isEdge(),y=t.element()._private.rscratch.badLine;s.drawElementUnderlay(e,t),s.drawCachedElementPortion(e,t,u,r,n,f,d7e,m7e),(!m||!y)&&s.drawCachedElementPortion(e,t,h,r,n,f,p7e,bk),m&&!y&&(s.drawCachedElementPortion(e,t,d,r,n,f,g7e,bk),s.drawCachedElementPortion(e,t,p,r,n,f,f7e,bk)),s.drawElementOverlay(e,t)}},To.drawElements=function(e,t){for(var r=this,i=0;i<t.length;i++){var n=t[i];r.drawElement(e,n)}},To.drawCachedElements=function(e,t,r,i){for(var n=this,a=0;a<t.length;a++){var s=t[a];n.drawCachedElement(e,s,r,i)}},To.drawCachedNodes=function(e,t,r,i){for(var n=this,a=0;a<t.length;a++){var s=t[a];s.isNode()&&n.drawCachedElement(e,s,r,i)}},To.drawLayeredElements=function(e,t,r,i){var n=this,a=n.data.lyrTxrCache.getLayers(t,r);if(a)for(var s=0;s<a.length;s++){var o=a[s],u=o.bb;u.w===0||u.h===0||e.drawImage(o.canvas,u.x1,u.y1,u.w,u.h)}else n.drawCachedElements(e,t,r,i)},pl={},pl.drawEdge=function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=t._private.rscratch;if(!(a&&!t.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var u;r&&(u=r,e.translate(-u.x1,-u.y1));var h=a?t.pstyle("opacity").value:1,d=a?t.pstyle("line-opacity").value:1,p=t.pstyle("curve-style").value,g=t.pstyle("line-style").value,f=t.pstyle("width").pfValue,m=t.pstyle("line-cap").value,y=t.pstyle("line-outline-width").value,b=t.pstyle("line-outline-color").value,v=h*d,x=h*d,w=l(function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;p==="straight-triangle"?(s.eleStrokeStyle(e,t,S),s.drawEdgeTrianglePath(t,e,o.allpts)):(e.lineWidth=f,e.lineCap=m,s.eleStrokeStyle(e,t,S),s.drawEdgePath(t,e,o.allpts,g),e.lineCap="butt")},"drawLine"),k=l(function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;if(e.lineWidth=f+y,e.lineCap=m,y>0)s.colorStrokeStyle(e,b[0],b[1],b[2],S);else{e.lineCap="butt";return}p==="straight-triangle"?s.drawEdgeTrianglePath(t,e,o.allpts):(s.drawEdgePath(t,e,o.allpts,g),e.lineCap="butt")},"drawLineOutline"),T=l(function(){n&&s.drawEdgeOverlay(e,t)},"drawOverlay"),_=l(function(){n&&s.drawEdgeUnderlay(e,t)},"drawUnderlay"),C=l(function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;s.drawArrowheads(e,t,S)},"drawArrows"),E=l(function(){s.drawElementText(e,t,null,i)},"drawText");e.lineJoin="round";var N=t.pstyle("ghost").value==="yes";if(N){var M=t.pstyle("ghost-offset-x").pfValue,I=t.pstyle("ghost-offset-y").pfValue,A=t.pstyle("ghost-opacity").value,B=v*A;e.translate(M,I),w(B),C(B),e.translate(-M,-I)}else k();_(),w(),C(),T(),E(),r&&e.translate(u.x1,u.y1)}},GP=l(function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r){if(r.visible()){var i=r.pstyle("".concat(e,"-opacity")).value;if(i!==0){var n=this,a=n.usePaths(),s=r._private.rscratch,o=r.pstyle("".concat(e,"-padding")).pfValue,u=2*o,h=r.pstyle("".concat(e,"-color")).value;t.lineWidth=u,s.edgeType==="self"&&!a?t.lineCap="butt":t.lineCap="round",n.colorStrokeStyle(t,h[0],h[1],h[2],i),n.drawEdgePath(r,t,s.allpts,"solid")}}}},"drawEdgeOverlayUnderlay"),pl.drawEdgeOverlay=GP("overlay"),pl.drawEdgeUnderlay=GP("underlay"),pl.drawEdgePath=function(e,t,r,i){var n=e._private.rscratch,a=t,s,o=!1,u=this.usePaths(),h=e.pstyle("line-dash-pattern").pfValue,d=e.pstyle("line-dash-offset").pfValue;if(u){var p=r.join("$"),g=n.pathCacheKey&&n.pathCacheKey===p;g?(s=t=n.pathCache,o=!0):(s=t=new Path2D,n.pathCacheKey=p,n.pathCache=s)}if(a.setLineDash)switch(i){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(h),a.lineDashOffset=d;break;case"solid":a.setLineDash([]);break}if(!o&&!n.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),n.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var f=2;f+3<r.length;f+=4)t.quadraticCurveTo(r[f],r[f+1],r[f+2],r[f+3]);break;case"straight":case"haystack":for(var m=2;m+1<r.length;m+=2)t.lineTo(r[m],r[m+1]);break;case"segments":if(n.isRound){var y=ka(n.roundCorners),b;try{for(y.s();!(b=y.n()).done;){var v=b.value;cD(t,v)}}catch(w){y.e(w)}finally{y.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var x=2;x+1<r.length;x+=2)t.lineTo(r[x],r[x+1]);break}t=a,u?t.stroke(s):t.stroke(),t.setLineDash&&t.setLineDash([])},pl.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var i=e.pstyle("width").pfValue,n=0;n+1<r.length;n+=2){var a=[r[n+2]-r[n],r[n+3]-r[n+1]],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=[a[1]/s,-a[0]/s],u=[o[0]*i/2,o[1]*i/2];t.beginPath(),t.moveTo(r[n]-u[0],r[n+1]-u[1]),t.lineTo(r[n]+u[0],r[n+1]+u[1]),t.lineTo(r[n+2],r[n+3]),t.closePath(),t.fill()}},pl.drawArrowheads=function(e,t,r){var i=t._private.rscratch,n=i.edgeType==="haystack";n||this.drawArrowhead(e,t,"source",i.arrowStartX,i.arrowStartY,i.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",i.midX,i.midY,i.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",i.midX,i.midY,i.midsrcArrowAngle,r),n||this.drawArrowhead(e,t,"target",i.arrowEndX,i.arrowEndY,i.tgtArrowAngle,r)},pl.drawArrowhead=function(e,t,r,i,n,a,s){if(!(isNaN(i)||i==null||isNaN(n)||n==null||isNaN(a)||a==null)){var o=this,u=t.pstyle(r+"-arrow-shape").value;if(u!=="none"){var h=t.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",d=t.pstyle(r+"-arrow-fill").value,p=t.pstyle("width").pfValue,g=t.pstyle(r+"-arrow-width"),f=g.value==="match-line"?p:g.pfValue;g.units==="%"&&(f*=p);var m=t.pstyle("opacity").value;s===void 0&&(s=m);var y=e.globalCompositeOperation;(s!==1||d==="hollow")&&(e.globalCompositeOperation="destination-out",o.colorFillStyle(e,255,255,255,1),o.colorStrokeStyle(e,255,255,255,1),o.drawArrowShape(t,e,h,p,u,f,i,n,a),e.globalCompositeOperation=y);var b=t.pstyle(r+"-arrow-color").value;o.colorFillStyle(e,b[0],b[1],b[2],s),o.colorStrokeStyle(e,b[0],b[1],b[2],s),o.drawArrowShape(t,e,d,p,u,f,i,n,a)}}},pl.drawArrowShape=function(e,t,r,i,n,a,s,o,u){var h=this,d=this.usePaths()&&n!=="triangle-cross",p=!1,g,f=t,m={x:s,y:o},y=e.pstyle("arrow-scale").value,b=this.getArrowWidth(i,y),v=h.arrowShapes[n];if(d){var x=h.arrowPathCache=h.arrowPathCache||[],w=Ku(n),k=x[w];k!=null?(g=t=k,p=!0):(g=t=new Path2D,x[w]=g)}p||(t.beginPath&&t.beginPath(),d?v.draw(t,1,0,{x:0,y:0},1):v.draw(t,b,u,m,i),t.closePath&&t.closePath()),t=f,d&&(t.translate(s,o),t.rotate(u),t.scale(b,b)),(r==="filled"||r==="both")&&(d?t.fill(g):t.fill()),(r==="hollow"||r==="both")&&(t.lineWidth=a/(d?b:1),t.lineJoin="miter",d?t.stroke(g):t.stroke()),d&&(t.scale(1/b,1/b),t.rotate(-u),t.translate(-s,-o))},xk={},xk.safeDrawImage=function(e,t,r,i,n,a,s,o,u,h){if(!(n<=0||a<=0||u<=0||h<=0))try{e.drawImage(t,r,i,n,a,s,o,u,h)}catch(d){$r(d)}},xk.drawInscribedImage=function(e,t,r,i,n){var a=this,s=r.position(),o=s.x,u=s.y,h=r.cy().style(),d=h.getIndexedStyle.bind(h),p=d(r,"background-fit","value",i),g=d(r,"background-repeat","value",i),f=r.width(),m=r.height(),y=r.padding()*2,b=f+(d(r,"background-width-relative-to","value",i)==="inner"?0:y),v=m+(d(r,"background-height-relative-to","value",i)==="inner"?0:y),x=r._private.rscratch,w=d(r,"background-clip","value",i),k=w==="node",T=d(r,"background-image-opacity","value",i)*n,_=d(r,"background-image-smoothing","value",i),C=r.pstyle("corner-radius").value;C!=="auto"&&(C=r.pstyle("corner-radius").pfValue);var E=t.width||t.cachedW,N=t.height||t.cachedH;(E==null||N==null)&&(document.body.appendChild(t),E=t.cachedW=t.width||t.offsetWidth,N=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var M=E,I=N;if(d(r,"background-width","value",i)!=="auto"&&(d(r,"background-width","units",i)==="%"?M=d(r,"background-width","pfValue",i)*b:M=d(r,"background-width","pfValue",i)),d(r,"background-height","value",i)!=="auto"&&(d(r,"background-height","units",i)==="%"?I=d(r,"background-height","pfValue",i)*v:I=d(r,"background-height","pfValue",i)),!(M===0||I===0)){if(p==="contain"){var A=Math.min(b/M,v/I);M*=A,I*=A}else if(p==="cover"){var A=Math.max(b/M,v/I);M*=A,I*=A}var B=o-b/2,S=d(r,"background-position-x","units",i),O=d(r,"background-position-x","pfValue",i);S==="%"?B+=(b-M)*O:B+=O;var R=d(r,"background-offset-x","units",i),P=d(r,"background-offset-x","pfValue",i);R==="%"?B+=(b-M)*P:B+=P;var L=u-v/2,$=d(r,"background-position-y","units",i),F=d(r,"background-position-y","pfValue",i);$==="%"?L+=(v-I)*F:L+=F;var G=d(r,"background-offset-y","units",i),q=d(r,"background-offset-y","pfValue",i);G==="%"?L+=(v-I)*q:L+=q,x.pathCache&&(B-=o,L-=u,o=0,u=0);var V=e.globalAlpha;e.globalAlpha=T;var H=a.getImgSmoothing(e),ae=!1;if(_==="no"&&H?(a.setImgSmoothing(e,!1),ae=!0):_==="yes"&&!H&&(a.setImgSmoothing(e,!0),ae=!0),g==="no-repeat")k&&(e.save(),x.pathCache?e.clip(x.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(e,o,u,b,v,C,x),e.clip())),a.safeDrawImage(e,t,0,0,E,N,B,L,M,I),k&&e.restore();else{var re=e.createPattern(t,g);e.fillStyle=re,a.nodeShapes[a.getNodeShape(r)].draw(e,o,u,b,v,C,x),e.translate(B,L),e.fill(),e.translate(-B,-L)}e.globalAlpha=V,ae&&a.setImgSmoothing(e,H)}},nh={},nh.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),i=this.getPixelRatio(),n=Math.ceil(Vw(r*i));t=Math.pow(2,n)}var a=e.pstyle("font-size").pfValue*t,s=e.pstyle("min-zoomed-font-size").pfValue;return!(a<s)},nh.drawElementText=function(e,t,r,i,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(i==null){if(a&&!s.eleTextBiggerThanMin(t))return}else if(i===!1)return;if(t.isNode()){var o=t.pstyle("label");if(!o||!o.value)return;var u=s.getLabelJustification(t);e.textAlign=u,e.textBaseline="bottom"}else{var h=t.element()._private.rscratch.badLine,d=t.pstyle("label"),p=t.pstyle("source-label"),g=t.pstyle("target-label");if(h||(!d||!d.value)&&(!p||!p.value)&&(!g||!g.value))return;e.textAlign="center",e.textBaseline="bottom"}var f=!r,m;r&&(m=r,e.translate(-m.x1,-m.y1)),n==null?(s.drawText(e,t,null,f,a),t.isEdge()&&(s.drawText(e,t,"source",f,a),s.drawText(e,t,"target",f,a))):s.drawText(e,t,n,f,a),r&&e.translate(m.x1,m.y1)},nh.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t},nh.setupTextStyle=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=t.pstyle("font-style").strValue,n=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,s=t.pstyle("font-weight").strValue,o=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,u=t.pstyle("text-outline-opacity").value*o,h=t.pstyle("color").value,d=t.pstyle("text-outline-color").value;e.font=i+" "+s+" "+n+" "+a,e.lineJoin="round",this.colorFillStyle(e,h[0],h[1],h[2],o),this.colorStrokeStyle(e,d[0],d[1],d[2],u)},l(J4e,"circle"),l(dD,"roundRect"),nh.getTextAngle=function(e,t){var r,i=e._private,n=i.rscratch,a=t?t+"-":"",s=e.pstyle(a+"text-rotation");if(s.strValue==="autorotate"){var o=Ta(n,"labelAngle",t);r=e.isEdge()?o:0}else s.strValue==="none"?r=0:r=s.pfValue;return r},nh.drawText=function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=t._private,s=a.rscratch,o=n?t.effectiveOpacity():1;if(!(n&&(o===0||t.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=Ta(s,"labelX",r),h=Ta(s,"labelY",r),d,p,g=this.getLabelText(t,r);if(g!=null&&g!==""&&!isNaN(u)&&!isNaN(h)){this.setupTextStyle(e,t,n);var f=r?r+"-":"",m=Ta(s,"labelWidth",r),y=Ta(s,"labelHeight",r),b=t.pstyle(f+"text-margin-x").pfValue,v=t.pstyle(f+"text-margin-y").pfValue,x=t.isEdge(),w=t.pstyle("text-halign").value,k=t.pstyle("text-valign").value;x&&(w="center",k="center"),u+=b,h+=v;var T;switch(i?T=this.getTextAngle(t,r):T=0,T!==0&&(d=u,p=h,e.translate(d,p),e.rotate(T),u=0,h=0),k){case"top":break;case"center":h+=y/2;break;case"bottom":h+=y;break}var _=t.pstyle("text-background-opacity").value,C=t.pstyle("text-border-opacity").value,E=t.pstyle("text-border-width").pfValue,N=t.pstyle("text-background-padding").pfValue,M=t.pstyle("text-background-shape").strValue,I=M==="round-rectangle"||M==="roundrectangle",A=M==="circle",B=2;if(_>0||E>0&&C>0){var S=e.fillStyle,O=e.strokeStyle,R=e.lineWidth,P=t.pstyle("text-background-color").value,L=t.pstyle("text-border-color").value,$=t.pstyle("text-border-style").value,F=_>0,G=E>0&&C>0,q=u-N;switch(w){case"left":q-=m;break;case"center":q-=m/2;break}var V=h-y-N,H=m+2*N,ae=y+2*N;if(F&&(e.fillStyle="rgba(".concat(P[0],",").concat(P[1],",").concat(P[2],",").concat(_*o,")")),G&&(e.strokeStyle="rgba(".concat(L[0],",").concat(L[1],",").concat(L[2],",").concat(C*o,")"),e.lineWidth=E,e.setLineDash))switch($){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=E/4,e.setLineDash([]);break;case"solid":default:e.setLineDash([]);break}if(I?(e.beginPath(),dD(e,q,V,H,ae,B)):A?(e.beginPath(),J4e(e,q,V,H,ae)):(e.beginPath(),e.rect(q,V,H,ae)),F&&e.fill(),G&&e.stroke(),G&&$==="double"){var re=E/2;e.beginPath(),I?dD(e,q+re,V+re,H-2*re,ae-2*re,B):e.rect(q+re,V+re,H-2*re,ae-2*re),e.stroke()}e.fillStyle=S,e.strokeStyle=O,e.lineWidth=R,e.setLineDash&&e.setLineDash([])}var oe=2*t.pstyle("text-outline-width").pfValue;if(oe>0&&(e.lineWidth=oe),t.pstyle("text-wrap").value==="wrap"){var ue=Ta(s,"labelWrapCachedLines",r),W=Ta(s,"labelLineHeight",r),ee=m/2,X=this.getLabelJustification(t);switch(X==="auto"||(w==="left"?X==="left"?u+=-m:X==="center"&&(u+=-ee):w==="center"?X==="left"?u+=-ee:X==="right"&&(u+=ee):w==="right"&&(X==="center"?u+=ee:X==="right"&&(u+=m))),k){case"top":h-=(ue.length-1)*W;break;case"center":case"bottom":h-=(ue.length-1)*W;break}for(var Z=0;Z<ue.length;Z++)oe>0&&e.strokeText(ue[Z],u,h),e.fillText(ue[Z],u,h),h+=W}else oe>0&&e.strokeText(g,u,h),e.fillText(g,u,h);T!==0&&(e.rotate(-T),e.translate(-d,-p))}}},Nc={},Nc.drawNode=function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,u,h=t._private,d=h.rscratch,p=t.position();if(!(!yt(p.x)||!yt(p.y))&&!(a&&!t.visible())){var g=a?t.effectiveOpacity():1,f=s.usePaths(),m,y=!1,b=t.padding();o=t.width()+2*b,u=t.height()+2*b;var v;r&&(v=r,e.translate(-v.x1,-v.y1));for(var x=t.pstyle("background-image"),w=x.value,k=new Array(w.length),T=new Array(w.length),_=0,C=0;C<w.length;C++){var E=w[C],N=k[C]=E!=null&&E!=="none";if(N){var M=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",C);_++,T[C]=s.getCachedImage(E,M,function(){h.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var I=t.pstyle("background-blacken").value,A=t.pstyle("border-width").pfValue,B=t.pstyle("background-opacity").value*g,S=t.pstyle("border-color").value,O=t.pstyle("border-style").value,R=t.pstyle("border-join").value,P=t.pstyle("border-cap").value,L=t.pstyle("border-position").value,$=t.pstyle("border-dash-pattern").pfValue,F=t.pstyle("border-dash-offset").pfValue,G=t.pstyle("border-opacity").value*g,q=t.pstyle("outline-width").pfValue,V=t.pstyle("outline-color").value,H=t.pstyle("outline-style").value,ae=t.pstyle("outline-opacity").value*g,re=t.pstyle("outline-offset").value,oe=t.pstyle("corner-radius").value;oe!=="auto"&&(oe=t.pstyle("corner-radius").pfValue);var ue=l(function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:B;s.eleFillStyle(e,t,Q)},"setupShapeColor"),W=l(function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G;s.colorStrokeStyle(e,S[0],S[1],S[2],Q)},"setupBorderColor"),ee=l(function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ae;s.colorStrokeStyle(e,V[0],V[1],V[2],Q)},"setupOutlineColor"),X=l(function(Q,Me,z,te){var se=s.nodePathCache=s.nodePathCache||[],pe=eR(z==="polygon"?z+","+te.join(","):z,""+Me,""+Q,""+oe),fe=se[pe],we,Ce=!1;return fe!=null?(we=fe,Ce=!0,d.pathCache=we):(we=new Path2D,se[pe]=d.pathCache=we),{path:we,cacheHit:Ce}},"getPath"),Z=t.pstyle("shape").strValue,J=t.pstyle("shape-polygon-points").pfValue;if(f){e.translate(p.x,p.y);var he=X(o,u,Z,J);m=he.path,y=he.cacheHit}var K=l(function(){if(!y){var Q=p;f&&(Q={x:0,y:0}),s.nodeShapes[s.getNodeShape(t)].draw(m||e,Q.x,Q.y,o,u,oe,d)}f?e.fill(m):e.fill()},"drawShape"),me=l(function(){for(var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,z=h.backgrounding,te=0,se=0;se<T.length;se++){var pe=t.cy().style().getIndexedStyle(t,"background-image-containment","value",se);if(Me&&pe==="over"||!Me&&pe==="inside"){te++;continue}k[se]&&T[se].complete&&!T[se].error&&(te++,s.drawInscribedImage(e,T[se],t,se,Q))}h.backgrounding=te!==_,z!==h.backgrounding&&t.updateStyle(!1)},"drawImages"),Y=l(function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;s.hasPie(t)&&(s.drawPie(e,t,Me),Q&&(f||s.nodeShapes[s.getNodeShape(t)].draw(e,p.x,p.y,o,u,oe,d)))},"drawPie"),_e=l(function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;s.hasStripe(t)&&(e.save(),f?e.clip(d.pathCache):(s.nodeShapes[s.getNodeShape(t)].draw(e,p.x,p.y,o,u,oe,d),e.clip()),s.drawStripe(e,t,Me),e.restore(),Q&&(f||s.nodeShapes[s.getNodeShape(t)].draw(e,p.x,p.y,o,u,oe,d)))},"drawStripe"),ce=l(function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,Me=(I>0?I:-I)*Q,z=I>0?0:255;I!==0&&(s.colorFillStyle(e,z,z,z,Me),f?e.fill(m):e.fill())},"darken"),Ne=l(function(){if(A>0){if(e.lineWidth=A,e.lineCap=P,e.lineJoin=R,e.setLineDash)switch(O){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash($),e.lineDashOffset=F;break;case"solid":case"double":e.setLineDash([]);break}if(L!=="center"){if(e.save(),e.lineWidth*=2,L==="inside")f?e.clip(m):e.clip();else{var Q=new Path2D;Q.rect(-o/2-A,-u/2-A,o+2*A,u+2*A),Q.addPath(m),e.clip(Q,"evenodd")}f?e.stroke(m):e.stroke(),e.restore()}else f?e.stroke(m):e.stroke();if(O==="double"){e.lineWidth=A/3;var Me=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",f?e.stroke(m):e.stroke(),e.globalCompositeOperation=Me}e.setLineDash&&e.setLineDash([])}},"drawBorder"),Be=l(function(){if(q>0){if(e.lineWidth=q,e.lineCap="butt",e.setLineDash)switch(H){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var Q=p;f&&(Q={x:0,y:0});var Me=s.getNodeShape(t),z=A;L==="inside"&&(z=0),L==="outside"&&(z*=2);var te=(o+z+(q+re))/o,se=(u+z+(q+re))/u,pe=o*te,fe=u*se,we=s.nodeShapes[Me].points,Ce;if(f){var Te=X(pe,fe,Me,we);Ce=Te.path}if(Me==="ellipse")s.drawEllipsePath(Ce||e,Q.x,Q.y,pe,fe);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Me)){var ze=0,He=0,at=0;Me==="round-diamond"?ze=(z+re+q)*1.4:Me==="round-heptagon"?(ze=(z+re+q)*1.075,at=-(z/2+re+q)/35):Me==="round-hexagon"?ze=(z+re+q)*1.12:Me==="round-pentagon"?(ze=(z+re+q)*1.13,at=-(z/2+re+q)/15):Me==="round-tag"?(ze=(z+re+q)*1.12,He=(z/2+q+re)*.07):Me==="round-triangle"&&(ze=(z+re+q)*(Math.PI/2),at=-(z+re/2+q)/Math.PI),ze!==0&&(te=(o+ze)/o,pe=o*te,["round-hexagon","round-tag"].includes(Me)||(se=(u+ze)/u,fe=u*se)),oe=oe==="auto"?mR(pe,fe):oe;for(var $e=pe/2,Ye=fe/2,Ue=oe+(z+q+re)/2,Ge=new Array(we.length/2),Xe=new Array(we.length/2),kt=0;kt<we.length/2;kt++)Ge[kt]={x:Q.x+He+$e*we[kt*2],y:Q.y+at+Ye*we[kt*2+1]};var ct,ot,Et,tt,ht=Ge.length;for(ot=Ge[ht-1],ct=0;ct<ht;ct++)Et=Ge[ct%ht],tt=Ge[(ct+1)%ht],Xe[ct]=Dw(ot,Et,tt,Ue),ot=Et,Et=tt;s.drawRoundPolygonPath(Ce||e,Q.x+He,Q.y+at,o*te,u*se,we,Xe)}else if(["roundrectangle","round-rectangle"].includes(Me))oe=oe==="auto"?wc(pe,fe):oe,s.drawRoundRectanglePath(Ce||e,Q.x,Q.y,pe,fe,oe+(z+q+re)/2);else if(["cutrectangle","cut-rectangle"].includes(Me))oe=oe==="auto"?Zw():oe,s.drawCutRectanglePath(Ce||e,Q.x,Q.y,pe,fe,null,oe+(z+q+re)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(Me))oe=oe==="auto"?wc(pe,fe):oe,s.drawBottomRoundRectanglePath(Ce||e,Q.x,Q.y,pe,fe,oe+(z+q+re)/2);else if(Me==="barrel")s.drawBarrelPath(Ce||e,Q.x,Q.y,pe,fe);else if(Me.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Me)){var ft=(z+q+re)/o;we=lv(cv(we,ft)),s.drawPolygonPath(Ce||e,Q.x,Q.y,o,u,we)}else{var Qe=(z+q+re)/o;we=lv(cv(we,-Qe)),s.drawPolygonPath(Ce||e,Q.x,Q.y,o,u,we)}if(f?e.stroke(Ce):e.stroke(),H==="double"){e.lineWidth=z/3;var Ze=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",f?e.stroke(Ce):e.stroke(),e.globalCompositeOperation=Ze}e.setLineDash&&e.setLineDash([])}},"drawOutline"),je=l(function(){n&&s.drawNodeOverlay(e,t,p,o,u)},"drawOverlay"),qe=l(function(){n&&s.drawNodeUnderlay(e,t,p,o,u)},"drawUnderlay"),Se=l(function(){s.drawElementText(e,t,null,i)},"drawText"),Re=t.pstyle("ghost").value==="yes";if(Re){var ve=t.pstyle("ghost-offset-x").pfValue,Fe=t.pstyle("ghost-offset-y").pfValue,de=t.pstyle("ghost-opacity").value,Ve=de*g;e.translate(ve,Fe),ee(),Be(),ue(de*B),K(),me(Ve,!0),W(de*G),Ne(),Y(I!==0||A!==0),_e(I!==0||A!==0),me(Ve,!1),ce(Ve),e.translate(-ve,-Fe)}f&&e.translate(-p.x,-p.y),qe(),f&&e.translate(p.x,p.y),ee(),Be(),ue(),K(),me(g,!0),W(),Ne(),Y(I!==0||A!==0),_e(I!==0||A!==0),me(g,!1),ce(),f&&e.translate(-p.x,-p.y),Se(),je(),r&&e.translate(v.x1,v.y1)}},UP=l(function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r,i,n,a){var s=this;if(r.visible()){var o=r.pstyle("".concat(e,"-padding")).pfValue,u=r.pstyle("".concat(e,"-opacity")).value,h=r.pstyle("".concat(e,"-color")).value,d=r.pstyle("".concat(e,"-shape")).value,p=r.pstyle("".concat(e,"-corner-radius")).value;if(u>0){if(i=i||r.position(),n==null||a==null){var g=r.padding();n=r.width()+2*g,a=r.height()+2*g}s.colorFillStyle(t,h[0],h[1],h[2],u),s.nodeShapes[d].draw(t,i.x,i.y,n+o*2,a+o*2,p),t.fill()}}}},"drawNodeOverlayUnderlay"),Nc.drawNodeOverlay=UP("overlay"),Nc.drawNodeUnderlay=UP("underlay"),Nc.hasPie=function(e){return e=e[0],e._private.hasPie},Nc.hasStripe=function(e){return e=e[0],e._private.hasStripe},Nc.drawPie=function(e,t,r,i){t=t[0],i=i||t.position();var n=t.cy().style(),a=t.pstyle("pie-size"),s=t.pstyle("pie-hole"),o=t.pstyle("pie-start-angle").pfValue,u=i.x,h=i.y,d=t.width(),p=t.height(),g=Math.min(d,p)/2,f,m=0,y=this.usePaths();if(y&&(u=0,h=0),a.units==="%"?g=g*a.pfValue:a.pfValue!==void 0&&(g=a.pfValue/2),s.units==="%"?f=g*s.pfValue:s.pfValue!==void 0&&(f=s.pfValue/2),!(f>=g))for(var b=1;b<=n.pieBackgroundN;b++){var v=t.pstyle("pie-"+b+"-background-size").value,x=t.pstyle("pie-"+b+"-background-color").value,w=t.pstyle("pie-"+b+"-background-opacity").value*r,k=v/100;k+m>1&&(k=1-m);var T=1.5*Math.PI+2*Math.PI*m;T+=o;var _=2*Math.PI*k,C=T+_;v===0||m>=1||m+k>1||(f===0?(e.beginPath(),e.moveTo(u,h),e.arc(u,h,g,T,C),e.closePath()):(e.beginPath(),e.arc(u,h,g,T,C),e.arc(u,h,f,C,T,!0),e.closePath()),this.colorFillStyle(e,x[0],x[1],x[2],w),e.fill(),m+=k)}},Nc.drawStripe=function(e,t,r,i){t=t[0],i=i||t.position();var n=t.cy().style(),a=i.x,s=i.y,o=t.width(),u=t.height(),h=0,d=this.usePaths();e.save();var p=t.pstyle("stripe-direction").value,g=t.pstyle("stripe-size");switch(p){case"vertical":break;case"righward":e.rotate(-Math.PI/2);break}var f=o,m=u;g.units==="%"?(f=f*g.pfValue,m=m*g.pfValue):g.pfValue!==void 0&&(f=g.pfValue,m=g.pfValue),d&&(a=0,s=0),s-=f/2,a-=m/2;for(var y=1;y<=n.stripeBackgroundN;y++){var b=t.pstyle("stripe-"+y+"-background-size").value,v=t.pstyle("stripe-"+y+"-background-color").value,x=t.pstyle("stripe-"+y+"-background-opacity").value*r,w=b/100;w+h>1&&(w=1-h),!(b===0||h>=1||h+w>1)&&(e.beginPath(),e.rect(a,s+m*h,f,m*w),e.closePath(),this.colorFillStyle(e,v[0],v[1],v[2],x),e.fill(),h+=w)}e.restore()},ra={},y7e=100,ra.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r},ra.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],r=!0,i,n=0;n<t.length;n++)if(i=t[n],i.context===e){r=!1;break}return r&&(i={context:e},t.push(i)),i},ra.createGradientStyleFor=function(e,t,r,i,n){var a,s=this.usePaths(),o=r.pstyle(t+"-gradient-stop-colors").value,u=r.pstyle(t+"-gradient-stop-positions").pfValue;if(i==="radial-gradient")if(r.isEdge()){var h=r.sourceEndpoint(),d=r.targetEndpoint(),p=r.midpoint(),g=Zu(h,p),f=Zu(d,p);a=e.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(g,f))}else{var m=s?{x:0,y:0}:r.position(),y=r.paddedWidth(),b=r.paddedHeight();a=e.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(y,b))}else if(r.isEdge()){var v=r.sourceEndpoint(),x=r.targetEndpoint();a=e.createLinearGradient(v.x,v.y,x.x,x.y)}else{var w=s?{x:0,y:0}:r.position(),k=r.paddedWidth(),T=r.paddedHeight(),_=k/2,C=T/2,E=r.pstyle("background-gradient-direction").value;switch(E){case"to-bottom":a=e.createLinearGradient(w.x,w.y-C,w.x,w.y+C);break;case"to-top":a=e.createLinearGradient(w.x,w.y+C,w.x,w.y-C);break;case"to-left":a=e.createLinearGradient(w.x+_,w.y,w.x-_,w.y);break;case"to-right":a=e.createLinearGradient(w.x-_,w.y,w.x+_,w.y);break;case"to-bottom-right":case"to-right-bottom":a=e.createLinearGradient(w.x-_,w.y-C,w.x+_,w.y+C);break;case"to-top-right":case"to-right-top":a=e.createLinearGradient(w.x-_,w.y+C,w.x+_,w.y-C);break;case"to-bottom-left":case"to-left-bottom":a=e.createLinearGradient(w.x+_,w.y-C,w.x-_,w.y+C);break;case"to-top-left":case"to-left-top":a=e.createLinearGradient(w.x+_,w.y+C,w.x-_,w.y-C);break}}if(!a)return null;for(var N=u.length===o.length,M=o.length,I=0;I<M;I++)a.addColorStop(N?u[I]:I/(M-1),"rgba("+o[I][0]+","+o[I][1]+","+o[I][2]+","+n+")");return a},ra.gradientFillStyle=function(e,t,r,i){var n=this.createGradientStyleFor(e,"background",t,r,i);if(!n)return null;e.fillStyle=n},ra.colorFillStyle=function(e,t,r,i,n){e.fillStyle="rgba("+t+","+r+","+i+","+n+")"},ra.eleFillStyle=function(e,t,r){var i=t.pstyle("background-fill").value;if(i==="linear-gradient"||i==="radial-gradient")this.gradientFillStyle(e,t,i,r);else{var n=t.pstyle("background-color").value;this.colorFillStyle(e,n[0],n[1],n[2],r)}},ra.gradientStrokeStyle=function(e,t,r,i){var n=this.createGradientStyleFor(e,"line",t,r,i);if(!n)return null;e.strokeStyle=n},ra.colorStrokeStyle=function(e,t,r,i,n){e.strokeStyle="rgba("+t+","+r+","+i+","+n+")"},ra.eleStrokeStyle=function(e,t,r){var i=t.pstyle("line-fill").value;if(i==="linear-gradient"||i==="radial-gradient")this.gradientStrokeStyle(e,t,i,r);else{var n=t.pstyle("line-color").value;this.colorStrokeStyle(e,n[0],n[1],n[2],r)}},ra.matchCanvasSize=function(e){var t=this,r=t.data,i=t.findContainerClientCoords(),n=i[2],a=i[3],s=t.getPixelRatio(),o=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var u=n*s,h=a*s,d;if(!(u===t.canvasWidth&&h===t.canvasHeight)){t.fontCaches=null;var p=r.canvasContainer;p.style.width=n+"px",p.style.height=a+"px";for(var g=0;g<t.CANVAS_LAYERS;g++)d=r.canvases[g],d.width=u,d.height=h,d.style.width=n+"px",d.style.height=a+"px";for(var g=0;g<t.BUFFER_COUNT;g++)d=r.bufferCanvases[g],d.width=u,d.height=h,d.style.width=n+"px",d.style.height=a+"px";t.textureMult=1,s<=1&&(d=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,d.width=u*t.textureMult,d.height=h*t.textureMult),t.canvasWidth=u,t.canvasHeight=h,t.pixelRatio=s}},ra.renderTo=function(e,t,r,i){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:i})},ra.clearCanvas=function(){var e=this,t=e.data;function r(i){i.clearRect(0,0,e.canvasWidth,e.canvasHeight)}l(r,"clear"),r(t.contexts[e.NODE]),r(t.contexts[e.DRAG])},ra.render=function(e){var t=this;e=e||sR();var r=t.cy,i=e.forcedContext,n=e.drawAllLayers,a=e.drawOnlyNodeLayer,s=e.forcedZoom,o=e.forcedPan,u=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,h=t.data,d=h.canvasNeedsRedraw,p=t.textureOnViewport&&!i&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),g=e.motionBlur!==void 0?e.motionBlur:t.motionBlur,f=t.motionBlurPxRatio,m=r.hasCompoundNodes(),y=t.hoverData.draggingEles,b=!!(t.hoverData.selecting||t.touchData.selecting);g=g&&!i&&t.motionBlurEnabled&&!b;var v=g;i||(t.prevPxRatio!==u&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=u),!i&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),g&&(t.mbFrames==null&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(v=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!p&&(d[t.NODE]=!0,d[t.SELECT_BOX]=!0);var x=r.style(),w=r.zoom(),k=s!==void 0?s:w,T=r.pan(),_={x:T.x,y:T.y},C={zoom:w,pan:{x:T.x,y:T.y}},E=t.prevViewport,N=E===void 0||C.zoom!==E.zoom||C.pan.x!==E.pan.x||C.pan.y!==E.pan.y;!N&&!(y&&!m)&&(t.motionBlurPxRatio=1),o&&(_=o),k*=u,_.x*=u,_.y*=u;var M=t.getCachedZSortedEles();function I(W,ee,X,Z,J){var he=W.globalCompositeOperation;W.globalCompositeOperation="destination-out",t.colorFillStyle(W,255,255,255,t.motionBlurTransparency),W.fillRect(ee,X,Z,J),W.globalCompositeOperation=he}l(I,"mbclear");function A(W,ee){var X,Z,J,he;!t.clearingMotionBlur&&(W===h.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]||W===h.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG])?(X={x:T.x*f,y:T.y*f},Z=w*f,J=t.canvasWidth*f,he=t.canvasHeight*f):(X=_,Z=k,J=t.canvasWidth,he=t.canvasHeight),W.setTransform(1,0,0,1,0,0),ee==="motionBlur"?I(W,0,0,J,he):!i&&(ee===void 0||ee)&&W.clearRect(0,0,J,he),n||(W.translate(X.x,X.y),W.scale(Z,Z)),o&&W.translate(o.x,o.y),s&&W.scale(s,s)}if(l(A,"setContextTransform"),p||(t.textureDrawLastFrame=!1),p){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=r.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var B=t.data.bufferContexts[t.TEXTURE_BUFFER];B.setTransform(1,0,0,1,0,0),B.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:B,drawOnlyNodeLayer:!0,forcedPxRatio:u*t.textureMult});var C=t.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:t.canvasWidth,height:t.canvasHeight};C.mpan={x:(0-C.pan.x)/C.zoom,y:(0-C.pan.y)/C.zoom}}d[t.DRAG]=!1,d[t.NODE]=!1;var S=h.contexts[t.NODE],O=t.textureCache.texture,C=t.textureCache.viewport;S.setTransform(1,0,0,1,0,0),g?I(S,0,0,C.width,C.height):S.clearRect(0,0,C.width,C.height);var R=x.core("outside-texture-bg-color").value,P=x.core("outside-texture-bg-opacity").value;t.colorFillStyle(S,R[0],R[1],R[2],P),S.fillRect(0,0,C.width,C.height);var w=r.zoom();A(S,!1),S.clearRect(C.mpan.x,C.mpan.y,C.width/C.zoom/u,C.height/C.zoom/u),S.drawImage(O,C.mpan.x,C.mpan.y,C.width/C.zoom/u,C.height/C.zoom/u)}else t.textureOnViewport&&!i&&(t.textureCache=null);var L=r.extent(),$=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),F=t.hideEdgesOnViewport&&$,G=[];if(G[t.NODE]=!d[t.NODE]&&g&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,G[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),G[t.DRAG]=!d[t.DRAG]&&g&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,G[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),d[t.NODE]||n||a||G[t.NODE]){var q=g&&!G[t.NODE]&&f!==1,S=i||(q?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:h.contexts[t.NODE]),V=g&&!q?"motionBlur":void 0;A(S,V),F?t.drawCachedNodes(S,M.nondrag,u,L):t.drawLayeredElements(S,M.nondrag,u,L),t.debug&&t.drawDebugPoints(S,M.nondrag),!n&&!g&&(d[t.NODE]=!1)}if(!a&&(d[t.DRAG]||n||G[t.DRAG])){var q=g&&!G[t.DRAG]&&f!==1,S=i||(q?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:h.contexts[t.DRAG]);A(S,g&&!q?"motionBlur":void 0),F?t.drawCachedNodes(S,M.drag,u,L):t.drawCachedElements(S,M.drag,u,L),t.debug&&t.drawDebugPoints(S,M.drag),!n&&!g&&(d[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,A),g&&f!==1){var H=h.contexts[t.NODE],ae=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],re=h.contexts[t.DRAG],oe=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],ue=l(function(W,ee,X){W.setTransform(1,0,0,1,0,0),X||!v?W.clearRect(0,0,t.canvasWidth,t.canvasHeight):I(W,0,0,t.canvasWidth,t.canvasHeight);var Z=f;W.drawImage(ee,0,0,t.canvasWidth*Z,t.canvasHeight*Z,0,0,t.canvasWidth,t.canvasHeight)},"drawMotionBlur");(d[t.NODE]||G[t.NODE])&&(ue(H,ae,G[t.NODE]),d[t.NODE]=!1),(d[t.DRAG]||G[t.DRAG])&&(ue(re,oe,G[t.DRAG]),d[t.DRAG]=!1)}t.prevViewport=C,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),g&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!p,t.mbFrames=0,d[t.NODE]=!0,d[t.DRAG]=!0,t.redraw()},y7e)),i||r.emit("render")},ra.drawSelectionRectangle=function(e,t){var r=this,i=r.cy,n=r.data,a=i.style(),s=e.drawOnlyNodeLayer,o=e.drawAllLayers,u=n.canvasNeedsRedraw,h=e.forcedContext;if(r.showFps||!s&&u[r.SELECT_BOX]&&!o){var d=h||n.contexts[r.SELECT_BOX];if(t(d),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var p=r.cy.zoom(),g=a.core("selection-box-border-width").value/p;d.lineWidth=g,d.fillStyle="rgba("+a.core("selection-box-color").value[0]+","+a.core("selection-box-color").value[1]+","+a.core("selection-box-color").value[2]+","+a.core("selection-box-opacity").value+")",d.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),g>0&&(d.strokeStyle="rgba("+a.core("selection-box-border-color").value[0]+","+a.core("selection-box-border-color").value[1]+","+a.core("selection-box-border-color").value[2]+","+a.core("selection-box-opacity").value+")",d.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(n.bgActivePosistion&&!r.hoverData.selecting){var p=r.cy.zoom(),f=n.bgActivePosistion;d.fillStyle="rgba("+a.core("active-bg-color").value[0]+","+a.core("active-bg-color").value[1]+","+a.core("active-bg-color").value[2]+","+a.core("active-bg-opacity").value+")",d.beginPath(),d.arc(f.x,f.y,a.core("active-bg-size").pfValue/p,0,2*Math.PI),d.fill()}var m=r.lastRedrawTime;if(r.showFps&&m){m=Math.round(m);var y=Math.round(1e3/m),b="1 frame = "+m+" ms = "+y+" fps";if(d.setTransform(1,0,0,1,0,0),d.fillStyle="rgba(255, 0, 0, 0.75)",d.strokeStyle="rgba(255, 0, 0, 0.75)",d.font="30px Arial",!Bv){var v=d.measureText(b);Bv=v.actualBoundingBoxAscent}d.fillText(b,0,Bv);var x=60;d.strokeRect(0,Bv+10,250,20),d.fillRect(0,Bv+10,250*Math.min(y/x,1),20)}o||(u[r.SELECT_BOX]=!1)}},l(pD,"compileShader"),l(e3e,"createProgram"),l(t3e,"createTextureCanvas"),l(Rw,"getEffectivePanZoom"),l(r3e,"getEffectiveZoom"),l(i3e,"modelToRenderedPosition"),l(n3e,"isSimpleShape"),l(a3e,"arrayEqual"),l(Wu,"toWebGLColor"),l(Ad,"indexToVec4"),l(s3e,"vec4ToIndex"),l(o3e,"createTexture"),l(gD,"getTypeInfo"),l(fD,"createTypedArray"),l(l3e,"createTypedArrayView"),l(c3e,"createBufferStaticDraw"),l(yo,"createBufferDynamicDraw"),l(u3e,"create3x3MatrixBufferDynamicDraw"),l(h3e,"createPickingFrameBuffer"),qP=typeof Float32Array<"u"?Float32Array:Array,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),l(Ow,"create"),l(mD,"identity"),l(d3e,"multiply"),l(K2,"translate"),l(yD,"rotate"),l(Pw,"scale"),l(p3e,"projection"),v7e=function(){function e(t,r,i,n){pc(this,e),this.debugID=Math.floor(Math.random()*1e4),this.r=t,this.texSize=r,this.texRows=i,this.texHeight=Math.floor(r/i),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=n(t,r,r),this.scratch=n(t,r,this.texHeight,"scratch")}return l(e,"Atlas"),gc(e,[{key:"lock",value:l(function(){this.locked=!0},"lock")},{key:"getKeys",value:l(function(){return new Set(this.keyToLocation.keys())},"getKeys")},{key:"getScale",value:l(function(t){var r=t.w,i=t.h,n=this.texHeight,a=this.texSize,s=n/i,o=r*s,u=i*s;return o>a&&(s=a/r,o=r*s,u=i*s),{scale:s,texW:o,texH:u}},"getScale")},{key:"draw",value:l(function(t,r,i){var n=this;if(this.locked)throw new Error("can't draw, atlas is locked");var a=this.texSize,s=this.texRows,o=this.texHeight,u=this.getScale(r),h=u.scale,d=u.texW,p=u.texH,g=l(function(v,x){if(i&&x){var w=x.context,k=v.x,T=v.row,_=k,C=o*T;w.save(),w.translate(_,C),w.scale(h,h),i(w,r),w.restore()}},"drawAt"),f=[null,null],m=l(function(){g(n.freePointer,n.canvas),f[0]={x:n.freePointer.x,y:n.freePointer.row*o,w:d,h:p},f[1]={x:n.freePointer.x+d,y:n.freePointer.row*o,w:0,h:p},n.freePointer.x+=d,n.freePointer.x==a&&(n.freePointer.x=0,n.freePointer.row++)},"drawNormal"),y=l(function(){var v=n.scratch,x=n.canvas;v.clear(),g({x:0,row:0},v);var w=a-n.freePointer.x,k=d-w,T=o;{var _=n.freePointer.x,C=n.freePointer.row*o,E=w;x.context.drawImage(v,0,0,E,T,_,C,E,T),f[0]={x:_,y:C,w:E,h:p}}{var N=w,M=(n.freePointer.row+1)*o,I=k;x&&x.context.drawImage(v,N,0,I,T,0,M,I,T),f[1]={x:0,y:M,w:I,h:p}}n.freePointer.x=k,n.freePointer.row++},"drawWrapped"),b=l(function(){n.freePointer.x=0,n.freePointer.row++},"moveToStartOfNextRow");if(this.freePointer.x+d<=a)m();else{if(this.freePointer.row>=s-1)return!1;this.freePointer.x===a?(b(),m()):this.enableWrapping?y():(b(),m())}return this.keyToLocation.set(t,f),this.needsBuffer=!0,f},"draw")},{key:"getOffsets",value:l(function(t){return this.keyToLocation.get(t)},"getOffsets")},{key:"isEmpty",value:l(function(){return this.freePointer.x===0&&this.freePointer.row===0},"isEmpty")},{key:"canFit",value:l(function(t){if(this.locked)return!1;var r=this.texSize,i=this.texRows,n=this.getScale(t),a=n.texW;return this.freePointer.x+a>r?this.freePointer.row<i-1:!0},"canFit")},{key:"bufferIfNeeded",value:l(function(t){this.texture||(this.texture=o3e(t,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))},"bufferIfNeeded")},{key:"dispose",value:l(function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0},"dispose")}])}(),b7e=function(){function e(t,r,i,n){pc(this,e),this.r=t,this.texSize=r,this.texRows=i,this.createTextureCanvas=n,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return l(e,"AtlasCollection"),gc(e,[{key:"getKeys",value:l(function(){return new Set(this.styleKeyToAtlas.keys())},"getKeys")},{key:"_createAtlas",value:l(function(){var t=this.r,r=this.texSize,i=this.texRows,n=this.createTextureCanvas;return new v7e(t,r,i,n)},"_createAtlas")},{key:"_getScratchCanvas",value:l(function(){if(!this.scratch){var t=this.r,r=this.texSize,i=this.texRows,n=this.createTextureCanvas,a=Math.floor(r/i);this.scratch=n(t,r,a,"scratch")}return this.scratch},"_getScratchCanvas")},{key:"draw",value:l(function(t,r,i){var n=this.styleKeyToAtlas.get(t);return n||(n=this.atlases[this.atlases.length-1],(!n||!n.canFit(r))&&(n&&n.lock(),n=this._createAtlas(),this.atlases.push(n)),n.draw(t,r,i),this.styleKeyToAtlas.set(t,n)),n},"draw")},{key:"getAtlas",value:l(function(t){return this.styleKeyToAtlas.get(t)},"getAtlas")},{key:"hasAtlas",value:l(function(t){return this.styleKeyToAtlas.has(t)},"hasAtlas")},{key:"markKeyForGC",value:l(function(t){this.markedKeys.add(t)},"markKeyForGC")},{key:"gc",value:l(function(){var t=this,r=this.markedKeys;if(r.size===0){console.log("nothing to garbage collect");return}var i=[],n=new Map,a=null,s=ka(this.atlases),o;try{var u=l(function(){var h=o.value,d=h.getKeys(),p=g3e(r,d);if(p.size===0)return i.push(h),d.forEach(function(w){return n.set(w,h)}),1;a||(a=t._createAtlas(),i.push(a));var g=ka(d),f;try{for(g.s();!(f=g.n()).done;){var m=f.value;if(!p.has(m)){var y=h.getOffsets(m),b=Pi(y,2),v=b[0],x=b[1];a.canFit({w:v.w+x.w,h:v.h})||(a.lock(),a=t._createAtlas(),i.push(a)),h.canvas&&(t._copyTextureToNewAtlas(m,h,a),n.set(m,a))}}}catch(w){g.e(w)}finally{g.f()}h.dispose()},"_loop");for(s.s();!(o=s.n()).done;)u()}catch(h){s.e(h)}finally{s.f()}this.atlases=i,this.styleKeyToAtlas=n,this.markedKeys=new Set},"gc")},{key:"_copyTextureToNewAtlas",value:l(function(t,r,i){var n=r.getOffsets(t),a=Pi(n,2),s=a[0],o=a[1];if(o.w===0)i.draw(t,s,function(p){p.drawImage(r.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h)});else{var u=this._getScratchCanvas();u.clear(),u.context.drawImage(r.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h),u.context.drawImage(r.canvas,o.x,o.y,o.w,o.h,s.w,0,o.w,o.h);var h=s.w+o.w,d=s.h;i.draw(t,{w:h,h:d},function(p){p.drawImage(u,0,0,h,d,0,0,h,d)})}},"_copyTextureToNewAtlas")},{key:"getCounts",value:l(function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}},"getCounts")}])}(),l(g3e,"intersection"),x7e=function(){function e(t,r){pc(this,e),this.r=t,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return l(e,"AtlasManager"),gc(e,[{key:"getAtlasSize",value:l(function(){return this.atlasSize},"getAtlasSize")},{key:"addAtlasCollection",value:l(function(t,r){var i=this.globalOptions,n=i.webglTexSize,a=i.createTextureCanvas,s=r.texRows,o=this._cacheScratchCanvas(a),u=new b7e(this.r,n,s,o);this.collections.set(t,u)},"addAtlasCollection")},{key:"addRenderType",value:l(function(t,r){var i=r.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var n=this.collections.get(i),a=Qt({type:t,atlasCollection:n},r);this.renderTypes.set(t,a)},"addRenderType")},{key:"getRenderTypeOpts",value:l(function(t){return this.renderTypes.get(t)},"getRenderTypeOpts")},{key:"getAtlasCollection",value:l(function(t){return this.collections.get(t)},"getAtlasCollection")},{key:"_cacheScratchCanvas",value:l(function(t){var r=-1,i=-1,n=null;return function(a,s,o,u){return u?((!n||s!=r||o!=i)&&(r=s,i=o,n=t(a,s,o)),n):t(a,s,o)}},"_cacheScratchCanvas")},{key:"_key",value:l(function(t,r){return"".concat(t,"-").concat(r)},"_key")},{key:"invalidate",value:l(function(t){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=i.forceRedraw,a=n===void 0?!1:n,s=i.filterEle,o=s===void 0?function(){return!0}:s,u=i.filterType,h=u===void 0?function(){return!0}:u,d=!1,p=!1,g=ka(t),f;try{for(g.s();!(f=g.n()).done;){var m=f.value;if(o(m)){var y=ka(this.renderTypes.values()),b;try{var v=l(function(){var x=b.value,w=x.type;if(h(w)){var k=r.collections.get(x.collection),T=x.getKey(m),_=Array.isArray(T)?T:[T];if(a)_.forEach(function(M){return k.markKeyForGC(M)}),p=!0;else{var C=x.getID?x.getID(m):m.id(),E=r._key(w,C),N=r.typeAndIdToKey.get(E);N!==void 0&&!a3e(_,N)&&(d=!0,r.typeAndIdToKey.delete(E),N.forEach(function(M){return k.markKeyForGC(M)}))}}},"_loop2");for(y.s();!(b=y.n()).done;)v()}catch(x){y.e(x)}finally{y.f()}}}}catch(x){g.e(x)}finally{g.f()}return p&&(this.gc(),d=!1),d},"invalidate")},{key:"gc",value:l(function(){var t=ka(this.collections.values()),r;try{for(t.s();!(r=t.n()).done;){var i=r.value;i.gc()}}catch(n){t.e(n)}finally{t.f()}},"gc")},{key:"getOrCreateAtlas",value:l(function(t,r,i,n){var a=this.renderTypes.get(r),s=this.collections.get(a.collection),o=!1,u=s.draw(n,i,function(p){a.drawClipped?(p.save(),p.beginPath(),p.rect(0,0,i.w,i.h),p.clip(),a.drawElement(p,t,i,!0,!0),p.restore()):a.drawElement(p,t,i,!0,!0),o=!0});if(o){var h=a.getID?a.getID(t):t.id(),d=this._key(r,h);this.typeAndIdToKey.has(d)?this.typeAndIdToKey.get(d).push(n):this.typeAndIdToKey.set(d,[n])}return u},"getOrCreateAtlas")},{key:"getAtlasInfo",value:l(function(t,r){var i=this,n=this.renderTypes.get(r),a=n.getKey(t),s=Array.isArray(a)?a:[a];return s.map(function(o){var u=n.getBoundingBox(t,o),h=i.getOrCreateAtlas(t,r,u,o),d=h.getOffsets(o),p=Pi(d,2),g=p[0],f=p[1];return{atlas:h,tex:g,tex1:g,tex2:f,bb:u}})},"getAtlasInfo")},{key:"getDebugInfo",value:l(function(){var t=[],r=ka(this.collections),i;try{for(r.s();!(i=r.n()).done;){var n=Pi(i.value,2),a=n[0],s=n[1],o=s.getCounts(),u=o.keyCount,h=o.atlasCount;t.push({type:a,keyCount:u,atlasCount:h})}}catch(d){r.e(d)}finally{r.f()}return t},"getDebugInfo")}])}(),w7e=function(){function e(t){pc(this,e),this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[]}return l(e,"AtlasBatchManager"),gc(e,[{key:"getMaxAtlasesPerBatch",value:l(function(){return this.maxAtlasesPerBatch},"getMaxAtlasesPerBatch")},{key:"getAtlasSize",value:l(function(){return this.atlasSize},"getAtlasSize")},{key:"getIndexArray",value:l(function(){return Array.from({length:this.maxAtlasesPerBatch},function(t,r){return r})},"getIndexArray")},{key:"startBatch",value:l(function(){this.batchAtlases=[]},"startBatch")},{key:"getAtlasCount",value:l(function(){return this.batchAtlases.length},"getAtlasCount")},{key:"getAtlases",value:l(function(){return this.batchAtlases},"getAtlases")},{key:"canAddToCurrentBatch",value:l(function(t){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(t):!0},"canAddToCurrentBatch")},{key:"getAtlasIndexForBatch",value:l(function(t){var r=this.batchAtlases.indexOf(t);if(r<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(t),r=this.batchAtlases.length-1}return r},"getAtlasIndexForBatch")}])}(),k7e=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,T7e=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,E7e=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,C7e=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,A1={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},$v={IGNORE:1,USE_BB:2},wk=0,jP=1,HP=2,kk=3,Xd=4,Fv=5,L1=6,N1=7,S7e=function(){function e(t,r,i){pc(this,e),this.r=t,this.gl=r,this.maxInstances=i.webglBatchSize,this.atlasSize=i.webglTexSize,this.bgColor=i.bgColor,this.debug=i.webglDebug,this.batchDebugInfo=[],i.enableWrapping=!0,i.createTextureCanvas=t3e,this.atlasManager=new x7e(t,i),this.batchManager=new w7e(i),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(A1.SCREEN),this.pickingProgram=this._createShaderProgram(A1.PICKING),this.vao=this._createVAO()}return l(e,"ElementDrawingWebGL"),gc(e,[{key:"addAtlasCollection",value:l(function(t,r){this.atlasManager.addAtlasCollection(t,r)},"addAtlasCollection")},{key:"addTextureAtlasRenderType",value:l(function(t,r){this.atlasManager.addRenderType(t,r)},"addTextureAtlasRenderType")},{key:"addSimpleShapeRenderType",value:l(function(t,r){this.simpleShapeOptions.set(t,r)},"addSimpleShapeRenderType")},{key:"invalidate",value:l(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.type,n=this.atlasManager;return i?n.invalidate(t,{filterType:l(function(a){return a===i},"filterType"),forceRedraw:!0}):n.invalidate(t)},"invalidate")},{key:"gc",value:l(function(){this.atlasManager.gc()},"gc")},{key:"_createShaderProgram",value:l(function(t){var r=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(wk,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Xd," || aVertType == ").concat(N1,` 
             || aVertType == `).concat(Fv," || aVertType == ").concat(L1,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(jP,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(HP,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(kk,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),n=this.batchManager.getIndexArray(),a=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(n.map(function(u){return"uniform sampler2D uTexture".concat(u,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(k7e,`
      `).concat(T7e,`
      `).concat(E7e,`
      `).concat(C7e,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(wk,`) {
          // look up the texel from the texture unit
          `).concat(n.map(function(u){return"if(vAtlasId == ".concat(u,") outColor = texture(uTexture").concat(u,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(kk,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(Xd,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(Xd," || vVertType == ").concat(N1,` 
          || vVertType == `).concat(Fv," || vVertType == ").concat(L1,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(Xd,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(N1,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(N1,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(t.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),s=e3e(r,i,a);s.aPosition=r.getAttribLocation(s,"aPosition"),s.aIndex=r.getAttribLocation(s,"aIndex"),s.aVertType=r.getAttribLocation(s,"aVertType"),s.aTransform=r.getAttribLocation(s,"aTransform"),s.aAtlasId=r.getAttribLocation(s,"aAtlasId"),s.aTex=r.getAttribLocation(s,"aTex"),s.aPointAPointB=r.getAttribLocation(s,"aPointAPointB"),s.aPointCPointD=r.getAttribLocation(s,"aPointCPointD"),s.aLineWidth=r.getAttribLocation(s,"aLineWidth"),s.aColor=r.getAttribLocation(s,"aColor"),s.aCornerRadius=r.getAttribLocation(s,"aCornerRadius"),s.aBorderColor=r.getAttribLocation(s,"aBorderColor"),s.uPanZoomMatrix=r.getUniformLocation(s,"uPanZoomMatrix"),s.uAtlasSize=r.getUniformLocation(s,"uAtlasSize"),s.uBGColor=r.getUniformLocation(s,"uBGColor"),s.uZoom=r.getUniformLocation(s,"uZoom"),s.uTextures=[];for(var o=0;o<this.batchManager.getMaxAtlasesPerBatch();o++)s.uTextures.push(r.getUniformLocation(s,"uTexture".concat(o)));return s},"_createShaderProgram")},{key:"_createVAO",value:l(function(){var t=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=t.length/2;var r=this.maxInstances,i=this.gl,n=this.program,a=i.createVertexArray();return i.bindVertexArray(a),c3e(i,"vec2",n.aPosition,t),this.transformBuffer=u3e(i,r,n.aTransform),this.indexBuffer=yo(i,r,"vec4",n.aIndex),this.vertTypeBuffer=yo(i,r,"int",n.aVertType),this.atlasIdBuffer=yo(i,r,"int",n.aAtlasId),this.texBuffer=yo(i,r,"vec4",n.aTex),this.pointAPointBBuffer=yo(i,r,"vec4",n.aPointAPointB),this.pointCPointDBuffer=yo(i,r,"vec4",n.aPointCPointD),this.lineWidthBuffer=yo(i,r,"vec2",n.aLineWidth),this.colorBuffer=yo(i,r,"vec4",n.aColor),this.cornerRadiusBuffer=yo(i,r,"vec4",n.aCornerRadius),this.borderColorBuffer=yo(i,r,"vec4",n.aBorderColor),i.bindVertexArray(null),a},"_createVAO")},{key:"buffers",get:l(function(){var t=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(r){return mc(r,"Buffer")}).map(function(r){return t[r]})),this._buffers},"get")},{key:"startFrame",value:l(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A1.SCREEN;this.panZoomMatrix=t,this.renderTarget=r,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()},"startFrame")},{key:"startBatch",value:l(function(){this.instanceCount=0,this.batchManager.startBatch()},"startBatch")},{key:"endFrame",value:l(function(){this.endBatch()},"endFrame")},{key:"_isVisible",value:l(function(t,r){return t.visible()?r&&r.isVisible?r.isVisible(t):!0:!1},"_isVisible")},{key:"drawTexture",value:l(function(t,r,i){var n=this.atlasManager,a=this.batchManager,s=n.getRenderTypeOpts(i);if(this._isVisible(t,s)&&!(t.isEdge()&&!this._isValidEdge(t))){if(this.renderTarget.picking&&s.getTexPickingMode){var o=s.getTexPickingMode(t);if(o===$v.IGNORE)return;if(o==$v.USE_BB){this.drawPickingRectangle(t,r,i);return}}var u=n.getAtlasInfo(t,i),h=ka(u),d;try{for(h.s();!(d=h.n()).done;){var p=d.value,g=p.atlas,f=p.tex1,m=p.tex2;a.canAddToCurrentBatch(g)||this.endBatch();for(var y=a.getAtlasIndexForBatch(g),b=0,v=[[f,!0],[m,!1]];b<v.length;b++){var x=Pi(v[b],2),w=x[0],k=x[1];if(w.w!=0){var T=this.instanceCount;this.vertTypeBuffer.getView(T)[0]=wk;var _=this.indexBuffer.getView(T);Ad(r,_);var C=this.atlasIdBuffer.getView(T);C[0]=y;var E=this.texBuffer.getView(T);E[0]=w.x,E[1]=w.y,E[2]=w.w,E[3]=w.h;var N=this.transformBuffer.getMatrixView(T);this.setTransformMatrix(t,N,s,p,k),this.instanceCount++,k||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(M){h.e(M)}finally{h.f()}}},"drawTexture")},{key:"setTransformMatrix",value:l(function(t,r,i,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=0;if(i.shapeProps&&i.shapeProps.padding&&(s=t.pstyle(i.shapeProps.padding).pfValue),n){var o=n.bb,u=n.tex1,h=n.tex2,d=u.w/(u.w+h.w);a||(d=1-d);var p=this._getAdjustedBB(o,s,a,d);this._applyTransformMatrix(r,p,i,t)}else{var g=i.getBoundingBox(t),f=this._getAdjustedBB(g,s,!0,1);this._applyTransformMatrix(r,f,i,t)}},"setTransformMatrix")},{key:"_applyTransformMatrix",value:l(function(t,r,i,n){var a,s;mD(t);var o=i.getRotation?i.getRotation(n):0;if(o!==0){var u=i.getRotationPoint(n),h=u.x,d=u.y;K2(t,t,[h,d]),yD(t,t,o);var p=i.getRotationOffset(n);a=p.x+(r.xOffset||0),s=p.y+(r.yOffset||0)}else a=r.x1,s=r.y1;K2(t,t,[a,s]),Pw(t,t,[r.w,r.h])},"_applyTransformMatrix")},{key:"_getAdjustedBB",value:l(function(t,r,i,n){var a=t.x1,s=t.y1,o=t.w,u=t.h,h=t.yOffset;r&&(a-=r,s-=r,o+=2*r,u+=2*r);var d=0,p=o*n;return i&&n<1?o=p:!i&&n<1&&(d=o-p,a+=d,o=p),{x1:a,y1:s,w:o,h:u,xOffset:d,yOffset:h}},"_getAdjustedBB")},{key:"drawPickingRectangle",value:l(function(t,r,i){var n=this.atlasManager.getRenderTypeOpts(i),a=this.instanceCount;this.vertTypeBuffer.getView(a)[0]=Xd;var s=this.indexBuffer.getView(a);Ad(r,s);var o=this.colorBuffer.getView(a);Wu([0,0,0],1,o);var u=this.transformBuffer.getMatrixView(a);this.setTransformMatrix(t,u,n),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()},"drawPickingRectangle")},{key:"drawNode",value:l(function(t,r,i){var n=this.simpleShapeOptions.get(i);if(this._isVisible(t,n)){var a=n.shapeProps,s=this._getVertTypeForShape(t,a.shape);if(s===void 0||n.isSimple&&!n.isSimple(t)){this.drawTexture(t,r,i);return}var o=this.instanceCount;if(this.vertTypeBuffer.getView(o)[0]=s,s===Fv||s===L1){var u=n.getBoundingBox(t),h=this._getCornerRadius(t,a.radius,u),d=this.cornerRadiusBuffer.getView(o);d[0]=h,d[1]=h,d[2]=h,d[3]=h,s===L1&&(d[0]=0,d[2]=0)}var p=this.indexBuffer.getView(o);Ad(r,p);var g=t.pstyle(a.color).value,f=t.pstyle(a.opacity).value,m=this.colorBuffer.getView(o);Wu(g,f,m);var y=this.lineWidthBuffer.getView(o);if(y[0]=0,y[1]=0,a.border){var b=t.pstyle("border-width").value;if(b>0){var v=t.pstyle("border-color").value,x=t.pstyle("border-opacity").value,w=this.borderColorBuffer.getView(o);Wu(v,x,w);var k=t.pstyle("border-position").value;if(k==="inside")y[0]=0,y[1]=-b;else if(k==="outside")y[0]=b,y[1]=0;else{var T=b/2;y[0]=T,y[1]=-T}}}var _=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(t,_,n),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},"drawNode")},{key:"_getVertTypeForShape",value:l(function(t,r){var i=t.pstyle(r).value;switch(i){case"rectangle":return Xd;case"ellipse":return N1;case"roundrectangle":case"round-rectangle":return Fv;case"bottom-round-rectangle":return L1;default:return}},"_getVertTypeForShape")},{key:"_getCornerRadius",value:l(function(t,r,i){var n=i.w,a=i.h;if(t.pstyle(r).value==="auto")return wc(n,a);var s=t.pstyle(r).pfValue,o=n/2,u=a/2;return Math.min(s,u,o)},"_getCornerRadius")},{key:"drawEdgeArrow",value:l(function(t,r,i){if(t.visible()){var n=t._private.rscratch,a,s,o;if(i==="source"?(a=n.arrowStartX,s=n.arrowStartY,o=n.srcArrowAngle):(a=n.arrowEndX,s=n.arrowEndY,o=n.tgtArrowAngle),!(isNaN(a)||a==null||isNaN(s)||s==null||isNaN(o)||o==null)){var u=t.pstyle(i+"-arrow-shape").value;if(u!=="none"){var h=t.pstyle(i+"-arrow-color").value,d=t.pstyle("opacity").value,p=t.pstyle("line-opacity").value,g=d*p,f=t.pstyle("width").pfValue,m=t.pstyle("arrow-scale").value,y=this.r.getArrowWidth(f,m),b=this.instanceCount,v=this.transformBuffer.getMatrixView(b);mD(v),K2(v,v,[a,s]),Pw(v,v,[y,y]),yD(v,v,o),this.vertTypeBuffer.getView(b)[0]=kk;var x=this.indexBuffer.getView(b);Ad(r,x);var w=this.colorBuffer.getView(b);Wu(h,g,w),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},"drawEdgeArrow")},{key:"drawEdgeLine",value:l(function(t,r){if(t.visible()){var i=this._getEdgePoints(t);if(i){var n=t.pstyle("opacity").value,a=t.pstyle("line-opacity").value,s=t.pstyle("width").pfValue,o=t.pstyle("line-color").value,u=n*a;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var h=this.instanceCount;this.vertTypeBuffer.getView(h)[0]=jP;var d=this.indexBuffer.getView(h);Ad(r,d);var p=this.colorBuffer.getView(h);Wu(o,u,p);var g=this.lineWidthBuffer.getView(h);g[0]=s;var f=this.pointAPointBBuffer.getView(h);f[0]=i[0],f[1]=i[1],f[2]=i[2],f[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var m=0;m<i.length-2;m+=2){var y=this.instanceCount;this.vertTypeBuffer.getView(y)[0]=HP;var b=this.indexBuffer.getView(y);Ad(r,b);var v=this.colorBuffer.getView(y);Wu(o,u,v);var x=this.lineWidthBuffer.getView(y);x[0]=s;var w=i[m-2],k=i[m-1],T=i[m],_=i[m+1],C=i[m+2],E=i[m+3],N=i[m+4],M=i[m+5];m==0&&(w=2*T-C+.001,k=2*_-E+.001),m==i.length-4&&(N=2*C-T+.001,M=2*E-_+.001);var I=this.pointAPointBBuffer.getView(y);I[0]=w,I[1]=k,I[2]=T,I[3]=_;var A=this.pointCPointDBuffer.getView(y);A[0]=C,A[1]=E,A[2]=N,A[3]=M,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},"drawEdgeLine")},{key:"_isValidEdge",value:l(function(t){var r=t._private.rscratch;return!(r.badLine||r.allpts==null||isNaN(r.allpts[0]))},"_isValidEdge")},{key:"_getEdgePoints",value:l(function(t){var r=t._private.rscratch;if(this._isValidEdge(t)){var i=r.allpts;if(i.length==4)return i;var n=this._getNumSegments(t);return this._getCurveSegmentPoints(i,n)}},"_getEdgePoints")},{key:"_getNumSegments",value:l(function(t){var r=15;return Math.min(Math.max(r,5),this.maxInstances)},"_getNumSegments")},{key:"_getCurveSegmentPoints",value:l(function(t,r){if(t.length==4)return t;for(var i=Array((r+1)*2),n=0;n<=r;n++)if(n==0)i[0]=t[0],i[1]=t[1];else if(n==r)i[n*2]=t[t.length-2],i[n*2+1]=t[t.length-1];else{var a=n/r;this._setCurvePoint(t,a,i,n*2)}return i},"_getCurveSegmentPoints")},{key:"_setCurvePoint",value:l(function(t,r,i,n){if(t.length<=2)i[n]=t[0],i[n+1]=t[1];else{for(var a=Array(t.length-2),s=0;s<a.length;s+=2){var o=(1-r)*t[s]+r*t[s+2],u=(1-r)*t[s+1]+r*t[s+3];a[s]=o,a[s+1]=u}return this._setCurvePoint(a,r,i,n)}},"_setCurvePoint")},{key:"endBatch",value:l(function(){var t=this.gl,r=this.vao,i=this.vertexCount,n=this.instanceCount;if(n!==0){var a=this.renderTarget.picking?this.pickingProgram:this.program;t.useProgram(a),t.bindVertexArray(r);var s=ka(this.buffers),o;try{for(s.s();!(o=s.n()).done;){var u=o.value;u.bufferSubData(n)}}catch(f){s.e(f)}finally{s.f()}for(var h=this.batchManager.getAtlases(),d=0;d<h.length;d++)h[d].bufferIfNeeded(t);for(var p=0;p<h.length;p++)t.activeTexture(t.TEXTURE0+p),t.bindTexture(t.TEXTURE_2D,h[p].texture),t.uniform1i(a.uTextures[p],p);t.uniform1f(a.uZoom,r3e(this.r)),t.uniformMatrix3fv(a.uPanZoomMatrix,!1,this.panZoomMatrix),t.uniform1i(a.uAtlasSize,this.batchManager.getAtlasSize());var g=Wu(this.bgColor,1);t.uniform4fv(a.uBGColor,g),t.drawArraysInstanced(t.TRIANGLES,0,i,n),t.bindVertexArray(null),t.bindTexture(t.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:n,atlasCount:h.length}),this.startBatch()}},"endBatch")},{key:"getDebugInfo",value:l(function(){var t=this.atlasManager.getDebugInfo(),r=t.reduce(function(a,s){return a+s.atlasCount},0),i=this.batchDebugInfo,n=i.reduce(function(a,s){return a+s.count},0);return{atlasInfo:t,totalAtlases:r,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:i.length,batchInfo:i,totalInstances:n}},"getDebugInfo")}])}(),VP={},VP.initWebgl=function(e,t){var r=this,i=r.data.contexts[r.WEBGL];e.bgColor=f3e(r),e.webglTexSize=Math.min(e.webglTexSize,i.getParameter(i.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=e.webglDebug,r.webglDebugShowAtlases=e.webglDebugShowAtlases,r.pickingFrameBuffer=h3e(i),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new S7e(r,i,e);var n=l(function(d){return function(p){return r.getTextAngle(p,d)}},"getLabelRotation"),a=l(function(d){return function(p){var g=p.pstyle(d);return g&&g.value}},"isLabelVisible"),s=l(function(d){return function(p){return p.pstyle("".concat(d,"-opacity")).value>0}},"isLayerVisible"),o=l(function(d){var p=d.pstyle("text-events").strValue==="yes";return p?$v.USE_BB:$v.IGNORE},"getTexPickingMode"),u=l(function(d){var p=d.position(),g=p.x,f=p.y,m=d.outerWidth(),y=d.outerHeight();return{w:m,h:y,x1:g-m/2,y1:f-y/2}},"getBBForSimpleShape");r.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:u,isSimple:n3e,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:u,isVisible:s("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:u,isVisible:s("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:o,getKey:Tk(t.getLabelKey,null),getBoundingBox:Ek(t.getLabelBox,null),drawClipped:!0,drawElement:t.drawLabel,getRotation:n(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:a("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:o,getKey:Tk(t.getSourceLabelKey,"source"),getBoundingBox:Ek(t.getSourceLabelBox,"source"),drawClipped:!0,drawElement:t.drawSourceLabel,getRotation:n("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:a("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:o,getKey:Tk(t.getTargetLabelKey,"target"),getBoundingBox:Ek(t.getTargetLabelBox,"target"),drawClipped:!0,drawElement:t.drawTargetLabel,getRotation:n("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:a("target-label")});var h=s1(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(d,p){var g=!1;p&&p.length>0&&(g|=r.drawing.invalidate(p)),g&&h()}),m3e(r)},l(f3e,"getBGColor"),l(vD,"getLabelLines"),Tk=l(function(e,t){return function(r){var i=e(r),n=vD(r,t);return n.length>1?n.map(function(a,s){return"".concat(i,"_").concat(s)}):i}},"getStyleKeysForLabel"),Ek=l(function(e,t){return function(r,i){var n=e(r);if(typeof i=="string"){var a=i.indexOf("_");if(a>0){var s=Number(i.substring(a+1)),o=vD(r,t),u=n.h/o.length,h=u*s,d=n.y1+h;return{x1:n.x1,w:n.w,y1:d,h:u,yOffset:h}}}return n}},"getBoundingBoxForLabel"),l(m3e,"overrideCanvasRendererFunctions"),l(y3e,"clearWebgl"),l(v3e,"clearCanvas"),l(b3e,"createPanZoomMatrix"),l(bD,"setContextTransform"),l(x3e,"drawSelectionRectangle"),l(w3e,"drawAxes"),l(k3e,"drawAtlases"),l(T3e,"getPickingIndexes"),l(E3e,"findNearestElementsWebgl"),l(Bw,"drawEle"),l(xD,"renderWebgl"),Mc={},Mc.drawPolygonPath=function(e,t,r,i,n,a){var s=i/2,o=n/2;e.beginPath&&e.beginPath(),e.moveTo(t+s*a[0],r+o*a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(t+s*a[u*2],r+o*a[u*2+1]);e.closePath()},Mc.drawRoundPolygonPath=function(e,t,r,i,n,a,s){s.forEach(function(o){return cD(e,o)}),e.closePath()},Mc.drawRoundRectanglePath=function(e,t,r,i,n,a){var s=i/2,o=n/2,u=a==="auto"?wc(i,n):Math.min(a,o,s);e.beginPath&&e.beginPath(),e.moveTo(t,r-o),e.arcTo(t+s,r-o,t+s,r,u),e.arcTo(t+s,r+o,t,r+o,u),e.arcTo(t-s,r+o,t-s,r,u),e.arcTo(t-s,r-o,t,r-o,u),e.lineTo(t,r-o),e.closePath()},Mc.drawBottomRoundRectanglePath=function(e,t,r,i,n,a){var s=i/2,o=n/2,u=a==="auto"?wc(i,n):a;e.beginPath&&e.beginPath(),e.moveTo(t,r-o),e.lineTo(t+s,r-o),e.lineTo(t+s,r),e.arcTo(t+s,r+o,t,r+o,u),e.arcTo(t-s,r+o,t-s,r,u),e.lineTo(t-s,r-o),e.lineTo(t,r-o),e.closePath()},Mc.drawCutRectanglePath=function(e,t,r,i,n,a,s){var o=i/2,u=n/2,h=s==="auto"?Zw():s;e.beginPath&&e.beginPath(),e.moveTo(t-o+h,r-u),e.lineTo(t+o-h,r-u),e.lineTo(t+o,r-u+h),e.lineTo(t+o,r+u-h),e.lineTo(t+o-h,r+u),e.lineTo(t-o+h,r+u),e.lineTo(t-o,r+u-h),e.lineTo(t-o,r-u+h),e.closePath()},Mc.drawBarrelPath=function(e,t,r,i,n){var a=i/2,s=n/2,o=t-a,u=t+a,h=r-s,d=r+s,p=Qw(i,n),g=p.widthOffset,f=p.heightOffset,m=p.ctrlPtOffsetPct*g;e.beginPath&&e.beginPath(),e.moveTo(o,h+f),e.lineTo(o,d-f),e.quadraticCurveTo(o+m,d,o+g,d),e.lineTo(u-g,d),e.quadraticCurveTo(u-m,d,u,d-f),e.lineTo(u,h+f),e.quadraticCurveTo(u-m,h,u-g,h),e.lineTo(o+g,h),e.quadraticCurveTo(o+m,h,o,h+f),e.closePath()},YP=Math.sin(0),WP=Math.cos(0),Ck={},Sk={},XP=Math.PI/40,Kd=0*Math.PI;Kd<2*Math.PI;Kd+=XP)Ck[Kd]=Math.sin(Kd),Sk[Kd]=Math.cos(Kd);Mc.drawEllipsePath=function(e,t,r,i,n){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,i/2,n/2,0,0,2*Math.PI);else for(var a,s,o=i/2,u=n/2,h=0*Math.PI;h<2*Math.PI;h+=XP)a=t-o*Ck[h]*YP+o*Sk[h]*WP,s=r+u*Sk[h]*YP+u*Ck[h]*WP,h===0?e.moveTo(a,s):e.lineTo(a,s);e.closePath()},M1={},M1.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]},M1.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),i=r.boundingBox(),n=this.findContainerClientCoords(),a=e.full?Math.ceil(i.w):n[2],s=e.full?Math.ceil(i.h):n[3],o=yt(e.maxWidth)||yt(e.maxHeight),u=this.getPixelRatio(),h=1;if(e.scale!==void 0)a*=e.scale,s*=e.scale,h=e.scale;else if(o){var d=1/0,p=1/0;yt(e.maxWidth)&&(d=h*e.maxWidth/a),yt(e.maxHeight)&&(p=h*e.maxHeight/s),h=Math.min(d,p),a*=h,s*=h}o||(a*=u,s*=u,h*=u);var g=document.createElement("canvas");g.width=a,g.height=s,g.style.width=a+"px",g.style.height=s+"px";var f=g.getContext("2d");if(a>0&&s>0){f.clearRect(0,0,a,s),f.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(e.full)f.translate(-i.x1*h,-i.y1*h),f.scale(h,h),this.drawElements(f,m),f.scale(1/h,1/h),f.translate(i.x1*h,i.y1*h);else{var y=t.pan(),b={x:y.x*h,y:y.y*h};h*=t.zoom(),f.translate(b.x,b.y),f.scale(h,h),this.drawElements(f,m),f.scale(1/h,1/h),f.translate(-b.x,-b.y)}e.bg&&(f.globalCompositeOperation="destination-over",f.fillStyle=e.bg,f.rect(0,0,a,s),f.fill())}return g},l(C3e,"b64ToBlob"),l(wD,"b64UriToB64"),l(kD,"output"),M1.png=function(e){return kD(e,this.bufferCanvasImage(e),"image/png")},M1.jpg=function(e){return kD(e,this.bufferCanvasImage(e),"image/jpeg")},KP={},KP.nodeShapeImpl=function(e,t,r,i,n,a,s,o){switch(e){case"ellipse":return this.drawEllipsePath(t,r,i,n,a);case"polygon":return this.drawPolygonPath(t,r,i,n,a,s);case"round-polygon":return this.drawRoundPolygonPath(t,r,i,n,a,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,i,n,a,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,i,n,a,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,i,n,a,o);case"barrel":return this.drawBarrelPath(t,r,i,n,a)}},_7e=TD,gr=TD.prototype,gr.CANVAS_LAYERS=3,gr.SELECT_BOX=0,gr.DRAG=1,gr.NODE=2,gr.WEBGL=3,gr.CANVAS_TYPES=["2d","2d","2d","webgl2"],gr.BUFFER_COUNT=3,gr.TEXTURE_BUFFER=0,gr.MOTIONBLUR_BUFFER_NODE=1,gr.MOTIONBLUR_BUFFER_DRAG=2,l(TD,"CanvasRenderer"),gr.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[gr.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[gr.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[gr.SELECT_BOX]=t;break;case"gc":r.data.gc=!0;break}},A7e=typeof Path2D<"u",gr.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e},gr.usePaths=function(){return A7e&&this.pathsEnabled},gr.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},gr.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},gr.makeOffscreenCanvas=function(e,t){var r;if((typeof OffscreenCanvas>"u"?"undefined":Xi(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(e,t);else{var i=this.cy.window(),n=i.document;r=n.createElement("canvas"),r.width=e,r.height=t}return r},[zP,To,pl,xk,nh,Nc,ra,VP,Mc,M1,KP].forEach(function(e){Qt(gr,e)}),L7e=[{name:"null",impl:lD},{name:"base",impl:IP},{name:"canvas",impl:_7e}],N7e=[{type:"layout",extensions:_Te},{type:"renderer",extensions:L7e}],ZP={},QP={},l(ED,"setExtension"),l(CD,"getExtension"),l(S3e,"setModule"),l(_3e,"getModule"),_k=l(function(){if(arguments.length===2)return CD.apply(null,arguments);if(arguments.length===3)return ED.apply(null,arguments);if(arguments.length===4)return _3e.apply(null,arguments);if(arguments.length===5)return S3e.apply(null,arguments);oi("Invalid extension access syntax")},"extension"),w1.prototype.extension=_k,N7e.forEach(function(e){e.extensions.forEach(function(t){ED(e.type,t.name,t.impl)})}),zv=l(function(){if(!(this instanceof zv))return new zv;this.length=0},"Stylesheet"),ah=zv.prototype,ah.instanceString=function(){return"stylesheet"},ah.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this},ah.css=function(e,t){var r=this.length-1;if(qt(e))this[r].properties.push({name:e,value:t});else if(Cr(e))for(var i=e,n=Object.keys(i),a=0;a<n.length;a++){var s=n[a],o=i[s];if(o!=null){var u=hn.properties[s]||hn.properties[Q2(s)];if(u!=null){var h=u.name,d=o;this[r].properties.push({name:h,value:d})}}}return this},ah.style=ah.css,ah.generateStyle=function(e){var t=new hn(e);return this.appendToStyle(t)},ah.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],i=r.selector,n=r.properties;e.selector(i);for(var a=0;a<n.length;a++){var s=n[a];e.css(s.name,s.value)}}return e},M7e="3.33.1",Eo=l(function(e){if(e===void 0&&(e={}),Cr(e))return new w1(e);if(qt(e))return _k.apply(_k,arguments)},"cytoscape"),Eo.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Eo),e.apply(null,t),this},Eo.warnings=function(e){return nR(e)},Eo.version=M7e,Eo.stylesheet=Eo.Stylesheet=zv}),D7e=_n((e,t)=>{"use strict";l(function(r,i){typeof e=="object"&&typeof t=="object"?t.exports=i():typeof define=="function"&&define.amd?define([],i):typeof e=="object"?e.layoutBase=i():r.layoutBase=i()},"webpackUniversalModuleDefinition")(e,function(){return function(r){var i={};function n(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return l(n,"__webpack_require__"),n.m=r,n.c=i,n.i=function(a){return a},n.d=function(a,s,o){n.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},n.n=function(a){var s=a&&a.__esModule?l(function(){return a.default},"getDefault"):l(function(){return a},"getModuleExports");return n.d(s,"a",s),s},n.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},n.p="",n(n.s=26)}([function(r,i,n){"use strict";function a(){}l(a,"LayoutConstants"),a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,i,n){"use strict";var a=n(2),s=n(8),o=n(9);function u(d,p,g){a.call(this,g),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=g,this.bendpoints=[],this.source=d,this.target=p}l(u,"LEdge"),u.prototype=Object.create(a.prototype);for(var h in a)u[h]=a[h];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(d,p){for(var g=this.getOtherEnd(d),f=p.getGraphManager().getRoot();;){if(g.getOwner()==p)return g;if(g.getOwner()==f)break;g=g.getOwner().getParent()}return null},u.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,i,n){"use strict";function a(s){this.vGraphObject=s}l(a,"LGraphObject"),r.exports=a},function(r,i,n){"use strict";var a=n(2),s=n(10),o=n(13),u=n(0),h=n(16),d=n(4);function p(f,m,y,b){y==null&&b==null&&(b=m),a.call(this,b),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=b,this.edges=[],this.graphManager=f,y!=null&&m!=null?this.rect=new o(m.x,m.y,y.width,y.height):this.rect=new o}l(p,"LNode"),p.prototype=Object.create(a.prototype);for(var g in a)p[g]=a[g];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(f){this.rect.width=f},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(f){this.rect.height=f},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(f,m){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=m.width,this.rect.height=m.height},p.prototype.setCenter=function(f,m){this.rect.x=f-this.rect.width/2,this.rect.y=m-this.rect.height/2},p.prototype.setLocation=function(f,m){this.rect.x=f,this.rect.y=m},p.prototype.moveBy=function(f,m){this.rect.x+=f,this.rect.y+=m},p.prototype.getEdgeListToNode=function(f){var m=[],y,b=this;return b.edges.forEach(function(v){if(v.target==f){if(v.source!=b)throw"Incorrect edge source!";m.push(v)}}),m},p.prototype.getEdgesBetween=function(f){var m=[],y,b=this;return b.edges.forEach(function(v){if(!(v.source==b||v.target==b))throw"Incorrect edge source and/or target";(v.target==f||v.source==f)&&m.push(v)}),m},p.prototype.getNeighborsList=function(){var f=new Set,m=this;return m.edges.forEach(function(y){if(y.source==m)f.add(y.target);else{if(y.target!=m)throw"Incorrect incidency!";f.add(y.source)}}),f},p.prototype.withChildren=function(){var f=new Set,m,y;if(f.add(this),this.child!=null)for(var b=this.child.getNodes(),v=0;v<b.length;v++)m=b[v],y=m.withChildren(),y.forEach(function(x){f.add(x)});return f},p.prototype.getNoOfChildren=function(){var f=0,m;if(this.child==null)f=1;else for(var y=this.child.getNodes(),b=0;b<y.length;b++)m=y[b],f+=m.getNoOfChildren();return f==0&&(f=1),f},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var f,m,y=-u.INITIAL_WORLD_BOUNDARY,b=u.INITIAL_WORLD_BOUNDARY;f=u.WORLD_CENTER_X+h.nextDouble()*(b-y)+y;var v=-u.INITIAL_WORLD_BOUNDARY,x=u.INITIAL_WORLD_BOUNDARY;m=u.WORLD_CENTER_Y+h.nextDouble()*(x-v)+v,this.rect.x=f,this.rect.y=m},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var m=f.getRight()-f.getLeft(),y=f.getBottom()-f.getTop();this.labelWidth>m&&(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)),this.labelHeight>y&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-y)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-y),this.setHeight(this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(f){var m=this.rect.x;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var y=this.rect.y;y>u.WORLD_BOUNDARY?y=u.WORLD_BOUNDARY:y<-u.WORLD_BOUNDARY&&(y=-u.WORLD_BOUNDARY);var b=new d(m,y),v=f.inverseTransformPoint(b);this.setLocation(v.x,v.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=p},function(r,i,n){"use strict";function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}l(a,"PointD"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,i,n){"use strict";var a=n(2),s=n(10),o=n(0),u=n(6),h=n(3),d=n(1),p=n(13),g=n(12),f=n(11);function m(b,v,x){a.call(this,x),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=b,v!=null&&v instanceof u?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}l(m,"LGraph"),m.prototype=Object.create(a.prototype);for(var y in a)m[y]=a[y];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(b,v,x){if(v==null&&x==null){var w=b;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(w)>-1)throw"Node already in graph!";return w.owner=this,this.getNodes().push(w),w}else{var k=b;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(x)>-1))throw"Source or target not in graph!";if(!(v.owner==x.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=x.owner?null:(k.source=v,k.target=x,k.isInterGraph=!1,this.getEdges().push(k),v.edges.push(k),x!=v&&x.edges.push(k),k)}},m.prototype.remove=function(b){var v=b;if(b instanceof h){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var x=v.edges.slice(),w,k=x.length,T=0;T<k;T++)w=x[T],w.isInterGraph?this.graphManager.remove(w):w.source.owner.remove(w);var _=this.nodes.indexOf(v);if(_==-1)throw"Node not in owner node list!";this.nodes.splice(_,1)}else if(b instanceof d){var w=b;if(w==null)throw"Edge is null!";if(!(w.source!=null&&w.target!=null))throw"Source and/or target is null!";if(!(w.source.owner!=null&&w.target.owner!=null&&w.source.owner==this&&w.target.owner==this))throw"Source and/or target owner is invalid!";var C=w.source.edges.indexOf(w),E=w.target.edges.indexOf(w);if(!(C>-1&&E>-1))throw"Source and/or target doesn't know this edge!";w.source.edges.splice(C,1),w.target!=w.source&&w.target.edges.splice(E,1);var _=w.source.owner.getEdges().indexOf(w);if(_==-1)throw"Not in owner's edge list!";w.source.owner.getEdges().splice(_,1)}},m.prototype.updateLeftTop=function(){for(var b=s.MAX_VALUE,v=s.MAX_VALUE,x,w,k,T=this.getNodes(),_=T.length,C=0;C<_;C++){var E=T[C];x=E.getTop(),w=E.getLeft(),b>x&&(b=x),v>w&&(v=w)}return b==s.MAX_VALUE?null:(T[0].getParent().paddingLeft!=null?k=T[0].getParent().paddingLeft:k=this.margin,this.left=v-k,this.top=b-k,new g(this.left,this.top))},m.prototype.updateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,k=-s.MAX_VALUE,T,_,C,E,N,M=this.nodes,I=M.length,A=0;A<I;A++){var B=M[A];b&&B.child!=null&&B.updateBounds(),T=B.getLeft(),_=B.getRight(),C=B.getTop(),E=B.getBottom(),v>T&&(v=T),x<_&&(x=_),w>C&&(w=C),k<E&&(k=E)}var S=new p(v,w,x-v,k-w);v==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),M[0].getParent().paddingLeft!=null?N=M[0].getParent().paddingLeft:N=this.margin,this.left=S.x-N,this.right=S.x+S.width+N,this.top=S.y-N,this.bottom=S.y+S.height+N},m.calculateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,k=-s.MAX_VALUE,T,_,C,E,N=b.length,M=0;M<N;M++){var I=b[M];T=I.getLeft(),_=I.getRight(),C=I.getTop(),E=I.getBottom(),v>T&&(v=T),x<_&&(x=_),w>C&&(w=C),k<E&&(k=E)}var A=new p(v,w,x-v,k-w);return A},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var b=0,v=this.nodes,x=v.length,w=0;w<x;w++){var k=v[w];b+=k.calcEstimatedSize()}return b==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=b/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var b=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new f,x=new Set,w=this.nodes[0],k,T,_=w.withChildren();for(_.forEach(function(A){v.push(A),x.add(A)});v.length!==0;){w=v.shift(),k=w.getEdges();for(var C=k.length,E=0;E<C;E++){var N=k[E];if(T=N.getOtherEndInGraph(w,this),T!=null&&!x.has(T)){var M=T.withChildren();M.forEach(function(A){v.push(A),x.add(A)})}}}if(this.isConnected=!1,x.size>=this.nodes.length){var I=0;x.forEach(function(A){A.owner==b&&I++}),I==this.nodes.length&&(this.isConnected=!0)}},r.exports=m},function(r,i,n){"use strict";var a,s=n(1);function o(u){a=n(5),this.layout=u,this.graphs=[],this.edges=[]}l(o,"LGraphManager"),o.prototype.addRoot=function(){var u=this.layout.newGraph(),h=this.layout.newNode(null),d=this.add(u,h);return this.setRootGraph(d),this.rootGraph},o.prototype.add=function(u,h,d,p,g){if(d==null&&p==null&&g==null){if(u==null)throw"Graph is null!";if(h==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(h.child!=null)throw"Already has a child!";return u.parent=h,h.child=u,u}else{g=d,p=h,d=u;var f=p.getOwner(),m=g.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==m)return d.isInterGraph=!1,f.add(d,p,g);if(d.isInterGraph=!0,d.source=p,d.target=g,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),!(d.source!=null&&d.target!=null))throw"Edge source and/or target is null!";if(!(d.source.edges.indexOf(d)==-1&&d.target.edges.indexOf(d)==-1))throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d}},o.prototype.remove=function(u){if(u instanceof a){var h=u;if(h.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(h==this.rootGraph||h.parent!=null&&h.parent.graphManager==this))throw"Invalid parent node!";var d=[];d=d.concat(h.getEdges());for(var p,g=d.length,f=0;f<g;f++)p=d[f],h.remove(p);var m=[];m=m.concat(h.getNodes());var y;g=m.length;for(var f=0;f<g;f++)y=m[f],h.remove(y);h==this.rootGraph&&this.setRootGraph(null);var b=this.graphs.indexOf(h);this.graphs.splice(b,1),h.parent=null}else if(u instanceof s){if(p=u,p==null)throw"Edge is null!";if(!p.isInterGraph)throw"Not an inter-graph edge!";if(!(p.source!=null&&p.target!=null))throw"Source and/or target is null!";if(!(p.source.edges.indexOf(p)!=-1&&p.target.edges.indexOf(p)!=-1))throw"Source and/or target doesn't know this edge!";var b=p.source.edges.indexOf(p);if(p.source.edges.splice(b,1),b=p.target.edges.indexOf(p),p.target.edges.splice(b,1),!(p.source.owner!=null&&p.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(p.source.owner.getGraphManager().edges.indexOf(p)==-1)throw"Not in owner graph manager's edge list!";var b=p.source.owner.getGraphManager().edges.indexOf(p);p.source.owner.getGraphManager().edges.splice(b,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<d;p++)u=u.concat(h[p].getNodes());this.allNodes=u}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<h.length;p++)u=u.concat(h[p].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(u,h){if(!(u!=null&&h!=null))throw"assert failed";if(u==h)return!0;var d=u.getOwner(),p;do{if(p=d.getParent(),p==null)break;if(p==h)return!0;if(d=p.getOwner(),d==null)break}while(!0);d=h.getOwner();do{if(p=d.getParent(),p==null)break;if(p==u)return!0;if(d=p.getOwner(),d==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var u,h,d,p,g,f=this.getAllEdges(),m=f.length,y=0;y<m;y++){if(u=f[y],h=u.source,d=u.target,u.lca=null,u.sourceInLca=h,u.targetInLca=d,h==d){u.lca=h.getOwner();continue}for(p=h.getOwner();u.lca==null;){for(u.targetInLca=d,g=d.getOwner();u.lca==null;){if(g==p){u.lca=g;break}if(g==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=g.getParent(),g=u.targetInLca.getOwner()}if(p==this.rootGraph)break;u.lca==null&&(u.sourceInLca=p.getParent(),p=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(u,h){if(u==h)return u.getOwner();var d=u.getOwner();do{if(d==null)break;var p=h.getOwner();do{if(p==null)break;if(p==d)return p;p=p.getParent().getOwner()}while(!0);d=d.getParent().getOwner()}while(!0);return d},o.prototype.calcInclusionTreeDepths=function(u,h){u==null&&h==null&&(u=this.rootGraph,h=1);for(var d,p=u.getNodes(),g=p.length,f=0;f<g;f++)d=p[f],d.inclusionTreeDepth=h,d.child!=null&&this.calcInclusionTreeDepths(d.child,h+1)},o.prototype.includesInvalidEdge=function(){for(var u,h=this.edges.length,d=0;d<h;d++)if(u=this.edges[d],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},r.exports=o},function(r,i,n){"use strict";var a=n(0);function s(){}l(s,"FDLayoutConstants");for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,i,n){"use strict";var a=n(12);function s(){}l(s,"IGeometry"),s.calcSeparationAmount=function(o,u,h,d){if(!o.intersects(u))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(o,u,p),h[0]=Math.min(o.getRight(),u.getRight())-Math.max(o.x,u.x),h[1]=Math.min(o.getBottom(),u.getBottom())-Math.max(o.y,u.y),o.getX()<=u.getX()&&o.getRight()>=u.getRight()?h[0]+=Math.min(u.getX()-o.getX(),o.getRight()-u.getRight()):u.getX()<=o.getX()&&u.getRight()>=o.getRight()&&(h[0]+=Math.min(o.getX()-u.getX(),u.getRight()-o.getRight())),o.getY()<=u.getY()&&o.getBottom()>=u.getBottom()?h[1]+=Math.min(u.getY()-o.getY(),o.getBottom()-u.getBottom()):u.getY()<=o.getY()&&u.getBottom()>=o.getBottom()&&(h[1]+=Math.min(o.getY()-u.getY(),u.getBottom()-o.getBottom()));var g=Math.abs((u.getCenterY()-o.getCenterY())/(u.getCenterX()-o.getCenterX()));u.getCenterY()===o.getCenterY()&&u.getCenterX()===o.getCenterX()&&(g=1);var f=g*h[0],m=h[1]/g;h[0]<m?m=h[0]:f=h[1],h[0]=-1*p[0]*(m/2+d),h[1]=-1*p[1]*(f/2+d)},s.decideDirectionsForOverlappingNodes=function(o,u,h){o.getCenterX()<u.getCenterX()?h[0]=-1:h[0]=1,o.getCenterY()<u.getCenterY()?h[1]=-1:h[1]=1},s.getIntersection2=function(o,u,h){var d=o.getCenterX(),p=o.getCenterY(),g=u.getCenterX(),f=u.getCenterY();if(o.intersects(u))return h[0]=d,h[1]=p,h[2]=g,h[3]=f,!0;var m=o.getX(),y=o.getY(),b=o.getRight(),v=o.getX(),x=o.getBottom(),w=o.getRight(),k=o.getWidthHalf(),T=o.getHeightHalf(),_=u.getX(),C=u.getY(),E=u.getRight(),N=u.getX(),M=u.getBottom(),I=u.getRight(),A=u.getWidthHalf(),B=u.getHeightHalf(),S=!1,O=!1;if(d===g){if(p>f)return h[0]=d,h[1]=y,h[2]=g,h[3]=M,!1;if(p<f)return h[0]=d,h[1]=x,h[2]=g,h[3]=C,!1}else if(p===f){if(d>g)return h[0]=m,h[1]=p,h[2]=E,h[3]=f,!1;if(d<g)return h[0]=b,h[1]=p,h[2]=_,h[3]=f,!1}else{var R=o.height/o.width,P=u.height/u.width,L=(f-p)/(g-d),$=void 0,F=void 0,G=void 0,q=void 0,V=void 0,H=void 0;if(-R===L?d>g?(h[0]=v,h[1]=x,S=!0):(h[0]=b,h[1]=y,S=!0):R===L&&(d>g?(h[0]=m,h[1]=y,S=!0):(h[0]=w,h[1]=x,S=!0)),-P===L?g>d?(h[2]=N,h[3]=M,O=!0):(h[2]=E,h[3]=C,O=!0):P===L&&(g>d?(h[2]=_,h[3]=C,O=!0):(h[2]=I,h[3]=M,O=!0)),S&&O)return!1;if(d>g?p>f?($=this.getCardinalDirection(R,L,4),F=this.getCardinalDirection(P,L,2)):($=this.getCardinalDirection(-R,L,3),F=this.getCardinalDirection(-P,L,1)):p>f?($=this.getCardinalDirection(-R,L,1),F=this.getCardinalDirection(-P,L,3)):($=this.getCardinalDirection(R,L,2),F=this.getCardinalDirection(P,L,4)),!S)switch($){case 1:q=y,G=d+-T/L,h[0]=G,h[1]=q;break;case 2:G=w,q=p+k*L,h[0]=G,h[1]=q;break;case 3:q=x,G=d+T/L,h[0]=G,h[1]=q;break;case 4:G=v,q=p+-k*L,h[0]=G,h[1]=q;break}if(!O)switch(F){case 1:H=C,V=g+-B/L,h[2]=V,h[3]=H;break;case 2:V=I,H=f+A*L,h[2]=V,h[3]=H;break;case 3:H=M,V=g+B/L,h[2]=V,h[3]=H;break;case 4:V=N,H=f+-A*L,h[2]=V,h[3]=H;break}}return!1},s.getCardinalDirection=function(o,u,h){return o>u?h:1+h%4},s.getIntersection=function(o,u,h,d){if(d==null)return this.getIntersection2(o,u,h);var p=o.x,g=o.y,f=u.x,m=u.y,y=h.x,b=h.y,v=d.x,x=d.y,w=void 0,k=void 0,T=void 0,_=void 0,C=void 0,E=void 0,N=void 0,M=void 0,I=void 0;return T=m-g,C=p-f,N=f*g-p*m,_=x-b,E=y-v,M=v*b-y*x,I=T*E-_*C,I===0?null:(w=(C*M-E*N)/I,k=(_*N-T*M)/I,new a(w,k))},s.angleOfVector=function(o,u,h,d){var p=void 0;return o!==h?(p=Math.atan((d-u)/(h-o)),h<o?p+=Math.PI:d<u&&(p+=this.TWO_PI)):d<u?p=this.ONE_AND_HALF_PI:p=this.HALF_PI,p},s.doIntersect=function(o,u,h,d){var p=o.x,g=o.y,f=u.x,m=u.y,y=h.x,b=h.y,v=d.x,x=d.y,w=(f-p)*(x-b)-(v-y)*(m-g);if(w===0)return!1;var k=((x-b)*(v-p)+(y-v)*(x-g))/w,T=((g-m)*(v-p)+(f-p)*(x-g))/w;return 0<k&&k<1&&0<T&&T<1},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,i,n){"use strict";function a(){}l(a,"IMath"),a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,i,n){"use strict";function a(){}l(a,"Integer"),a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,i,n){"use strict";var a=function(){function p(g,f){for(var m=0;m<f.length;m++){var y=f[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return l(p,"defineProperties"),function(g,f,m){return f&&p(g.prototype,f),m&&p(g,m),g}}();function s(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=l(function(p){return{value:p,next:null,prev:null}},"nodeFrom"),u=l(function(p,g,f,m){return p!==null?p.next=g:m.head=g,f!==null?f.prev=g:m.tail=g,g.prev=p,g.next=f,m.length++,g},"add"),h=l(function(p,g){var f=p.prev,m=p.next;return f!==null?f.next=m:g.head=m,m!==null?m.prev=f:g.tail=f,p.prev=p.next=null,g.length--,p},"_remove"),d=function(){function p(g){var f=this;s(this,p),this.length=0,this.head=null,this.tail=null,g?.forEach(function(m){return f.push(m)})}return l(p,"LinkedList"),a(p,[{key:"size",value:l(function(){return this.length},"size")},{key:"insertBefore",value:l(function(g,f){return u(f.prev,o(g),f,this)},"insertBefore")},{key:"insertAfter",value:l(function(g,f){return u(f,o(g),f.next,this)},"insertAfter")},{key:"insertNodeBefore",value:l(function(g,f){return u(f.prev,g,f,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:l(function(g,f){return u(f,g,f.next,this)},"insertNodeAfter")},{key:"push",value:l(function(g){return u(this.tail,o(g),null,this)},"push")},{key:"unshift",value:l(function(g){return u(null,o(g),this.head,this)},"unshift")},{key:"remove",value:l(function(g){return h(g,this)},"remove")},{key:"pop",value:l(function(){return h(this.tail,this).value},"pop")},{key:"popNode",value:l(function(){return h(this.tail,this)},"popNode")},{key:"shift",value:l(function(){return h(this.head,this).value},"shift")},{key:"shiftNode",value:l(function(){return h(this.head,this)},"shiftNode")},{key:"get_object_at",value:l(function(g){if(g<=this.length()){for(var f=1,m=this.head;f<g;)m=m.next,f++;return m.value}},"get_object_at")},{key:"set_object_at",value:l(function(g,f){if(g<=this.length()){for(var m=1,y=this.head;m<g;)y=y.next,m++;y.value=f}},"set_object_at")}]),p}();r.exports=d},function(r,i,n){"use strict";function a(s,o,u){this.x=null,this.y=null,s==null&&o==null&&u==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&u==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&u==null&&(u=s,this.x=u.x,this.y=u.y)}l(a,"Point"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,u){s.constructor.name=="Point"&&o==null&&u==null?(u=s,this.setLocation(u.x,u.y)):typeof s=="number"&&typeof o=="number"&&u==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,i,n){"use strict";function a(s,o,u,h){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&u!=null&&h!=null&&(this.x=s,this.y=o,this.width=u,this.height=h)}l(a,"RectangleD"),a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,i,n){"use strict";var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}l(s,"UniqueIDGeneretor"),s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var u=typeof o>"u"?"undefined":a(o);return o==null||u!="object"&&u!="function"},r.exports=s},function(r,i,n){"use strict";function a(y){if(Array.isArray(y)){for(var b=0,v=Array(y.length);b<y.length;b++)v[b]=y[b];return v}else return Array.from(y)}l(a,"_toConsumableArray");var s=n(0),o=n(6),u=n(3),h=n(1),d=n(5),p=n(4),g=n(17),f=n(27);function m(y){f.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}l(m,"Layout"),m.RANDOM_SEED=1,m.prototype=Object.create(f.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var y=new o(this);return this.graphManager=y,y},m.prototype.newGraph=function(y){return new d(null,this.graphManager,y)},m.prototype.newNode=function(y){return new u(this.graphManager,y)},m.prototype.newEdge=function(y){return new h(null,null,y)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),s.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y,b=this.graphManager.getAllEdges(),v=0;v<b.length;v++)y=b[v];for(var x,w=this.graphManager.getRoot().getNodes(),v=0;v<w.length;v++)x=w[v];this.update(this.graphManager.getRoot())}},m.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof u){var b=y;if(b.getChild()!=null)for(var v=b.getChild().getNodes(),x=0;x<v.length;x++)update(v[x]);if(b.vGraphObject!=null){var w=b.vGraphObject;w.update(b)}}else if(y instanceof h){var k=y;if(k.vGraphObject!=null){var T=k.vGraphObject;T.update(k)}}else if(y instanceof d){var _=y;if(_.vGraphObject!=null){var C=_.vGraphObject;C.update(_)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(y){if(y==null)this.transform(new p(0,0));else{var b=new g,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){b.setWorldOrgX(y.x),b.setWorldOrgY(y.y),b.setDeviceOrgX(v.x),b.setDeviceOrgY(v.y);for(var x=this.getAllNodes(),w,k=0;k<x.length;k++)w=x[k],w.transform(b)}}},m.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var b,v,x=y.getNodes(),w=0;w<x.length;w++)b=x[w],v=b.getChild(),v==null||v.getNodes().length==0?b.scatter():(this.positionNodesRandomly(v),b.updateBounds())},m.prototype.getFlatForest=function(){for(var y=[],b=!0,v=this.graphManager.getRoot().getNodes(),x=!0,w=0;w<v.length;w++)v[w].getChild()!=null&&(x=!1);if(!x)return y;var k=new Set,T=[],_=new Map,C=[];for(C=C.concat(v);C.length>0&&b;){for(T.push(C[0]);T.length>0&&b;){var E=T[0];T.splice(0,1),k.add(E);for(var N=E.getEdges(),w=0;w<N.length;w++){var M=N[w].getOtherEnd(E);if(_.get(E)!=M)if(!k.has(M))T.push(M),_.set(M,E);else{b=!1;break}}}if(!b)y=[];else{var I=[].concat(a(k));y.push(I);for(var w=0;w<I.length;w++){var A=I[w],B=C.indexOf(A);B>-1&&C.splice(B,1)}k=new Set,_=new Map}}return y},m.prototype.createDummyNodesForBendpoints=function(y){for(var b=[],v=y.source,x=this.graphManager.calcLowestCommonAncestor(y.source,y.target),w=0;w<y.bendpoints.length;w++){var k=this.newNode(null);k.setRect(new Point(0,0),new Dimension(1,1)),x.add(k);var T=this.newEdge(null);this.graphManager.add(T,v,k),b.add(k),v=k}var T=this.newEdge(null);return this.graphManager.add(T,v,y.target),this.edgeToDummyNodes.set(y,b),y.isInterGraph()?this.graphManager.remove(y):x.remove(y),b},m.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(a(this.edgeToDummyNodes.keys())).concat(y);for(var b=0;b<y.length;b++){var v=y[b];if(v.bendpoints.length>0){for(var x=this.edgeToDummyNodes.get(v),w=0;w<x.length;w++){var k=x[w],T=new p(k.getCenterX(),k.getCenterY()),_=v.bendpoints.get(w);_.x=T.x,_.y=T.y,k.getOwner().remove(k)}this.graphManager.add(v,v.source,v.target)}}},m.transform=function(y,b,v,x){if(v!=null&&x!=null){var w=b;if(y<=50){var k=b/v;w-=(b-k)/50*(50-y)}else{var T=b*x;w+=(T-b)/50*(y-50)}return w}else{var _,C;return y<=50?(_=9*b/500,C=b/10):(_=9*b/50,C=-8*b),_*y+C}},m.findCenterOfTree=function(y){var b=[];b=b.concat(y);var v=[],x=new Map,w=!1,k=null;(b.length==1||b.length==2)&&(w=!0,k=b[0]);for(var T=0;T<b.length;T++){var _=b[T],C=_.getNeighborsList().size;x.set(_,_.getNeighborsList().size),C==1&&v.push(_)}var E=[];for(E=E.concat(v);!w;){var N=[];N=N.concat(E),E=[];for(var T=0;T<b.length;T++){var _=b[T],M=b.indexOf(_);M>=0&&b.splice(M,1);var I=_.getNeighborsList();I.forEach(function(S){if(v.indexOf(S)<0){var O=x.get(S),R=O-1;R==1&&E.push(S),x.set(S,R)}})}v=v.concat(E),(b.length==1||b.length==2)&&(w=!0,k=b[0])}return k},m.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=m},function(r,i,n){"use strict";function a(){}l(a,"RandomSeed"),a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,i,n){"use strict";var a=n(4);function s(o,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}l(s,"Transform"),s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var u=0,h=this.lworldExtX;return h!=0&&(u=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/h),u},s.prototype.transformY=function(o){var u=0,h=this.lworldExtY;return h!=0&&(u=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/h),u},s.prototype.inverseTransformX=function(o){var u=0,h=this.ldeviceExtX;return h!=0&&(u=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/h),u},s.prototype.inverseTransformY=function(o){var u=0,h=this.ldeviceExtY;return h!=0&&(u=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/h),u},s.prototype.inverseTransformPoint=function(o){var u=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return u},r.exports=s},function(r,i,n){"use strict";function a(f){if(Array.isArray(f)){for(var m=0,y=Array(f.length);m<f.length;m++)y[m]=f[m];return y}else return Array.from(f)}l(a,"_toConsumableArray");var s=n(15),o=n(7),u=n(0),h=n(8),d=n(9);function p(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}l(p,"FDLayout"),p.prototype=Object.create(s.prototype);for(var g in s)p[g]=s[g];p.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var f,m,y,b,v,x,w=this.getGraphManager().getAllEdges(),k=0;k<w.length;k++)f=w[k],f.idealLength=this.idealEdgeLength,f.isInterGraph&&(y=f.getSource(),b=f.getTarget(),v=f.getSourceInLca().getEstimatedSize(),x=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=v+x-2*u.SIMPLE_NODE_SIZE),m=f.getLca().getInclusionTreeDepth(),f.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(y.getInclusionTreeDepth()+b.getInclusionTreeDepth()-2*m))},p.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),m,y=0;y<f.length;y++)m=f[y],this.calcSpringForce(m,m.idealLength)},p.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,b,v,x,w=this.getAllNodes(),k;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),k=new Set,y=0;y<w.length;y++)v=w[y],this.calculateRepulsionForceOfANode(v,k,f,m),k.add(v);else for(y=0;y<w.length;y++)for(v=w[y],b=y+1;b<w.length;b++)x=w[b],v.getOwner()==x.getOwner()&&this.calcRepulsionForce(v,x)},p.prototype.calcGravitationalForces=function(){for(var f,m=this.getAllNodesToApplyGravitation(),y=0;y<m.length;y++)f=m[y],this.calcGravitationalForce(f)},p.prototype.moveNodes=function(){for(var f=this.getAllNodes(),m,y=0;y<f.length;y++)m=f[y],m.move()},p.prototype.calcSpringForce=function(f,m){var y=f.getSource(),b=f.getTarget(),v,x,w,k;if(this.uniformLeafNodeSizes&&y.getChild()==null&&b.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;v=f.getLength(),v!=0&&(x=this.springConstant*(v-m),w=x*(f.lengthX/v),k=x*(f.lengthY/v),y.springForceX+=w,y.springForceY+=k,b.springForceX-=w,b.springForceY-=k)},p.prototype.calcRepulsionForce=function(f,m){var y=f.getRect(),b=m.getRect(),v=new Array(2),x=new Array(4),w,k,T,_,C,E,N;if(y.intersects(b)){h.calcSeparationAmount(y,b,v,o.DEFAULT_EDGE_LENGTH/2),E=2*v[0],N=2*v[1];var M=f.noOfChildren*m.noOfChildren/(f.noOfChildren+m.noOfChildren);f.repulsionForceX-=M*E,f.repulsionForceY-=M*N,m.repulsionForceX+=M*E,m.repulsionForceY+=M*N}else this.uniformLeafNodeSizes&&f.getChild()==null&&m.getChild()==null?(w=b.getCenterX()-y.getCenterX(),k=b.getCenterY()-y.getCenterY()):(h.getIntersection(y,b,x),w=x[2]-x[0],k=x[3]-x[1]),Math.abs(w)<o.MIN_REPULSION_DIST&&(w=d.sign(w)*o.MIN_REPULSION_DIST),Math.abs(k)<o.MIN_REPULSION_DIST&&(k=d.sign(k)*o.MIN_REPULSION_DIST),T=w*w+k*k,_=Math.sqrt(T),C=this.repulsionConstant*f.noOfChildren*m.noOfChildren/T,E=C*w/_,N=C*k/_,f.repulsionForceX-=E,f.repulsionForceY-=N,m.repulsionForceX+=E,m.repulsionForceY+=N},p.prototype.calcGravitationalForce=function(f){var m,y,b,v,x,w,k,T;m=f.getOwner(),y=(m.getRight()+m.getLeft())/2,b=(m.getTop()+m.getBottom())/2,v=f.getCenterX()-y,x=f.getCenterY()-b,w=Math.abs(v)+f.getWidth()/2,k=Math.abs(x)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(T=m.getEstimatedSize()*this.gravityRangeFactor,(w>T||k>T)&&(f.gravitationForceX=-this.gravityConstant*v,f.gravitationForceY=-this.gravityConstant*x)):(T=m.getEstimatedSize()*this.compoundGravityRangeFactor,(w>T||k>T)&&(f.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*x*this.compoundGravityConstant))},p.prototype.isConverged=function(){var f,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||m},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,m=this.graphManager.getAllNodes(),y=0;y<m.length;y++)f=m[y],f.noOfChildren=f.getNoOfChildren()},p.prototype.calcGrid=function(f){var m=0,y=0;m=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var b=new Array(m),v=0;v<m;v++)b[v]=new Array(y);for(var v=0;v<m;v++)for(var x=0;x<y;x++)b[v][x]=new Array;return b},p.prototype.addNodeToGrid=function(f,m,y){var b=0,v=0,x=0,w=0;b=parseInt(Math.floor((f.getRect().x-m)/this.repulsionRange)),v=parseInt(Math.floor((f.getRect().width+f.getRect().x-m)/this.repulsionRange)),x=parseInt(Math.floor((f.getRect().y-y)/this.repulsionRange)),w=parseInt(Math.floor((f.getRect().height+f.getRect().y-y)/this.repulsionRange));for(var k=b;k<=v;k++)for(var T=x;T<=w;T++)this.grid[k][T].push(f),f.setGridCoordinates(b,v,x,w)},p.prototype.updateGrid=function(){var f,m,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<y.length;f++)m=y[f],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(f,m,y,b){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&y||b){var v=new Set;f.surrounding=new Array;for(var x,w=this.grid,k=f.startX-1;k<f.finishX+2;k++)for(var T=f.startY-1;T<f.finishY+2;T++)if(!(k<0||T<0||k>=w.length||T>=w[0].length)){for(var _=0;_<w[k][T].length;_++)if(x=w[k][T][_],!(f.getOwner()!=x.getOwner()||f==x)&&!m.has(x)&&!v.has(x)){var C=Math.abs(f.getCenterX()-x.getCenterX())-(f.getWidth()/2+x.getWidth()/2),E=Math.abs(f.getCenterY()-x.getCenterY())-(f.getHeight()/2+x.getHeight()/2);C<=this.repulsionRange&&E<=this.repulsionRange&&v.add(x)}}f.surrounding=[].concat(a(v))}for(k=0;k<f.surrounding.length;k++)this.calcRepulsionForce(f,f.surrounding[k])},p.prototype.calcRepulsionRange=function(){return 0},r.exports=p},function(r,i,n){"use strict";var a=n(1),s=n(7);function o(h,d,p){a.call(this,h,d,p),this.idealLength=s.DEFAULT_EDGE_LENGTH}l(o,"FDLayoutEdge"),o.prototype=Object.create(a.prototype);for(var u in a)o[u]=a[u];r.exports=o},function(r,i,n){"use strict";var a=n(3);function s(u,h,d,p){a.call(this,u,h,d,p),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}l(s,"FDLayoutNode"),s.prototype=Object.create(a.prototype);for(var o in a)s[o]=a[o];s.prototype.setGridCoordinates=function(u,h,d,p){this.startX=u,this.finishX=h,this.startY=d,this.finishY=p},r.exports=s},function(r,i,n){"use strict";function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}l(a,"DimensionD"),a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,i,n){"use strict";var a=n(14);function s(){this.map={},this.keys=[]}l(s,"HashMap"),s.prototype.put=function(o,u){var h=a.createID(o);this.contains(h)||(this.map[h]=u,this.keys.push(o))},s.prototype.contains=function(o){var u=a.createID(o);return this.map[o]!=null},s.prototype.get=function(o){var u=a.createID(o);return this.map[u]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,i,n){"use strict";var a=n(14);function s(){this.set={}}l(s,"HashSet"),s.prototype.add=function(o){var u=a.createID(o);this.contains(u)||(this.set[u]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var u=Object.keys(this.set),h=u.length,d=0;d<h;d++)o.push(this.set[u[d]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var u=o.length,h=0;h<u;h++){var d=o[h];this.add(d)}},r.exports=s},function(r,i,n){"use strict";var a=function(){function h(d,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return l(h,"defineProperties"),function(d,p,g){return p&&h(d.prototype,p),g&&h(d,g),d}}();function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=n(11),u=function(){function h(d,p){s(this,h),(p!==null||p!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var g=void 0;d instanceof o?g=d.size():g=d.length,this._quicksort(d,0,g-1)}return l(h,"Quicksort"),a(h,[{key:"_quicksort",value:l(function(d,p,g){if(p<g){var f=this._partition(d,p,g);this._quicksort(d,p,f),this._quicksort(d,f+1,g)}},"_quicksort")},{key:"_partition",value:l(function(d,p,g){for(var f=this._get(d,p),m=p,y=g;;){for(;this.compareFunction(f,this._get(d,y));)y--;for(;this.compareFunction(this._get(d,m),f);)m++;if(m<y)this._swap(d,m,y),m++,y--;else return y}},"_partition")},{key:"_get",value:l(function(d,p){return d instanceof o?d.get_object_at(p):d[p]},"_get")},{key:"_set",value:l(function(d,p,g){d instanceof o?d.set_object_at(p,g):d[p]=g},"_set")},{key:"_swap",value:l(function(d,p,g){var f=this._get(d,p);this._set(d,p,this._get(d,g)),this._set(d,g,f)},"_swap")},{key:"_defaultCompareFunction",value:l(function(d,p){return p>d},"_defaultCompareFunction")}]),h}();r.exports=u},function(r,i,n){"use strict";var a=function(){function u(h,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return l(u,"defineProperties"),function(h,d,p){return d&&u(h.prototype,d),p&&u(h,p),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=function(){function u(h,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,u),this.sequence1=h,this.sequence2=d,this.match_score=p,this.mismatch_penalty=g,this.gap_penalty=f,this.iMax=h.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[m][y]=0}this.tracebackGrid=new Array(this.iMax);for(var b=0;b<this.iMax;b++){this.tracebackGrid[b]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[b][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return l(u,"NeedlemanWunsch"),a(u,[{key:"getScore",value:l(function(){return this.score},"getScore")},{key:"getAlignments",value:l(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:l(function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var g=1;g<this.jMax;g++){var f=void 0;this.sequence1[p-1]===this.sequence2[g-1]?f=this.grid[p-1][g-1]+this.match_score:f=this.grid[p-1][g-1]+this.mismatch_penalty;var m=this.grid[p-1][g]+this.gap_penalty,y=this.grid[p][g-1]+this.gap_penalty,b=[f,m,y],v=this.arrayAllMaxIndexes(b);this.grid[p][g]=b[v[0]],this.tracebackGrid[p][g]=[v.includes(0),v.includes(1),v.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:l(function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var d=h[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&h.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&h.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&h.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),h.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:l(function(h,d){for(var p=[],g=-1;(g=h.indexOf(d,g+1))!==-1;)p.push(g);return p},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:l(function(h){return this.getAllIndexes(h,Math.max.apply(null,h))},"arrayAllMaxIndexes")}]),u}();r.exports=o},function(r,i,n){"use strict";var a=l(function(){},"layoutBase");a.FDLayout=n(18),a.FDLayoutConstants=n(7),a.FDLayoutEdge=n(19),a.FDLayoutNode=n(20),a.DimensionD=n(21),a.HashMap=n(22),a.HashSet=n(23),a.IGeometry=n(8),a.IMath=n(9),a.Integer=n(10),a.Point=n(12),a.PointD=n(4),a.RandomSeed=n(16),a.RectangleD=n(13),a.Transform=n(17),a.UniqueIDGeneretor=n(14),a.Quicksort=n(24),a.LinkedList=n(11),a.LGraphObject=n(2),a.LGraph=n(5),a.LEdge=n(1),a.LGraphManager=n(6),a.LNode=n(3),a.Layout=n(15),a.LayoutConstants=n(0),a.NeedlemanWunsch=n(25),r.exports=a},function(r,i,n){"use strict";function a(){this.listeners=[]}l(a,"Emitter");var s=a.prototype;s.addListener=function(o,u){this.listeners.push({event:o,callback:u})},s.removeListener=function(o,u){for(var h=this.listeners.length;h>=0;h--){var d=this.listeners[h];d.event===o&&d.callback===u&&this.listeners.splice(h,1)}},s.emit=function(o,u){for(var h=0;h<this.listeners.length;h++){var d=this.listeners[h];o===d.event&&d.callback(u)}},r.exports=a}])})}),R7e=_n((e,t)=>{"use strict";l(function(r,i){typeof e=="object"&&typeof t=="object"?t.exports=i(D7e()):typeof define=="function"&&define.amd?define(["layout-base"],i):typeof e=="object"?e.coseBase=i(D7e()):r.coseBase=i(r.layoutBase)},"webpackUniversalModuleDefinition")(e,function(r){return function(i){var n={};function a(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return i[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return l(a,"__webpack_require__"),a.m=i,a.c=n,a.i=function(s){return s},a.d=function(s,o,u){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:u})},a.n=function(s){var o=s&&s.__esModule?l(function(){return s.default},"getDefault"):l(function(){return s},"getModuleExports");return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=7)}([function(i,n){i.exports=r},function(i,n,a){"use strict";var s=a(0).FDLayoutConstants;function o(){}l(o,"CoSEConstants");for(var u in s)o[u]=s[u];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=s.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,i.exports=o},function(i,n,a){"use strict";var s=a(0).FDLayoutEdge;function o(h,d,p){s.call(this,h,d,p)}l(o,"CoSEEdge"),o.prototype=Object.create(s.prototype);for(var u in s)o[u]=s[u];i.exports=o},function(i,n,a){"use strict";var s=a(0).LGraph;function o(h,d,p){s.call(this,h,d,p)}l(o,"CoSEGraph"),o.prototype=Object.create(s.prototype);for(var u in s)o[u]=s[u];i.exports=o},function(i,n,a){"use strict";var s=a(0).LGraphManager;function o(h){s.call(this,h)}l(o,"CoSEGraphManager"),o.prototype=Object.create(s.prototype);for(var u in s)o[u]=s[u];i.exports=o},function(i,n,a){"use strict";var s=a(0).FDLayoutNode,o=a(0).IMath;function u(d,p,g,f){s.call(this,d,p,g,f)}l(u,"CoSENode"),u.prototype=Object.create(s.prototype);for(var h in s)u[h]=s[h];u.prototype.move=function(){var d=this.graphManager.getLayout();this.displacementX=d.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=d.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementX=d.coolingFactor*d.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementY=d.coolingFactor*d.maxNodeDisplacement*o.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),d.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(d,p){for(var g=this.getChild().getNodes(),f,m=0;m<g.length;m++)f=g[m],f.getChild()==null?(f.moveBy(d,p),f.displacementX+=d,f.displacementY+=p):f.propogateDisplacementToChildren(d,p)},u.prototype.setPred1=function(d){this.pred1=d},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(d){this.next=d},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(d){this.processed=d},u.prototype.isProcessed=function(){return processed},i.exports=u},function(i,n,a){"use strict";var s=a(0).FDLayout,o=a(4),u=a(3),h=a(5),d=a(2),p=a(1),g=a(0).FDLayoutConstants,f=a(0).LayoutConstants,m=a(0).Point,y=a(0).PointD,b=a(0).Layout,v=a(0).Integer,x=a(0).IGeometry,w=a(0).LGraph,k=a(0).Transform;function T(){s.call(this),this.toBeTiled={}}l(T,"CoSELayout"),T.prototype=Object.create(s.prototype);for(var _ in s)T[_]=s[_];T.prototype.newGraphManager=function(){var C=new o(this);return this.graphManager=C,C},T.prototype.newGraph=function(C){return new u(null,this.graphManager,C)},T.prototype.newNode=function(C){return new h(this.graphManager,C)},T.prototype.newEdge=function(C){return new d(null,null,C)},T.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.isSubLayout||(p.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=p.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=p.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=g.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=g.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=g.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=g.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=g.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/g.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=g.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},T.prototype.layout=function(){var C=f.DEFAULT_CREATE_BENDS_AS_NEEDED;return C&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},T.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(p.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var C=new Set(this.getAllNodes()),E=this.nodesWithGravity.filter(function(M){return C.has(M)});this.graphManager.setAllNodesToApplyGravitation(E)}}else{var N=this.getFlatForest();if(N.length>0)this.positionNodesRadially(N);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var C=new Set(this.getAllNodes()),E=this.nodesWithGravity.filter(function(A){return C.has(A)});this.graphManager.setAllNodesToApplyGravitation(E),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},T.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%g.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var C=new Set(this.getAllNodes()),E=this.nodesWithGravity.filter(function(I){return C.has(I)});this.graphManager.setAllNodesToApplyGravitation(E),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var N=!this.isTreeGrowing&&!this.isGrowthFinished,M=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(N,M),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},T.prototype.getPositionsData=function(){for(var C=this.graphManager.getAllNodes(),E={},N=0;N<C.length;N++){var M=C[N].rect,I=C[N].id;E[I]={id:I,x:M.getCenterX(),y:M.getCenterY(),w:M.width,h:M.height}}return E},T.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var C=!1;if(g.ANIMATE==="during")this.emit("layoutstarted");else{for(;!C;)C=this.tick();this.graphManager.updateBounds()}},T.prototype.calculateNodesToApplyGravitationTo=function(){var C=[],E,N=this.graphManager.getGraphs(),M=N.length,I;for(I=0;I<M;I++)E=N[I],E.updateConnected(),E.isConnected||(C=C.concat(E.getNodes()));return C},T.prototype.createBendpoints=function(){var C=[];C=C.concat(this.graphManager.getAllEdges());var E=new Set,N;for(N=0;N<C.length;N++){var M=C[N];if(!E.has(M)){var I=M.getSource(),A=M.getTarget();if(I==A)M.getBendpoints().push(new y),M.getBendpoints().push(new y),this.createDummyNodesForBendpoints(M),E.add(M);else{var B=[];if(B=B.concat(I.getEdgeListToNode(A)),B=B.concat(A.getEdgeListToNode(I)),!E.has(B[0])){if(B.length>1){var S;for(S=0;S<B.length;S++){var O=B[S];O.getBendpoints().push(new y),this.createDummyNodesForBendpoints(O)}}B.forEach(function(R){E.add(R)})}}}if(E.size==C.length)break}},T.prototype.positionNodesRadially=function(C){for(var E=new m(0,0),N=Math.ceil(Math.sqrt(C.length)),M=0,I=0,A=0,B=new y(0,0),S=0;S<C.length;S++){S%N==0&&(A=0,I=M,S!=0&&(I+=p.DEFAULT_COMPONENT_SEPERATION),M=0);var O=C[S],R=b.findCenterOfTree(O);E.x=A,E.y=I,B=T.radialLayout(O,R,E),B.y>M&&(M=Math.floor(B.y)),A=Math.floor(B.x+p.DEFAULT_COMPONENT_SEPERATION)}this.transform(new y(f.WORLD_CENTER_X-B.x/2,f.WORLD_CENTER_Y-B.y/2))},T.radialLayout=function(C,E,N){var M=Math.max(this.maxDiagonalInTree(C),p.DEFAULT_RADIAL_SEPARATION);T.branchRadialLayout(E,null,0,359,0,M);var I=w.calculateBounds(C),A=new k;A.setDeviceOrgX(I.getMinX()),A.setDeviceOrgY(I.getMinY()),A.setWorldOrgX(N.x),A.setWorldOrgY(N.y);for(var B=0;B<C.length;B++){var S=C[B];S.transform(A)}var O=new y(I.getMaxX(),I.getMaxY());return A.inverseTransformPoint(O)},T.branchRadialLayout=function(C,E,N,M,I,A){var B=(M-N+1)/2;B<0&&(B+=180);var S=(B+N)%360,O=S*x.TWO_PI/360,R=Math.cos(O),P=I*Math.cos(O),L=I*Math.sin(O);C.setCenter(P,L);var $=[];$=$.concat(C.getEdges());var F=$.length;E!=null&&F--;for(var G=0,q=$.length,V,H=C.getEdgesBetween(E);H.length>1;){var ae=H[0];H.splice(0,1);var re=$.indexOf(ae);re>=0&&$.splice(re,1),q--,F--}E!=null?V=($.indexOf(H[0])+1)%q:V=0;for(var oe=Math.abs(M-N)/F,ue=V;G!=F;ue=++ue%q){var W=$[ue].getOtherEnd(C);if(W!=E){var ee=(N+G*oe)%360,X=(ee+oe)%360;T.branchRadialLayout(W,C,ee,X,I+A,A),G++}}},T.maxDiagonalInTree=function(C){for(var E=v.MIN_VALUE,N=0;N<C.length;N++){var M=C[N],I=M.getDiagonal();I>E&&(E=I)}return E},T.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},T.prototype.groupZeroDegreeMembers=function(){var C=this,E={};this.memberGroups={},this.idToDummyNode={};for(var N=[],M=this.graphManager.getAllNodes(),I=0;I<M.length;I++){var A=M[I],B=A.getParent();this.getNodeDegreeWithChildren(A)===0&&(B.id==null||!this.getToBeTiled(B))&&N.push(A)}for(var I=0;I<N.length;I++){var A=N[I],S=A.getParent().id;typeof E[S]>"u"&&(E[S]=[]),E[S]=E[S].concat(A)}Object.keys(E).forEach(function(O){if(E[O].length>1){var R="DummyCompound_"+O;C.memberGroups[R]=E[O];var P=E[O][0].getParent(),L=new h(C.graphManager);L.id=R,L.paddingLeft=P.paddingLeft||0,L.paddingRight=P.paddingRight||0,L.paddingBottom=P.paddingBottom||0,L.paddingTop=P.paddingTop||0,C.idToDummyNode[R]=L;var $=C.getGraphManager().add(C.newGraph(),L),F=P.getChild();F.add(L);for(var G=0;G<E[O].length;G++){var q=E[O][G];F.remove(q),$.add(q)}}})},T.prototype.clearCompounds=function(){var C={},E={};this.performDFSOnCompounds();for(var N=0;N<this.compoundOrder.length;N++)E[this.compoundOrder[N].id]=this.compoundOrder[N],C[this.compoundOrder[N].id]=[].concat(this.compoundOrder[N].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[N].getChild()),this.compoundOrder[N].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(C,E)},T.prototype.clearZeroDegreeMembers=function(){var C=this,E=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(N){var M=C.idToDummyNode[N];E[N]=C.tileNodes(C.memberGroups[N],M.paddingLeft+M.paddingRight),M.rect.width=E[N].width,M.rect.height=E[N].height})},T.prototype.repopulateCompounds=function(){for(var C=this.compoundOrder.length-1;C>=0;C--){var E=this.compoundOrder[C],N=E.id,M=E.paddingLeft,I=E.paddingTop;this.adjustLocations(this.tiledMemberPack[N],E.rect.x,E.rect.y,M,I)}},T.prototype.repopulateZeroDegreeMembers=function(){var C=this,E=this.tiledZeroDegreePack;Object.keys(E).forEach(function(N){var M=C.idToDummyNode[N],I=M.paddingLeft,A=M.paddingTop;C.adjustLocations(E[N],M.rect.x,M.rect.y,I,A)})},T.prototype.getToBeTiled=function(C){var E=C.id;if(this.toBeTiled[E]!=null)return this.toBeTiled[E];var N=C.getChild();if(N==null)return this.toBeTiled[E]=!1,!1;for(var M=N.getNodes(),I=0;I<M.length;I++){var A=M[I];if(this.getNodeDegree(A)>0)return this.toBeTiled[E]=!1,!1;if(A.getChild()==null){this.toBeTiled[A.id]=!1;continue}if(!this.getToBeTiled(A))return this.toBeTiled[E]=!1,!1}return this.toBeTiled[E]=!0,!0},T.prototype.getNodeDegree=function(C){for(var E=C.id,N=C.getEdges(),M=0,I=0;I<N.length;I++){var A=N[I];A.getSource().id!==A.getTarget().id&&(M=M+1)}return M},T.prototype.getNodeDegreeWithChildren=function(C){var E=this.getNodeDegree(C);if(C.getChild()==null)return E;for(var N=C.getChild().getNodes(),M=0;M<N.length;M++){var I=N[M];E+=this.getNodeDegreeWithChildren(I)}return E},T.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},T.prototype.fillCompexOrderByDFS=function(C){for(var E=0;E<C.length;E++){var N=C[E];N.getChild()!=null&&this.fillCompexOrderByDFS(N.getChild().getNodes()),this.getToBeTiled(N)&&this.compoundOrder.push(N)}},T.prototype.adjustLocations=function(C,E,N,M,I){E+=M,N+=I;for(var A=E,B=0;B<C.rows.length;B++){var S=C.rows[B];E=A;for(var O=0,R=0;R<S.length;R++){var P=S[R];P.rect.x=E,P.rect.y=N,E+=P.rect.width+C.horizontalPadding,P.rect.height>O&&(O=P.rect.height)}N+=O+C.verticalPadding}},T.prototype.tileCompoundMembers=function(C,E){var N=this;this.tiledMemberPack=[],Object.keys(C).forEach(function(M){var I=E[M];N.tiledMemberPack[M]=N.tileNodes(C[M],I.paddingLeft+I.paddingRight),I.rect.width=N.tiledMemberPack[M].width,I.rect.height=N.tiledMemberPack[M].height})},T.prototype.tileNodes=function(C,E){var N=p.TILING_PADDING_VERTICAL,M=p.TILING_PADDING_HORIZONTAL,I={rows:[],rowWidth:[],rowHeight:[],width:0,height:E,verticalPadding:N,horizontalPadding:M};C.sort(function(S,O){return S.rect.width*S.rect.height>O.rect.width*O.rect.height?-1:S.rect.width*S.rect.height<O.rect.width*O.rect.height?1:0});for(var A=0;A<C.length;A++){var B=C[A];I.rows.length==0?this.insertNodeToRow(I,B,0,E):this.canAddHorizontal(I,B.rect.width,B.rect.height)?this.insertNodeToRow(I,B,this.getShortestRowIndex(I),E):this.insertNodeToRow(I,B,I.rows.length,E),this.shiftToLastRow(I)}return I},T.prototype.insertNodeToRow=function(C,E,N,M){var I=M;if(N==C.rows.length){var A=[];C.rows.push(A),C.rowWidth.push(I),C.rowHeight.push(0)}var B=C.rowWidth[N]+E.rect.width;C.rows[N].length>0&&(B+=C.horizontalPadding),C.rowWidth[N]=B,C.width<B&&(C.width=B);var S=E.rect.height;N>0&&(S+=C.verticalPadding);var O=0;S>C.rowHeight[N]&&(O=C.rowHeight[N],C.rowHeight[N]=S,O=C.rowHeight[N]-O),C.height+=O,C.rows[N].push(E)},T.prototype.getShortestRowIndex=function(C){for(var E=-1,N=Number.MAX_VALUE,M=0;M<C.rows.length;M++)C.rowWidth[M]<N&&(E=M,N=C.rowWidth[M]);return E},T.prototype.getLongestRowIndex=function(C){for(var E=-1,N=Number.MIN_VALUE,M=0;M<C.rows.length;M++)C.rowWidth[M]>N&&(E=M,N=C.rowWidth[M]);return E},T.prototype.canAddHorizontal=function(C,E,N){var M=this.getShortestRowIndex(C);if(M<0)return!0;var I=C.rowWidth[M];if(I+C.horizontalPadding+E<=C.width)return!0;var A=0;C.rowHeight[M]<N&&M>0&&(A=N+C.verticalPadding-C.rowHeight[M]);var B;C.width-I>=E+C.horizontalPadding?B=(C.height+A)/(I+E+C.horizontalPadding):B=(C.height+A)/C.width,A=N+C.verticalPadding;var S;return C.width<E?S=(C.height+A)/E:S=(C.height+A)/C.width,S<1&&(S=1/S),B<1&&(B=1/B),B<S},T.prototype.shiftToLastRow=function(C){var E=this.getLongestRowIndex(C),N=C.rowWidth.length-1,M=C.rows[E],I=M[M.length-1],A=I.width+C.horizontalPadding;if(C.width-C.rowWidth[N]>A&&E!=N){M.splice(-1,1),C.rows[N].push(I),C.rowWidth[E]=C.rowWidth[E]-A,C.rowWidth[N]=C.rowWidth[N]+A,C.width=C.rowWidth[instance.getLongestRowIndex(C)];for(var B=Number.MIN_VALUE,S=0;S<M.length;S++)M[S].height>B&&(B=M[S].height);E>0&&(B+=C.verticalPadding);var O=C.rowHeight[E]+C.rowHeight[N];C.rowHeight[E]=B,C.rowHeight[N]<I.height+C.verticalPadding&&(C.rowHeight[N]=I.height+C.verticalPadding);var R=C.rowHeight[E]+C.rowHeight[N];C.height+=R-O,this.shiftToLastRow(C)}},T.prototype.tilingPreLayout=function(){p.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},T.prototype.tilingPostLayout=function(){p.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},T.prototype.reduceTrees=function(){for(var C=[],E=!0,N;E;){var M=this.graphManager.getAllNodes(),I=[];E=!1;for(var A=0;A<M.length;A++)N=M[A],N.getEdges().length==1&&!N.getEdges()[0].isInterGraph&&N.getChild()==null&&(I.push([N,N.getEdges()[0],N.getOwner()]),E=!0);if(E==!0){for(var B=[],S=0;S<I.length;S++)I[S][0].getEdges().length==1&&(B.push(I[S]),I[S][0].getOwner().remove(I[S][0]));C.push(B),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=C},T.prototype.growTree=function(C){for(var E=C.length,N=C[E-1],M,I=0;I<N.length;I++)M=N[I],this.findPlaceforPrunedNode(M),M[2].add(M[0]),M[2].add(M[1],M[1].source,M[1].target);C.splice(C.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},T.prototype.findPlaceforPrunedNode=function(C){var E,N,M=C[0];M==C[1].source?N=C[1].target:N=C[1].source;var I=N.startX,A=N.finishX,B=N.startY,S=N.finishY,O=0,R=0,P=0,L=0,$=[O,P,R,L];if(B>0)for(var F=I;F<=A;F++)$[0]+=this.grid[F][B-1].length+this.grid[F][B].length-1;if(A<this.grid.length-1)for(var F=B;F<=S;F++)$[1]+=this.grid[A+1][F].length+this.grid[A][F].length-1;if(S<this.grid[0].length-1)for(var F=I;F<=A;F++)$[2]+=this.grid[F][S+1].length+this.grid[F][S].length-1;if(I>0)for(var F=B;F<=S;F++)$[3]+=this.grid[I-1][F].length+this.grid[I][F].length-1;for(var G=v.MAX_VALUE,q,V,H=0;H<$.length;H++)$[H]<G?(G=$[H],q=1,V=H):$[H]==G&&q++;if(q==3&&G==0)$[0]==0&&$[1]==0&&$[2]==0?E=1:$[0]==0&&$[1]==0&&$[3]==0?E=0:$[0]==0&&$[2]==0&&$[3]==0?E=3:$[1]==0&&$[2]==0&&$[3]==0&&(E=2);else if(q==2&&G==0){var ae=Math.floor(Math.random()*2);$[0]==0&&$[1]==0?ae==0?E=0:E=1:$[0]==0&&$[2]==0?ae==0?E=0:E=2:$[0]==0&&$[3]==0?ae==0?E=0:E=3:$[1]==0&&$[2]==0?ae==0?E=1:E=2:$[1]==0&&$[3]==0?ae==0?E=1:E=3:ae==0?E=2:E=3}else if(q==4&&G==0){var ae=Math.floor(Math.random()*4);E=ae}else E=V;E==0?M.setCenter(N.getCenterX(),N.getCenterY()-N.getHeight()/2-g.DEFAULT_EDGE_LENGTH-M.getHeight()/2):E==1?M.setCenter(N.getCenterX()+N.getWidth()/2+g.DEFAULT_EDGE_LENGTH+M.getWidth()/2,N.getCenterY()):E==2?M.setCenter(N.getCenterX(),N.getCenterY()+N.getHeight()/2+g.DEFAULT_EDGE_LENGTH+M.getHeight()/2):M.setCenter(N.getCenterX()-N.getWidth()/2-g.DEFAULT_EDGE_LENGTH-M.getWidth()/2,N.getCenterY())},i.exports=T},function(i,n,a){"use strict";var s={};s.layoutBase=a(0),s.CoSEConstants=a(1),s.CoSEEdge=a(2),s.CoSEGraph=a(3),s.CoSEGraphManager=a(4),s.CoSELayout=a(6),s.CoSENode=a(5),i.exports=s}])})}),YZe=_n((e,t)=>{"use strict";l(function(r,i){typeof e=="object"&&typeof t=="object"?t.exports=i(R7e()):typeof define=="function"&&define.amd?define(["cose-base"],i):typeof e=="object"?e.cytoscapeCoseBilkent=i(R7e()):r.cytoscapeCoseBilkent=i(r.coseBase)},"webpackUniversalModuleDefinition")(e,function(r){return function(i){var n={};function a(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return i[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return l(a,"__webpack_require__"),a.m=i,a.c=n,a.i=function(s){return s},a.d=function(s,o,u){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:u})},a.n=function(s){var o=s&&s.__esModule?l(function(){return s.default},"getDefault"):l(function(){return s},"getModuleExports");return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=1)}([function(i,n){i.exports=r},function(i,n,a){"use strict";var s=a(0).layoutBase.LayoutConstants,o=a(0).layoutBase.FDLayoutConstants,u=a(0).CoSEConstants,h=a(0).CoSELayout,d=a(0).CoSENode,p=a(0).layoutBase.PointD,g=a(0).layoutBase.DimensionD,f={ready:l(function(){},"ready"),stop:l(function(){},"stop"),quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function m(x,w){var k={};for(var T in x)k[T]=x[T];for(var T in w)k[T]=w[T];return k}l(m,"extend");function y(x){this.options=m(f,x),b(this.options)}l(y,"_CoSELayout");var b=l(function(x){x.nodeRepulsion!=null&&(u.DEFAULT_REPULSION_STRENGTH=o.DEFAULT_REPULSION_STRENGTH=x.nodeRepulsion),x.idealEdgeLength!=null&&(u.DEFAULT_EDGE_LENGTH=o.DEFAULT_EDGE_LENGTH=x.idealEdgeLength),x.edgeElasticity!=null&&(u.DEFAULT_SPRING_STRENGTH=o.DEFAULT_SPRING_STRENGTH=x.edgeElasticity),x.nestingFactor!=null&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=x.nestingFactor),x.gravity!=null&&(u.DEFAULT_GRAVITY_STRENGTH=o.DEFAULT_GRAVITY_STRENGTH=x.gravity),x.numIter!=null&&(u.MAX_ITERATIONS=o.MAX_ITERATIONS=x.numIter),x.gravityRange!=null&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=o.DEFAULT_GRAVITY_RANGE_FACTOR=x.gravityRange),x.gravityCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=x.gravityCompound),x.gravityRangeCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=x.gravityRangeCompound),x.initialEnergyOnIncremental!=null&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=o.DEFAULT_COOLING_FACTOR_INCREMENTAL=x.initialEnergyOnIncremental),x.quality=="draft"?s.QUALITY=0:x.quality=="proof"?s.QUALITY=2:s.QUALITY=1,u.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=x.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=!x.randomize,u.ANIMATE=o.ANIMATE=s.ANIMATE=x.animate,u.TILE=x.tile,u.TILING_PADDING_VERTICAL=typeof x.tilingPaddingVertical=="function"?x.tilingPaddingVertical.call():x.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL=typeof x.tilingPaddingHorizontal=="function"?x.tilingPaddingHorizontal.call():x.tilingPaddingHorizontal},"getUserOptions");y.prototype.run=function(){var x,w,k=this.options,T=this.idToLNode={},_=this.layout=new h,C=this;C.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var E=_.newGraphManager();this.gm=E;var N=this.options.eles.nodes(),M=this.options.eles.edges();this.root=E.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(N),_);for(var I=0;I<M.length;I++){var A=M[I],B=this.idToLNode[A.data("source")],S=this.idToLNode[A.data("target")];if(B!==S&&B.getEdgesBetween(S).length==0){var O=E.add(_.newEdge(),B,S);O.id=A.id()}}var R=l(function(L,$){typeof L=="number"&&(L=$);var F=L.data("id"),G=C.idToLNode[F];return{x:G.getRect().getCenterX(),y:G.getRect().getCenterY()}},"getPositions"),P=l(function L(){for(var $=l(function(){k.fit&&k.cy.fit(k.eles,k.padding),x||(x=!0,C.cy.one("layoutready",k.ready),C.cy.trigger({type:"layoutready",layout:C}))},"afterReposition"),F=C.options.refresh,G,q=0;q<F&&!G;q++)G=C.stopped||C.layout.tick();if(G){_.checkLayoutSuccess()&&!_.isSubLayout&&_.doPostLayout(),_.tilingPostLayout&&_.tilingPostLayout(),_.isLayoutFinished=!0,C.options.eles.nodes().positions(R),$(),C.cy.one("layoutstop",C.options.stop),C.cy.trigger({type:"layoutstop",layout:C}),w&&cancelAnimationFrame(w),x=!1;return}var V=C.layout.getPositionsData();k.eles.nodes().positions(function(H,ae){if(typeof H=="number"&&(H=ae),!H.isParent()){for(var re=H.id(),oe=V[re],ue=H;oe==null&&(oe=V[ue.data("parent")]||V["DummyCompound_"+ue.data("parent")],V[re]=oe,ue=ue.parent()[0],ue!=null););return oe!=null?{x:oe.x,y:oe.y}:{x:H.position("x"),y:H.position("y")}}}),$(),w=requestAnimationFrame(L)},"iterateAnimated");return _.addListener("layoutstarted",function(){C.options.animate==="during"&&(w=requestAnimationFrame(P))}),_.runLayout(),this.options.animate!=="during"&&(C.options.eles.nodes().not(":parent").layoutPositions(C,C.options,R),x=!1),this},y.prototype.getTopMostNodes=function(x){for(var w={},k=0;k<x.length;k++)w[x[k].id()]=!0;var T=x.filter(function(_,C){typeof _=="number"&&(_=C);for(var E=_.parent()[0];E!=null;){if(w[E.id()])return!1;E=E.parent()[0]}return!0});return T},y.prototype.processChildrenList=function(x,w,k){for(var T=w.length,_=0;_<T;_++){var C=w[_],E=C.children(),N,M=C.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(C.outerWidth()!=null&&C.outerHeight()!=null?N=x.add(new d(k.graphManager,new p(C.position("x")-M.w/2,C.position("y")-M.h/2),new g(parseFloat(M.w),parseFloat(M.h)))):N=x.add(new d(this.graphManager)),N.id=C.data("id"),N.paddingLeft=parseInt(C.css("padding")),N.paddingTop=parseInt(C.css("padding")),N.paddingRight=parseInt(C.css("padding")),N.paddingBottom=parseInt(C.css("padding")),this.options.nodeDimensionsIncludeLabels&&C.isParent()){var I=C.boundingBox({includeLabels:!0,includeNodes:!1}).w,A=C.boundingBox({includeLabels:!0,includeNodes:!1}).h,B=C.css("text-halign");N.labelWidth=I,N.labelHeight=A,N.labelPos=B}if(this.idToLNode[C.data("id")]=N,isNaN(N.rect.x)&&(N.rect.x=0),isNaN(N.rect.y)&&(N.rect.y=0),E!=null&&E.length>0){var S;S=k.getGraphManager().add(k.newGraph(),N),this.processChildrenList(S,E,k)}}},y.prototype.stop=function(){return this.stopped=!0,this};var v=l(function(x){x("layout","cose-bilkent",y)},"register");typeof cytoscape<"u"&&v(cytoscape),i.exports=v}])})});function O7e(e,t){e.forEach(r=>{let i={id:r.id,labelText:r.label,height:r.height,width:r.width,padding:r.padding??0};Object.keys(r).forEach(n=>{["id","label","height","width","padding","x","y"].includes(n)||(i[n]=r[n])}),t.add({group:"nodes",data:i,position:{x:r.x??0,y:r.y??0}})})}function P7e(e,t){e.forEach(r=>{let i={id:r.id,source:r.start,target:r.end};Object.keys(r).forEach(n=>{["id","start","end"].includes(n)||(i[n]=r[n])}),t.add({group:"edges",data:i})})}function B7e(e){return new Promise(t=>{let r=Ke("body").append("div").attr("id","cy").attr("style","display:none"),i=Eo({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});r.remove(),O7e(e.nodes,i),P7e(e.edges,i),i.nodes().forEach(function(a){a.layoutDimensions=()=>{let s=a.data();return{w:s.width,h:s.height}}});let n={name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1};i.layout(n).run(),i.ready(a=>{ne.info("Cytoscape ready",a),t(i)})})}function $7e(e){return e.nodes().map(t=>{let r=t.data(),i=t.position(),n={id:r.id,x:i.x,y:i.y};return Object.keys(r).forEach(a=>{a!=="id"&&(n[a]=r[a])}),n})}function F7e(e){return e.edges().map(t=>{let r=t.data(),i=t._private.rscratch,n={id:r.id,source:r.source,target:r.target,startX:i.startX,startY:i.startY,midX:i.midX,midY:i.midY,endX:i.endX,endY:i.endY};return Object.keys(r).forEach(a=>{["id","source","target"].includes(a)||(n[a]=r[a])}),n})}var z7e,WZe=D(()=>{"use strict";I7e(),z7e=zn(YZe(),1),hr(),st(),Eo.use(z7e.default),l(O7e,"addNodes"),l(P7e,"addEdges"),l(B7e,"createCytoscapeInstance"),l($7e,"extractPositionedNodes"),l(F7e,"extractPositionedEdges")});async function G7e(e,t){ne.debug("Starting cose-bilkent layout algorithm");try{U7e(e);let r=await B7e(e),i=$7e(r),n=F7e(r);return ne.debug(`Layout completed: ${i.length} nodes, ${n.length} edges`),{nodes:i,edges:n}}catch(r){throw ne.error("Error in cose-bilkent layout algorithm:",r),r}}function U7e(e){if(!e)throw new Error("Layout data is required");if(!e.config)throw new Error("Configuration is required in layout data");if(!e.rootNode)throw new Error("Root node is required");if(!e.nodes||!Array.isArray(e.nodes))throw new Error("No nodes found in layout data");if(!Array.isArray(e.edges))throw new Error("Edges array is required in layout data");return!0}var XZe=D(()=>{"use strict";st(),WZe(),l(G7e,"executeCoseBilkentLayout"),l(U7e,"validateLayoutData")}),q7e,KZe=D(()=>{"use strict";XZe(),q7e=l(async(e,t,{insertCluster:r,insertEdge:i,insertEdgeLabel:n,insertMarkers:a,insertNode:s,log:o,positionEdgeLabel:u},{algorithm:h})=>{let d={},p={},g=t.select("g");a(g,e.markers,e.type,e.diagramId);let f=g.insert("g").attr("class","subgraphs"),m=g.insert("g").attr("class","edgePaths"),y=g.insert("g").attr("class","edgeLabels"),b=g.insert("g").attr("class","nodes");o.debug("Inserting nodes into DOM for dimension calculation"),await Promise.all(e.nodes.map(async w=>{if(w.isGroup){let k={...w};p[w.id]=k,d[w.id]=k,await r(f,w)}else{let k={...w};d[w.id]=k;let T=await s(b,w,{config:e.config,dir:e.direction||"TB"}),_=T.node().getBBox();k.width=_.width,k.height=_.height,k.domId=T,o.debug(`Node ${w.id} dimensions: ${_.width}x${_.height}`)}})),o.debug("Running cose-bilkent layout algorithm");let v={...e,nodes:e.nodes.map(w=>{let k=d[w.id];return{...w,width:k.width,height:k.height}})},x=await G7e(v,e.config);o.debug("Positioning nodes based on layout results"),x.nodes.forEach(w=>{let k=d[w.id];k?.domId&&(k.domId.attr("transform",`translate(${w.x}, ${w.y})`),k.x=w.x,k.y=w.y,o.debug(`Positioned node ${k.id} at center (${w.x}, ${w.y})`))}),x.edges.forEach(w=>{let k=e.edges.find(T=>T.id===w.id);k&&(k.points=[{x:w.startX,y:w.startY},{x:w.midX,y:w.midY},{x:w.endX,y:w.endY}])}),o.debug("Inserting and positioning edges"),await Promise.all(e.edges.map(async w=>{let k=await n(y,w),T=d[w.start??""],_=d[w.end??""];if(T&&_){let C=x.edges.find(E=>E.id===w.id);if(C){o.debug("APA01 positionedEdge",C);let E={...w},N=i(m,E,p,e.type,T,_,e.diagramId);u(E,N)}else{let E={...w,points:[{x:T.x||0,y:T.y||0},{x:_.x||0,y:_.y||0}]},N=i(m,E,p,e.type,T,_,e.diagramId);u(E,N)}}})),o.debug("Cose-bilkent rendering completed")},"render")}),j7e={};sr(j7e,{render:()=>H7e});var H7e,ZZe=D(()=>{"use strict";KZe(),H7e=q7e}),I1,JP,V7e,Zd,D1,Qd=D(()=>{"use strict";dXe(),st(),I1={},JP=l(e=>{for(let t of e)I1[t.name]=t},"registerLayoutLoaders"),V7e=l(()=>{JP([{name:"dagre",loader:l(async()=>await Promise.resolve().then(()=>(HZe(),Dxe)),"loader")},{name:"cose-bilkent",loader:l(async()=>await Promise.resolve().then(()=>(ZZe(),j7e)),"loader")}])},"registerDefaultLayoutLoaders"),V7e(),Zd=l(async(e,t)=>{if(!(e.layoutAlgorithm in I1))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);let r=I1[e.layoutAlgorithm];return(await r.loader()).render(e,t,O0e,{algorithm:r.algorithm})},"render"),D1=l((e="",{fallback:t="dagre"}={})=>{if(e in I1)return e;if(t in I1)return ne.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm")}),sh,Y7e,W7e,Jd=D(()=>{"use strict";an(),st(),sh=l((e,t,r,i)=>{e.attr("class",r);let{width:n,height:a,x:s,y:o}=Y7e(e,t);Wn(e,a,n,i);let u=W7e(s,o,n,a,t);e.attr("viewBox",u),ne.debug(`viewBox configured: ${u} with padding: ${t}`)},"setupViewPortForSVG"),Y7e=l((e,t)=>{let r=e.node()?.getBBox()||{width:0,height:0,x:0,y:0};return{width:r.width+t*2,height:r.height+t*2,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),W7e=l((e,t,r,i,n)=>`${e-n} ${t-n} ${r} ${i}`,"createViewBox")}),X7e,K7e,Z7e,QZe=D(()=>{"use strict";hr(),Gt(),st(),Fg(),Qd(),Jd(),Zt(),X7e=l(function(e,t){return t.db.getClasses()},"getClasses"),K7e=l(async function(e,t,r,i){ne.info("REF0:"),ne.info("Drawing state diagram (v2)",t);let{securityLevel:n,flowchart:a,layout:s}=Ee(),o;n==="sandbox"&&(o=Ke("#i"+t));let u=n==="sandbox"?o.nodes()[0].contentDocument:document;ne.debug("Before getData: ");let h=i.db.getData();ne.debug("Data: ",h);let d=bd(t,n),p=i.db.getDirection();h.type=i.type,h.layoutAlgorithm=D1(s),h.layoutAlgorithm==="dagre"&&s==="elk"&&ne.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),h.direction=p,h.nodeSpacing=a?.nodeSpacing||50,h.rankSpacing=a?.rankSpacing||50,h.markers=["point","circle","cross"],h.diagramId=t,ne.debug("REF1:",h),await Zd(h,d);let g=h.config.flowchart?.diagramPadding??8;or.insertTitle(d,"flowchartTitleText",a?.titleTopMargin||0,i.db.getDiagramTitle()),sh(d,g,"flowchart",a?.useMaxWidth||!1);for(let f of h.nodes){let m=Ke(`#${t} [id="${f.id}"]`);if(!m||!f.link)continue;let y=u.createElementNS("http://www.w3.org/2000/svg","a");y.setAttributeNS("http://www.w3.org/2000/svg","class",f.cssClasses),y.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),n==="sandbox"?y.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):f.linkTarget&&y.setAttributeNS("http://www.w3.org/2000/svg","target",f.linkTarget);let b=m.insert(function(){return y},":first-child"),v=m.select(".label-container");v&&b.append(function(){return v.node()});let x=m.select(".label");x&&b.append(function(){return x.node()})}},"draw"),Z7e={getClasses:X7e,draw:K7e}}),Ak,eB,JZe=D(()=>{"use strict";Ak=function(){var e=l(function(Ai,xt,rt,We){for(rt=rt||{},We=Ai.length;We--;rt[Ai[We]]=xt);return rt},"o"),t=[1,4],r=[1,3],i=[1,5],n=[1,8,9,10,11,27,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],a=[2,2],s=[1,13],o=[1,14],u=[1,15],h=[1,16],d=[1,23],p=[1,25],g=[1,26],f=[1,27],m=[1,49],y=[1,48],b=[1,29],v=[1,30],x=[1,31],w=[1,32],k=[1,33],T=[1,44],_=[1,46],C=[1,42],E=[1,47],N=[1,43],M=[1,50],I=[1,45],A=[1,51],B=[1,52],S=[1,34],O=[1,35],R=[1,36],P=[1,37],L=[1,57],$=[1,8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],F=[1,61],G=[1,60],q=[1,62],V=[8,9,11,75,77,78],H=[1,78],ae=[1,91],re=[1,96],oe=[1,95],ue=[1,92],W=[1,88],ee=[1,94],X=[1,90],Z=[1,97],J=[1,93],he=[1,98],K=[1,89],me=[8,9,10,11,40,75,77,78],Y=[8,9,10,11,40,46,75,77,78],_e=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,78,89,102,105,106,109,111,114,115,116],ce=[8,9,11,44,60,75,77,78,89,102,105,106,109,111,114,115,116],Ne=[44,60,89,102,105,106,109,111,114,115,116],Be=[1,121],je=[1,122],qe=[1,124],Se=[1,123],Re=[44,60,62,74,89,102,105,106,109,111,114,115,116],ve=[1,133],Fe=[1,147],de=[1,148],Ve=[1,149],Q=[1,150],Me=[1,135],z=[1,137],te=[1,141],se=[1,142],pe=[1,143],fe=[1,144],we=[1,145],Ce=[1,146],Te=[1,151],ze=[1,152],He=[1,131],at=[1,132],$e=[1,139],Ye=[1,134],Ue=[1,138],Ge=[1,136],Xe=[8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],kt=[1,154],ct=[1,156],ot=[8,9,11],Et=[8,9,10,11,14,44,60,89,105,106,109,111,114,115,116],tt=[1,176],ht=[1,172],ft=[1,173],Qe=[1,177],Ze=[1,174],_t=[1,175],jt=[77,116,119],Pt=[8,9,10,11,12,14,27,29,32,44,60,75,84,85,86,87,88,89,90,105,109,111,114,115,116],Vr=[10,106],lr=[31,49,51,53,55,57,62,64,66,67,69,71,116,117,118],Jt=[1,247],fr=[1,245],Mr=[1,249],be=[1,243],dt=[1,244],ut=[1,246],ur=[1,248],Ir=[1,250],Ar=[1,268],Cn=[8,9,11,106],ni=[8,9,10,11,60,84,105,106,109,110,111,112],nn={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,LINK_ID:78,edgeTextToken:79,STR:80,MD_STR:81,textToken:82,keywords:83,STYLE:84,LINKSTYLE:85,CLASSDEF:86,CLASS:87,CLICK:88,DOWN:89,UP:90,textNoTagsToken:91,stylesOpt:92,"idString[vertex]":93,"idString[class]":94,CALLBACKNAME:95,CALLBACKARGS:96,HREF:97,LINK_TARGET:98,"STR[link]":99,"STR[tooltip]":100,alphaNum:101,DEFAULT:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,NODE_STRING:109,UNIT:110,BRKT:111,PCT:112,idStringToken:113,MINUS:114,MULT:115,UNICODE_TEXT:116,TEXT:117,TAGSTART:118,EDGE_TEXT:119,alphaNumToken:120,direction_tb:121,direction_bt:122,direction_rl:123,direction_lr:124,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",78:"LINK_ID",80:"STR",81:"MD_STR",84:"STYLE",85:"LINKSTYLE",86:"CLASSDEF",87:"CLASS",88:"CLICK",89:"DOWN",90:"UP",93:"idString[vertex]",94:"idString[class]",95:"CALLBACKNAME",96:"CALLBACKARGS",97:"HREF",98:"LINK_TARGET",99:"STR[link]",100:"STR[tooltip]",102:"DEFAULT",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"NODE_STRING",110:"UNIT",111:"BRKT",112:"PCT",114:"MINUS",115:"MULT",116:"UNICODE_TEXT",117:"TEXT",118:"TAGSTART",119:"EDGE_TEXT",121:"direction_tb",122:"direction_bt",123:"direction_rl",124:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[41,4],[76,1],[76,2],[76,1],[76,1],[72,1],[72,2],[73,3],[30,1],[30,2],[30,1],[30,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[103,1],[103,3],[92,1],[92,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[82,1],[82,1],[82,1],[82,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[79,1],[79,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[47,1],[47,2],[101,1],[101,2],[33,1],[33,1],[33,1],[33,1]],performAction:l(function(Ai,xt,rt,We,Ht,ge,gn){var ye=ge.length-1;switch(Ht){case 2:this.$=[];break;case 3:(!Array.isArray(ge[ye])||ge[ye].length>0)&&ge[ye-1].push(ge[ye]),this.$=ge[ye-1];break;case 4:case 183:this.$=ge[ye];break;case 11:We.setDirection("TB"),this.$="TB";break;case 12:We.setDirection(ge[ye-1]),this.$=ge[ye-1];break;case 27:this.$=ge[ye-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=We.addSubGraph(ge[ye-6],ge[ye-1],ge[ye-4]);break;case 34:this.$=We.addSubGraph(ge[ye-3],ge[ye-1],ge[ye-3]);break;case 35:this.$=We.addSubGraph(void 0,ge[ye-1],void 0);break;case 37:this.$=ge[ye].trim(),We.setAccTitle(this.$);break;case 38:case 39:this.$=ge[ye].trim(),We.setAccDescription(this.$);break;case 43:this.$=ge[ye-1]+ge[ye];break;case 44:this.$=ge[ye];break;case 45:We.addVertex(ge[ye-1][ge[ye-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,ge[ye]),We.addLink(ge[ye-3].stmt,ge[ye-1],ge[ye-2]),this.$={stmt:ge[ye-1],nodes:ge[ye-1].concat(ge[ye-3].nodes)};break;case 46:We.addLink(ge[ye-2].stmt,ge[ye],ge[ye-1]),this.$={stmt:ge[ye],nodes:ge[ye].concat(ge[ye-2].nodes)};break;case 47:We.addLink(ge[ye-3].stmt,ge[ye-1],ge[ye-2]),this.$={stmt:ge[ye-1],nodes:ge[ye-1].concat(ge[ye-3].nodes)};break;case 48:this.$={stmt:ge[ye-1],nodes:ge[ye-1]};break;case 49:We.addVertex(ge[ye-1][ge[ye-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,ge[ye]),this.$={stmt:ge[ye-1],nodes:ge[ye-1],shapeData:ge[ye]};break;case 50:this.$={stmt:ge[ye],nodes:ge[ye]};break;case 51:this.$=[ge[ye]];break;case 52:We.addVertex(ge[ye-5][ge[ye-5].length-1],void 0,void 0,void 0,void 0,void 0,void 0,ge[ye-4]),this.$=ge[ye-5].concat(ge[ye]);break;case 53:this.$=ge[ye-4].concat(ge[ye]);break;case 54:this.$=ge[ye];break;case 55:this.$=ge[ye-2],We.setClass(ge[ye-2],ge[ye]);break;case 56:this.$=ge[ye-3],We.addVertex(ge[ye-3],ge[ye-1],"square");break;case 57:this.$=ge[ye-3],We.addVertex(ge[ye-3],ge[ye-1],"doublecircle");break;case 58:this.$=ge[ye-5],We.addVertex(ge[ye-5],ge[ye-2],"circle");break;case 59:this.$=ge[ye-3],We.addVertex(ge[ye-3],ge[ye-1],"ellipse");break;case 60:this.$=ge[ye-3],We.addVertex(ge[ye-3],ge[ye-1],"stadium");break;case 61:this.$=ge[ye-3],We.addVertex(ge[ye-3],ge[ye-1],"subroutine");break;case 62:this.$=ge[ye-7],We.addVertex(ge[ye-7],ge[ye-1],"rect",void 0,void 0,void 0,Object.fromEntries([[ge[ye-5],ge[ye-3]]]));break;case 63:this.$=ge[ye-3],We.addVertex(ge[ye-3],ge[ye-1],"cylinder");break;case 64:this.$=ge[ye-3],We.addVertex(ge[ye-3],ge[ye-1],"round");break;case 65:this.$=ge[ye-3],We.addVertex(ge[ye-3],ge[ye-1],"diamond");break;case 66:this.$=ge[ye-5],We.addVertex(ge[ye-5],ge[ye-2],"hexagon");break;case 67:this.$=ge[ye-3],We.addVertex(ge[ye-3],ge[ye-1],"odd");break;case 68:this.$=ge[ye-3],We.addVertex(ge[ye-3],ge[ye-1],"trapezoid");break;case 69:this.$=ge[ye-3],We.addVertex(ge[ye-3],ge[ye-1],"inv_trapezoid");break;case 70:this.$=ge[ye-3],We.addVertex(ge[ye-3],ge[ye-1],"lean_right");break;case 71:this.$=ge[ye-3],We.addVertex(ge[ye-3],ge[ye-1],"lean_left");break;case 72:this.$=ge[ye],We.addVertex(ge[ye]);break;case 73:ge[ye-1].text=ge[ye],this.$=ge[ye-1];break;case 74:case 75:ge[ye-2].text=ge[ye-1],this.$=ge[ye-2];break;case 76:this.$=ge[ye];break;case 77:var Rr=We.destructLink(ge[ye],ge[ye-2]);this.$={type:Rr.type,stroke:Rr.stroke,length:Rr.length,text:ge[ye-1]};break;case 78:var Rr=We.destructLink(ge[ye],ge[ye-2]);this.$={type:Rr.type,stroke:Rr.stroke,length:Rr.length,text:ge[ye-1],id:ge[ye-3]};break;case 79:this.$={text:ge[ye],type:"text"};break;case 80:this.$={text:ge[ye-1].text+""+ge[ye],type:ge[ye-1].type};break;case 81:this.$={text:ge[ye],type:"string"};break;case 82:this.$={text:ge[ye],type:"markdown"};break;case 83:var Rr=We.destructLink(ge[ye]);this.$={type:Rr.type,stroke:Rr.stroke,length:Rr.length};break;case 84:var Rr=We.destructLink(ge[ye]);this.$={type:Rr.type,stroke:Rr.stroke,length:Rr.length,id:ge[ye-1]};break;case 85:this.$=ge[ye-1];break;case 86:this.$={text:ge[ye],type:"text"};break;case 87:this.$={text:ge[ye-1].text+""+ge[ye],type:ge[ye-1].type};break;case 88:this.$={text:ge[ye],type:"string"};break;case 89:case 104:this.$={text:ge[ye],type:"markdown"};break;case 101:this.$={text:ge[ye],type:"text"};break;case 102:this.$={text:ge[ye-1].text+""+ge[ye],type:ge[ye-1].type};break;case 103:this.$={text:ge[ye],type:"text"};break;case 105:this.$=ge[ye-4],We.addClass(ge[ye-2],ge[ye]);break;case 106:this.$=ge[ye-4],We.setClass(ge[ye-2],ge[ye]);break;case 107:case 115:this.$=ge[ye-1],We.setClickEvent(ge[ye-1],ge[ye]);break;case 108:case 116:this.$=ge[ye-3],We.setClickEvent(ge[ye-3],ge[ye-2]),We.setTooltip(ge[ye-3],ge[ye]);break;case 109:this.$=ge[ye-2],We.setClickEvent(ge[ye-2],ge[ye-1],ge[ye]);break;case 110:this.$=ge[ye-4],We.setClickEvent(ge[ye-4],ge[ye-3],ge[ye-2]),We.setTooltip(ge[ye-4],ge[ye]);break;case 111:this.$=ge[ye-2],We.setLink(ge[ye-2],ge[ye]);break;case 112:this.$=ge[ye-4],We.setLink(ge[ye-4],ge[ye-2]),We.setTooltip(ge[ye-4],ge[ye]);break;case 113:this.$=ge[ye-4],We.setLink(ge[ye-4],ge[ye-2],ge[ye]);break;case 114:this.$=ge[ye-6],We.setLink(ge[ye-6],ge[ye-4],ge[ye]),We.setTooltip(ge[ye-6],ge[ye-2]);break;case 117:this.$=ge[ye-1],We.setLink(ge[ye-1],ge[ye]);break;case 118:this.$=ge[ye-3],We.setLink(ge[ye-3],ge[ye-2]),We.setTooltip(ge[ye-3],ge[ye]);break;case 119:this.$=ge[ye-3],We.setLink(ge[ye-3],ge[ye-2],ge[ye]);break;case 120:this.$=ge[ye-5],We.setLink(ge[ye-5],ge[ye-4],ge[ye]),We.setTooltip(ge[ye-5],ge[ye-2]);break;case 121:this.$=ge[ye-4],We.addVertex(ge[ye-2],void 0,void 0,ge[ye]);break;case 122:this.$=ge[ye-4],We.updateLink([ge[ye-2]],ge[ye]);break;case 123:this.$=ge[ye-4],We.updateLink(ge[ye-2],ge[ye]);break;case 124:this.$=ge[ye-8],We.updateLinkInterpolate([ge[ye-6]],ge[ye-2]),We.updateLink([ge[ye-6]],ge[ye]);break;case 125:this.$=ge[ye-8],We.updateLinkInterpolate(ge[ye-6],ge[ye-2]),We.updateLink(ge[ye-6],ge[ye]);break;case 126:this.$=ge[ye-6],We.updateLinkInterpolate([ge[ye-4]],ge[ye]);break;case 127:this.$=ge[ye-6],We.updateLinkInterpolate(ge[ye-4],ge[ye]);break;case 128:case 130:this.$=[ge[ye]];break;case 129:case 131:ge[ye-2].push(ge[ye]),this.$=ge[ye-2];break;case 133:this.$=ge[ye-1]+ge[ye];break;case 181:this.$=ge[ye];break;case 182:this.$=ge[ye-1]+""+ge[ye];break;case 184:this.$=ge[ye-1]+""+ge[ye];break;case 185:this.$={stmt:"dir",value:"TB"};break;case 186:this.$={stmt:"dir",value:"BT"};break;case 187:this.$={stmt:"dir",value:"RL"};break;case 188:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:t,10:r,12:i},{1:[3]},e(n,a,{5:6}),{4:7,9:t,10:r,12:i},{4:8,9:t,10:r,12:i},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:s,9:o,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,33:24,34:p,36:g,38:f,42:28,43:38,44:m,45:39,47:40,60:y,84:b,85:v,86:x,87:w,88:k,89:T,102:_,105:C,106:E,109:N,111:M,113:41,114:I,115:A,116:B,121:S,122:O,123:R,124:P},e(n,[2,9]),e(n,[2,10]),e(n,[2,11]),{8:[1,54],9:[1,55],10:L,15:53,18:56},e($,[2,3]),e($,[2,4]),e($,[2,5]),e($,[2,6]),e($,[2,7]),e($,[2,8]),{8:F,9:G,11:q,21:58,41:59,72:63,75:[1,64],77:[1,66],78:[1,65]},{8:F,9:G,11:q,21:67},{8:F,9:G,11:q,21:68},{8:F,9:G,11:q,21:69},{8:F,9:G,11:q,21:70},{8:F,9:G,11:q,21:71},{8:F,9:G,10:[1,72],11:q,21:73},e($,[2,36]),{35:[1,74]},{37:[1,75]},e($,[2,39]),e(V,[2,50],{18:76,39:77,10:L,40:H}),{10:[1,79]},{10:[1,80]},{10:[1,81]},{10:[1,82]},{14:ae,44:re,60:oe,80:[1,86],89:ue,95:[1,83],97:[1,84],101:85,105:W,106:ee,109:X,111:Z,114:J,115:he,116:K,120:87},e($,[2,185]),e($,[2,186]),e($,[2,187]),e($,[2,188]),e(me,[2,51]),e(me,[2,54],{46:[1,99]}),e(Y,[2,72],{113:112,29:[1,100],44:m,48:[1,101],50:[1,102],52:[1,103],54:[1,104],56:[1,105],58:[1,106],60:y,63:[1,107],65:[1,108],67:[1,109],68:[1,110],70:[1,111],89:T,102:_,105:C,106:E,109:N,111:M,114:I,115:A,116:B}),e(_e,[2,181]),e(_e,[2,142]),e(_e,[2,143]),e(_e,[2,144]),e(_e,[2,145]),e(_e,[2,146]),e(_e,[2,147]),e(_e,[2,148]),e(_e,[2,149]),e(_e,[2,150]),e(_e,[2,151]),e(_e,[2,152]),e(n,[2,12]),e(n,[2,18]),e(n,[2,19]),{9:[1,113]},e(ce,[2,26],{18:114,10:L}),e($,[2,27]),{42:115,43:38,44:m,45:39,47:40,60:y,89:T,102:_,105:C,106:E,109:N,111:M,113:41,114:I,115:A,116:B},e($,[2,40]),e($,[2,41]),e($,[2,42]),e(Ne,[2,76],{73:116,62:[1,118],74:[1,117]}),{76:119,79:120,80:Be,81:je,116:qe,119:Se},{75:[1,125],77:[1,126]},e(Re,[2,83]),e($,[2,28]),e($,[2,29]),e($,[2,30]),e($,[2,31]),e($,[2,32]),{10:ve,12:Fe,14:de,27:Ve,28:127,32:Q,44:Me,60:z,75:te,80:[1,129],81:[1,130],83:140,84:se,85:pe,86:fe,87:we,88:Ce,89:Te,90:ze,91:128,105:He,109:at,111:$e,114:Ye,115:Ue,116:Ge},e(Xe,a,{5:153}),e($,[2,37]),e($,[2,38]),e(V,[2,48],{44:kt}),e(V,[2,49],{18:155,10:L,40:ct}),e(me,[2,44]),{44:m,47:157,60:y,89:T,102:_,105:C,106:E,109:N,111:M,113:41,114:I,115:A,116:B},{102:[1,158],103:159,105:[1,160]},{44:m,47:161,60:y,89:T,102:_,105:C,106:E,109:N,111:M,113:41,114:I,115:A,116:B},{44:m,47:162,60:y,89:T,102:_,105:C,106:E,109:N,111:M,113:41,114:I,115:A,116:B},e(ot,[2,107],{10:[1,163],96:[1,164]}),{80:[1,165]},e(ot,[2,115],{120:167,10:[1,166],14:ae,44:re,60:oe,89:ue,105:W,106:ee,109:X,111:Z,114:J,115:he,116:K}),e(ot,[2,117],{10:[1,168]}),e(Et,[2,183]),e(Et,[2,170]),e(Et,[2,171]),e(Et,[2,172]),e(Et,[2,173]),e(Et,[2,174]),e(Et,[2,175]),e(Et,[2,176]),e(Et,[2,177]),e(Et,[2,178]),e(Et,[2,179]),e(Et,[2,180]),{44:m,47:169,60:y,89:T,102:_,105:C,106:E,109:N,111:M,113:41,114:I,115:A,116:B},{30:170,67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},{30:178,67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},{30:180,50:[1,179],67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},{30:181,67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},{30:182,67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},{30:183,67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},{109:[1,184]},{30:185,67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},{30:186,65:[1,187],67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},{30:188,67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},{30:189,67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},{30:190,67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},e(_e,[2,182]),e(n,[2,20]),e(ce,[2,25]),e(V,[2,46],{39:191,18:192,10:L,40:H}),e(Ne,[2,73],{10:[1,193]}),{10:[1,194]},{30:195,67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},{77:[1,196],79:197,116:qe,119:Se},e(jt,[2,79]),e(jt,[2,81]),e(jt,[2,82]),e(jt,[2,168]),e(jt,[2,169]),{76:198,79:120,80:Be,81:je,116:qe,119:Se},e(Re,[2,84]),{8:F,9:G,10:ve,11:q,12:Fe,14:de,21:200,27:Ve,29:[1,199],32:Q,44:Me,60:z,75:te,83:140,84:se,85:pe,86:fe,87:we,88:Ce,89:Te,90:ze,91:201,105:He,109:at,111:$e,114:Ye,115:Ue,116:Ge},e(Pt,[2,101]),e(Pt,[2,103]),e(Pt,[2,104]),e(Pt,[2,157]),e(Pt,[2,158]),e(Pt,[2,159]),e(Pt,[2,160]),e(Pt,[2,161]),e(Pt,[2,162]),e(Pt,[2,163]),e(Pt,[2,164]),e(Pt,[2,165]),e(Pt,[2,166]),e(Pt,[2,167]),e(Pt,[2,90]),e(Pt,[2,91]),e(Pt,[2,92]),e(Pt,[2,93]),e(Pt,[2,94]),e(Pt,[2,95]),e(Pt,[2,96]),e(Pt,[2,97]),e(Pt,[2,98]),e(Pt,[2,99]),e(Pt,[2,100]),{6:11,7:12,8:s,9:o,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,202],33:24,34:p,36:g,38:f,42:28,43:38,44:m,45:39,47:40,60:y,84:b,85:v,86:x,87:w,88:k,89:T,102:_,105:C,106:E,109:N,111:M,113:41,114:I,115:A,116:B,121:S,122:O,123:R,124:P},{10:L,18:203},{44:[1,204]},e(me,[2,43]),{10:[1,205],44:m,60:y,89:T,102:_,105:C,106:E,109:N,111:M,113:112,114:I,115:A,116:B},{10:[1,206]},{10:[1,207],106:[1,208]},e(Vr,[2,128]),{10:[1,209],44:m,60:y,89:T,102:_,105:C,106:E,109:N,111:M,113:112,114:I,115:A,116:B},{10:[1,210],44:m,60:y,89:T,102:_,105:C,106:E,109:N,111:M,113:112,114:I,115:A,116:B},{80:[1,211]},e(ot,[2,109],{10:[1,212]}),e(ot,[2,111],{10:[1,213]}),{80:[1,214]},e(Et,[2,184]),{80:[1,215],98:[1,216]},e(me,[2,55],{113:112,44:m,60:y,89:T,102:_,105:C,106:E,109:N,111:M,114:I,115:A,116:B}),{31:[1,217],67:tt,82:218,116:Qe,117:Ze,118:_t},e(lr,[2,86]),e(lr,[2,88]),e(lr,[2,89]),e(lr,[2,153]),e(lr,[2,154]),e(lr,[2,155]),e(lr,[2,156]),{49:[1,219],67:tt,82:218,116:Qe,117:Ze,118:_t},{30:220,67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},{51:[1,221],67:tt,82:218,116:Qe,117:Ze,118:_t},{53:[1,222],67:tt,82:218,116:Qe,117:Ze,118:_t},{55:[1,223],67:tt,82:218,116:Qe,117:Ze,118:_t},{57:[1,224],67:tt,82:218,116:Qe,117:Ze,118:_t},{60:[1,225]},{64:[1,226],67:tt,82:218,116:Qe,117:Ze,118:_t},{66:[1,227],67:tt,82:218,116:Qe,117:Ze,118:_t},{30:228,67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},{31:[1,229],67:tt,82:218,116:Qe,117:Ze,118:_t},{67:tt,69:[1,230],71:[1,231],82:218,116:Qe,117:Ze,118:_t},{67:tt,69:[1,233],71:[1,232],82:218,116:Qe,117:Ze,118:_t},e(V,[2,45],{18:155,10:L,40:ct}),e(V,[2,47],{44:kt}),e(Ne,[2,75]),e(Ne,[2,74]),{62:[1,234],67:tt,82:218,116:Qe,117:Ze,118:_t},e(Ne,[2,77]),e(jt,[2,80]),{77:[1,235],79:197,116:qe,119:Se},{30:236,67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},e(Xe,a,{5:237}),e(Pt,[2,102]),e($,[2,35]),{43:238,44:m,45:39,47:40,60:y,89:T,102:_,105:C,106:E,109:N,111:M,113:41,114:I,115:A,116:B},{10:L,18:239},{10:Jt,60:fr,84:Mr,92:240,105:be,107:241,108:242,109:dt,110:ut,111:ur,112:Ir},{10:Jt,60:fr,84:Mr,92:251,104:[1,252],105:be,107:241,108:242,109:dt,110:ut,111:ur,112:Ir},{10:Jt,60:fr,84:Mr,92:253,104:[1,254],105:be,107:241,108:242,109:dt,110:ut,111:ur,112:Ir},{105:[1,255]},{10:Jt,60:fr,84:Mr,92:256,105:be,107:241,108:242,109:dt,110:ut,111:ur,112:Ir},{44:m,47:257,60:y,89:T,102:_,105:C,106:E,109:N,111:M,113:41,114:I,115:A,116:B},e(ot,[2,108]),{80:[1,258]},{80:[1,259],98:[1,260]},e(ot,[2,116]),e(ot,[2,118],{10:[1,261]}),e(ot,[2,119]),e(Y,[2,56]),e(lr,[2,87]),e(Y,[2,57]),{51:[1,262],67:tt,82:218,116:Qe,117:Ze,118:_t},e(Y,[2,64]),e(Y,[2,59]),e(Y,[2,60]),e(Y,[2,61]),{109:[1,263]},e(Y,[2,63]),e(Y,[2,65]),{66:[1,264],67:tt,82:218,116:Qe,117:Ze,118:_t},e(Y,[2,67]),e(Y,[2,68]),e(Y,[2,70]),e(Y,[2,69]),e(Y,[2,71]),e([10,44,60,89,102,105,106,109,111,114,115,116],[2,85]),e(Ne,[2,78]),{31:[1,265],67:tt,82:218,116:Qe,117:Ze,118:_t},{6:11,7:12,8:s,9:o,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,266],33:24,34:p,36:g,38:f,42:28,43:38,44:m,45:39,47:40,60:y,84:b,85:v,86:x,87:w,88:k,89:T,102:_,105:C,106:E,109:N,111:M,113:41,114:I,115:A,116:B,121:S,122:O,123:R,124:P},e(me,[2,53]),{43:267,44:m,45:39,47:40,60:y,89:T,102:_,105:C,106:E,109:N,111:M,113:41,114:I,115:A,116:B},e(ot,[2,121],{106:Ar}),e(Cn,[2,130],{108:269,10:Jt,60:fr,84:Mr,105:be,109:dt,110:ut,111:ur,112:Ir}),e(ni,[2,132]),e(ni,[2,134]),e(ni,[2,135]),e(ni,[2,136]),e(ni,[2,137]),e(ni,[2,138]),e(ni,[2,139]),e(ni,[2,140]),e(ni,[2,141]),e(ot,[2,122],{106:Ar}),{10:[1,270]},e(ot,[2,123],{106:Ar}),{10:[1,271]},e(Vr,[2,129]),e(ot,[2,105],{106:Ar}),e(ot,[2,106],{113:112,44:m,60:y,89:T,102:_,105:C,106:E,109:N,111:M,114:I,115:A,116:B}),e(ot,[2,110]),e(ot,[2,112],{10:[1,272]}),e(ot,[2,113]),{98:[1,273]},{51:[1,274]},{62:[1,275]},{66:[1,276]},{8:F,9:G,11:q,21:277},e($,[2,34]),e(me,[2,52]),{10:Jt,60:fr,84:Mr,105:be,107:278,108:242,109:dt,110:ut,111:ur,112:Ir},e(ni,[2,133]),{14:ae,44:re,60:oe,89:ue,101:279,105:W,106:ee,109:X,111:Z,114:J,115:he,116:K,120:87},{14:ae,44:re,60:oe,89:ue,101:280,105:W,106:ee,109:X,111:Z,114:J,115:he,116:K,120:87},{98:[1,281]},e(ot,[2,120]),e(Y,[2,58]),{30:282,67:tt,80:ht,81:ft,82:171,116:Qe,117:Ze,118:_t},e(Y,[2,66]),e(Xe,a,{5:283}),e(Cn,[2,131],{108:269,10:Jt,60:fr,84:Mr,105:be,109:dt,110:ut,111:ur,112:Ir}),e(ot,[2,126],{120:167,10:[1,284],14:ae,44:re,60:oe,89:ue,105:W,106:ee,109:X,111:Z,114:J,115:he,116:K}),e(ot,[2,127],{120:167,10:[1,285],14:ae,44:re,60:oe,89:ue,105:W,106:ee,109:X,111:Z,114:J,115:he,116:K}),e(ot,[2,114]),{31:[1,286],67:tt,82:218,116:Qe,117:Ze,118:_t},{6:11,7:12,8:s,9:o,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,287],33:24,34:p,36:g,38:f,42:28,43:38,44:m,45:39,47:40,60:y,84:b,85:v,86:x,87:w,88:k,89:T,102:_,105:C,106:E,109:N,111:M,113:41,114:I,115:A,116:B,121:S,122:O,123:R,124:P},{10:Jt,60:fr,84:Mr,92:288,105:be,107:241,108:242,109:dt,110:ut,111:ur,112:Ir},{10:Jt,60:fr,84:Mr,92:289,105:be,107:241,108:242,109:dt,110:ut,111:ur,112:Ir},e(Y,[2,62]),e($,[2,33]),e(ot,[2,124],{106:Ar}),e(ot,[2,125],{106:Ar})],defaultActions:{},parseError:l(function(Ai,xt){if(xt.recoverable)this.trace(Ai);else{var rt=new Error(Ai);throw rt.hash=xt,rt}},"parseError"),parse:l(function(Ai){var xt=this,rt=[0],We=[],Ht=[null],ge=[],gn=this.table,ye="",Rr=0,O8=0,P8=0,Int=2,jGe=1,Dnt=ge.slice.call(arguments,1),Sn=Object.create(this.lexer),bp={yy:{}};for(var gj in this.yy)Object.prototype.hasOwnProperty.call(this.yy,gj)&&(bp.yy[gj]=this.yy[gj]);Sn.setInput(Ai,bp.yy),bp.yy.lexer=Sn,bp.yy.parser=this,typeof Sn.yylloc>"u"&&(Sn.yylloc={});var fj=Sn.yylloc;ge.push(fj);var Rnt=Sn.options&&Sn.options.ranges;typeof bp.yy.parseError=="function"?this.parseError=bp.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ont(vs){rt.length=rt.length-2*vs,Ht.length=Ht.length-vs,ge.length=ge.length-vs}l(Ont,"popStack");function HGe(){var vs;return vs=We.pop()||Sn.lex()||jGe,typeof vs!="number"&&(vs instanceof Array&&(We=vs,vs=We.pop()),vs=xt.symbols_[vs]||vs),vs}l(HGe,"lex");for(var Ia,mj,xp,Hs,Pnt,yj,Ff={},B8,au,VGe,$8;;){if(xp=rt[rt.length-1],this.defaultActions[xp]?Hs=this.defaultActions[xp]:((Ia===null||typeof Ia>"u")&&(Ia=HGe()),Hs=gn[xp]&&gn[xp][Ia]),typeof Hs>"u"||!Hs.length||!Hs[0]){var vj="";$8=[];for(B8 in gn[xp])this.terminals_[B8]&&B8>Int&&$8.push("'"+this.terminals_[B8]+"'");Sn.showPosition?vj="Parse error on line "+(Rr+1)+`:
`+Sn.showPosition()+`
Expecting `+$8.join(", ")+", got '"+(this.terminals_[Ia]||Ia)+"'":vj="Parse error on line "+(Rr+1)+": Unexpected "+(Ia==jGe?"end of input":"'"+(this.terminals_[Ia]||Ia)+"'"),this.parseError(vj,{text:Sn.match,token:this.terminals_[Ia]||Ia,line:Sn.yylineno,loc:fj,expected:$8})}if(Hs[0]instanceof Array&&Hs.length>1)throw new Error("Parse Error: multiple actions possible at state: "+xp+", token: "+Ia);switch(Hs[0]){case 1:rt.push(Ia),Ht.push(Sn.yytext),ge.push(Sn.yylloc),rt.push(Hs[1]),Ia=null,mj?(Ia=mj,mj=null):(O8=Sn.yyleng,ye=Sn.yytext,Rr=Sn.yylineno,fj=Sn.yylloc,P8>0&&P8--);break;case 2:if(au=this.productions_[Hs[1]][1],Ff.$=Ht[Ht.length-au],Ff._$={first_line:ge[ge.length-(au||1)].first_line,last_line:ge[ge.length-1].last_line,first_column:ge[ge.length-(au||1)].first_column,last_column:ge[ge.length-1].last_column},Rnt&&(Ff._$.range=[ge[ge.length-(au||1)].range[0],ge[ge.length-1].range[1]]),yj=this.performAction.apply(Ff,[ye,O8,Rr,bp.yy,Hs[1],Ht,ge].concat(Dnt)),typeof yj<"u")return yj;au&&(rt=rt.slice(0,-1*au*2),Ht=Ht.slice(0,-1*au),ge=ge.slice(0,-1*au)),rt.push(this.productions_[Hs[1]][0]),Ht.push(Ff.$),ge.push(Ff._$),VGe=gn[rt[rt.length-2]][rt[rt.length-1]],rt.push(VGe);break;case 3:return!0}}return!0},"parse")},Ka=function(){var Ai={EOF:1,parseError:l(function(xt,rt){if(this.yy.parser)this.yy.parser.parseError(xt,rt);else throw new Error(xt)},"parseError"),setInput:l(function(xt,rt){return this.yy=rt||this.yy||{},this._input=xt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var xt=this._input[0];this.yytext+=xt,this.yyleng++,this.offset++,this.match+=xt,this.matched+=xt;var rt=xt.match(/(?:\r\n?|\n).*/g);return rt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),xt},"input"),unput:l(function(xt){var rt=xt.length,We=xt.split(/(?:\r\n?|\n)/g);this._input=xt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-rt),this.offset-=rt;var Ht=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),We.length-1&&(this.yylineno-=We.length-1);var ge=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:We?(We.length===Ht.length?this.yylloc.first_column:0)+Ht[Ht.length-We.length].length-We[0].length:this.yylloc.first_column-rt},this.options.ranges&&(this.yylloc.range=[ge[0],ge[0]+this.yyleng-rt]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(xt){this.unput(this.match.slice(xt))},"less"),pastInput:l(function(){var xt=this.matched.substr(0,this.matched.length-this.match.length);return(xt.length>20?"...":"")+xt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var xt=this.match;return xt.length<20&&(xt+=this._input.substr(0,20-xt.length)),(xt.substr(0,20)+(xt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var xt=this.pastInput(),rt=new Array(xt.length+1).join("-");return xt+this.upcomingInput()+`
`+rt+"^"},"showPosition"),test_match:l(function(xt,rt){var We,Ht,ge;if(this.options.backtrack_lexer&&(ge={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ge.yylloc.range=this.yylloc.range.slice(0))),Ht=xt[0].match(/(?:\r\n?|\n).*/g),Ht&&(this.yylineno+=Ht.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ht?Ht[Ht.length-1].length-Ht[Ht.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+xt[0].length},this.yytext+=xt[0],this.match+=xt[0],this.matches=xt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(xt[0].length),this.matched+=xt[0],We=this.performAction.call(this,this.yy,this,rt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),We)return We;if(this._backtrack){for(var gn in ge)this[gn]=ge[gn];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var xt,rt,We,Ht;this._more||(this.yytext="",this.match="");for(var ge=this._currentRules(),gn=0;gn<ge.length;gn++)if(We=this._input.match(this.rules[ge[gn]]),We&&(!rt||We[0].length>rt[0].length)){if(rt=We,Ht=gn,this.options.backtrack_lexer){if(xt=this.test_match(We,ge[gn]),xt!==!1)return xt;if(this._backtrack){rt=!1;continue}else return!1}else if(!this.options.flex)break}return rt?(xt=this.test_match(rt,ge[Ht]),xt!==!1?xt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var xt=this.next();return xt||this.lex()},"lex"),begin:l(function(xt){this.conditionStack.push(xt)},"begin"),popState:l(function(){var xt=this.conditionStack.length-1;return xt>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(xt){return xt=this.conditionStack.length-1-Math.abs(xt||0),xt>=0?this.conditionStack[xt]:"INITIAL"},"topState"),pushState:l(function(xt){this.begin(xt)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(xt,rt,We,Ht){var ge=Ht;switch(We){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),rt.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:let gn=/\n\s*/g;return rt.yytext=rt.yytext.replace(gn,"<br/>"),40;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 95;case 17:this.popState();break;case 18:return 96;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 84;case 26:return 102;case 27:return 85;case 28:return 104;case 29:return 86;case 30:return 87;case 31:return 97;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 88;case 35:return xt.lex.firstGraph()&&this.begin("dir"),12;case 36:return xt.lex.firstGraph()&&this.begin("dir"),12;case 37:return xt.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:return 98;case 41:return 98;case 42:return 98;case 43:return 98;case 44:return this.popState(),13;case 45:return this.popState(),14;case 46:return this.popState(),14;case 47:return this.popState(),14;case 48:return this.popState(),14;case 49:return this.popState(),14;case 50:return this.popState(),14;case 51:return this.popState(),14;case 52:return this.popState(),14;case 53:return this.popState(),14;case 54:return this.popState(),14;case 55:return 121;case 56:return 122;case 57:return 123;case 58:return 124;case 59:return 78;case 60:return 105;case 61:return 111;case 62:return 46;case 63:return 60;case 64:return 44;case 65:return 8;case 66:return 106;case 67:return 115;case 68:return this.popState(),77;case 69:return this.pushState("edgeText"),75;case 70:return 119;case 71:return this.popState(),77;case 72:return this.pushState("thickEdgeText"),75;case 73:return 119;case 74:return this.popState(),77;case 75:return this.pushState("dottedEdgeText"),75;case 76:return 119;case 77:return 77;case 78:return this.popState(),53;case 79:return"TEXT";case 80:return this.pushState("ellipseText"),52;case 81:return this.popState(),55;case 82:return this.pushState("text"),54;case 83:return this.popState(),57;case 84:return this.pushState("text"),56;case 85:return 58;case 86:return this.pushState("text"),67;case 87:return this.popState(),64;case 88:return this.pushState("text"),63;case 89:return this.popState(),49;case 90:return this.pushState("text"),48;case 91:return this.popState(),69;case 92:return this.popState(),71;case 93:return 117;case 94:return this.pushState("trapText"),68;case 95:return this.pushState("trapText"),70;case 96:return 118;case 97:return 67;case 98:return 90;case 99:return"SEP";case 100:return 89;case 101:return 115;case 102:return 111;case 103:return 44;case 104:return 109;case 105:return 114;case 106:return 116;case 107:return this.popState(),62;case 108:return this.pushState("text"),62;case 109:return this.popState(),51;case 110:return this.pushState("text"),50;case 111:return this.popState(),31;case 112:return this.pushState("text"),29;case 113:return this.popState(),66;case 114:return this.pushState("text"),65;case 115:return"TEXT";case 116:return"QUOTE";case 117:return 9;case 118:return 10;case 119:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[^\s\"]+@(?=[^\{\"]))/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeData:{rules:[8,11,12,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackargs:{rules:[17,18,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackname:{rules:[14,15,16,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},href:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},click:{rules:[21,24,33,34,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dottedEdgeText:{rules:[21,24,74,76,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},thickEdgeText:{rules:[21,24,71,73,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},edgeText:{rules:[21,24,68,70,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},trapText:{rules:[21,24,77,80,82,84,88,90,91,92,93,94,95,108,110,112,114],inclusive:!1},ellipseText:{rules:[21,24,77,78,79,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},text:{rules:[21,24,77,80,81,82,83,84,87,88,89,90,94,95,107,108,109,110,111,112,113,114,115],inclusive:!1},vertex:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr:{rules:[3,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_title:{rules:[1,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},md_string:{rules:[19,20,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},string:{rules:[21,22,23,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,71,72,74,75,77,80,82,84,85,86,88,90,94,95,96,97,98,99,100,101,102,103,104,105,106,108,110,112,114,116,117,118,119],inclusive:!0}}};return Ai}();nn.lexer=Ka;function Xr(){this.yy={}}return l(Xr,"Parser"),Xr.prototype=nn,nn.Parser=Xr,new Xr}(),Ak.parser=Ak,eB=Ak}),tB,Q7e,eQe=D(()=>{"use strict";JZe(),tB=Object.assign({},eB),tB.parse=e=>{let t=e.replace(/}\s*\n/g,`}
`);return eB.parse(t)},Q7e=tB}),R1,Gv=D(()=>{"use strict";R1=l(()=>`
  /* Font Awesome icon styling - consolidated */
  .label-icon {
    display: inline-block;
    height: 1em;
    overflow: visible;
    vertical-align: -0.125em;
  }
  
  .node .label-icon path {
    fill: currentColor;
    stroke: revert;
    stroke-width: revert;
  }
`,"getIconStyles")}),J7e,e8e,t8e,tQe=D(()=>{"use strict";xs(),Gv(),J7e=l((e,t)=>{let r=i4,i=r(e,"r"),n=r(e,"g"),a=r(e,"b");return Fl(i,n,a,t)},"fade"),e8e=l(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${e.lineColor} !important;
    stroke-width: 0;
    stroke: ${e.lineColor};
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${J7e(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }
  ${R1()}
`,"getStyles"),t8e=e8e}),Lk={};sr(Lk,{diagram:()=>r8e});var r8e,rB=D(()=>{"use strict";Gt(),uXe(),QZe(),eQe(),tQe(),r8e={parser:Q7e,get db(){return new Xde},renderer:Z7e,styles:t8e,init:l(e=>{e.flowchart||(e.flowchart={}),e.layout&&d3({layout:e.layout}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,d3({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}})},"init")}}),Nk,i8e,rQe=D(()=>{"use strict";Nk=function(){var e=l(function(Z,J,he,K){for(he=he||{},K=Z.length;K--;he[Z[K]]=J);return he},"o"),t=[6,8,10,22,24,26,28,33,34,35,36,37,40,43,44,50],r=[1,10],i=[1,11],n=[1,12],a=[1,13],s=[1,20],o=[1,21],u=[1,22],h=[1,23],d=[1,24],p=[1,19],g=[1,25],f=[1,26],m=[1,18],y=[1,33],b=[1,34],v=[1,35],x=[1,36],w=[1,37],k=[6,8,10,13,15,17,20,21,22,24,26,28,33,34,35,36,37,40,43,44,50,63,64,65,66,67],T=[1,42],_=[1,43],C=[1,52],E=[40,50,68,69],N=[1,63],M=[1,61],I=[1,58],A=[1,62],B=[1,64],S=[6,8,10,13,17,22,24,26,28,33,34,35,36,37,40,41,42,43,44,48,49,50,63,64,65,66,67],O=[63,64,65,66,67],R=[1,81],P=[1,80],L=[1,78],$=[1,79],F=[6,10,42,47],G=[6,10,13,41,42,47,48,49],q=[1,89],V=[1,88],H=[1,87],ae=[19,56],re=[1,98],oe=[1,97],ue=[19,56,58,60],W={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,COLON:13,role:14,STYLE_SEPARATOR:15,idList:16,BLOCK_START:17,attributes:18,BLOCK_STOP:19,SQS:20,SQE:21,title:22,title_value:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,direction:29,classDefStatement:30,classStatement:31,styleStatement:32,direction_tb:33,direction_bt:34,direction_rl:35,direction_lr:36,CLASSDEF:37,stylesOpt:38,separator:39,UNICODE_TEXT:40,STYLE_TEXT:41,COMMA:42,CLASS:43,STYLE:44,style:45,styleComponent:46,SEMI:47,NUM:48,BRKT:49,ENTITY_NAME:50,attribute:51,attributeType:52,attributeName:53,attributeKeyTypeList:54,attributeComment:55,ATTRIBUTE_WORD:56,attributeKeyType:57,",":58,ATTRIBUTE_KEY:59,COMMENT:60,cardinality:61,relType:62,ZERO_OR_ONE:63,ZERO_OR_MORE:64,ONE_OR_MORE:65,ONLY_ONE:66,MD_PARENT:67,NON_IDENTIFYING:68,IDENTIFYING:69,WORD:70,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:"COLON",15:"STYLE_SEPARATOR",17:"BLOCK_START",19:"BLOCK_STOP",20:"SQS",21:"SQE",22:"title",23:"title_value",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"direction_tb",34:"direction_bt",35:"direction_rl",36:"direction_lr",37:"CLASSDEF",40:"UNICODE_TEXT",41:"STYLE_TEXT",42:"COMMA",43:"CLASS",44:"STYLE",47:"SEMI",48:"NUM",49:"BRKT",50:"ENTITY_NAME",56:"ATTRIBUTE_WORD",58:",",59:"ATTRIBUTE_KEY",60:"COMMENT",63:"ZERO_OR_ONE",64:"ZERO_OR_MORE",65:"ONE_OR_MORE",66:"ONLY_ONE",67:"MD_PARENT",68:"NON_IDENTIFYING",69:"IDENTIFYING",70:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,9],[9,7],[9,7],[9,4],[9,6],[9,3],[9,5],[9,1],[9,3],[9,7],[9,9],[9,6],[9,8],[9,4],[9,6],[9,2],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[9,1],[29,1],[29,1],[29,1],[29,1],[30,4],[16,1],[16,1],[16,3],[16,3],[31,3],[32,4],[38,1],[38,3],[45,1],[45,2],[39,1],[39,1],[39,1],[46,1],[46,1],[46,1],[46,1],[11,1],[11,1],[18,1],[18,2],[51,2],[51,3],[51,3],[51,4],[52,1],[53,1],[54,1],[54,3],[57,1],[55,1],[12,3],[61,1],[61,1],[61,1],[61,1],[61,1],[62,1],[62,1],[14,1],[14,1],[14,1]],performAction:l(function(Z,J,he,K,me,Y,_e){var ce=Y.length-1;switch(me){case 1:break;case 2:this.$=[];break;case 3:Y[ce-1].push(Y[ce]),this.$=Y[ce-1];break;case 4:case 5:this.$=Y[ce];break;case 6:case 7:this.$=[];break;case 8:K.addEntity(Y[ce-4]),K.addEntity(Y[ce-2]),K.addRelationship(Y[ce-4],Y[ce],Y[ce-2],Y[ce-3]);break;case 9:K.addEntity(Y[ce-8]),K.addEntity(Y[ce-4]),K.addRelationship(Y[ce-8],Y[ce],Y[ce-4],Y[ce-5]),K.setClass([Y[ce-8]],Y[ce-6]),K.setClass([Y[ce-4]],Y[ce-2]);break;case 10:K.addEntity(Y[ce-6]),K.addEntity(Y[ce-2]),K.addRelationship(Y[ce-6],Y[ce],Y[ce-2],Y[ce-3]),K.setClass([Y[ce-6]],Y[ce-4]);break;case 11:K.addEntity(Y[ce-6]),K.addEntity(Y[ce-4]),K.addRelationship(Y[ce-6],Y[ce],Y[ce-4],Y[ce-5]),K.setClass([Y[ce-4]],Y[ce-2]);break;case 12:K.addEntity(Y[ce-3]),K.addAttributes(Y[ce-3],Y[ce-1]);break;case 13:K.addEntity(Y[ce-5]),K.addAttributes(Y[ce-5],Y[ce-1]),K.setClass([Y[ce-5]],Y[ce-3]);break;case 14:K.addEntity(Y[ce-2]);break;case 15:K.addEntity(Y[ce-4]),K.setClass([Y[ce-4]],Y[ce-2]);break;case 16:K.addEntity(Y[ce]);break;case 17:K.addEntity(Y[ce-2]),K.setClass([Y[ce-2]],Y[ce]);break;case 18:K.addEntity(Y[ce-6],Y[ce-4]),K.addAttributes(Y[ce-6],Y[ce-1]);break;case 19:K.addEntity(Y[ce-8],Y[ce-6]),K.addAttributes(Y[ce-8],Y[ce-1]),K.setClass([Y[ce-8]],Y[ce-3]);break;case 20:K.addEntity(Y[ce-5],Y[ce-3]);break;case 21:K.addEntity(Y[ce-7],Y[ce-5]),K.setClass([Y[ce-7]],Y[ce-2]);break;case 22:K.addEntity(Y[ce-3],Y[ce-1]);break;case 23:K.addEntity(Y[ce-5],Y[ce-3]),K.setClass([Y[ce-5]],Y[ce]);break;case 24:case 25:this.$=Y[ce].trim(),K.setAccTitle(this.$);break;case 26:case 27:this.$=Y[ce].trim(),K.setAccDescription(this.$);break;case 32:K.setDirection("TB");break;case 33:K.setDirection("BT");break;case 34:K.setDirection("RL");break;case 35:K.setDirection("LR");break;case 36:this.$=Y[ce-3],K.addClass(Y[ce-2],Y[ce-1]);break;case 37:case 38:case 56:case 64:this.$=[Y[ce]];break;case 39:case 40:this.$=Y[ce-2].concat([Y[ce]]);break;case 41:this.$=Y[ce-2],K.setClass(Y[ce-1],Y[ce]);break;case 42:this.$=Y[ce-3],K.addCssStyles(Y[ce-2],Y[ce-1]);break;case 43:this.$=[Y[ce]];break;case 44:Y[ce-2].push(Y[ce]),this.$=Y[ce-2];break;case 46:this.$=Y[ce-1]+Y[ce];break;case 54:case 76:case 77:this.$=Y[ce].replace(/"/g,"");break;case 55:case 78:this.$=Y[ce];break;case 57:Y[ce].push(Y[ce-1]),this.$=Y[ce];break;case 58:this.$={type:Y[ce-1],name:Y[ce]};break;case 59:this.$={type:Y[ce-2],name:Y[ce-1],keys:Y[ce]};break;case 60:this.$={type:Y[ce-2],name:Y[ce-1],comment:Y[ce]};break;case 61:this.$={type:Y[ce-3],name:Y[ce-2],keys:Y[ce-1],comment:Y[ce]};break;case 62:case 63:case 66:this.$=Y[ce];break;case 65:Y[ce-2].push(Y[ce]),this.$=Y[ce-2];break;case 67:this.$=Y[ce].replace(/"/g,"");break;case 68:this.$={cardA:Y[ce],relType:Y[ce-1],cardB:Y[ce-2]};break;case 69:this.$=K.Cardinality.ZERO_OR_ONE;break;case 70:this.$=K.Cardinality.ZERO_OR_MORE;break;case 71:this.$=K.Cardinality.ONE_OR_MORE;break;case 72:this.$=K.Cardinality.ONLY_ONE;break;case 73:this.$=K.Cardinality.MD_PARENT;break;case 74:this.$=K.Identification.NON_IDENTIFYING;break;case 75:this.$=K.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,22:r,24:i,26:n,28:a,29:14,30:15,31:16,32:17,33:s,34:o,35:u,36:h,37:d,40:p,43:g,44:f,50:m},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:27,11:9,22:r,24:i,26:n,28:a,29:14,30:15,31:16,32:17,33:s,34:o,35:u,36:h,37:d,40:p,43:g,44:f,50:m},e(t,[2,5]),e(t,[2,6]),e(t,[2,16],{12:28,61:32,15:[1,29],17:[1,30],20:[1,31],63:y,64:b,65:v,66:x,67:w}),{23:[1,38]},{25:[1,39]},{27:[1,40]},e(t,[2,27]),e(t,[2,28]),e(t,[2,29]),e(t,[2,30]),e(t,[2,31]),e(k,[2,54]),e(k,[2,55]),e(t,[2,32]),e(t,[2,33]),e(t,[2,34]),e(t,[2,35]),{16:41,40:T,41:_},{16:44,40:T,41:_},{16:45,40:T,41:_},e(t,[2,4]),{11:46,40:p,50:m},{16:47,40:T,41:_},{18:48,19:[1,49],51:50,52:51,56:C},{11:53,40:p,50:m},{62:54,68:[1,55],69:[1,56]},e(E,[2,69]),e(E,[2,70]),e(E,[2,71]),e(E,[2,72]),e(E,[2,73]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),{13:N,38:57,41:M,42:I,45:59,46:60,48:A,49:B},e(S,[2,37]),e(S,[2,38]),{16:65,40:T,41:_,42:I},{13:N,38:66,41:M,42:I,45:59,46:60,48:A,49:B},{13:[1,67],15:[1,68]},e(t,[2,17],{61:32,12:69,17:[1,70],42:I,63:y,64:b,65:v,66:x,67:w}),{19:[1,71]},e(t,[2,14]),{18:72,19:[2,56],51:50,52:51,56:C},{53:73,56:[1,74]},{56:[2,62]},{21:[1,75]},{61:76,63:y,64:b,65:v,66:x,67:w},e(O,[2,74]),e(O,[2,75]),{6:R,10:P,39:77,42:L,47:$},{40:[1,82],41:[1,83]},e(F,[2,43],{46:84,13:N,41:M,48:A,49:B}),e(G,[2,45]),e(G,[2,50]),e(G,[2,51]),e(G,[2,52]),e(G,[2,53]),e(t,[2,41],{42:I}),{6:R,10:P,39:85,42:L,47:$},{14:86,40:q,50:V,70:H},{16:90,40:T,41:_},{11:91,40:p,50:m},{18:92,19:[1,93],51:50,52:51,56:C},e(t,[2,12]),{19:[2,57]},e(ae,[2,58],{54:94,55:95,57:96,59:re,60:oe}),e([19,56,59,60],[2,63]),e(t,[2,22],{15:[1,100],17:[1,99]}),e([40,50],[2,68]),e(t,[2,36]),{13:N,41:M,45:101,46:60,48:A,49:B},e(t,[2,47]),e(t,[2,48]),e(t,[2,49]),e(S,[2,39]),e(S,[2,40]),e(G,[2,46]),e(t,[2,42]),e(t,[2,8]),e(t,[2,76]),e(t,[2,77]),e(t,[2,78]),{13:[1,102],42:I},{13:[1,104],15:[1,103]},{19:[1,105]},e(t,[2,15]),e(ae,[2,59],{55:106,58:[1,107],60:oe}),e(ae,[2,60]),e(ue,[2,64]),e(ae,[2,67]),e(ue,[2,66]),{18:108,19:[1,109],51:50,52:51,56:C},{16:110,40:T,41:_},e(F,[2,44],{46:84,13:N,41:M,48:A,49:B}),{14:111,40:q,50:V,70:H},{16:112,40:T,41:_},{14:113,40:q,50:V,70:H},e(t,[2,13]),e(ae,[2,61]),{57:114,59:re},{19:[1,115]},e(t,[2,20]),e(t,[2,23],{17:[1,116],42:I}),e(t,[2,11]),{13:[1,117],42:I},e(t,[2,10]),e(ue,[2,65]),e(t,[2,18]),{18:118,19:[1,119],51:50,52:51,56:C},{14:120,40:q,50:V,70:H},{19:[1,121]},e(t,[2,21]),e(t,[2,9]),e(t,[2,19])],defaultActions:{52:[2,62],72:[2,57]},parseError:l(function(Z,J){if(J.recoverable)this.trace(Z);else{var he=new Error(Z);throw he.hash=J,he}},"parseError"),parse:l(function(Z){var J=this,he=[0],K=[],me=[null],Y=[],_e=this.table,ce="",Ne=0,Be=0,je=0,qe=2,Se=1,Re=Y.slice.call(arguments,1),ve=Object.create(this.lexer),Fe={yy:{}};for(var de in this.yy)Object.prototype.hasOwnProperty.call(this.yy,de)&&(Fe.yy[de]=this.yy[de]);ve.setInput(Z,Fe.yy),Fe.yy.lexer=ve,Fe.yy.parser=this,typeof ve.yylloc>"u"&&(ve.yylloc={});var Ve=ve.yylloc;Y.push(Ve);var Q=ve.options&&ve.options.ranges;typeof Fe.yy.parseError=="function"?this.parseError=Fe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Me(Ue){he.length=he.length-2*Ue,me.length=me.length-Ue,Y.length=Y.length-Ue}l(Me,"popStack");function z(){var Ue;return Ue=K.pop()||ve.lex()||Se,typeof Ue!="number"&&(Ue instanceof Array&&(K=Ue,Ue=K.pop()),Ue=J.symbols_[Ue]||Ue),Ue}l(z,"lex");for(var te,se,pe,fe,we,Ce,Te={},ze,He,at,$e;;){if(pe=he[he.length-1],this.defaultActions[pe]?fe=this.defaultActions[pe]:((te===null||typeof te>"u")&&(te=z()),fe=_e[pe]&&_e[pe][te]),typeof fe>"u"||!fe.length||!fe[0]){var Ye="";$e=[];for(ze in _e[pe])this.terminals_[ze]&&ze>qe&&$e.push("'"+this.terminals_[ze]+"'");ve.showPosition?Ye="Parse error on line "+(Ne+1)+`:
`+ve.showPosition()+`
Expecting `+$e.join(", ")+", got '"+(this.terminals_[te]||te)+"'":Ye="Parse error on line "+(Ne+1)+": Unexpected "+(te==Se?"end of input":"'"+(this.terminals_[te]||te)+"'"),this.parseError(Ye,{text:ve.match,token:this.terminals_[te]||te,line:ve.yylineno,loc:Ve,expected:$e})}if(fe[0]instanceof Array&&fe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+pe+", token: "+te);switch(fe[0]){case 1:he.push(te),me.push(ve.yytext),Y.push(ve.yylloc),he.push(fe[1]),te=null,se?(te=se,se=null):(Be=ve.yyleng,ce=ve.yytext,Ne=ve.yylineno,Ve=ve.yylloc,je>0&&je--);break;case 2:if(He=this.productions_[fe[1]][1],Te.$=me[me.length-He],Te._$={first_line:Y[Y.length-(He||1)].first_line,last_line:Y[Y.length-1].last_line,first_column:Y[Y.length-(He||1)].first_column,last_column:Y[Y.length-1].last_column},Q&&(Te._$.range=[Y[Y.length-(He||1)].range[0],Y[Y.length-1].range[1]]),Ce=this.performAction.apply(Te,[ce,Be,Ne,Fe.yy,fe[1],me,Y].concat(Re)),typeof Ce<"u")return Ce;He&&(he=he.slice(0,-1*He*2),me=me.slice(0,-1*He),Y=Y.slice(0,-1*He)),he.push(this.productions_[fe[1]][0]),me.push(Te.$),Y.push(Te._$),at=_e[he[he.length-2]][he[he.length-1]],he.push(at);break;case 3:return!0}}return!0},"parse")},ee=function(){var Z={EOF:1,parseError:l(function(J,he){if(this.yy.parser)this.yy.parser.parseError(J,he);else throw new Error(J)},"parseError"),setInput:l(function(J,he){return this.yy=he||this.yy||{},this._input=J,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var J=this._input[0];this.yytext+=J,this.yyleng++,this.offset++,this.match+=J,this.matched+=J;var he=J.match(/(?:\r\n?|\n).*/g);return he?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),J},"input"),unput:l(function(J){var he=J.length,K=J.split(/(?:\r\n?|\n)/g);this._input=J+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-he),this.offset-=he;var me=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),K.length-1&&(this.yylineno-=K.length-1);var Y=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:K?(K.length===me.length?this.yylloc.first_column:0)+me[me.length-K.length].length-K[0].length:this.yylloc.first_column-he},this.options.ranges&&(this.yylloc.range=[Y[0],Y[0]+this.yyleng-he]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(J){this.unput(this.match.slice(J))},"less"),pastInput:l(function(){var J=this.matched.substr(0,this.matched.length-this.match.length);return(J.length>20?"...":"")+J.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var J=this.match;return J.length<20&&(J+=this._input.substr(0,20-J.length)),(J.substr(0,20)+(J.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var J=this.pastInput(),he=new Array(J.length+1).join("-");return J+this.upcomingInput()+`
`+he+"^"},"showPosition"),test_match:l(function(J,he){var K,me,Y;if(this.options.backtrack_lexer&&(Y={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Y.yylloc.range=this.yylloc.range.slice(0))),me=J[0].match(/(?:\r\n?|\n).*/g),me&&(this.yylineno+=me.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:me?me[me.length-1].length-me[me.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+J[0].length},this.yytext+=J[0],this.match+=J[0],this.matches=J,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(J[0].length),this.matched+=J[0],K=this.performAction.call(this,this.yy,this,he,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),K)return K;if(this._backtrack){for(var _e in Y)this[_e]=Y[_e];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var J,he,K,me;this._more||(this.yytext="",this.match="");for(var Y=this._currentRules(),_e=0;_e<Y.length;_e++)if(K=this._input.match(this.rules[Y[_e]]),K&&(!he||K[0].length>he[0].length)){if(he=K,me=_e,this.options.backtrack_lexer){if(J=this.test_match(K,Y[_e]),J!==!1)return J;if(this._backtrack){he=!1;continue}else return!1}else if(!this.options.flex)break}return he?(J=this.test_match(he,Y[me]),J!==!1?J:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var J=this.next();return J||this.lex()},"lex"),begin:l(function(J){this.conditionStack.push(J)},"begin"),popState:l(function(){var J=this.conditionStack.length-1;return J>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(J){return J=this.conditionStack.length-1-Math.abs(J||0),J>=0?this.conditionStack[J]:"INITIAL"},"topState"),pushState:l(function(J){this.begin(J)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(J,he,K,me){var Y=me;switch(K){case 0:return this.begin("acc_title"),24;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),26;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 33;case 8:return 34;case 9:return 35;case 10:return 36;case 11:return 10;case 12:break;case 13:return 8;case 14:return 50;case 15:return 70;case 16:return 4;case 17:return this.begin("block"),17;case 18:return 49;case 19:return 49;case 20:return 42;case 21:return 15;case 22:return 13;case 23:break;case 24:return 59;case 25:return 56;case 26:return 56;case 27:return 60;case 28:break;case 29:return this.popState(),19;case 30:return he.yytext[0];case 31:return 20;case 32:return 21;case 33:return this.begin("style"),44;case 34:return this.popState(),10;case 35:break;case 36:return 13;case 37:return 42;case 38:return 49;case 39:return this.begin("style"),37;case 40:return 43;case 41:return 63;case 42:return 65;case 43:return 65;case 44:return 65;case 45:return 63;case 46:return 63;case 47:return 64;case 48:return 64;case 49:return 64;case 50:return 64;case 51:return 64;case 52:return 65;case 53:return 64;case 54:return 65;case 55:return 66;case 56:return 66;case 57:return 66;case 58:return 66;case 59:return 63;case 60:return 64;case 61:return 65;case 62:return 67;case 63:return 68;case 64:return 69;case 65:return 69;case 66:return 68;case 67:return 68;case 68:return 68;case 69:return 41;case 70:return 47;case 71:return 40;case 72:return 48;case 73:return he.yytext[0];case 74:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:#)/i,/^(?:#)/i,/^(?:,)/i,/^(?::::)/i,/^(?::)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:([^\s]*)[~].*[~]([^\s]*))/i,/^(?:([\*A-Za-z_\u00C0-\uFFFF][A-Za-z0-9\-\_\[\]\(\)\u00C0-\uFFFF\*]*))/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:style\b)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?::)/i,/^(?:,)/i,/^(?:#)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:;)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:[0-9])/i,/^(?:.)/i,/^(?:$)/i],conditions:{style:{rules:[34,35,36,37,38,69,70],inclusive:!1},acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[23,24,25,26,27,28,29,30],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,31,32,33,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,71,72,73,74],inclusive:!0}}};return Z}();W.lexer=ee;function X(){this.yy={}}return l(X,"Parser"),X.prototype=W,W.Parser=X,new X}(),Nk.parser=Nk,i8e=Nk}),n8e,iQe=D(()=>{"use strict";st(),Gt(),Di(),Zt(),n8e=class{constructor(){this.entities=new Map,this.relationships=[],this.classes=new Map,this.direction="TB",this.Cardinality={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},this.Identification={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},this.setAccTitle=Mi,this.getAccTitle=Gi,this.setAccDescription=Ui,this.getAccDescription=qi,this.setDiagramTitle=sn,this.getDiagramTitle=Ii,this.getConfig=l(()=>Ee().er,"getConfig"),this.clear(),this.addEntity=this.addEntity.bind(this),this.addAttributes=this.addAttributes.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setDirection=this.setDirection.bind(this),this.addCssStyles=this.addCssStyles.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}static{l(this,"ErDB")}addEntity(e,t=""){return this.entities.has(e)?!this.entities.get(e)?.alias&&t&&(this.entities.get(e).alias=t,ne.info(`Add alias '${t}' to entity '${e}'`)):(this.entities.set(e,{id:`entity-${e}-${this.entities.size}`,label:e,attributes:[],alias:t,shape:"erBox",look:Ee().look??"default",cssClasses:"default",cssStyles:[]}),ne.info("Added new entity :",e)),this.entities.get(e)}getEntity(e){return this.entities.get(e)}getEntities(){return this.entities}getClasses(){return this.classes}addAttributes(e,t){let r=this.addEntity(e),i;for(i=t.length-1;i>=0;i--)t[i].keys||(t[i].keys=[]),t[i].comment||(t[i].comment=""),r.attributes.push(t[i]),ne.debug("Added attribute ",t[i].name)}addRelationship(e,t,r,i){let n=this.entities.get(e),a=this.entities.get(r);if(!n||!a)return;let s={entityA:n.id,roleA:t,entityB:a.id,relSpec:i};this.relationships.push(s),ne.debug("Added new relationship :",s)}getRelationships(){return this.relationships}getDirection(){return this.direction}setDirection(e){this.direction=e}getCompiledStyles(e){let t=[];for(let r of e){let i=this.classes.get(r);i?.styles&&(t=[...t,...i.styles??[]].map(n=>n.trim())),i?.textStyles&&(t=[...t,...i.textStyles??[]].map(n=>n.trim()))}return t}addCssStyles(e,t){for(let r of e){let i=this.entities.get(r);if(!t||!i)return;for(let n of t)i.cssStyles.push(n)}}addClass(e,t){e.forEach(r=>{let i=this.classes.get(r);i===void 0&&(i={id:r,styles:[],textStyles:[]},this.classes.set(r,i)),t&&t.forEach(function(n){if(/color/.exec(n)){let a=n.replace("fill","bgFill");i.textStyles.push(a)}i.styles.push(n)})})}setClass(e,t){for(let r of e){let i=this.entities.get(r);if(i)for(let n of t)i.cssClasses+=" "+n}}clear(){this.entities=new Map,this.classes=new Map,this.relationships=[],Ni()}getData(){let e=[],t=[],r=Ee();for(let n of this.entities.keys()){let a=this.entities.get(n);a&&(a.cssCompiledStyles=this.getCompiledStyles(a.cssClasses.split(" ")),e.push(a))}let i=0;for(let n of this.relationships){let a={id:cd(n.entityA,n.entityB,{prefix:"id",counter:i++}),type:"normal",curve:"basis",start:n.entityA,end:n.entityB,label:n.roleA,labelpos:"c",thickness:"normal",classes:"relationshipLine",arrowTypeStart:n.relSpec.cardB.toLowerCase(),arrowTypeEnd:n.relSpec.cardA.toLowerCase(),pattern:n.relSpec.relType=="IDENTIFYING"?"solid":"dashed",look:r.look};t.push(a)}return{nodes:e,edges:t,other:{},config:r,direction:"TB"}}}}),a8e={};sr(a8e,{draw:()=>s8e});var s8e,nQe=D(()=>{"use strict";Gt(),st(),Fg(),Qd(),Jd(),Zt(),hr(),s8e=l(async function(e,t,r,i){ne.info("REF0:"),ne.info("Drawing er diagram (unified)",t);let{securityLevel:n,er:a,layout:s}=Ee(),o=i.db.getData(),u=bd(t,n);o.type=i.type,o.layoutAlgorithm=D1(s),o.config.flowchart.nodeSpacing=a?.nodeSpacing||140,o.config.flowchart.rankSpacing=a?.rankSpacing||80,o.direction=i.db.getDirection(),o.markers=["only_one","zero_or_one","one_or_more","zero_or_more"],o.diagramId=t,await Zd(o,u),o.layoutAlgorithm==="elk"&&u.select(".edges").lower();let h=u.selectAll('[id*="-background"]');Array.from(h).length>0&&h.each(function(){let p=Ke(this),g=p.attr("id").replace("-background",""),f=u.select(`#${CSS.escape(g)}`);if(!f.empty()){let m=f.attr("transform");p.attr("transform",m)}}),or.insertTitle(u,"erDiagramTitleText",a?.titleTopMargin??25,i.db.getDiagramTitle()),sh(u,8,"erDiagram",a?.useMaxWidth??!0)},"draw")}),o8e,l8e,c8e,aQe=D(()=>{"use strict";xs(),o8e=l((e,t)=>{let r=i4,i=r(e,"r"),n=r(e,"g"),a=r(e,"b");return Fl(i,n,a,t)},"fade"),l8e=l(e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

  .labelBkg {
    background-color: ${o8e(e.tertiaryColor,.5)};
  }

  .edgeLabel .label {
    fill: ${e.nodeBorder};
    font-size: 14px;
  }

  .label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }

  .edge-pattern-dashed {
    stroke-dasharray: 8,8;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon
  {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .relationshipLine {
    stroke: ${e.lineColor};
    stroke-width: 1;
    fill: none;
  }

  .marker {
    fill: none !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
`,"getStyles"),c8e=l8e}),u8e={};sr(u8e,{diagram:()=>h8e});var h8e,sQe=D(()=>{"use strict";rQe(),iQe(),nQe(),aQe(),h8e={parser:i8e,get db(){return new n8e},renderer:a8e,styles:c8e}});function Ji(e){return typeof e=="object"&&e!==null&&typeof e.$type=="string"}function qa(e){return typeof e=="object"&&e!==null&&typeof e.$refText=="string"}function iB(e){return typeof e=="object"&&e!==null&&typeof e.name=="string"&&typeof e.type=="string"&&typeof e.path=="string"}function O1(e){return typeof e=="object"&&e!==null&&Ji(e.container)&&qa(e.reference)&&typeof e.message=="string"}function Ic(e){return typeof e=="object"&&e!==null&&Array.isArray(e.content)}function e0(e){return typeof e=="object"&&e!==null&&typeof e.tokenType=="object"}function Mk(e){return Ic(e)&&typeof e.fullText=="string"}var Ik,gl=D(()=>{"use strict";l(Ji,"isAstNode"),l(qa,"isReference"),l(iB,"isAstNodeDescription"),l(O1,"isLinkingError"),Ik=class{static{l(this,"AbstractAstReflection")}constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,t){return Ji(e)&&this.isSubtype(e.$type,t)}isSubtype(e,t){if(e===t)return!0;let r=this.subtypes[e];r||(r=this.subtypes[e]={});let i=r[t];if(i!==void 0)return i;{let n=this.computeIsSubtype(e,t);return r[t]=n,n}}getAllSubTypes(e){let t=this.allSubtypes[e];if(t)return t;{let r=this.getAllTypes(),i=[];for(let n of r)this.isSubtype(n,e)&&i.push(n);return this.allSubtypes[e]=i,i}}},l(Ic,"isCompositeCstNode"),l(e0,"isLeafCstNode"),l(Mk,"isRootCstNode")});function d8e(e){return typeof e=="string"?e:typeof e>"u"?"undefined":typeof e.toString=="function"?e.toString():Object.prototype.toString.call(e)}function Uv(e){return!!e&&typeof e[Symbol.iterator]=="function"}function $i(...e){if(e.length===1){let t=e[0];if(t instanceof Co)return t;if(Uv(t))return new Co(()=>t[Symbol.iterator](),r=>r.next());if(typeof t.length=="number")return new Co(()=>({index:0}),r=>r.index<t.length?{done:!1,value:t[r.index++]}:ia)}return e.length>1?new Co(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){let r=t.iterator.next();if(!r.done)return r;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){let r=e[t.collIndex++];Uv(r)?t.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return ia}):qv}var Co,qv,ia,t0,jv,us=D(()=>{"use strict";Co=class su{static{l(this,"StreamImpl")}constructor(t,r){this.startFn=t,this.nextFn=r}iterator(){let t={state:this.startFn(),next:l(()=>this.nextFn(t.state),"next"),[Symbol.iterator]:()=>t};return t}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let t=this.iterator(),r=0,i=t.next();for(;!i.done;)r++,i=t.next();return r}toArray(){let t=[],r=this.iterator(),i;do i=r.next(),i.value!==void 0&&t.push(i.value);while(!i.done);return t}toSet(){return new Set(this)}toMap(t,r){let i=this.map(n=>[t?t(n):n,r?r(n):n]);return new Map(i)}toString(){return this.join()}concat(t){return new su(()=>({first:this.startFn(),firstDone:!1,iterator:t[Symbol.iterator]()}),r=>{let i;if(!r.firstDone){do if(i=this.nextFn(r.first),!i.done)return i;while(!i.done);r.firstDone=!0}do if(i=r.iterator.next(),!i.done)return i;while(!i.done);return ia})}join(t=","){let r=this.iterator(),i="",n,a=!1;do n=r.next(),n.done||(a&&(i+=t),i+=d8e(n.value)),a=!0;while(!n.done);return i}indexOf(t,r=0){let i=this.iterator(),n=0,a=i.next();for(;!a.done;){if(n>=r&&a.value===t)return n;a=i.next(),n++}return-1}every(t){let r=this.iterator(),i=r.next();for(;!i.done;){if(!t(i.value))return!1;i=r.next()}return!0}some(t){let r=this.iterator(),i=r.next();for(;!i.done;){if(t(i.value))return!0;i=r.next()}return!1}forEach(t){let r=this.iterator(),i=0,n=r.next();for(;!n.done;)t(n.value,i),n=r.next(),i++}map(t){return new su(this.startFn,r=>{let{done:i,value:n}=this.nextFn(r);return i?ia:{done:!1,value:t(n)}})}filter(t){return new su(this.startFn,r=>{let i;do if(i=this.nextFn(r),!i.done&&t(i.value))return i;while(!i.done);return ia})}nonNullable(){return this.filter(t=>t!=null)}reduce(t,r){let i=this.iterator(),n=r,a=i.next();for(;!a.done;)n===void 0?n=a.value:n=t(n,a.value),a=i.next();return n}reduceRight(t,r){return this.recursiveReduce(this.iterator(),t,r)}recursiveReduce(t,r,i){let n=t.next();if(n.done)return i;let a=this.recursiveReduce(t,r,i);return a===void 0?n.value:r(a,n.value)}find(t){let r=this.iterator(),i=r.next();for(;!i.done;){if(t(i.value))return i.value;i=r.next()}}findIndex(t){let r=this.iterator(),i=0,n=r.next();for(;!n.done;){if(t(n.value))return i;n=r.next(),i++}return-1}includes(t){let r=this.iterator(),i=r.next();for(;!i.done;){if(i.value===t)return!0;i=r.next()}return!1}flatMap(t){return new su(()=>({this:this.startFn()}),r=>{do{if(r.iterator){let a=r.iterator.next();if(a.done)r.iterator=void 0;else return a}let{done:i,value:n}=this.nextFn(r.this);if(!i){let a=t(n);if(Uv(a))r.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}}while(r.iterator);return ia})}flat(t){if(t===void 0&&(t=1),t<=0)return this;let r=t>1?this.flat(t-1):this;return new su(()=>({this:r.startFn()}),i=>{do{if(i.iterator){let s=i.iterator.next();if(s.done)i.iterator=void 0;else return s}let{done:n,value:a}=r.nextFn(i.this);if(!n)if(Uv(a))i.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}while(i.iterator);return ia})}head(){let t=this.iterator().next();if(!t.done)return t.value}tail(t=1){return new su(()=>{let r=this.startFn();for(let i=0;i<t;i++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(t){return new su(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>t?ia:this.nextFn(r.state)))}distinct(t){return new su(()=>({set:new Set,internalState:this.startFn()}),r=>{let i;do if(i=this.nextFn(r.internalState),!i.done){let n=t?t(i.value):i.value;if(!r.set.has(n))return r.set.add(n),i}while(!i.done);return ia})}exclude(t,r){let i=new Set;for(let n of t){let a=r?r(n):n;i.add(a)}return this.filter(n=>{let a=r?r(n):n;return!i.has(a)})}},l(d8e,"toString"),l(Uv,"isIterable"),qv=new Co(()=>{},()=>ia),ia=Object.freeze({done:!0,value:void 0}),l($i,"stream"),t0=class extends Co{static{l(this,"TreeStreamImpl")}constructor(e,t,r){super(()=>({iterators:r?.includeRoot?[[e][Symbol.iterator]()]:[t(e)[Symbol.iterator]()],pruned:!1}),i=>{for(i.pruned&&(i.iterators.pop(),i.pruned=!1);i.iterators.length>0;){let n=i.iterators[i.iterators.length-1].next();if(n.done)i.iterators.pop();else return i.iterators.push(t(n.value)[Symbol.iterator]()),n}return ia})}iterator(){let e={state:this.startFn(),next:l(()=>this.nextFn(e.state),"next"),prune:l(()=>{e.state.pruned=!0},"prune"),[Symbol.iterator]:()=>e};return e}},function(e){function t(a){return a.reduce((s,o)=>s+o,0)}l(t,"sum"),e.sum=t;function r(a){return a.reduce((s,o)=>s*o,0)}l(r,"product"),e.product=r;function i(a){return a.reduce((s,o)=>Math.min(s,o))}l(i,"min"),e.min=i;function n(a){return a.reduce((s,o)=>Math.max(s,o))}l(n,"max"),e.max=n}(jv||(jv={}))}),nB={};sr(nB,{DefaultNameRegexp:()=>Ok,RangeComparison:()=>fl,compareRange:()=>sB,findCommentNode:()=>lB,findDeclarationNodeAtOffset:()=>g8e,findLeafNodeAtOffset:()=>Rk,findLeafNodeBeforeOffset:()=>cB,flattenCst:()=>p8e,getInteriorNodes:()=>y8e,getNextNode:()=>f8e,getPreviousNode:()=>hB,getStartlineNode:()=>m8e,inRange:()=>oB,isChildNode:()=>aB,isCommentNode:()=>Dk,streamCst:()=>P1,toDocumentSegment:()=>B1,tokenToRange:()=>Hv});function P1(e){return new t0(e,t=>Ic(t)?t.content:[],{includeRoot:!0})}function p8e(e){return P1(e).filter(e0)}function aB(e,t){for(;e.container;)if(e=e.container,e===t)return!0;return!1}function Hv(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function B1(e){if(!e)return;let{offset:t,end:r,range:i}=e;return{range:i,offset:t,end:r,length:r-t}}function sB(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<=t.start.character)return fl.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>=t.end.character)return fl.After;let r=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,i=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return r&&i?fl.Inside:r?fl.OverlapBack:i?fl.OverlapFront:fl.Outside}function oB(e,t){return sB(e,t)>fl.After}function g8e(e,t,r=Ok){if(e){if(t>0){let i=t-e.offset,n=e.text.charAt(i);r.test(n)||t--}return Rk(e,t)}}function lB(e,t){if(e){let r=hB(e,!0);if(r&&Dk(r,t))return r;if(Mk(e)){let i=e.content.findIndex(n=>!n.hidden);for(let n=i-1;n>=0;n--){let a=e.content[n];if(Dk(a,t))return a}}}}function Dk(e,t){return e0(e)&&t.includes(e.tokenType.name)}function Rk(e,t){if(e0(e))return e;if(Ic(e)){let r=uB(e,t,!1);if(r)return Rk(r,t)}}function cB(e,t){if(e0(e))return e;if(Ic(e)){let r=uB(e,t,!0);if(r)return cB(r,t)}}function uB(e,t,r){let i=0,n=e.content.length-1,a;for(;i<=n;){let s=Math.floor((i+n)/2),o=e.content[s];if(o.offset<=t&&o.end>t)return o;o.end<=t?(a=r?o:void 0,i=s+1):n=s-1}return a}function hB(e,t=!0){for(;e.container;){let r=e.container,i=r.content.indexOf(e);for(;i>0;){i--;let n=r.content[i];if(t||!n.hidden)return n}e=r}}function f8e(e,t=!0){for(;e.container;){let r=e.container,i=r.content.indexOf(e),n=r.content.length-1;for(;i<n;){i++;let a=r.content[i];if(t||!a.hidden)return a}e=r}}function m8e(e){if(e.range.start.character===0)return e;let t=e.range.start.line,r=e,i;for(;e.container;){let n=e.container,a=i??n.content.indexOf(e);if(a===0?(e=n,i=void 0):(i=a-1,e=n.content[i]),e.range.start.line!==t)break;r=e}return r}function y8e(e,t){let r=v8e(e,t);return r?r.parent.content.slice(r.a+1,r.b):[]}function v8e(e,t){let r=dB(e),i=dB(t),n;for(let a=0;a<r.length&&a<i.length;a++){let s=r[a],o=i[a];if(s.parent===o.parent)n={parent:s.parent,a:s.index,b:o.index};else break}return n}function dB(e){let t=[];for(;e.container;){let r=e.container,i=r.content.indexOf(e);t.push({parent:r,index:i}),e=r}return t.reverse()}var fl,Ok,ml=D(()=>{"use strict";gl(),us(),l(P1,"streamCst"),l(p8e,"flattenCst"),l(aB,"isChildNode"),l(Hv,"tokenToRange"),l(B1,"toDocumentSegment"),function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside",e[e.Outside=5]="Outside"}(fl||(fl={})),l(sB,"compareRange"),l(oB,"inRange"),Ok=/^[\w\p{L}]$/u,l(g8e,"findDeclarationNodeAtOffset"),l(lB,"findCommentNode"),l(Dk,"isCommentNode"),l(Rk,"findLeafNodeAtOffset"),l(cB,"findLeafNodeBeforeOffset"),l(uB,"binarySearch"),l(hB,"getPreviousNode"),l(f8e,"getNextNode"),l(m8e,"getStartlineNode"),l(y8e,"getInteriorNodes"),l(v8e,"getCommonParent"),l(dB,"getParentChain")});function oh(e){throw new Error("Error! The input value was not handled.")}var Vv,pB=D(()=>{"use strict";Vv=class extends Error{static{l(this,"ErrorWithLocation")}constructor(e,t){super(e?`${t} at ${e.range.start.line}:${e.range.start.character}`:t)}},l(oh,"assertUnreachable")}),b8e={};sr(b8e,{AbstractElement:()=>a0,AbstractRule:()=>i0,AbstractType:()=>n0,Action:()=>E0,Alternatives:()=>C0,ArrayLiteral:()=>s0,ArrayType:()=>o0,Assignment:()=>S0,BooleanLiteral:()=>l0,CharacterRange:()=>_0,Condition:()=>$1,Conjunction:()=>c0,CrossReference:()=>A0,Disjunction:()=>u0,EndOfFile:()=>L0,Grammar:()=>h0,GrammarImport:()=>z1,Group:()=>N0,InferredType:()=>d0,Interface:()=>p0,Keyword:()=>M0,LangiumGrammarAstReflection:()=>qk,LangiumGrammarTerminals:()=>R8e,NamedArgument:()=>G1,NegatedToken:()=>I0,Negation:()=>g0,NumberLiteral:()=>f0,Parameter:()=>m0,ParameterReference:()=>y0,ParserRule:()=>v0,ReferenceType:()=>b0,RegexToken:()=>D0,ReturnType:()=>U1,RuleCall:()=>R0,SimpleType:()=>x0,StringLiteral:()=>w0,TerminalAlternatives:()=>O0,TerminalGroup:()=>P0,TerminalRule:()=>ch,TerminalRuleCall:()=>B0,Type:()=>k0,TypeAttribute:()=>q1,TypeDefinition:()=>Xv,UnionType:()=>T0,UnorderedGroup:()=>$0,UntilToken:()=>F0,ValueLiteral:()=>F1,Wildcard:()=>z0,isAbstractElement:()=>Pk,isAbstractRule:()=>x8e,isAbstractType:()=>w8e,isAction:()=>lh,isAlternatives:()=>zk,isArrayLiteral:()=>S8e,isArrayType:()=>fB,isAssignment:()=>Dc,isBooleanLiteral:()=>mB,isCharacterRange:()=>EB,isCondition:()=>k8e,isConjunction:()=>yB,isCrossReference:()=>Wv,isDisjunction:()=>vB,isEndOfFile:()=>CB,isFeatureName:()=>T8e,isGrammar:()=>_8e,isGrammarImport:()=>A8e,isGroup:()=>r0,isInferredType:()=>Bk,isInterface:()=>$k,isKeyword:()=>Rc,isNamedArgument:()=>L8e,isNegatedToken:()=>SB,isNegation:()=>bB,isNumberLiteral:()=>N8e,isParameter:()=>M8e,isParameterReference:()=>xB,isParserRule:()=>ja,isPrimitiveType:()=>gB,isReferenceType:()=>wB,isRegexToken:()=>_B,isReturnType:()=>kB,isRuleCall:()=>Oc,isSimpleType:()=>Fk,isStringLiteral:()=>I8e,isTerminalAlternatives:()=>AB,isTerminalGroup:()=>LB,isTerminalRule:()=>yl,isTerminalRuleCall:()=>Gk,isType:()=>Yv,isTypeAttribute:()=>D8e,isTypeDefinition:()=>E8e,isUnionType:()=>TB,isUnorderedGroup:()=>Uk,isUntilToken:()=>NB,isValueLiteral:()=>C8e,isWildcard:()=>MB,reflection:()=>ar});function x8e(e){return ar.isInstance(e,i0)}function w8e(e){return ar.isInstance(e,n0)}function k8e(e){return ar.isInstance(e,$1)}function T8e(e){return gB(e)||e==="current"||e==="entry"||e==="extends"||e==="false"||e==="fragment"||e==="grammar"||e==="hidden"||e==="import"||e==="interface"||e==="returns"||e==="terminal"||e==="true"||e==="type"||e==="infer"||e==="infers"||e==="with"||typeof e=="string"&&/\^?[_a-zA-Z][\w_]*/.test(e)}function gB(e){return e==="string"||e==="number"||e==="boolean"||e==="Date"||e==="bigint"}function E8e(e){return ar.isInstance(e,Xv)}function C8e(e){return ar.isInstance(e,F1)}function Pk(e){return ar.isInstance(e,a0)}function S8e(e){return ar.isInstance(e,s0)}function fB(e){return ar.isInstance(e,o0)}function mB(e){return ar.isInstance(e,l0)}function yB(e){return ar.isInstance(e,c0)}function vB(e){return ar.isInstance(e,u0)}function _8e(e){return ar.isInstance(e,h0)}function A8e(e){return ar.isInstance(e,z1)}function Bk(e){return ar.isInstance(e,d0)}function $k(e){return ar.isInstance(e,p0)}function L8e(e){return ar.isInstance(e,G1)}function bB(e){return ar.isInstance(e,g0)}function N8e(e){return ar.isInstance(e,f0)}function M8e(e){return ar.isInstance(e,m0)}function xB(e){return ar.isInstance(e,y0)}function ja(e){return ar.isInstance(e,v0)}function wB(e){return ar.isInstance(e,b0)}function kB(e){return ar.isInstance(e,U1)}function Fk(e){return ar.isInstance(e,x0)}function I8e(e){return ar.isInstance(e,w0)}function yl(e){return ar.isInstance(e,ch)}function Yv(e){return ar.isInstance(e,k0)}function D8e(e){return ar.isInstance(e,q1)}function TB(e){return ar.isInstance(e,T0)}function lh(e){return ar.isInstance(e,E0)}function zk(e){return ar.isInstance(e,C0)}function Dc(e){return ar.isInstance(e,S0)}function EB(e){return ar.isInstance(e,_0)}function Wv(e){return ar.isInstance(e,A0)}function CB(e){return ar.isInstance(e,L0)}function r0(e){return ar.isInstance(e,N0)}function Rc(e){return ar.isInstance(e,M0)}function SB(e){return ar.isInstance(e,I0)}function _B(e){return ar.isInstance(e,D0)}function Oc(e){return ar.isInstance(e,R0)}function AB(e){return ar.isInstance(e,O0)}function LB(e){return ar.isInstance(e,P0)}function Gk(e){return ar.isInstance(e,B0)}function Uk(e){return ar.isInstance(e,$0)}function NB(e){return ar.isInstance(e,F0)}function MB(e){return ar.isInstance(e,z0)}var R8e,i0,n0,$1,Xv,F1,a0,s0,o0,l0,c0,u0,h0,z1,d0,p0,G1,g0,f0,m0,y0,v0,b0,U1,x0,w0,ch,k0,q1,T0,E0,C0,S0,_0,A0,L0,N0,M0,I0,D0,R0,O0,P0,B0,$0,F0,z0,qk,ar,Pc=D(()=>{"use strict";gl(),R8e={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/},i0="AbstractRule",l(x8e,"isAbstractRule"),n0="AbstractType",l(w8e,"isAbstractType"),$1="Condition",l(k8e,"isCondition"),l(T8e,"isFeatureName"),l(gB,"isPrimitiveType"),Xv="TypeDefinition",l(E8e,"isTypeDefinition"),F1="ValueLiteral",l(C8e,"isValueLiteral"),a0="AbstractElement",l(Pk,"isAbstractElement"),s0="ArrayLiteral",l(S8e,"isArrayLiteral"),o0="ArrayType",l(fB,"isArrayType"),l0="BooleanLiteral",l(mB,"isBooleanLiteral"),c0="Conjunction",l(yB,"isConjunction"),u0="Disjunction",l(vB,"isDisjunction"),h0="Grammar",l(_8e,"isGrammar"),z1="GrammarImport",l(A8e,"isGrammarImport"),d0="InferredType",l(Bk,"isInferredType"),p0="Interface",l($k,"isInterface"),G1="NamedArgument",l(L8e,"isNamedArgument"),g0="Negation",l(bB,"isNegation"),f0="NumberLiteral",l(N8e,"isNumberLiteral"),m0="Parameter",l(M8e,"isParameter"),y0="ParameterReference",l(xB,"isParameterReference"),v0="ParserRule",l(ja,"isParserRule"),b0="ReferenceType",l(wB,"isReferenceType"),U1="ReturnType",l(kB,"isReturnType"),x0="SimpleType",l(Fk,"isSimpleType"),w0="StringLiteral",l(I8e,"isStringLiteral"),ch="TerminalRule",l(yl,"isTerminalRule"),k0="Type",l(Yv,"isType"),q1="TypeAttribute",l(D8e,"isTypeAttribute"),T0="UnionType",l(TB,"isUnionType"),E0="Action",l(lh,"isAction"),C0="Alternatives",l(zk,"isAlternatives"),S0="Assignment",l(Dc,"isAssignment"),_0="CharacterRange",l(EB,"isCharacterRange"),A0="CrossReference",l(Wv,"isCrossReference"),L0="EndOfFile",l(CB,"isEndOfFile"),N0="Group",l(r0,"isGroup"),M0="Keyword",l(Rc,"isKeyword"),I0="NegatedToken",l(SB,"isNegatedToken"),D0="RegexToken",l(_B,"isRegexToken"),R0="RuleCall",l(Oc,"isRuleCall"),O0="TerminalAlternatives",l(AB,"isTerminalAlternatives"),P0="TerminalGroup",l(LB,"isTerminalGroup"),B0="TerminalRuleCall",l(Gk,"isTerminalRuleCall"),$0="UnorderedGroup",l(Uk,"isUnorderedGroup"),F0="UntilToken",l(NB,"isUntilToken"),z0="Wildcard",l(MB,"isWildcard"),qk=class extends Ik{static{l(this,"LangiumGrammarAstReflection")}getAllTypes(){return[a0,i0,n0,E0,C0,s0,o0,S0,l0,_0,$1,c0,A0,u0,L0,h0,z1,N0,d0,p0,M0,G1,I0,g0,f0,m0,y0,v0,b0,D0,U1,R0,x0,w0,O0,P0,ch,B0,k0,q1,Xv,T0,$0,F0,F1,z0]}computeIsSubtype(e,t){switch(e){case E0:case C0:case S0:case _0:case A0:case L0:case N0:case M0:case I0:case D0:case R0:case O0:case P0:case B0:case $0:case F0:case z0:return this.isSubtype(a0,t);case s0:case f0:case w0:return this.isSubtype(F1,t);case o0:case b0:case x0:case T0:return this.isSubtype(Xv,t);case l0:return this.isSubtype($1,t)||this.isSubtype(F1,t);case c0:case u0:case g0:case y0:return this.isSubtype($1,t);case d0:case p0:case k0:return this.isSubtype(n0,t);case v0:return this.isSubtype(i0,t)||this.isSubtype(n0,t);case ch:return this.isSubtype(i0,t);default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;switch(t){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return n0;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return i0;case"Grammar:usedGrammars":return h0;case"NamedArgument:parameter":case"ParameterReference:parameter":return m0;case"TerminalRuleCall:rule":return ch;default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case a0:return{name:a0,properties:[{name:"cardinality"},{name:"lookahead"}]};case s0:return{name:s0,properties:[{name:"elements",defaultValue:[]}]};case o0:return{name:o0,properties:[{name:"elementType"}]};case l0:return{name:l0,properties:[{name:"true",defaultValue:!1}]};case c0:return{name:c0,properties:[{name:"left"},{name:"right"}]};case u0:return{name:u0,properties:[{name:"left"},{name:"right"}]};case h0:return{name:h0,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case z1:return{name:z1,properties:[{name:"path"}]};case d0:return{name:d0,properties:[{name:"name"}]};case p0:return{name:p0,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case G1:return{name:G1,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case g0:return{name:g0,properties:[{name:"value"}]};case f0:return{name:f0,properties:[{name:"value"}]};case m0:return{name:m0,properties:[{name:"name"}]};case y0:return{name:y0,properties:[{name:"parameter"}]};case v0:return{name:v0,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case b0:return{name:b0,properties:[{name:"referenceType"}]};case U1:return{name:U1,properties:[{name:"name"}]};case x0:return{name:x0,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case w0:return{name:w0,properties:[{name:"value"}]};case ch:return{name:ch,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case k0:return{name:k0,properties:[{name:"name"},{name:"type"}]};case q1:return{name:q1,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case T0:return{name:T0,properties:[{name:"types",defaultValue:[]}]};case E0:return{name:E0,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case C0:return{name:C0,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case S0:return{name:S0,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case _0:return{name:_0,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case A0:return{name:A0,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case L0:return{name:L0,properties:[{name:"cardinality"},{name:"lookahead"}]};case N0:return{name:N0,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case M0:return{name:M0,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case I0:return{name:I0,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case D0:return{name:D0,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case R0:return{name:R0,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case O0:return{name:O0,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case P0:return{name:P0,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case B0:return{name:B0,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case $0:return{name:$0,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case F0:return{name:F0,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case z0:return{name:z0,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}},ar=new qk}),IB={};sr(IB,{assignMandatoryProperties:()=>DB,copyAstNode:()=>Vk,findLocalReferences:()=>P8e,findRootNode:()=>Kv,getContainerOfType:()=>j1,getDocument:()=>So,hasContainerOfType:()=>O8e,linkContentToContainer:()=>jk,streamAllContents:()=>uh,streamAst:()=>Bc,streamContents:()=>Zv,streamReferences:()=>Qv});function jk(e){for(let[t,r]of Object.entries(e))t.startsWith("$")||(Array.isArray(r)?r.forEach((i,n)=>{Ji(i)&&(i.$container=e,i.$containerProperty=t,i.$containerIndex=n)}):Ji(r)&&(r.$container=e,r.$containerProperty=t))}function j1(e,t){let r=e;for(;r;){if(t(r))return r;r=r.$container}}function O8e(e,t){let r=e;for(;r;){if(t(r))return!0;r=r.$container}return!1}function So(e){let t=Kv(e).$document;if(!t)throw new Error("AST node has no document.");return t}function Kv(e){for(;e.$container;)e=e.$container;return e}function Zv(e,t){if(!e)throw new Error("Node must be an AstNode.");let r=t?.range;return new Co(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),i=>{for(;i.keyIndex<i.keys.length;){let n=i.keys[i.keyIndex];if(!n.startsWith("$")){let a=e[n];if(Ji(a)){if(i.keyIndex++,Hk(a,r))return{done:!1,value:a}}else if(Array.isArray(a)){for(;i.arrayIndex<a.length;){let s=i.arrayIndex++,o=a[s];if(Ji(o)&&Hk(o,r))return{done:!1,value:o}}i.arrayIndex=0}}i.keyIndex++}return ia})}function uh(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new t0(e,r=>Zv(r,t))}function Bc(e,t){if(e){if(t?.range&&!Hk(e,t.range))return new t0(e,()=>[])}else throw new Error("Root node must be an AstNode.");return new t0(e,r=>Zv(r,t),{includeRoot:!0})}function Hk(e,t){var r;if(!t)return!0;let i=(r=e.$cstNode)===null||r===void 0?void 0:r.range;return i?oB(i,t):!1}function Qv(e){return new Co(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){let r=t.keys[t.keyIndex];if(!r.startsWith("$")){let i=e[r];if(qa(i))return t.keyIndex++,{done:!1,value:{reference:i,container:e,property:r}};if(Array.isArray(i)){for(;t.arrayIndex<i.length;){let n=t.arrayIndex++,a=i[n];if(qa(a))return{done:!1,value:{reference:a,container:e,property:r,index:n}}}t.arrayIndex=0}}t.keyIndex++}return ia})}function P8e(e,t=So(e).parseResult.value){let r=[];return Bc(t).forEach(i=>{Qv(i).forEach(n=>{n.reference.ref===e&&r.push(n.reference)})}),$i(r)}function DB(e,t){let r=e.getTypeMetaData(t.$type),i=t;for(let n of r.properties)n.defaultValue!==void 0&&i[n.name]===void 0&&(i[n.name]=RB(n.defaultValue))}function RB(e){return Array.isArray(e)?[...e.map(RB)]:e}function Vk(e,t){let r={$type:e.$type};for(let[i,n]of Object.entries(e))if(!i.startsWith("$"))if(Ji(n))r[i]=Vk(n,t);else if(qa(n))r[i]=t(r,i,n.$refNode,n.$refText);else if(Array.isArray(n)){let a=[];for(let s of n)Ji(s)?a.push(Vk(s,t)):qa(s)?a.push(t(r,i,s.$refNode,s.$refText)):a.push(s);r[i]=a}else r[i]=n;return jk(r),r}var Ha=D(()=>{"use strict";gl(),us(),ml(),l(jk,"linkContentToContainer"),l(j1,"getContainerOfType"),l(O8e,"hasContainerOfType"),l(So,"getDocument"),l(Kv,"findRootNode"),l(Zv,"streamContents"),l(uh,"streamAllContents"),l(Bc,"streamAst"),l(Hk,"isAstNodeInRange"),l(Qv,"streamReferences"),l(P8e,"findLocalReferences"),l(DB,"assignMandatoryProperties"),l(RB,"copyDefaultValue"),l(Vk,"copyAstNode")});function nr(e){return e.charCodeAt(0)}function Yk(e,t){Array.isArray(e)?e.forEach(function(r){t.push(r)}):t.push(e)}function H1(e,t){if(e[t]===!0)throw"duplicate flag "+t;let r=e[t];e[t]=!0}function G0(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function Jv(){throw Error("Internal Error - Should never get here!")}function OB(e){return e.type==="Character"}var B8e=D(()=>{"use strict";l(nr,"cc"),l(Yk,"insertToSet"),l(H1,"addFlag"),l(G0,"ASSERT_EXISTS"),l(Jv,"ASSERT_NEVER_REACH_HERE"),l(OB,"isCharacter")}),eb,tb,PB,oQe=D(()=>{"use strict";B8e(),eb=[];for(let e=nr("0");e<=nr("9");e++)eb.push(e);tb=[nr("_")].concat(eb);for(let e=nr("a");e<=nr("z");e++)tb.push(e);for(let e=nr("A");e<=nr("Z");e++)tb.push(e);PB=[nr(" "),nr("\f"),nr(`
`),nr("\r"),nr("	"),nr("\v"),nr("	"),nr("\xA0"),nr("\u1680"),nr("\u2000"),nr("\u2001"),nr("\u2002"),nr("\u2003"),nr("\u2004"),nr("\u2005"),nr("\u2006"),nr("\u2007"),nr("\u2008"),nr("\u2009"),nr("\u200A"),nr("\u2028"),nr("\u2029"),nr("\u202F"),nr("\u205F"),nr("\u3000"),nr("\uFEFF")]}),$8e,rb,F8e,BB,lQe=D(()=>{"use strict";B8e(),oQe(),$8e=/[0-9a-fA-F]/,rb=/[0-9]/,F8e=/[1-9]/,BB=class{static{l(this,"RegExpParser")}constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");let t=this.disjunction();this.consumeChar("/");let r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":H1(r,"global");break;case"i":H1(r,"ignoreCase");break;case"m":H1(r,"multiLine");break;case"u":H1(r,"unicode");break;case"y":H1(r,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:t,loc:this.loc(0)}}disjunction(){let e=[],t=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){let e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let t;switch(this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead";break}G0(t);let r=this.disjunction();return this.consumeChar(")"),{type:t,value:r,loc:this.loc(e)}}return Jv()}quantifier(e=!1){let t,r=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":let i=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:i,atMost:i};break;case",":let n;this.isDigit()?(n=this.integerIncludingZero(),t={atLeast:i,atMost:n}):t={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(e===!0&&t===void 0)return;G0(t);break}if(!(e===!0&&t===void 0)&&G0(t))return this.peekChar(0)==="?"?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(r),t}atom(){let e,t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}return e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),G0(e)?(e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e):Jv()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[nr(`
`),nr("\r"),nr("\u2028"),nr("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,t=!1;switch(this.popChar()){case"d":e=eb;break;case"D":e=eb,t=!0;break;case"s":e=PB;break;case"S":e=PB,t=!0;break;case"w":e=tb;break;case"W":e=tb,t=!0;break}return G0(e)?{type:"Set",value:e,complement:t}:Jv()}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=nr("\f");break;case"n":e=nr(`
`);break;case"r":e=nr("\r");break;case"t":e=nr("	");break;case"v":e=nr("\v");break}return G0(e)?{type:"Character",value:e}:Jv()}controlLetterEscapeAtom(){this.consumeChar("c");let e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:nr("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let e=this.popChar();return{type:"Character",value:nr(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let e=this.popChar();return{type:"Character",value:nr(e)}}}characterClass(){let e=[],t=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),t=!0);this.isClassAtom();){let r=this.classAtom(),i=r.type==="Character";if(OB(r)&&this.isRangeDash()){this.consumeChar("-");let n=this.classAtom(),a=n.type==="Character";if(OB(n)){if(n.value<r.value)throw Error("Range out of order in character class");e.push({from:r.value,to:n.value})}else Yk(r.value,e),e.push(nr("-")),Yk(n.value,e)}else Yk(r.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:nr("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}let t=this.disjunction();this.consumeChar(")");let r={type:"Group",capturing:e,value:t};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(F8e.test(e)===!1)throw Error("Expecting a positive integer");for(;rb.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(rb.test(e)===!1)throw Error("Expecting an integer");for(;rb.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){let e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:nr(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return rb.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){let e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let t="";for(let r=0;r<e;r++){let i=this.popChar();if($8e.test(i)===!1)throw Error("Expecting a HexDecimal digits");t+=i}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){let e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}}),ib,cQe=D(()=>{"use strict";ib=class{static{l(this,"BaseRegExpVisitor")}visitChildren(e){for(let t in e){let r=e[t];e.hasOwnProperty(t)&&(r.type!==void 0?this.visit(r):Array.isArray(r)&&r.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}}),Wk=D(()=>{"use strict";lQe(),cQe()}),$B={};sr($B,{NEWLINE_REGEXP:()=>qB,escapeRegExp:()=>V1,getCaseInsensitivePattern:()=>zB,getTerminalParts:()=>z8e,isMultilineComment:()=>FB,isWhitespace:()=>nb,partialMatches:()=>GB,partialRegExp:()=>UB,whitespaceCharacters:()=>HB});function z8e(e){try{typeof e!="string"&&(e=e.source),e=`/${e}/`;let t=jB.pattern(e),r=[];for(let i of t.value.value)hh.reset(e),hh.visit(i),r.push({start:hh.startRegexp,end:hh.endRegex});return r}catch{return[]}}function FB(e){try{return typeof e=="string"&&(e=new RegExp(e)),e=e.toString(),hh.reset(e),hh.visit(jB.pattern(e)),hh.multiline}catch{return!1}}function nb(e){let t=typeof e=="string"?new RegExp(e):e;return HB.some(r=>t.test(r))}function V1(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function zB(e){return Array.prototype.map.call(e,t=>/\w/.test(t)?`[${t.toLowerCase()}${t.toUpperCase()}]`:V1(t)).join("")}function GB(e,t){let r=UB(e),i=t.match(r);return!!i&&i[0].length>0}function UB(e){typeof e=="string"&&(e=new RegExp(e));let t=e,r=e.source,i=0;function n(){let a="",s;function o(h){a+=r.substr(i,h),i+=h}l(o,"appendRaw");function u(h){a+="(?:"+r.substr(i,h)+"|$)",i+=h}for(l(u,"appendOptional");i<r.length;)switch(r[i]){case"\\":switch(r[i+1]){case"c":u(3);break;case"x":u(4);break;case"u":t.unicode?r[i+2]==="{"?u(r.indexOf("}",i)-i+1):u(6):u(2);break;case"p":case"P":t.unicode?u(r.indexOf("}",i)-i+1):u(2);break;case"k":u(r.indexOf(">",i)-i+1);break;default:u(2);break}break;case"[":s=/\[(?:\\.|.)*?\]/g,s.lastIndex=i,s=s.exec(r)||[],u(s[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":o(1);break;case"{":s=/\{\d+,?\d*\}/g,s.lastIndex=i,s=s.exec(r),s?o(s[0].length):u(1);break;case"(":if(r[i+1]==="?")switch(r[i+2]){case":":a+="(?:",i+=3,a+=n()+"|$)";break;case"=":a+="(?=",i+=3,a+=n()+")";break;case"!":s=i,i+=3,n(),a+=r.substr(s,i-s);break;case"<":switch(r[i+3]){case"=":case"!":s=i,i+=4,n(),a+=r.substr(s,i-s);break;default:o(r.indexOf(">",i)-i+1),a+=n()+"|$)";break}break}else o(1),a+=n()+"|$)";break;case")":return++i,a;default:u(1);break}return a}return l(n,"process"),new RegExp(n(),e.flags)}var qB,jB,G8e,hh,HB,ab=D(()=>{"use strict";Wk(),qB=/\r?\n/gm,jB=new BB,G8e=class extends ib{static{l(this,"TerminalRegExpVisitor")}constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){let t=String.fromCharCode(e.value);if(!this.multiline&&t===`
`&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let r=V1(t);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitSet(e){if(!this.multiline){let t=this.regex.substring(e.loc.begin,e.loc.end),r=new RegExp(t);this.multiline=!!`
`.match(r)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let t=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(t),this.isStarting&&(this.startRegexp+=t)}}visitChildren(e){e.type==="Group"&&e.quantifier||super.visitChildren(e)}},hh=new G8e,l(z8e,"getTerminalParts"),l(FB,"isMultilineComment"),HB=`\f
\r	\v \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`.split(""),l(nb,"isWhitespace"),l(V1,"escapeRegExp"),l(zB,"getCaseInsensitivePattern"),l(GB,"partialMatches"),l(UB,"partialRegExp")}),VB={};sr(VB,{findAssignment:()=>e$,findNameAssignment:()=>Jk,findNodeForKeyword:()=>JB,findNodeForProperty:()=>Kk,findNodesForKeyword:()=>U8e,findNodesForKeywordInternal:()=>Qk,findNodesForProperty:()=>QB,getActionAtElement:()=>r$,getActionType:()=>n$,getAllReachableRules:()=>Xk,getCrossReferenceTerminal:()=>KB,getEntryRule:()=>YB,getExplicitRuleType:()=>Y1,getHiddenRules:()=>WB,getRuleType:()=>a$,getRuleTypeName:()=>Y8e,getTypeName:()=>ob,isArrayCardinality:()=>j8e,isArrayOperator:()=>H8e,isCommentTerminal:()=>ZB,isDataType:()=>V8e,isDataTypeRule:()=>sb,isOptionalCardinality:()=>q8e,terminalRegex:()=>lb});function YB(e){return e.rules.find(t=>ja(t)&&t.entry)}function WB(e){return e.rules.filter(t=>yl(t)&&t.hidden)}function Xk(e,t){let r=new Set,i=YB(e);if(!i)return new Set(e.rules);let n=[i].concat(WB(e));for(let s of n)XB(s,r,t);let a=new Set;for(let s of e.rules)(r.has(s.name)||yl(s)&&s.hidden)&&a.add(s);return a}function XB(e,t,r){t.add(e.name),uh(e).forEach(i=>{if(Oc(i)||r&&Gk(i)){let n=i.rule.ref;n&&!t.has(n.name)&&XB(n,t,r)}})}function KB(e){if(e.terminal)return e.terminal;if(e.type.ref)return Jk(e.type.ref)?.terminal}function ZB(e){return e.hidden&&!nb(lb(e))}function QB(e,t){return!e||!t?[]:Zk(e,t,e.astNode,!0)}function Kk(e,t,r){if(!e||!t)return;let i=Zk(e,t,e.astNode,!0);if(i.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,i.length-1)):r=0,i[r]}function Zk(e,t,r,i){if(!i){let n=j1(e.grammarSource,Dc);if(n&&n.feature===t)return[e]}return Ic(e)&&e.astNode===r?e.content.flatMap(n=>Zk(n,t,r,!1)):[]}function U8e(e,t){return e?Qk(e,t,e?.astNode):[]}function JB(e,t,r){if(!e)return;let i=Qk(e,t,e?.astNode);if(i.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,i.length-1)):r=0,i[r]}function Qk(e,t,r){if(e.astNode!==r)return[];if(Rc(e.grammarSource)&&e.grammarSource.value===t)return[e];let i=P1(e).iterator(),n,a=[];do if(n=i.next(),!n.done){let s=n.value;s.astNode===r?Rc(s.grammarSource)&&s.grammarSource.value===t&&a.push(s):i.prune()}while(!n.done);return a}function e$(e){var t;let r=e.astNode;for(;r===((t=e.container)===null||t===void 0?void 0:t.astNode);){let i=j1(e.grammarSource,Dc);if(i)return i;e=e.container}}function Jk(e){let t=e;return Bk(t)&&(lh(t.$container)?t=t.$container.$container:ja(t.$container)?t=t.$container:oh(t.$container)),t$(e,t,new Map)}function t$(e,t,r){var i;function n(a,s){let o;return j1(a,Dc)||(o=t$(s,s,r)),r.set(e,o),o}if(l(n,"go"),r.has(e))return r.get(e);r.set(e,void 0);for(let a of uh(t)){if(Dc(a)&&a.feature.toLowerCase()==="name")return r.set(e,a),a;if(Oc(a)&&ja(a.rule.ref))return n(a,a.rule.ref);if(Fk(a)&&!((i=a.typeRef)===null||i===void 0)&&i.ref)return n(a,a.typeRef.ref)}}function r$(e){let t=e.$container;if(r0(t)){let r=t.elements,i=r.indexOf(e);for(let n=i-1;n>=0;n--){let a=r[n];if(lh(a))return a;{let s=uh(r[n]).find(lh);if(s)return s}}}if(Pk(t))return r$(t)}function q8e(e,t){return e==="?"||e==="*"||r0(t)&&!!t.guardCondition}function j8e(e){return e==="*"||e==="+"}function H8e(e){return e==="+="}function sb(e){return i$(e,new Set)}function i$(e,t){if(t.has(e))return!0;t.add(e);for(let r of uh(e))if(Oc(r)){if(!r.rule.ref||ja(r.rule.ref)&&!i$(r.rule.ref,t))return!1}else if(Dc(r)||lh(r))return!1;return!!e.definition}function V8e(e){return eT(e.type,new Set)}function eT(e,t){if(t.has(e))return!0;if(t.add(e),fB(e)||wB(e))return!1;if(TB(e))return e.types.every(r=>eT(r,t));if(Fk(e)){if(e.primitiveType!==void 0||e.stringType!==void 0)return!0;if(e.typeRef!==void 0){let r=e.typeRef.ref;return Yv(r)?eT(r.type,t):!1}else return!1}else return!1}function Y1(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){let t=e.returnType.ref;if(t&&(ja(t)||$k(t)||Yv(t)))return t.name}}function ob(e){var t;if(ja(e))return sb(e)?e.name:(t=Y1(e))!==null&&t!==void 0?t:e.name;if($k(e)||Yv(e)||kB(e))return e.name;if(lh(e)){let r=n$(e);if(r)return r}else if(Bk(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function n$(e){var t;if(e.inferredType)return e.inferredType.name;if(!((t=e.type)===null||t===void 0)&&t.ref)return ob(e.type.ref)}function Y8e(e){var t,r,i;return yl(e)?(r=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&r!==void 0?r:"string":sb(e)?e.name:(i=Y1(e))!==null&&i!==void 0?i:e.name}function a$(e){var t,r,i;return yl(e)?(r=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&r!==void 0?r:"string":(i=Y1(e))!==null&&i!==void 0?i:e.name}function lb(e){let t={s:!1,i:!1,u:!1},r=U0(e.definition,t),i=Object.entries(t).filter(([,n])=>n).map(([n])=>n).join("");return new RegExp(r,i)}function U0(e,t){if(AB(e))return W8e(e);if(LB(e))return X8e(e);if(EB(e))return Q8e(e);if(Gk(e)){let r=e.rule.ref;if(!r)throw new Error("Missing rule reference.");return vl(U0(r.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}else{if(SB(e))return Z8e(e);if(NB(e))return K8e(e);if(_B(e)){let r=e.regex.lastIndexOf("/"),i=e.regex.substring(1,r),n=e.regex.substring(r+1);return t&&(t.i=n.includes("i"),t.s=n.includes("s"),t.u=n.includes("u")),vl(i,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}else{if(MB(e))return vl(rT,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${e?.$type}`)}}}function W8e(e){return vl(e.elements.map(t=>U0(t)).join("|"),{cardinality:e.cardinality,lookahead:e.lookahead})}function X8e(e){return vl(e.elements.map(t=>U0(t)).join(""),{cardinality:e.cardinality,lookahead:e.lookahead})}function K8e(e){return vl(`${rT}*?${U0(e.terminal)}`,{cardinality:e.cardinality,lookahead:e.lookahead})}function Z8e(e){return vl(`(?!${U0(e.terminal)})${rT}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}function Q8e(e){return e.right?vl(`[${tT(e.left)}-${tT(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1}):vl(tT(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}function tT(e){return V1(e.value)}function vl(e,t){var r;return(t.wrap!==!1||t.lookahead)&&(e=`(${(r=t.lookahead)!==null&&r!==void 0?r:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}var rT,bl=D(()=>{"use strict";pB(),Pc(),gl(),Ha(),ml(),ab(),l(YB,"getEntryRule"),l(WB,"getHiddenRules"),l(Xk,"getAllReachableRules"),l(XB,"ruleDfs"),l(KB,"getCrossReferenceTerminal"),l(ZB,"isCommentTerminal"),l(QB,"findNodesForProperty"),l(Kk,"findNodeForProperty"),l(Zk,"findNodesForPropertyInternal"),l(U8e,"findNodesForKeyword"),l(JB,"findNodeForKeyword"),l(Qk,"findNodesForKeywordInternal"),l(e$,"findAssignment"),l(Jk,"findNameAssignment"),l(t$,"findNameAssignmentInternal"),l(r$,"getActionAtElement"),l(q8e,"isOptionalCardinality"),l(j8e,"isArrayCardinality"),l(H8e,"isArrayOperator"),l(sb,"isDataTypeRule"),l(i$,"isDataTypeRuleInternal"),l(V8e,"isDataType"),l(eT,"isDataTypeInternal"),l(Y1,"getExplicitRuleType"),l(ob,"getTypeName"),l(n$,"getActionType"),l(Y8e,"getRuleTypeName"),l(a$,"getRuleType"),l(lb,"terminalRegex"),rT=/[\s\S]/.source,l(U0,"abstractElementToRegex"),l(W8e,"terminalAlternativesToRegex"),l(X8e,"terminalGroupToRegex"),l(K8e,"untilTokenToRegex"),l(Z8e,"negateTokenToRegex"),l(Q8e,"characterRangeToRegex"),l(tT,"keywordToRegex"),l(vl,"withCardinality")});function s$(e){let t=[],r=e.Grammar;for(let i of r.rules)yl(i)&&ZB(i)&&FB(lb(i))&&t.push(i.name);return{multilineCommentRules:t,nameRegexp:Ok}}var J8e=D(()=>{"use strict";ml(),bl(),ab(),Pc(),l(s$,"createGrammarConfig")}),eEe=D(()=>{"use strict"});function iT(e){console&&console.error&&console.error(`Error: ${e}`)}function o$(e){console&&console.warn&&console.warn(`Warning: ${e}`)}var uQe=D(()=>{"use strict";l(iT,"PRINT_ERROR"),l(o$,"PRINT_WARNING")});function l$(e){let t=new Date().getTime(),r=e();return{time:new Date().getTime()-t,value:r}}var hQe=D(()=>{"use strict";l(l$,"timer")});function c$(e){function t(){}l(t,"FakeConstructor"),t.prototype=e;let r=new t;function i(){return typeof r.bar}return l(i,"fakeAccess"),i(),i(),e}var dQe=D(()=>{"use strict";l(c$,"toFastProperties")}),cb=D(()=>{"use strict";uQe(),hQe(),dQe()});function tEe(e){return rEe(e)?e.LABEL:e.name}function rEe(e){return Qn(e.LABEL)&&e.LABEL!==""}function iEe(e){return pt(e,ub)}function ub(e){function t(r){return pt(r,ub)}if(l(t,"convertDefinition"),e instanceof na){let r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Qn(e.label)&&(r.label=e.label),r}else{if(e instanceof Ca)return{type:"Alternative",definition:t(e.definition)};if(e instanceof wn)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof Va)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof Ya)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:ub(new ri({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Sa)return{type:"RepetitionWithSeparator",idx:e.idx,separator:ub(new ri({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof bi)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof _a)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof ri){let r={type:"Terminal",name:e.terminalType.name,label:tEe(e.terminalType),idx:e.idx};Qn(e.label)&&(r.terminalLabel=e.label);let i=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=sl(i)?i.source:i),r}else{if(e instanceof q0)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}var _o,na,q0,Ca,wn,Va,Ya,bi,Sa,_a,ri,u$=D(()=>{"use strict";zt(),l(tEe,"tokenLabel"),l(rEe,"hasTokenLabel"),_o=class{static{l(this,"AbstractProduction")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Ie(this.definition,t=>{t.accept(e)})}},na=class extends _o{static{l(this,"NonTerminal")}constructor(e){super([]),this.idx=1,Fa(this,Os(e,t=>t!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}},q0=class extends _o{static{l(this,"Rule")}constructor(e){super(e.definition),this.orgText="",Fa(this,Os(e,t=>t!==void 0))}},Ca=class extends _o{static{l(this,"Alternative")}constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Fa(this,Os(e,t=>t!==void 0))}},wn=class extends _o{static{l(this,"Option")}constructor(e){super(e.definition),this.idx=1,Fa(this,Os(e,t=>t!==void 0))}},Va=class extends _o{static{l(this,"RepetitionMandatory")}constructor(e){super(e.definition),this.idx=1,Fa(this,Os(e,t=>t!==void 0))}},Ya=class extends _o{static{l(this,"RepetitionMandatoryWithSeparator")}constructor(e){super(e.definition),this.idx=1,Fa(this,Os(e,t=>t!==void 0))}},bi=class extends _o{static{l(this,"Repetition")}constructor(e){super(e.definition),this.idx=1,Fa(this,Os(e,t=>t!==void 0))}},Sa=class extends _o{static{l(this,"RepetitionWithSeparator")}constructor(e){super(e.definition),this.idx=1,Fa(this,Os(e,t=>t!==void 0))}},_a=class extends _o{static{l(this,"Alternation")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Fa(this,Os(e,t=>t!==void 0))}},ri=class{static{l(this,"Terminal")}constructor(e){this.idx=1,Fa(this,Os(e,t=>t!==void 0))}accept(e){e.visit(this)}},l(iEe,"serializeGrammar"),l(ub,"serializeProduction")}),j0,pQe=D(()=>{"use strict";u$(),j0=class{static{l(this,"GAstVisitor")}visit(e){let t=e;switch(t.constructor){case na:return this.visitNonTerminal(t);case Ca:return this.visitAlternative(t);case wn:return this.visitOption(t);case Va:return this.visitRepetitionMandatory(t);case Ya:return this.visitRepetitionMandatoryWithSeparator(t);case Sa:return this.visitRepetitionWithSeparator(t);case bi:return this.visitRepetition(t);case _a:return this.visitAlternation(t);case ri:return this.visitTerminal(t);case q0:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}});function nEe(e){return e instanceof Ca||e instanceof wn||e instanceof bi||e instanceof Va||e instanceof Ya||e instanceof Sa||e instanceof ri||e instanceof q0}function hb(e,t=[]){return e instanceof wn||e instanceof bi||e instanceof Sa?!0:e instanceof _a?JM(e.definition,r=>hb(r,t)):e instanceof na&&Jn(t,e)?!1:e instanceof _o?(e instanceof na&&t.push(e),Ds(e.definition,r=>hb(r,t))):!1}function aEe(e){return e instanceof _a}function Ao(e){if(e instanceof na)return"SUBRULE";if(e instanceof wn)return"OPTION";if(e instanceof _a)return"OR";if(e instanceof Va)return"AT_LEAST_ONE";if(e instanceof Ya)return"AT_LEAST_ONE_SEP";if(e instanceof Sa)return"MANY_SEP";if(e instanceof bi)return"MANY";if(e instanceof ri)return"CONSUME";throw Error("non exhaustive match")}var gQe=D(()=>{"use strict";zt(),u$(),l(nEe,"isSequenceProd"),l(hb,"isOptionalProd"),l(aEe,"isBranchingProd"),l(Ao,"getProductionDslName")}),Wa=D(()=>{"use strict";u$(),pQe(),gQe()});function h$(e,t,r){return[new wn({definition:[new ri({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}var db,d$=D(()=>{"use strict";zt(),Wa(),db=class{static{l(this,"RestWalker")}walk(e,t=[]){Ie(e.definition,(r,i)=>{let n=mn(e.definition,i+1);if(r instanceof na)this.walkProdRef(r,n,t);else if(r instanceof ri)this.walkTerminal(r,n,t);else if(r instanceof Ca)this.walkFlat(r,n,t);else if(r instanceof wn)this.walkOption(r,n,t);else if(r instanceof Va)this.walkAtLeastOne(r,n,t);else if(r instanceof Ya)this.walkAtLeastOneSep(r,n,t);else if(r instanceof Sa)this.walkManySep(r,n,t);else if(r instanceof bi)this.walkMany(r,n,t);else if(r instanceof _a)this.walkOr(r,n,t);else throw Error("non exhaustive match")})}walkTerminal(e,t,r){}walkProdRef(e,t,r){}walkFlat(e,t,r){let i=t.concat(r);this.walk(e,i)}walkOption(e,t,r){let i=t.concat(r);this.walk(e,i)}walkAtLeastOne(e,t,r){let i=[new wn({definition:e.definition})].concat(t,r);this.walk(e,i)}walkAtLeastOneSep(e,t,r){let i=h$(e,t,r);this.walk(e,i)}walkMany(e,t,r){let i=[new wn({definition:e.definition})].concat(t,r);this.walk(e,i)}walkManySep(e,t,r){let i=h$(e,t,r);this.walk(e,i)}walkOr(e,t,r){let i=t.concat(r);Ie(e.definition,n=>{let a=new Ca({definition:[n]});this.walk(a,i)})}},l(h$,"restForRepetitionWithSeparator")});function W1(e){if(e instanceof na)return W1(e.referencedRule);if(e instanceof ri)return lEe(e);if(nEe(e))return sEe(e);if(aEe(e))return oEe(e);throw Error("non exhaustive match")}function sEe(e){let t=[],r=e.definition,i=0,n=r.length>i,a,s=!0;for(;n&&s;)a=r[i],s=hb(a),t=t.concat(W1(a)),i=i+1,n=r.length>i;return uw(t)}function oEe(e){let t=pt(e.definition,r=>W1(r));return uw(ln(t))}function lEe(e){return[e.terminalType]}var cEe=D(()=>{"use strict";zt(),Wa(),l(W1,"first"),l(sEe,"firstForSequence"),l(oEe,"firstForBranching"),l(lEe,"firstForTerminal")}),p$,uEe=D(()=>{"use strict";p$="_~IN~_"});function hEe(e){let t={};return Ie(e,r=>{let i=new pEe(r).startWalking();Fa(t,i)}),t}function dEe(e,t){return e.name+t+p$}var pEe,fQe=D(()=>{"use strict";d$(),cEe(),zt(),uEe(),Wa(),pEe=class extends db{static{l(this,"ResyncFollowsWalker")}constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,r){}walkProdRef(e,t,r){let i=dEe(e.referencedRule,e.idx)+this.topProd.name,n=t.concat(r),a=new Ca({definition:n}),s=W1(a);this.follows[i]=s}},l(hEe,"computeAllProdsFollows"),l(dEe,"buildBetweenProdsFollowPrefix")});function pb(e){let t=e.toString();if(gb.hasOwnProperty(t))return gb[t];{let r=fEe.pattern(t);return gb[t]=r,r}}function gEe(){gb={}}var gb,fEe,g$=D(()=>{"use strict";Wk(),gb={},fEe=new BB,l(pb,"getRegExpAst"),l(gEe,"clearRegExpParserCache")});function mEe(e,t=!1){try{let r=pb(e);return nT(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===m$)t&&o$(`${mb}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let i="";t&&(i=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),iT(`${mb}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+i)}}return[]}function nT(e,t,r){switch(e.type){case"Disjunction":for(let n=0;n<e.value.length;n++)nT(e.value[n],t,r);break;case"Alternative":let i=e.value;for(let n=0;n<i.length;n++){let a=i[n];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let s=a;switch(s.type){case"Character":fb(s.value,t,r);break;case"Set":if(s.complement===!0)throw Error(m$);Ie(s.value,u=>{if(typeof u=="number")fb(u,t,r);else{let h=u;if(r===!0)for(let d=h.from;d<=h.to;d++)fb(d,t,r);else{for(let d=h.from;d<=h.to&&d<K1;d++)fb(d,t,r);if(h.to>=K1){let d=h.from>=K1?h.from:K1,p=h.to,g=$c(d),f=$c(p);for(let m=g;m<=f;m++)t[m]=m}}}});break;case"Group":nT(s.value,t,r);break;default:throw Error("Non Exhaustive Match")}let o=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&aT(s)===!1||s.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return jr(t)}function fb(e,t,r){let i=$c(e);t[i]=i,r===!0&&yEe(e,t)}function yEe(e,t){let r=String.fromCharCode(e),i=r.toUpperCase();if(i!==r){let n=$c(i.charCodeAt(0));t[n]=n}else{let n=r.toLowerCase();if(n!==r){let a=$c(n.charCodeAt(0));t[a]=a}}}function f$(e,t){return al(e.value,r=>{if(typeof r=="number")return Jn(t,r);{let i=r;return al(t,n=>i.from<=n&&n<=i.to)!==void 0}})}function aT(e){let t=e.quantifier;return t&&t.atLeast===0?!0:e.value?yr(e.value)?Ds(e.value,aT):aT(e.value):!1}function sT(e,t){if(t instanceof RegExp){let r=pb(t),i=new vEe(e);return i.visit(r),i.found}else return al(t,r=>Jn(e,r.charCodeAt(0)))!==void 0}var m$,mb,vEe,mQe=D(()=>{"use strict";Wk(),zt(),cb(),g$(),qEe(),m$="Complement Sets are not supported for first char optimization",mb=`Unable to use "first char" lexer optimizations:
`,l(mEe,"getOptimizedStartCodesIndices"),l(nT,"firstCharOptimizedIndices"),l(fb,"addOptimizedIdxToResult"),l(yEe,"handleIgnoreCase"),l(f$,"findCode"),l(aT,"isWholeOptional"),vEe=class extends ib{static{l(this,"CharCodeFinder")}constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){Jn(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?f$(e,this.targetCharCodes)===void 0&&(this.found=!0):f$(e,this.targetCharCodes)!==void 0&&(this.found=!0)}},l(sT,"canMatchCharCode")});function bEe(e,t){t=L2(t,{useSticky:k$,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:l((x,w)=>w(),"tracer")});let r=t.tracer;r("initCharCodeToOptimizedIndexMap",()=>{FEe()});let i;r("Reject Lexer.NA",()=>{i=R2(e,x=>x[dh]===aa.NA)});let n=!1,a;r("Transform Patterns",()=>{n=!1,a=pt(i,x=>{let w=x[dh];if(sl(w)){let k=w.source;return k.length===1&&k!=="^"&&k!=="$"&&k!=="."&&!w.ignoreCase?k:k.length===2&&k[0]==="\\"&&!Jn(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],k[1])?k[1]:t.useSticky?v$(w):y$(w)}else{if(ns(w))return n=!0,{exec:w};if(typeof w=="object")return n=!0,w;if(typeof w=="string"){if(w.length===1)return w;{let k=w.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),T=new RegExp(k);return t.useSticky?v$(T):y$(T)}}else throw Error("non exhaustive match")}})});let s,o,u,h,d;r("misc mapping",()=>{s=pt(i,x=>x.tokenTypeIdx),o=pt(i,x=>{let w=x.GROUP;if(w!==aa.SKIPPED){if(Qn(w))return w;if(Br(w))return!1;throw Error("non exhaustive match")}}),u=pt(i,x=>{let w=x.LONGER_ALT;if(w)return yr(w)?pt(w,k=>zM(i,k)):[zM(i,w)]}),h=pt(i,x=>x.PUSH_MODE),d=pt(i,x=>Wt(x,"POP_MODE"))});let p;r("Line Terminator Handling",()=>{let x=w$(t.lineTerminatorCharacters);p=pt(i,w=>!1),t.positionTracking!=="onlyOffset"&&(p=pt(i,w=>Wt(w,"LINE_BREAKS")?!!w.LINE_BREAKS:x$(w,x)===!1&&sT(x,w.PATTERN)))});let g,f,m,y;r("Misc Mapping #2",()=>{g=pt(i,b$),f=pt(a,BEe),m=Oi(i,(x,w)=>{let k=w.GROUP;return Qn(k)&&k!==aa.SKIPPED&&(x[k]=[]),x},{}),y=pt(a,(x,w)=>({pattern:a[w],longerAlt:u[w],canLineTerminator:p[w],isCustom:g[w],short:f[w],group:o[w],push:h[w],pop:d[w],tokenTypeIdx:s[w],tokenType:i[w]}))});let b=!0,v=[];return t.safeMode||r("First Char Optimization",()=>{v=Oi(i,(x,w,k)=>{if(typeof w.PATTERN=="string"){let T=w.PATTERN.charCodeAt(0),_=$c(T);oT(x,_,y[k])}else if(yr(w.START_CHARS_HINT)){let T;Ie(w.START_CHARS_HINT,_=>{let C=typeof _=="string"?_.charCodeAt(0):_,E=$c(C);T!==E&&(T=E,oT(x,E,y[k]))})}else if(sl(w.PATTERN))if(w.PATTERN.unicode)b=!1,t.ensureOptimizations&&iT(`${mb}	Unable to analyze < ${w.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let T=mEe(w.PATTERN,t.ensureOptimizations);Dr(T)&&(b=!1),Ie(T,_=>{oT(x,_,y[k])})}else t.ensureOptimizations&&iT(`${mb}	TokenType: <${w.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),b=!1;return x},[])}),{emptyGroups:m,patternIdxToConfig:y,charCodeToPatternIdxToConfig:v,hasCustom:n,canBeOptimized:b}}function xEe(e,t){let r=[],i=kEe(e);r=r.concat(i.errors);let n=TEe(i.valid),a=n.valid;return r=r.concat(n.errors),r=r.concat(wEe(a)),r=r.concat(LEe(a)),r=r.concat(NEe(a,t)),r=r.concat(MEe(a)),r}function wEe(e){let t=[],r=yi(e,i=>sl(i[dh]));return t=t.concat(EEe(r)),t=t.concat(SEe(r)),t=t.concat(_Ee(r)),t=t.concat(AEe(r)),t=t.concat(CEe(r)),t}function kEe(e){let t=yi(e,n=>!Wt(n,dh)),r=pt(t,n=>({message:"Token Type: ->"+n.name+"<- missing static 'PATTERN' property",type:Ci.MISSING_PATTERN,tokenTypes:[n]})),i=N2(e,t);return{errors:r,valid:i}}function TEe(e){let t=yi(e,n=>{let a=n[dh];return!sl(a)&&!ns(a)&&!Wt(a,"exec")&&!Qn(a)}),r=pt(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Ci.INVALID_PATTERN,tokenTypes:[n]})),i=N2(e,t);return{errors:r,valid:i}}function EEe(e){class t extends ib{static{l(this,"EndAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitEndAnchor(n){this.found=!0}}let r=yi(e,i=>{let n=i.PATTERN;try{let a=pb(n),s=new t;return s.visit(a),s.found}catch{return zEe.test(n.source)}});return pt(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Ci.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function CEe(e){let t=yi(e,r=>r.PATTERN.test(""));return pt(t,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:Ci.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}function SEe(e){class t extends ib{static{l(this,"StartAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitStartAnchor(n){this.found=!0}}let r=yi(e,i=>{let n=i.PATTERN;try{let a=pb(n),s=new t;return s.visit(a),s.found}catch{return GEe.test(n.source)}});return pt(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Ci.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function _Ee(e){let t=yi(e,r=>{let i=r[dh];return i instanceof RegExp&&(i.multiline||i.global)});return pt(t,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Ci.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function AEe(e){let t=[],r=pt(e,n=>Oi(e,(a,s)=>(n.PATTERN.source===s.PATTERN.source&&!Jn(t,s)&&s.PATTERN!==aa.NA&&(t.push(s),a.push(s)),a),[]));r=Yg(r);let i=yi(r,n=>n.length>1);return pt(i,n=>{let a=pt(n,s=>s.name);return{message:`The same RegExp pattern ->${Rs(n).PATTERN}<-has been used in all of the following Token Types: ${a.join(", ")} <-`,type:Ci.DUPLICATE_PATTERNS_FOUND,tokenTypes:n}})}function LEe(e){let t=yi(e,r=>{if(!Wt(r,"GROUP"))return!1;let i=r.GROUP;return i!==aa.SKIPPED&&i!==aa.NA&&!Qn(i)});return pt(t,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Ci.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function NEe(e,t){let r=yi(e,i=>i.PUSH_MODE!==void 0&&!Jn(t,i.PUSH_MODE));return pt(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:Ci.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function MEe(e){let t=[],r=Oi(e,(i,n,a)=>{let s=n.PATTERN;return s===aa.NA||(Qn(s)?i.push({str:s,idx:a,tokenType:n}):sl(s)&&DEe(s)&&i.push({str:s.source,idx:a,tokenType:n})),i},[]);return Ie(e,(i,n)=>{Ie(r,({str:a,idx:s,tokenType:o})=>{if(n<s&&IEe(a,i.PATTERN)){let u=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${i.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:u,type:Ci.UNREACHABLE_PATTERN,tokenTypes:[i,o]})}})}),t}function IEe(e,t){if(sl(t)){let r=t.exec(e);return r!==null&&r.index===0}else{if(ns(t))return t(e,0,[],{});if(Wt(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function DEe(e){return al([".","\\","[","]","|","^","$","(",")","?","*","+","{"],t=>e.source.indexOf(t)!==-1)===void 0}function y$(e){let t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function v$(e){let t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function REe(e,t,r){let i=[];return Wt(e,X1)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+X1+`> property in its definition
`,type:Ci.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Wt(e,yb)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+yb+`> property in its definition
`,type:Ci.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Wt(e,yb)&&Wt(e,X1)&&!Wt(e.modes,e.defaultMode)&&i.push({message:`A MultiMode Lexer cannot be initialized with a ${X1}: <${e.defaultMode}>which does not exist
`,type:Ci.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Wt(e,yb)&&Ie(e.modes,(n,a)=>{Ie(n,(s,o)=>{if(Br(s))i.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${a}> at index: <${o}>
`,type:Ci.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Wt(s,"LONGER_ALT")){let u=yr(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];Ie(u,h=>{!Br(h)&&!Jn(n,h)&&i.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${h.name}> on token <${s.name}> outside of mode <${a}>
`,type:Ci.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),i}function OEe(e,t,r){let i=[],n=!1,a=Yg(ln(jr(e.modes))),s=R2(a,u=>u[dh]===aa.NA),o=w$(r);return t&&Ie(s,u=>{let h=x$(u,o);if(h!==!1){let d={message:$Ee(u,h),type:h.issue,tokenType:u};i.push(d)}else Wt(u,"LINE_BREAKS")?u.LINE_BREAKS===!0&&(n=!0):sT(o,u.PATTERN)&&(n=!0)}),t&&!n&&i.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Ci.NO_LINE_BREAKS_FLAGS}),i}function PEe(e){let t={},r=Yi(e);return Ie(r,i=>{let n=e[i];if(yr(n))t[i]=[];else throw Error("non exhaustive match")}),t}function b$(e){let t=e.PATTERN;if(sl(t))return!1;if(ns(t)||Wt(t,"exec"))return!0;if(Qn(t))return!1;throw Error("non exhaustive match")}function BEe(e){return Qn(e)&&e.length===1?e.charCodeAt(0):!1}function x$(e,t){if(Wt(e,"LINE_BREAKS"))return!1;if(sl(e.PATTERN)){try{sT(t,e.PATTERN)}catch(r){return{issue:Ci.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(Qn(e.PATTERN))return!1;if(b$(e))return{issue:Ci.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function $Ee(e,t){if(t.issue===Ci.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===Ci.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function w$(e){return pt(e,t=>Qn(t)?t.charCodeAt(0):t)}function oT(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}function $c(e){return e<K1?e:vb[e]}function FEe(){if(Dr(vb)){vb=new Array(65536);for(let e=0;e<65536;e++)vb[e]=e>255?255+~~(e/255):e}}var dh,X1,yb,k$,zEe,GEe,UEe,K1,vb,qEe=D(()=>{"use strict";Wk(),cT(),zt(),cb(),mQe(),g$(),dh="PATTERN",X1="defaultMode",yb="modes",k$=typeof new RegExp("(?:)").sticky=="boolean",l(bEe,"analyzeTokenTypes"),l(xEe,"validatePatterns"),l(wEe,"validateRegExpPattern"),l(kEe,"findMissingPatterns"),l(TEe,"findInvalidPatterns"),zEe=/[^\\][$]/,l(EEe,"findEndOfInputAnchor"),l(CEe,"findEmptyMatchRegExps"),GEe=/[^\\[][\^]|^\^/,l(SEe,"findStartOfInputAnchor"),l(_Ee,"findUnsupportedFlags"),l(AEe,"findDuplicatePatterns"),l(LEe,"findInvalidGroupType"),l(NEe,"findModesThatDoNotExist"),l(MEe,"findUnreachablePatterns"),l(IEe,"testTokenType"),l(DEe,"noMetaChar"),l(y$,"addStartOfInput"),l(v$,"addStickyFlag"),l(REe,"performRuntimeChecks"),l(OEe,"performWarningRuntimeChecks"),l(PEe,"cloneEmptyGroups"),l(b$,"isCustomPattern"),l(BEe,"isShortPattern"),UEe={test:l(function(e){let t=e.length;for(let r=this.lastIndex;r<t;r++){let i=e.charCodeAt(r);if(i===10)return this.lastIndex=r+1,!0;if(i===13)return e.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},"test"),lastIndex:0},l(x$,"checkLineBreaksIssues"),l($Ee,"buildLineBreakIssueMessage"),l(w$,"getCharCodes"),l(oT,"addToMapOfArrays"),K1=256,vb=[],l($c,"charCodeToOptimizedIndex"),l(FEe,"initCharCodeToOptimizedIndexMap")});function Z1(e,t){let r=e.tokenTypeIdx;return r===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[r]===!0}function bb(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}function Q1(e){let t=jEe(e);HEe(t),YEe(t),VEe(t),Ie(t,r=>{r.isParent=r.categoryMatches.length>0})}function jEe(e){let t=Wi(e),r=e,i=!0;for(;i;){r=Yg(ln(pt(r,a=>a.CATEGORIES)));let n=N2(r,t);t=t.concat(n),Dr(n)?i=!1:r=n}return t}function HEe(e){Ie(e,t=>{E$(t)||(_$[S$]=t,t.tokenTypeIdx=S$++),C$(t)&&!yr(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),C$(t)||(t.CATEGORIES=[]),WEe(t)||(t.categoryMatches=[]),XEe(t)||(t.categoryMatchesMap={})})}function VEe(e){Ie(e,t=>{t.categoryMatches=[],Ie(t.categoryMatchesMap,(r,i)=>{t.categoryMatches.push(_$[i].tokenTypeIdx)})})}function YEe(e){Ie(e,t=>{T$([],t)})}function T$(e,t){Ie(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),Ie(t.CATEGORIES,r=>{let i=e.concat(t);Jn(i,r)||T$(i,r)})}function E$(e){return Wt(e,"tokenTypeIdx")}function C$(e){return Wt(e,"CATEGORIES")}function WEe(e){return Wt(e,"categoryMatches")}function XEe(e){return Wt(e,"categoryMatchesMap")}function KEe(e){return Wt(e,"tokenTypeIdx")}var S$,_$,J1=D(()=>{"use strict";zt(),l(Z1,"tokenStructuredMatcher"),l(bb,"tokenStructuredMatcherNoCategories"),S$=1,_$={},l(Q1,"augmentTokenTypes"),l(jEe,"expandCategories"),l(HEe,"assignTokenDefaultProps"),l(VEe,"assignCategoriesTokensProp"),l(YEe,"assignCategoriesMapProp"),l(T$,"singleAssignCategoriesToksMap"),l(E$,"hasShortKeyProperty"),l(C$,"hasCategoriesProperty"),l(WEe,"hasExtendingTokensTypesProperty"),l(XEe,"hasExtendingTokensTypesMapProperty"),l(KEe,"isTokenType")}),lT,ZEe=D(()=>{"use strict";lT={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,r,i,n){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`}}}),Ci,ef,aa,cT=D(()=>{"use strict";qEe(),zt(),cb(),J1(),ZEe(),g$(),function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"}(Ci||(Ci={})),ef={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:lT,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0},Object.freeze(ef),aa=class{static{l(this,"Lexer")}constructor(e,t=ef){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,n)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let a=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${a}--> <${i}>`);let{time:s,value:o}=l$(n),u=s>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${a}<-- <${i}> time: ${s}ms`),this.traceInitIndent--,o}else return n()},typeof t=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Fa({},ef,t);let r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,n=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===ef.lineTerminatorsPattern)this.config.lineTerminatorsPattern=UEe;else if(this.config.lineTerminatorCharacters===ef.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),yr(e)?i={modes:{defaultMode:Wi(e)},defaultMode:X1}:(n=!1,i=Wi(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(REe(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(OEe(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},Ie(i.modes,(s,o)=>{i.modes[o]=R2(s,u=>Br(u))});let a=Yi(i.modes);if(Ie(i.modes,(s,o)=>{this.TRACE_INIT(`Mode: <${o}> processing`,()=>{if(this.modes.push(o),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(xEe(s,a))}),Dr(this.lexerDefinitionErrors)){Q1(s);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=bEe(s,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[o]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[o]=u.charCodeToPatternIdxToConfig,this.emptyGroups=Fa({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[o]=u.canBeOptimized}})}),this.defaultMode=i.defaultMode,!Dr(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let s=pt(this.lexerDefinitionErrors,o=>o.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+s)}Ie(this.lexerDefinitionWarning,s=>{o$(s.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(k$?(this.chopInput=el,this.match=this.matchWithTest):(this.updateLastIndex=Vi,this.match=this.matchWithExec),n&&(this.handleModes=Vi),this.trackStartLines===!1&&(this.computeNewColumn=el),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Vi),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let s=Oi(this.canModeBeOptimized,(o,u,h)=>(u===!1&&o.push(h),o),[]);if(t.ensureOptimizations&&!Dr(s))throw Error(`Lexer Modes: < ${s.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{gEe()}),this.TRACE_INIT("toFastProperties",()=>{c$(this)})})}tokenize(e,t=this.defaultMode){if(!Dr(this.lexerDefinitionErrors)){let r=pt(this.lexerDefinitionErrors,i=>i.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+r)}return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){let r,i,n,a,s,o,u,h,d,p,g,f,m,y,b,v,x=e,w=x.length,k=0,T=0,_=this.hasCustom?0:Math.floor(e.length/10),C=new Array(_),E=[],N=this.trackStartLines?1:void 0,M=this.trackStartLines?1:void 0,I=PEe(this.emptyGroups),A=this.trackStartLines,B=this.config.lineTerminatorsPattern,S=0,O=[],R=[],P=[],L=[];Object.freeze(L);let $;function F(){return O}l(F,"getPossiblePatternsSlow");function G(re){let oe=$c(re),ue=R[oe];return ue===void 0?L:ue}l(G,"getPossiblePatternsOptimized");let q=l(re=>{if(P.length===1&&re.tokenType.PUSH_MODE===void 0){let oe=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(re);E.push({offset:re.startOffset,line:re.startLine,column:re.startColumn,length:re.image.length,message:oe})}else{P.pop();let oe=go(P);O=this.patternIdxToConfig[oe],R=this.charCodeToPatternIdxToConfig[oe],S=O.length;let ue=this.canModeBeOptimized[oe]&&this.config.safeMode===!1;R&&ue?$=G:$=F}},"pop_mode");function V(re){P.push(re),R=this.charCodeToPatternIdxToConfig[re],O=this.patternIdxToConfig[re],S=O.length,S=O.length;let oe=this.canModeBeOptimized[re]&&this.config.safeMode===!1;R&&oe?$=G:$=F}l(V,"push_mode"),V.call(this,t);let H,ae=this.config.recoveryEnabled;for(;k<w;){o=null;let re=x.charCodeAt(k),oe=$(re),ue=oe.length;for(r=0;r<ue;r++){H=oe[r];let W=H.pattern;u=null;let ee=H.short;if(ee!==!1?re===ee&&(o=W):H.isCustom===!0?(v=W.exec(x,k,C,I),v!==null?(o=v[0],v.payload!==void 0&&(u=v.payload)):o=null):(this.updateLastIndex(W,k),o=this.match(W,e,k)),o!==null){if(s=H.longerAlt,s!==void 0){let X=s.length;for(n=0;n<X;n++){let Z=O[s[n]],J=Z.pattern;if(h=null,Z.isCustom===!0?(v=J.exec(x,k,C,I),v!==null?(a=v[0],v.payload!==void 0&&(h=v.payload)):a=null):(this.updateLastIndex(J,k),a=this.match(J,e,k)),a&&a.length>o.length){o=a,u=h,H=Z;break}}}break}}if(o!==null){if(d=o.length,p=H.group,p!==void 0&&(g=H.tokenTypeIdx,f=this.createTokenInstance(o,k,g,H.tokenType,N,M,d),this.handlePayload(f,u),p===!1?T=this.addToken(C,T,f):I[p].push(f)),e=this.chopInput(e,d),k=k+d,M=this.computeNewColumn(M,d),A===!0&&H.canLineTerminator===!0){let W=0,ee,X;B.lastIndex=0;do ee=B.test(o),ee===!0&&(X=B.lastIndex-1,W++);while(ee===!0);W!==0&&(N=N+W,M=d-X,this.updateTokenEndLineColumnLocation(f,p,X,W,N,M,d))}this.handleModes(H,q,V,f)}else{let W=k,ee=N,X=M,Z=ae===!1;for(;Z===!1&&k<w;)for(e=this.chopInput(e,1),k++,i=0;i<S;i++){let J=O[i],he=J.pattern,K=J.short;if(K!==!1?x.charCodeAt(k)===K&&(Z=!0):J.isCustom===!0?Z=he.exec(x,k,C,I)!==null:(this.updateLastIndex(he,k),Z=he.exec(e)!==null),Z===!0)break}if(m=k-W,M=this.computeNewColumn(M,m),b=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(x,W,m,ee,X),E.push({offset:W,line:ee,column:X,length:m,message:b}),ae===!1)break}}return this.hasCustom||(C.length=T),{tokens:C,groups:I,errors:E}}handleModes(e,t,r,i){if(e.pop===!0){let n=e.push;t(i),n!==void 0&&r.call(this,n)}else e.push!==void 0&&r.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,r,i,n,a,s){let o,u;t!==void 0&&(o=r===s-1,u=o?-1:0,i===1&&o===!0||(e.endLine=n+u,e.endColumn=a-1+-u))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,r,i){return{image:e,startOffset:t,tokenTypeIdx:r,tokenType:i}}createStartOnlyToken(e,t,r,i,n,a){return{image:e,startOffset:t,startLine:n,startColumn:a,tokenTypeIdx:r,tokenType:i}}createFullToken(e,t,r,i,n,a,s){return{image:e,startOffset:t,endOffset:t+s-1,startLine:n,endLine:n,startColumn:a,endColumn:a+s-1,tokenTypeIdx:r,tokenType:i}}addTokenUsingPush(e,t,r){return e.push(r),t}addTokenUsingMemberAccess(e,t,r){return e[t]=r,t++,t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){t!==null&&(e.payload=t)}matchWithTest(e,t,r){return e.test(t)===!0?t.substring(r,e.lastIndex):null}matchWithExec(e,t){let r=e.exec(t);return r!==null?r[0]:null}},aa.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",aa.NA=/NOT_APPLICABLE/});function H0(e){return A$(e)?e.LABEL:e.name}function A$(e){return Qn(e.LABEL)&&e.LABEL!==""}function tf(e){return QEe(e)}function QEe(e){let t=e.pattern,r={};if(r.name=e.name,Br(t)||(r.PATTERN=t),Wt(e,JEe))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Wt(e,N$)&&(r.CATEGORIES=e[N$]),Q1([r]),Wt(e,M$)&&(r.LABEL=e[M$]),Wt(e,I$)&&(r.GROUP=e[I$]),Wt(e,R$)&&(r.POP_MODE=e[R$]),Wt(e,D$)&&(r.PUSH_MODE=e[D$]),Wt(e,O$)&&(r.LONGER_ALT=e[O$]),Wt(e,P$)&&(r.LINE_BREAKS=e[P$]),Wt(e,B$)&&(r.START_CHARS_HINT=e[B$]),r}function xb(e,t,r,i,n,a,s,o){return{image:t,startOffset:r,endOffset:i,startLine:n,endLine:a,startColumn:s,endColumn:o,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function L$(e,t){return Z1(e,t)}var JEe,N$,M$,I$,D$,R$,O$,P$,B$,Fc,rf=D(()=>{"use strict";zt(),cT(),J1(),l(H0,"tokenLabel"),l(A$,"hasTokenLabel"),JEe="parent",N$="categories",M$="label",I$="group",D$="push_mode",R$="pop_mode",O$="longer_alt",P$="line_breaks",B$="start_chars_hint",l(tf,"createToken"),l(QEe,"createTokenInternal"),Fc=tf({name:"EOF",pattern:aa.NA}),Q1([Fc]),l(xb,"createTokenInstance"),l(L$,"tokenMatcher")}),V0,eCe,ph,wb=D(()=>{"use strict";rf(),zt(),Wa(),V0={buildMismatchTokenMessage({expected:e,actual:t,previous:r,ruleName:i}){return`Expecting ${A$(e)?`--> ${H0(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:i,ruleName:n}){let a="Expecting: ",s=`
but found: '`+Rs(t).image+"'";if(i)return a+i+s;{let o=Oi(e,(d,p)=>d.concat(p),[]),u=pt(o,d=>`[${pt(d,p=>H0(p)).join(", ")}]`),h=`one of these possible Token sequences:
${pt(u,(d,p)=>`  ${p+1}. ${d}`).join(`
`)}`;return a+h+s}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:i}){let n="Expecting: ",a=`
but found: '`+Rs(t).image+"'";if(r)return n+r+a;{let s=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${pt(e,o=>`[${pt(o,u=>H0(u)).join(",")}]`).join(" ,")}>`;return n+s+a}}},Object.freeze(V0),eCe={buildRuleNotFoundError(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},ph={buildDuplicateFoundError(e,t){function r(d){return d instanceof ri?d.terminalType.name:d instanceof na?d.nonTerminalName:""}l(r,"getExtraProductionArgument");let i=e.name,n=Rs(t),a=n.idx,s=Ao(n),o=r(n),u=a>0,h=`->${s}${u?a:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${i}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return h=h.replace(/[ \t]+/g," "),h=h.replace(/\s\s+/g,`
`),h},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){let t=pt(e.prefixPath,i=>H0(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){let t=pt(e.prefixPath,n=>H0(n)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx,i=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return i=i+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,i},buildEmptyRepetitionError(e){let t=Ao(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){let t=e.topLevelRule.name,r=pt(e.leftRecursionPath,n=>n.name),i=`${t} --> ${r.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${i}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let t;return e.topLevelRule instanceof q0?t=e.topLevelRule.name:t=e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}}});function tCe(e,t){let r=new rCe(e,t);return r.resolveRefs(),r.errors}var rCe,yQe=D(()=>{"use strict";hs(),zt(),Wa(),l(tCe,"resolveGrammar"),rCe=class extends j0{static{l(this,"GastRefResolverVisitor")}constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){Ie(jr(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){let t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{let r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:r,type:Aa.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}});function uT(e,t,r=[]){r=Wi(r);let i=[],n=0;function a(o){return o.concat(mn(e,n+1))}l(a,"remainingPathWith");function s(o){let u=uT(a(o),t,r);return i.concat(u)}for(l(s,"getAlternativesForProd");r.length<t&&n<e.length;){let o=e[n];if(o instanceof Ca||o instanceof na)return s(o.definition);if(o instanceof wn)i=s(o.definition);else if(o instanceof Va){let u=o.definition.concat([new bi({definition:o.definition})]);return s(u)}else if(o instanceof Ya){let u=[new Ca({definition:o.definition}),new bi({definition:[new ri({terminalType:o.separator})].concat(o.definition)})];return s(u)}else if(o instanceof Sa){let u=o.definition.concat([new bi({definition:[new ri({terminalType:o.separator})].concat(o.definition)})]);i=s(u)}else if(o instanceof bi){let u=o.definition.concat([new bi({definition:o.definition})]);i=s(u)}else{if(o instanceof _a)return Ie(o.definition,u=>{Dr(u.definition)===!1&&(i=s(u.definition))}),i;if(o instanceof ri)r.push(o.terminalType);else throw Error("non exhaustive match")}n++}return i.push({partialPath:r,suffixDef:mn(e,n)}),i}function $$(e,t,r,i){let n="EXIT_NONE_TERMINAL",a=[n],s="EXIT_ALTERNATIVE",o=!1,u=t.length,h=u-i-1,d=[],p=[];for(p.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Dr(p);){let g=p.pop();if(g===s){o&&go(p).idx<=h&&p.pop();continue}let f=g.def,m=g.idx,y=g.ruleStack,b=g.occurrenceStack;if(Dr(f))continue;let v=f[0];if(v===n){let x={idx:m,def:mn(f),ruleStack:Wg(y),occurrenceStack:Wg(b)};p.push(x)}else if(v instanceof ri)if(m<u-1){let x=m+1,w=t[x];if(r(w,v.terminalType)){let k={idx:x,def:mn(f),ruleStack:y,occurrenceStack:b};p.push(k)}}else if(m===u-1)d.push({nextTokenType:v.terminalType,nextTokenOccurrence:v.idx,ruleStack:y,occurrenceStack:b}),o=!0;else throw Error("non exhaustive match");else if(v instanceof na){let x=Wi(y);x.push(v.nonTerminalName);let w=Wi(b);w.push(v.idx);let k={idx:m,def:v.definition.concat(a,mn(f)),ruleStack:x,occurrenceStack:w};p.push(k)}else if(v instanceof wn){let x={idx:m,def:mn(f),ruleStack:y,occurrenceStack:b};p.push(x),p.push(s);let w={idx:m,def:v.definition.concat(mn(f)),ruleStack:y,occurrenceStack:b};p.push(w)}else if(v instanceof Va){let x=new bi({definition:v.definition,idx:v.idx}),w=v.definition.concat([x],mn(f)),k={idx:m,def:w,ruleStack:y,occurrenceStack:b};p.push(k)}else if(v instanceof Ya){let x=new ri({terminalType:v.separator}),w=new bi({definition:[x].concat(v.definition),idx:v.idx}),k=v.definition.concat([w],mn(f)),T={idx:m,def:k,ruleStack:y,occurrenceStack:b};p.push(T)}else if(v instanceof Sa){let x={idx:m,def:mn(f),ruleStack:y,occurrenceStack:b};p.push(x),p.push(s);let w=new ri({terminalType:v.separator}),k=new bi({definition:[w].concat(v.definition),idx:v.idx}),T=v.definition.concat([k],mn(f)),_={idx:m,def:T,ruleStack:y,occurrenceStack:b};p.push(_)}else if(v instanceof bi){let x={idx:m,def:mn(f),ruleStack:y,occurrenceStack:b};p.push(x),p.push(s);let w=new bi({definition:v.definition,idx:v.idx}),k=v.definition.concat([w],mn(f)),T={idx:m,def:k,ruleStack:y,occurrenceStack:b};p.push(T)}else if(v instanceof _a)for(let x=v.definition.length-1;x>=0;x--){let w=v.definition[x],k={idx:m,def:w.definition.concat(mn(f)),ruleStack:y,occurrenceStack:b};p.push(k),p.push(s)}else if(v instanceof Ca)p.push({idx:m,def:v.definition.concat(mn(f)),ruleStack:y,occurrenceStack:b});else if(v instanceof q0)p.push(iCe(v,m,y,b));else throw Error("non exhaustive match")}return d}function iCe(e,t,r,i){let n=Wi(r);n.push(e.name);let a=Wi(i);return a.push(1),{idx:t,def:e.definition,ruleStack:n,occurrenceStack:a}}var nCe,aCe,kb,sCe,F$,oCe,z$,hT=D(()=>{"use strict";zt(),cEe(),d$(),Wa(),nCe=class extends db{static{l(this,"AbstractNextPossibleTokensWalker")}constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Wi(this.path.ruleStack).reverse(),this.occurrenceStack=Wi(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){let i=t.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){Dr(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},aCe=class extends nCe{static{l(this,"NextAfterTokenWalker")}constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){let i=t.concat(r),n=new Ca({definition:i});this.possibleTokTypes=W1(n),this.found=!0}}},kb=class extends db{static{l(this,"AbstractNextTerminalAfterProductionWalker")}constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},sCe=class extends kb{static{l(this,"NextTerminalAfterManyWalker")}walkMany(e,t,r){if(e.idx===this.occurrence){let i=Rs(t.concat(r));this.result.isEndOfRule=i===void 0,i instanceof ri&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,t,r)}},F$=class extends kb{static{l(this,"NextTerminalAfterManySepWalker")}walkManySep(e,t,r){if(e.idx===this.occurrence){let i=Rs(t.concat(r));this.result.isEndOfRule=i===void 0,i instanceof ri&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,t,r)}},oCe=class extends kb{static{l(this,"NextTerminalAfterAtLeastOneWalker")}walkAtLeastOne(e,t,r){if(e.idx===this.occurrence){let i=Rs(t.concat(r));this.result.isEndOfRule=i===void 0,i instanceof ri&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,t,r)}},z$=class extends kb{static{l(this,"NextTerminalAfterAtLeastOneSepWalker")}walkAtLeastOneSep(e,t,r){if(e.idx===this.occurrence){let i=Rs(t.concat(r));this.result.isEndOfRule=i===void 0,i instanceof ri&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,t,r)}},l(uT,"possiblePathsFrom"),l($$,"nextPossibleTokensAfter"),l(iCe,"expandTopLevelRule")});function dT(e){if(e instanceof wn||e==="Option")return xi.OPTION;if(e instanceof bi||e==="Repetition")return xi.REPETITION;if(e instanceof Va||e==="RepetitionMandatory")return xi.REPETITION_MANDATORY;if(e instanceof Ya||e==="RepetitionMandatoryWithSeparator")return xi.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof Sa||e==="RepetitionWithSeparator")return xi.REPETITION_WITH_SEPARATOR;if(e instanceof _a||e==="Alternation")return xi.ALTERNATION;throw Error("non exhaustive match")}function G$(e){let{occurrence:t,rule:r,prodType:i,maxLookahead:n}=e,a=dT(i);return a===xi.ALTERNATION?Tb(t,r,n):Eb(t,r,a,n)}function lCe(e,t,r,i,n,a){let s=Tb(e,t,r),o=j$(s)?bb:Z1;return a(s,i,o,n)}function cCe(e,t,r,i,n,a){let s=Eb(e,t,n,r),o=j$(s)?bb:Z1;return a(s[0],o,i)}function uCe(e,t,r,i){let n=e.length,a=Ds(e,s=>Ds(s,o=>o.length===1));if(t)return function(s){let o=pt(s,u=>u.GATE);for(let u=0;u<n;u++){let h=e[u],d=h.length,p=o[u];if(!(p!==void 0&&p.call(this)===!1))e:for(let g=0;g<d;g++){let f=h[g],m=f.length;for(let y=0;y<m;y++){let b=this.LA(y+1);if(r(b,f[y])===!1)continue e}return u}}};if(a&&!i){let s=pt(e,u=>ln(u)),o=Oi(s,(u,h,d)=>(Ie(h,p=>{Wt(u,p.tokenTypeIdx)||(u[p.tokenTypeIdx]=d),Ie(p.categoryMatches,g=>{Wt(u,g)||(u[g]=d)})}),u),{});return function(){let u=this.LA(1);return o[u.tokenTypeIdx]}}else return function(){for(let s=0;s<n;s++){let o=e[s],u=o.length;e:for(let h=0;h<u;h++){let d=o[h],p=d.length;for(let g=0;g<p;g++){let f=this.LA(g+1);if(r(f,d[g])===!1)continue e}return s}}}}function hCe(e,t,r){let i=Ds(e,a=>a.length===1),n=e.length;if(i&&!r){let a=ln(e);if(a.length===1&&Dr(a[0].categoryMatches)){let s=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===s}}else{let s=Oi(a,(o,u,h)=>(o[u.tokenTypeIdx]=!0,Ie(u.categoryMatches,d=>{o[d]=!0}),o),[]);return function(){let o=this.LA(1);return s[o.tokenTypeIdx]===!0}}}else return function(){e:for(let a=0;a<n;a++){let s=e[a],o=s.length;for(let u=0;u<o;u++){let h=this.LA(u+1);if(t(h,s[u])===!1)continue e}return!0}return!1}}function U$(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function pT(e){let t=[""];for(let r=0;r<e.length;r++){let i=e[r],n=[];for(let a=0;a<t.length;a++){let s=t[a];n.push(s+"_"+i.tokenTypeIdx);for(let o=0;o<i.categoryMatches.length;o++){let u="_"+i.categoryMatches[o];n.push(s+u)}}t=n}return t}function dCe(e,t,r){for(let i=0;i<e.length;i++){if(i===r)continue;let n=e[i];for(let a=0;a<t.length;a++){let s=t[a];if(n[s]===!0)return!1}}return!0}function q$(e,t){let r=pt(e,s=>uT([s],1)),i=U$(r.length),n=pt(r,s=>{let o={};return Ie(s,u=>{let h=pT(u.partialPath);Ie(h,d=>{o[d]=!0})}),o}),a=r;for(let s=1;s<=t;s++){let o=a;a=U$(o.length);for(let u=0;u<o.length;u++){let h=o[u];for(let d=0;d<h.length;d++){let p=h[d].partialPath,g=h[d].suffixDef,f=pT(p);if(dCe(n,f,u)||Dr(g)||p.length===t){let m=i[u];if(gT(m,p)===!1){m.push(p);for(let y=0;y<f.length;y++){let b=f[y];n[u][b]=!0}}}else{let m=uT(g,s+1,p);a[u]=a[u].concat(m),Ie(m,y=>{let b=pT(y.partialPath);Ie(b,v=>{n[u][v]=!0})})}}}}return i}function Tb(e,t,r,i){let n=new H$(e,xi.ALTERNATION,i);return t.accept(n),q$(n.result,r)}function Eb(e,t,r,i){let n=new H$(e,r);t.accept(n);let a=n.result,s=new gCe(t,e,r).startWalking(),o=new Ca({definition:a}),u=new Ca({definition:s});return q$([o,u],i)}function gT(e,t){e:for(let r=0;r<e.length;r++){let i=e[r];if(i.length===t.length){for(let n=0;n<i.length;n++){let a=t[n],s=i[n];if(!(a===s||s.categoryMatchesMap[a.tokenTypeIdx]!==void 0))continue e}return!0}}return!1}function pCe(e,t){return e.length<t.length&&Ds(e,(r,i)=>{let n=t[i];return r===n||n.categoryMatchesMap[r.tokenTypeIdx]})}function j$(e){return Ds(e,t=>Ds(t,r=>Ds(r,i=>Dr(i.categoryMatches))))}var xi,gCe,H$,Cb=D(()=>{"use strict";zt(),hT(),d$(),J1(),Wa(),function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"}(xi||(xi={})),l(dT,"getProdType"),l(G$,"getLookaheadPaths"),l(lCe,"buildLookaheadFuncForOr"),l(cCe,"buildLookaheadFuncForOptionalProd"),l(uCe,"buildAlternativesLookAheadFunc"),l(hCe,"buildSingleAlternativeLookaheadFunction"),gCe=class extends db{static{l(this,"RestDefinitionFinderWalker")}constructor(e,t,r){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,r,i){return e.idx===this.targetOccurrence&&this.targetProdType===t?(this.restDef=r.concat(i),!0):!1}walkOption(e,t,r){this.checkIsTarget(e,xi.OPTION,t,r)||super.walkOption(e,t,r)}walkAtLeastOne(e,t,r){this.checkIsTarget(e,xi.REPETITION_MANDATORY,t,r)||super.walkOption(e,t,r)}walkAtLeastOneSep(e,t,r){this.checkIsTarget(e,xi.REPETITION_MANDATORY_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}walkMany(e,t,r){this.checkIsTarget(e,xi.REPETITION,t,r)||super.walkOption(e,t,r)}walkManySep(e,t,r){this.checkIsTarget(e,xi.REPETITION_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}},H$=class extends j0{static{l(this,"InsideDefinitionFinderVisitor")}constructor(e,t,r){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=r,this.result=[]}checkIsTarget(e,t){e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,xi.OPTION)}visitRepetition(e){this.checkIsTarget(e,xi.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,xi.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,xi.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,xi.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,xi.ALTERNATION)}},l(U$,"initializeArrayOfArrays"),l(pT,"pathToHashKeys"),l(dCe,"isUniquePrefixHash"),l(q$,"lookAheadSequenceFromAlternatives"),l(Tb,"getLookaheadPathsForOr"),l(Eb,"getLookaheadPathsForOptionalProd"),l(gT,"containsPath"),l(pCe,"isStrictPrefixOfPath"),l(j$,"areTokenCategoriesNotUsed")});function fCe(e){let t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return pt(t,r=>Object.assign({type:Aa.CUSTOM_LOOKAHEAD_VALIDATION},r))}function mCe(e,t,r,i){let n=Ga(e,u=>yCe(u,r)),a=_Ce(e,t,r),s=Ga(e,u=>TCe(u,r)),o=Ga(e,u=>bCe(u,e,i,r));return n.concat(a,s,o)}function yCe(e,t){let r=new ACe;e.accept(r);let i=r.allProductions,n=Cye(i,vCe),a=Os(n,s=>s.length>1);return pt(jr(a),s=>{let o=Rs(s),u=t.buildDuplicateFoundError(e,s),h=Ao(o),d={message:u,type:Aa.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:h,occurrence:o.idx},p=V$(o);return p&&(d.parameter=p),d})}function vCe(e){return`${Ao(e)}_#_${e.idx}_#_${V$(e)}`}function V$(e){return e instanceof ri?e.terminalType.name:e instanceof na?e.nonTerminalName:""}function bCe(e,t,r,i){let n=[];if(Oi(t,(a,s)=>s.name===e.name?a+1:a,0)>1){let a=i.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});n.push({message:a,type:Aa.DUPLICATE_RULE_NAME,ruleName:e.name})}return n}function xCe(e,t,r){let i=[],n;return Jn(t,e)||(n=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,i.push({message:n,type:Aa.INVALID_RULE_OVERRIDE,ruleName:e})),i}function Y$(e,t,r,i=[]){let n=[],a=Sb(t.definition);if(Dr(a))return[];{let s=e.name;Jn(a,e)&&n.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:i}),type:Aa.LEFT_RECURSION,ruleName:s});let o=N2(a,i.concat([e])),u=Ga(o,h=>{let d=Wi(i);return d.push(h),Y$(e,h,r,d)});return n.concat(u)}}function Sb(e){let t=[];if(Dr(e))return t;let r=Rs(e);if(r instanceof na)t.push(r.referencedRule);else if(r instanceof Ca||r instanceof wn||r instanceof Va||r instanceof Ya||r instanceof Sa||r instanceof bi)t=t.concat(Sb(r.definition));else if(r instanceof _a)t=ln(pt(r.definition,a=>Sb(a.definition)));else if(!(r instanceof ri))throw Error("non exhaustive match");let i=hb(r),n=e.length>1;if(i&&n){let a=mn(e);return t.concat(Sb(a))}else return t}function wCe(e,t){let r=new fT;e.accept(r);let i=r.alternations;return Ga(i,n=>{let a=Wg(n.definition);return Ga(a,(s,o)=>{let u=$$([s],[],Z1,1);return Dr(u)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:n,emptyChoiceIdx:o}),type:Aa.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:n.idx,alternative:o+1}]:[]})})}function kCe(e,t,r){let i=new fT;e.accept(i);let n=i.alternations;return n=R2(n,a=>a.ignoreAmbiguities===!0),Ga(n,a=>{let s=a.idx,o=a.maxLookahead||t,u=Tb(s,e,o,a),h=CCe(u,a,e,r),d=SCe(u,a,e,r);return h.concat(d)})}function TCe(e,t){let r=new fT;e.accept(r);let i=r.alternations;return Ga(i,n=>n.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:n}),type:Aa.TOO_MANY_ALTS,ruleName:e.name,occurrence:n.idx}]:[])}function ECe(e,t,r){let i=[];return Ie(e,n=>{let a=new LCe;n.accept(a);let s=a.allProductions;Ie(s,o=>{let u=dT(o),h=o.maxLookahead||t,d=o.idx,p=Eb(d,n,u,h)[0];if(Dr(ln(p))){let g=r.buildEmptyRepetitionError({topLevelRule:n,repetition:o});i.push({message:g,type:Aa.NO_NON_EMPTY_LOOKAHEAD,ruleName:n.name})}})}),i}function CCe(e,t,r,i){let n=[],a=Oi(e,(s,o,u)=>(t.definition[u].ignoreAmbiguities===!0||Ie(o,h=>{let d=[u];Ie(e,(p,g)=>{u!==g&&gT(p,h)&&t.definition[g].ignoreAmbiguities!==!0&&d.push(g)}),d.length>1&&!gT(n,h)&&(n.push(h),s.push({alts:d,path:h}))}),s),[]);return pt(a,s=>{let o=pt(s.alts,u=>u+1);return{message:i.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:o,prefixPath:s.path}),type:Aa.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:s.alts}})}function SCe(e,t,r,i){let n=Oi(e,(a,s,o)=>{let u=pt(s,h=>({idx:o,path:h}));return a.concat(u)},[]);return Yg(Ga(n,a=>{if(t.definition[a.idx].ignoreAmbiguities===!0)return[];let s=a.idx,o=a.path,u=yi(n,h=>t.definition[h.idx].ignoreAmbiguities!==!0&&h.idx<s&&pCe(h.path,o));return pt(u,h=>{let d=[h.idx+1,s+1],p=t.idx===0?"":t.idx;return{message:i.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:d,prefixPath:h.path}),type:Aa.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:p,alternatives:d}})}))}function _Ce(e,t,r){let i=[],n=pt(t,a=>a.name);return Ie(e,a=>{let s=a.name;if(Jn(n,s)){let o=r.buildNamespaceConflictError(a);i.push({message:o,type:Aa.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),i}var ACe,fT,LCe,mT=D(()=>{"use strict";zt(),hs(),Wa(),Cb(),hT(),J1(),l(fCe,"validateLookahead"),l(mCe,"validateGrammar"),l(yCe,"validateDuplicateProductions"),l(vCe,"identifyProductionForDuplicates"),l(V$,"getExtraProductionArgument"),ACe=class extends j0{static{l(this,"OccurrenceValidationCollector")}constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}},l(bCe,"validateRuleDoesNotAlreadyExist"),l(xCe,"validateRuleIsOverridden"),l(Y$,"validateNoLeftRecursion"),l(Sb,"getFirstNoneTerminal"),fT=class extends j0{static{l(this,"OrCollector")}constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}},l(wCe,"validateEmptyOrAlternative"),l(kCe,"validateAmbiguousAlternationAlternatives"),LCe=class extends j0{static{l(this,"RepetitionCollector")}constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}},l(TCe,"validateTooManyAlts"),l(ECe,"validateSomeNonEmptyLookaheadPath"),l(CCe,"checkAlternativesAmbiguities"),l(SCe,"checkPrefixAlternativesAmbiguities"),l(_Ce,"checkTerminalAndNoneTerminalsNameSpace")});function NCe(e){let t=L2(e,{errMsgProvider:eCe}),r={};return Ie(e.rules,i=>{r[i.name]=i}),tCe(r,t.errMsgProvider)}function MCe(e){return e=L2(e,{errMsgProvider:ph}),mCe(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}var vQe=D(()=>{"use strict";zt(),yQe(),mT(),wb(),l(NCe,"resolveGrammar"),l(MCe,"validateGrammar")});function _b(e){return Jn(Q$,e.name)}var W$,X$,K$,Z$,Q$,Ab,J$,ICe,DCe,RCe,Lb=D(()=>{"use strict";zt(),W$="MismatchedTokenException",X$="NoViableAltException",K$="EarlyExitException",Z$="NotAllInputParsedException",Q$=[W$,X$,K$,Z$],Object.freeze(Q$),l(_b,"isRecognitionException"),Ab=class extends Error{static{l(this,"RecognitionException")}constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},J$=class extends Ab{static{l(this,"MismatchedTokenException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=W$}},ICe=class extends Ab{static{l(this,"NoViableAltException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=X$}},DCe=class extends Ab{static{l(this,"NotAllInputParsedException")}constructor(e,t){super(e,t),this.name=Z$}},RCe=class extends Ab{static{l(this,"EarlyExitException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=K$}}});function OCe(e,t,r,i,n,a,s){let o=this.getKeyForAutomaticLookahead(i,n),u=this.firstAfterRepMap[o];if(u===void 0){let g=this.getCurrRuleFullName(),f=this.getGAstProductions()[g];u=new a(f,n).startWalking(),this.firstAfterRepMap[o]=u}let h=u.token,d=u.occurrence,p=u.isEndOfRule;this.RULE_STACK.length===1&&p&&h===void 0&&(h=Fc,d=1),!(h===void 0||d===void 0)&&this.shouldInRepetitionRecoveryBeTried(h,d,s)&&this.tryInRepetitionRecovery(e,t,r,h)}var yT,eF,PCe,BCe,$Ce=D(()=>{"use strict";rf(),zt(),Lb(),uEe(),hs(),yT={},eF="InRuleRecoveryException",PCe=class extends Error{static{l(this,"InRuleRecoveryException")}constructor(e){super(e),this.name=eF}},BCe=class{static{l(this,"Recoverable")}initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Wt(e,"recoveryEnabled")?e.recoveryEnabled:xl.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=OCe)}getTokenToInsert(e){let t=xb(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,r,i){let n=this.findReSyncTokenType(),a=this.exportLexerState(),s=[],o=!1,u=this.LA(1),h=this.LA(1),d=l(()=>{let p=this.LA(0),g=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:u,previous:p,ruleName:this.getCurrRuleFullName()}),f=new J$(g,u,this.LA(0));f.resyncedTokens=Wg(s),this.SAVE_ERROR(f)},"generateErrorMessage");for(;!o;)if(this.tokenMatcher(h,i)){d();return}else if(r.call(this)){d(),e.apply(this,t);return}else this.tokenMatcher(h,n)?o=!0:(h=this.SKIP_TOKEN(),this.addToResyncTokens(h,s));this.importLexerState(a)}shouldInRepetitionRecoveryBeTried(e,t,r){return!(r===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))}getFollowsForInRuleRecovery(e,t){let r=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){let r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new PCe("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e)||Dr(t))return!1;let r=this.LA(1);return al(t,i=>this.tokenMatcher(r,i))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){let t=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(t);return Jn(r,e)}findReSyncTokenType(){let e=this.flattenFollowSet(),t=this.LA(1),r=2;for(;;){let i=al(e,n=>L$(t,n));if(i!==void 0)return i;t=this.LA(r),r++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return yT;let e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){let e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return pt(e,(r,i)=>i===0?yT:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:t[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){let e=pt(this.buildFullFollowKeyStack(),t=>this.getFollowSetFromFollowKey(t));return ln(e)}getFollowSetFromFollowKey(e){if(e===yT)return[Fc];let t=e.ruleName+e.idxInCallingRule+p$+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,Fc)||t.push(e),t}reSyncTo(e){let t=[],r=this.LA(1);for(;this.tokenMatcher(r,e)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,t);return Wg(t)}attemptInRepetitionRecovery(e,t,r,i,n,a,s){}getCurrentGrammarPath(e,t){let r=this.getHumanReadableRuleStack(),i=Wi(this.RULE_OCCURRENCE_STACK);return{ruleStack:r,occurrenceStack:i,lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return pt(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}},l(OCe,"attemptInRepetitionRecovery")});function vT(e,t,r){return r|t|e}var tF=D(()=>{"use strict";l(vT,"getKeyForAutomaticLookahead")}),bT,FCe=D(()=>{"use strict";zt(),wb(),hs(),mT(),Cb(),bT=class{static{l(this,"LLkLookaheadStrategy")}constructor(e){var t;this.maxLookahead=(t=e?.maxLookahead)!==null&&t!==void 0?t:xl.maxLookahead}validate(e){let t=this.validateNoLeftRecursion(e.rules);if(Dr(t)){let r=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),n=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...r,...i,...n]}return t}validateNoLeftRecursion(e){return Ga(e,t=>Y$(t,t,ph))}validateEmptyOrAlternatives(e){return Ga(e,t=>wCe(t,ph))}validateAmbiguousAlternationAlternatives(e,t){return Ga(e,r=>kCe(r,t,ph))}validateSomeNonEmptyLookaheadPath(e,t){return ECe(e,t,ph)}buildLookaheadForAlternation(e){return lCe(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,uCe)}buildLookaheadForOptional(e){return cCe(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,dT(e.prodType),hCe)}}});function zCe(e){Nb.reset(),e.accept(Nb);let t=Nb.dslMethods;return Nb.reset(),t}var GCe,UCe,Nb,bQe=D(()=>{"use strict";zt(),hs(),tF(),Wa(),FCe(),GCe=class{static{l(this,"LooksAhead")}initLooksAhead(e){this.dynamicTokensEnabled=Wt(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:xl.dynamicTokensEnabled,this.maxLookahead=Wt(e,"maxLookahead")?e.maxLookahead:xl.maxLookahead,this.lookaheadStrategy=Wt(e,"lookaheadStrategy")?e.lookaheadStrategy:new bT({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Ie(e,t=>{this.TRACE_INIT(`${t.name} Rule Lookahead`,()=>{let{alternation:r,repetition:i,option:n,repetitionMandatory:a,repetitionMandatoryWithSeparator:s,repetitionWithSeparator:o}=zCe(t);Ie(r,u=>{let h=u.idx===0?"":u.idx;this.TRACE_INIT(`${Ao(u)}${h}`,()=>{let d=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:t,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),p=vT(this.fullRuleNameToShort[t.name],256,u.idx);this.setLaFuncCache(p,d)})}),Ie(i,u=>{this.computeLookaheadFunc(t,u.idx,768,"Repetition",u.maxLookahead,Ao(u))}),Ie(n,u=>{this.computeLookaheadFunc(t,u.idx,512,"Option",u.maxLookahead,Ao(u))}),Ie(a,u=>{this.computeLookaheadFunc(t,u.idx,1024,"RepetitionMandatory",u.maxLookahead,Ao(u))}),Ie(s,u=>{this.computeLookaheadFunc(t,u.idx,1536,"RepetitionMandatoryWithSeparator",u.maxLookahead,Ao(u))}),Ie(o,u=>{this.computeLookaheadFunc(t,u.idx,1280,"RepetitionWithSeparator",u.maxLookahead,Ao(u))})})})}computeLookaheadFunc(e,t,r,i,n,a){this.TRACE_INIT(`${a}${t===0?"":t}`,()=>{let s=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:n||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),o=vT(this.fullRuleNameToShort[e.name],r,t);this.setLaFuncCache(o,s)})}getKeyForAutomaticLookahead(e,t){let r=this.getLastExplicitRuleShortName();return vT(r,e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}},UCe=class extends j0{static{l(this,"DslMethodsCollectorVisitor")}constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}},Nb=new UCe,l(zCe,"collectMethods")});function rF(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function iF(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function qCe(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}function jCe(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}var xQe=D(()=>{"use strict";l(rF,"setNodeLocationOnlyOffset"),l(iF,"setNodeLocationFull"),l(qCe,"addTerminalToCst"),l(jCe,"addNoneTerminalToCst")});function nF(e,t){Object.defineProperty(e,HCe,{enumerable:!1,configurable:!0,writable:!1,value:t})}var HCe,wQe=D(()=>{"use strict";HCe="name",l(nF,"defineNameProp")});function VCe(e,t){let r=Yi(e),i=r.length;for(let n=0;n<i;n++){let a=r[n],s=e[a],o=s.length;for(let u=0;u<o;u++){let h=s[u];h.tokenTypeIdx===void 0&&this[h.name](h.children,t)}}}function YCe(e,t){let r=l(function(){},"derivedConstructor");nF(r,e+"BaseSemantics");let i={visit:l(function(n,a){if(yr(n)&&(n=n[0]),!Br(n))return this[n.name](n.children,a)},"visit"),validateVisitor:l(function(){let n=XCe(this,t);if(!Dr(n)){let a=pt(n,s=>s.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${a.join(`

`).replace(/\n/g,`
	`)}`)}},"validateVisitor")};return r.prototype=i,r.prototype.constructor=r,r._RULE_NAMES=t,r}function WCe(e,t,r){let i=l(function(){},"derivedConstructor");nF(i,e+"BaseSemanticsWithDefaults");let n=Object.create(r.prototype);return Ie(t,a=>{n[a]=VCe}),i.prototype=n,i.prototype.constructor=i,i}function XCe(e,t){return KCe(e,t)}function KCe(e,t){let r=yi(t,n=>ns(e[n])===!1),i=pt(r,n=>({msg:`Missing visitor method: <${n}> on ${e.constructor.name} CST Visitor.`,type:aF.MISSING_METHOD,methodName:n}));return Yg(i)}var aF,kQe=D(()=>{"use strict";zt(),wQe(),l(VCe,"defaultVisit"),l(YCe,"createBaseSemanticVisitorConstructor"),l(WCe,"createBaseVisitorConstructorWithDefaults"),function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"}(aF||(aF={})),l(XCe,"validateVisitor"),l(KCe,"validateMissingCstMethods")}),ZCe,TQe=D(()=>{"use strict";xQe(),zt(),kQe(),hs(),ZCe=class{static{l(this,"TreeBuilder")}initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Wt(e,"nodeLocationTracking")?e.nodeLocationTracking:xl.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Vi,this.cstFinallyStateUpdate=Vi,this.cstPostTerminal=Vi,this.cstPostNonTerminal=Vi,this.cstPostRule=Vi;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=iF,this.setNodeLocationFromNode=iF,this.cstPostRule=Vi,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Vi,this.setNodeLocationFromNode=Vi,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=rF,this.setNodeLocationFromNode=rF,this.cstPostRule=Vi,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Vi,this.setNodeLocationFromNode=Vi,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Vi,this.setNodeLocationFromNode=Vi,this.cstPostRule=Vi,this.setInitialNodeLocation=Vi;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){let t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){let t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){let t=this.LA(0),r=e.location;r.startOffset<=t.startOffset?(r.endOffset=t.endOffset,r.endLine=t.endLine,r.endColumn=t.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){let t=this.LA(0),r=e.location;r.startOffset<=t.startOffset?r.endOffset=t.endOffset:r.startOffset=NaN}cstPostTerminal(e,t){let r=this.CST_STACK[this.CST_STACK.length-1];qCe(r,t,e),this.setNodeLocationFromToken(r.location,t)}cstPostNonTerminal(e,t){let r=this.CST_STACK[this.CST_STACK.length-1];jCe(r,t,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(Br(this.baseCstVisitorConstructor)){let e=YCe(this.className,Yi(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Br(this.baseCstVisitorWithDefaultsConstructor)){let e=WCe(this.className,Yi(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){let e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}}),QCe,EQe=D(()=>{"use strict";hs(),QCe=class{static{l(this,"LexerAdapter")}initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Db}LA(e){let t=this.currIdx+e;return t<0||this.tokVectorLength<=t?Db:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}}),JCe,CQe=D(()=>{"use strict";zt(),Lb(),hs(),wb(),mT(),Wa(),JCe=class{static{l(this,"RecognizerApi")}ACTION(e){return e.call(this)}consume(e,t,r){return this.consumeInternal(t,e,r)}subrule(e,t,r){return this.subruleInternal(t,e,r)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,r=Rb){if(Jn(this.definedRulesNames,e)){let n={message:ph.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Aa.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(n)}this.definedRulesNames.push(e);let i=this.defineRule(e,t,r);return this[e]=i,i}OVERRIDE_RULE(e,t,r=Rb){let i=xCe(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);let n=this.defineRule(e,t,r);return this[e]=n,n}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);let r=this.saveRecogState();try{return e.apply(this,t),!0}catch(i){if(_b(i))return!1;throw i}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return iEe(jr(this.gastProductionsCache))}}}),eSe,SQe=D(()=>{"use strict";zt(),tF(),Lb(),Cb(),hT(),hs(),$Ce(),rf(),J1(),eSe=class{static{l(this,"RecognizerEngine")}initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=bb,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Wt(t,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(yr(e)){if(Dr(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(yr(e))this.tokensMap=Oi(e,(n,a)=>(n[a.name]=a,n),{});else if(Wt(e,"modes")&&Ds(ln(jr(e.modes)),KEe)){let n=ln(jr(e.modes)),a=uw(n);this.tokensMap=Oi(a,(s,o)=>(s[o.name]=o,s),{})}else if(ga(e))this.tokensMap=Wi(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Fc;let r=Wt(e,"modes")?ln(jr(e.modes)):jr(e),i=Ds(r,n=>Dr(n.categoryMatches));this.tokenMatcher=i?bb:Z1,Q1(jr(this.tokensMap))}defineRule(e,t,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let i=Wt(r,"resyncEnabled")?r.resyncEnabled:Rb.resyncEnabled,n=Wt(r,"recoveryValueFunc")?r.recoveryValueFunc:Rb.recoveryValueFunc,a=this.ruleShortNameIdx<<12;this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=e,this.fullRuleNameToShort[e]=a;let s;return this.outputCst===!0?s=l(function(...o){try{this.ruleInvocationStateUpdate(a,e,this.subruleIdx),t.apply(this,o);let u=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(u),u}catch(u){return this.invokeRuleCatch(u,i,n)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTry"):s=l(function(...o){try{return this.ruleInvocationStateUpdate(a,e,this.subruleIdx),t.apply(this,o)}catch(u){return this.invokeRuleCatch(u,i,n)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTryCst"),Object.assign(s,{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,r){let i=this.RULE_STACK.length===1,n=t&&!this.isBackTracking()&&this.recoveryEnabled;if(_b(e)){let a=e;if(n){let s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s))if(a.resyncedTokens=this.reSyncTo(s),this.outputCst){let o=this.CST_STACK[this.CST_STACK.length-1];return o.recoveredNode=!0,o}else return r(e);else{if(this.outputCst){let o=this.CST_STACK[this.CST_STACK.length-1];o.recoveredNode=!0,a.partialCstResult=o}throw a}}else{if(i)return this.moveToTerminatedState(),r(e);throw a}}else throw e}optionInternal(e,t){let r=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,r)}optionInternalLogic(e,t,r){let i=this.getLaFuncFromCache(r),n;if(typeof e!="function"){n=e.DEF;let a=e.GATE;if(a!==void 0){let s=i;i=l(()=>a.call(this)&&s.call(this),"lookAheadFunc")}}else n=e;if(i.call(this)===!0)return n.call(this)}atLeastOneInternal(e,t){let r=this.getKeyForAutomaticLookahead(1024,e);return this.atLeastOneInternalLogic(e,t,r)}atLeastOneInternalLogic(e,t,r){let i=this.getLaFuncFromCache(r),n;if(typeof t!="function"){n=t.DEF;let a=t.GATE;if(a!==void 0){let s=i;i=l(()=>a.call(this)&&s.call(this),"lookAheadFunc")}}else n=t;if(i.call(this)===!0){let a=this.doSingleRepetition(n);for(;i.call(this)===!0&&a===!0;)a=this.doSingleRepetition(n)}else throw this.raiseEarlyExitException(e,xi.REPETITION_MANDATORY,t.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],i,1024,e,oCe)}atLeastOneSepFirstInternal(e,t){let r=this.getKeyForAutomaticLookahead(1536,e);this.atLeastOneSepFirstInternalLogic(e,t,r)}atLeastOneSepFirstInternalLogic(e,t,r){let i=t.DEF,n=t.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);let a=l(()=>this.tokenMatcher(this.LA(1),n),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),n)===!0;)this.CONSUME(n),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,a,i,z$],a,1536,e,z$)}else throw this.raiseEarlyExitException(e,xi.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG)}manyInternal(e,t){let r=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,r)}manyInternalLogic(e,t,r){let i=this.getLaFuncFromCache(r),n;if(typeof t!="function"){n=t.DEF;let s=t.GATE;if(s!==void 0){let o=i;i=l(()=>s.call(this)&&o.call(this),"lookaheadFunction")}}else n=t;let a=!0;for(;i.call(this)===!0&&a===!0;)a=this.doSingleRepetition(n);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],i,768,e,sCe,a)}manySepFirstInternal(e,t){let r=this.getKeyForAutomaticLookahead(1280,e);this.manySepFirstInternalLogic(e,t,r)}manySepFirstInternalLogic(e,t,r){let i=t.DEF,n=t.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);let a=l(()=>this.tokenMatcher(this.LA(1),n),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),n)===!0;)this.CONSUME(n),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,a,i,F$],a,1280,e,F$)}}repetitionSepSecondInternal(e,t,r,i,n){for(;r();)this.CONSUME(t),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,r,i,n],r,1536,e,n)}doSingleRepetition(e){let t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){let r=this.getKeyForAutomaticLookahead(256,t),i=yr(e)?e:e.DEF,n=this.getLaFuncFromCache(r).call(this,i);if(n!==void 0)return i[n].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new DCe(t,e))}}subruleInternal(e,t,r){let i;try{let n=r!==void 0?r.ARGS:void 0;return this.subruleIdx=t,i=e.apply(this,n),this.cstPostNonTerminal(i,r!==void 0&&r.LABEL!==void 0?r.LABEL:e.ruleName),i}catch(n){throw this.subruleInternalError(n,r,e.ruleName)}}subruleInternalError(e,t,r){throw _b(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,t!==void 0&&t.LABEL!==void 0?t.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,t,r){let i;try{let n=this.LA(1);this.tokenMatcher(n,e)===!0?(this.consumeToken(),i=n):this.consumeInternalError(e,n,r)}catch(n){i=this.consumeInternalRecovery(e,t,n)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:e.name,i),i}consumeInternalError(e,t,r){let i,n=this.LA(0);throw r!==void 0&&r.ERR_MSG?i=r.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:n,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new J$(i,t,n))}consumeInternalRecovery(e,t,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){let i=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,i)}catch(n){throw n.name===eF?r:n}}else throw r}saveRecogState(){let e=this.errors,t=Wi(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Fc)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}}),tSe,_Qe=D(()=>{"use strict";Lb(),zt(),Cb(),hs(),tSe=class{static{l(this,"ErrorHandler")}initErrorHandler(e){this._errors=[],this.errorMessageProvider=Wt(e,"errorMessageProvider")?e.errorMessageProvider:xl.errorMessageProvider}SAVE_ERROR(e){if(_b(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Wi(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Wi(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,r){let i=this.getCurrRuleFullName(),n=this.getGAstProductions()[i],a=Eb(e,n,t,this.maxLookahead)[0],s=[];for(let u=1;u<=this.maxLookahead;u++)s.push(this.LA(u));let o=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:s,previous:this.LA(0),customUserDescription:r,ruleName:i});throw this.SAVE_ERROR(new RCe(o,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){let r=this.getCurrRuleFullName(),i=this.getGAstProductions()[r],n=Tb(e,i,this.maxLookahead),a=[];for(let u=1;u<=this.maxLookahead;u++)a.push(this.LA(u));let s=this.LA(0),o=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:n,actual:a,previous:s,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new ICe(o,this.LA(1),s))}}}),rSe,AQe=D(()=>{"use strict";hT(),zt(),rSe=class{static{l(this,"ContentAssist")}initContentAssist(){}computeContentAssist(e,t){let r=this.gastProductionsCache[e];if(Br(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return $$([r],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){let t=Rs(e.ruleStack),r=this.getGAstProductions()[t];return new aCe(r,e).startWalking()}}});function nf(e,t,r,i=!1){Mb(r);let n=go(this.recordingProdStack),a=ns(t)?t:t.DEF,s=new e({definition:[],idx:r});return i&&(s.separator=t.SEP),Wt(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),a.call(this),n.definition.push(s),this.recordingProdStack.pop(),Ib}function iSe(e,t){Mb(t);let r=go(this.recordingProdStack),i=yr(e)===!1,n=i===!1?e:e.DEF,a=new _a({definition:[],idx:t,ignoreAmbiguities:i&&e.IGNORE_AMBIGUITIES===!0});Wt(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD);let s=JM(n,o=>ns(o.GATE));return a.hasPredicates=s,r.definition.push(a),Ie(n,o=>{let u=new Ca({definition:[]});a.definition.push(u),Wt(o,"IGNORE_AMBIGUITIES")?u.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:Wt(o,"GATE")&&(u.ignoreAmbiguities=!0),this.recordingProdStack.push(u),o.ALT.call(this),this.recordingProdStack.pop()}),Ib}function sF(e){return e===0?"":`${e}`}function Mb(e){if(e<0||e>lF){let t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${lF+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}var Ib,oF,lF,cF,uF,nSe,aSe,LQe=D(()=>{"use strict";zt(),Wa(),cT(),J1(),rf(),hs(),tF(),Ib={description:"This Object indicates the Parser is during Recording Phase"},Object.freeze(Ib),oF=!0,lF=Math.pow(2,8)-1,cF=tf({name:"RECORDING_PHASE_TOKEN",pattern:aa.NA}),Q1([cF]),uF=xb(cF,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1),Object.freeze(uF),nSe={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},aSe=class{static{l(this,"GastRecorder")}initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){let t=e>0?e:"";this[`CONSUME${t}`]=function(r,i){return this.consumeInternalRecord(r,e,i)},this[`SUBRULE${t}`]=function(r,i){return this.subruleInternalRecord(r,e,i)},this[`OPTION${t}`]=function(r){return this.optionInternalRecord(r,e)},this[`OR${t}`]=function(r){return this.orInternalRecord(r,e)},this[`MANY${t}`]=function(r){this.manyInternalRecord(e,r)},this[`MANY_SEP${t}`]=function(r){this.manySepFirstInternalRecord(e,r)},this[`AT_LEAST_ONE${t}`]=function(r){this.atLeastOneInternalRecord(e,r)},this[`AT_LEAST_ONE_SEP${t}`]=function(r){this.atLeastOneSepFirstInternalRecord(e,r)}}this.consume=function(e,t,r){return this.consumeInternalRecord(t,e,r)},this.subrule=function(e,t,r){return this.subruleInternalRecord(t,e,r)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let e=this;for(let t=0;t<10;t++){let r=t>0?t:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return Db}topLevelRuleRecord(e,t){try{let r=new q0({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),t.call(this),this.recordingProdStack.pop(),r}catch(r){if(r.KNOWN_RECORDER_ERROR!==!0)try{r.message=r.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw r}throw r}}optionInternalRecord(e,t){return nf.call(this,wn,e,t)}atLeastOneInternalRecord(e,t){nf.call(this,Va,t,e)}atLeastOneSepFirstInternalRecord(e,t){nf.call(this,Ya,t,e,oF)}manyInternalRecord(e,t){nf.call(this,bi,t,e)}manySepFirstInternalRecord(e,t){nf.call(this,Sa,t,e,oF)}orInternalRecord(e,t){return iSe.call(this,e,t)}subruleInternalRecord(e,t,r){if(Mb(t),!e||Wt(e,"ruleName")===!1){let s=new Error(`<SUBRULE${sF(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}let i=go(this.recordingProdStack),n=e.ruleName,a=new na({idx:t,nonTerminalName:n,label:r?.LABEL,referencedRule:void 0});return i.definition.push(a),this.outputCst?nSe:Ib}consumeInternalRecord(e,t,r){if(Mb(t),!E$(e)){let a=new Error(`<CONSUME${sF(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}let i=go(this.recordingProdStack),n=new ri({idx:t,terminalType:e,label:r?.LABEL});return i.definition.push(n),uF}},l(nf,"recordProd"),l(iSe,"recordOrProd"),l(sF,"getIdxSuffix"),l(Mb,"assertMethodIdxIsValid")}),sSe,NQe=D(()=>{"use strict";zt(),cb(),hs(),sSe=class{static{l(this,"PerformanceTracer")}initPerformanceTracer(e){if(Wt(e,"traceInitPerf")){let t=e.traceInitPerf,r=typeof t=="number";this.traceInitMaxIdent=r?t:1/0,this.traceInitPerf=r?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=xl.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(this.traceInitPerf===!0){this.traceInitIndent++;let r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${e}>`);let{time:i,value:n}=l$(t),a=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${r}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,n}else return t()}}});function oSe(e,t){t.forEach(r=>{let i=r.prototype;Object.getOwnPropertyNames(i).forEach(n=>{if(n==="constructor")return;let a=Object.getOwnPropertyDescriptor(i,n);a&&(a.get||a.set)?Object.defineProperty(e.prototype,n,a):e.prototype[n]=r.prototype[n]})})}var MQe=D(()=>{"use strict";l(oSe,"applyMixins")});function hF(e=void 0){return function(){return e}}var Db,xl,Rb,Aa,xT,lSe,hs=D(()=>{"use strict";zt(),cb(),fQe(),rf(),wb(),vQe(),$Ce(),bQe(),TQe(),EQe(),CQe(),SQe(),_Qe(),AQe(),LQe(),NQe(),MQe(),mT(),Db=xb(Fc,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(Db),xl=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:V0,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Rb=Object.freeze({recoveryValueFunc:l(()=>{},"recoveryValueFunc"),resyncEnabled:!0}),function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(Aa||(Aa={})),l(hF,"EMPTY_ALT"),xT=class ZGe{static{l(this,"Parser")}static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;let r=this.className;this.TRACE_INIT("toFastProps",()=>{c$(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Ie(this.definedRulesNames,n=>{let a=this[n].originalGrammarAction,s;this.TRACE_INIT(`${n} Rule`,()=>{s=this.topLevelRuleRecord(n,a)}),this.gastProductionsCache[n]=s})}finally{this.disableRecording()}});let i=[];if(this.TRACE_INIT("Grammar Resolving",()=>{i=NCe({rules:jr(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(i)}),this.TRACE_INIT("Grammar Validations",()=>{if(Dr(i)&&this.skipValidations===!1){let n=MCe({rules:jr(this.gastProductionsCache),tokenTypes:jr(this.tokensMap),errMsgProvider:ph,grammarName:r}),a=fCe({lookaheadStrategy:this.lookaheadStrategy,rules:jr(this.gastProductionsCache),tokenTypes:jr(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(n,a)}}),Dr(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let n=hEe(jr(this.gastProductionsCache));this.resyncFollows=n}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var n,a;(a=(n=this.lookaheadStrategy).initialize)===null||a===void 0||a.call(n,{rules:jr(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(jr(this.gastProductionsCache))})),!ZGe.DEFER_DEFINITION_ERRORS_HANDLING&&!Dr(this.definitionErrors))throw t=pt(this.definitionErrors,n=>n.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,r){this.definitionErrors=[],this.selfAnalysisDone=!1;let i=this;if(i.initErrorHandler(r),i.initLexerAdapter(),i.initLooksAhead(r),i.initRecognizerEngine(t,r),i.initRecoverable(r),i.initTreeBuilder(r),i.initContentAssist(),i.initGastRecorder(r),i.initPerformanceTracer(r),Wt(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Wt(r,"skipValidations")?r.skipValidations:xl.skipValidations}},xT.DEFER_DEFINITION_ERRORS_HANDLING=!1,oSe(xT,[BCe,GCe,ZCe,QCe,eSe,JCe,tSe,rSe,aSe,sSe]),lSe=class extends xT{static{l(this,"EmbeddedActionsParser")}constructor(e,t=xl){let r=Wi(t);r.outputCst=!1,super(e,r)}}}),IQe=D(()=>{"use strict";Wa()}),DQe=D(()=>{"use strict"}),RQe=D(()=>{"use strict";IQe(),DQe()}),OQe=D(()=>{"use strict";eEe()}),Y0=D(()=>{"use strict";eEe(),hs(),cT(),rf(),Cb(),FCe(),wb(),Lb(),ZEe(),Wa(),Wa(),RQe(),OQe()});function W0(e,t,r){return`${e.name}_${t}_${r}`}function cSe(e){let t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};uSe(t,e);let r=e.length;for(let i=0;i<r;i++){let n=e[i],a=gh(t,n,n);a!==void 0&&wSe(t,n,a)}return t}function uSe(e,t){let r=t.length;for(let i=0;i<r;i++){let n=t[i],a=dn(e,n,void 0,{type:TSe}),s=dn(e,n,void 0,{type:af});a.stop=s,e.ruleToStartState.set(n,a),e.ruleToStopState.set(n,s)}}function dF(e,t,r){return r instanceof ri?wT(e,t,r.terminalType,r):r instanceof na?xSe(e,t,r):r instanceof _a?fSe(e,t,r):r instanceof wn?mSe(e,t,r):r instanceof bi?hSe(e,t,r):r instanceof Sa?dSe(e,t,r):r instanceof Va?pSe(e,t,r):r instanceof Ya?gSe(e,t,r):gh(e,t,r)}function hSe(e,t,r){let i=dn(e,t,r,{type:mF});zc(e,i);let n=X0(e,t,i,r,gh(e,t,r));return gF(e,t,r,n)}function dSe(e,t,r){let i=dn(e,t,r,{type:mF});zc(e,i);let n=X0(e,t,i,r,gh(e,t,r)),a=wT(e,t,r.separator,r);return gF(e,t,r,n,a)}function pSe(e,t,r){let i=dn(e,t,r,{type:fF});zc(e,i);let n=X0(e,t,i,r,gh(e,t,r));return pF(e,t,r,n)}function gSe(e,t,r){let i=dn(e,t,r,{type:fF});zc(e,i);let n=X0(e,t,i,r,gh(e,t,r)),a=wT(e,t,r.separator,r);return pF(e,t,r,n,a)}function fSe(e,t,r){let i=dn(e,t,r,{type:Gc});zc(e,i);let n=pt(r.definition,a=>dF(e,t,a));return X0(e,t,i,r,...n)}function mSe(e,t,r){let i=dn(e,t,r,{type:Gc});zc(e,i);let n=X0(e,t,i,r,gh(e,t,r));return ySe(e,t,r,n)}function gh(e,t,r){let i=yi(pt(r.definition,n=>dF(e,t,n)),n=>n!==void 0);return i.length===1?i[0]:i.length===0?void 0:bSe(e,i)}function pF(e,t,r,i,n){let a=i.left,s=i.right,o=dn(e,t,r,{type:_Se});zc(e,o);let u=dn(e,t,r,{type:yF});return a.loopback=o,u.loopback=o,e.decisionMap[W0(t,n?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=o,Fi(s,o),n===void 0?(Fi(o,a),Fi(o,u)):(Fi(o,u),Fi(o,n.left),Fi(n.right,a)),{left:a,right:u}}function gF(e,t,r,i,n){let a=i.left,s=i.right,o=dn(e,t,r,{type:SSe});zc(e,o);let u=dn(e,t,r,{type:yF}),h=dn(e,t,r,{type:CSe});return o.loopback=h,u.loopback=h,Fi(o,a),Fi(o,u),Fi(s,h),n!==void 0?(Fi(h,u),Fi(h,n.left),Fi(n.right,a)):Fi(h,o),e.decisionMap[W0(t,n?"RepetitionWithSeparator":"Repetition",r.idx)]=o,{left:o,right:u}}function ySe(e,t,r,i){let n=i.left,a=i.right;return Fi(n,a),e.decisionMap[W0(t,"Option",r.idx)]=n,i}function zc(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function X0(e,t,r,i,...n){let a=dn(e,t,i,{type:ESe,start:r});r.end=a;for(let o of n)o!==void 0?(Fi(r,o.left),Fi(o.right,a)):Fi(r,a);let s={left:r,right:a};return e.decisionMap[W0(t,vSe(i),i.idx)]=r,s}function vSe(e){if(e instanceof _a)return"Alternation";if(e instanceof wn)return"Option";if(e instanceof bi)return"Repetition";if(e instanceof Sa)return"RepetitionWithSeparator";if(e instanceof Va)return"RepetitionMandatory";if(e instanceof Ya)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function bSe(e,t){let r=t.length;for(let a=0;a<r-1;a++){let s=t[a],o;s.left.transitions.length===1&&(o=s.left.transitions[0]);let u=o instanceof CT,h=o,d=t[a+1].left;s.left.type===Gc&&s.right.type===Gc&&o!==void 0&&(u&&h.followState===s.right||o.target===s.right)?(u?h.followState=d:o.target=d,kSe(e,s.right)):Fi(s.right,d)}let i=t[0],n=t[r-1];return{left:i.left,right:n.right}}function wT(e,t,r,i){let n=dn(e,t,i,{type:Gc}),a=dn(e,t,i,{type:Gc});return kT(n,new ET(a,r)),{left:n,right:a}}function xSe(e,t,r){let i=r.referencedRule,n=e.ruleToStartState.get(i),a=dn(e,t,r,{type:Gc}),s=dn(e,t,r,{type:Gc}),o=new CT(n,i,s);return kT(a,o),{left:a,right:s}}function wSe(e,t,r){let i=e.ruleToStartState.get(t);Fi(i,r.left);let n=e.ruleToStopState.get(t);return Fi(r.right,n),{left:i,right:n}}function Fi(e,t){let r=new vF(t);kT(e,r)}function dn(e,t,r,i){let n=Object.assign({atn:e,production:r,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},i);return e.states.push(n),n}function kT(e,t){e.transitions.length===0&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function kSe(e,t){e.states.splice(e.states.indexOf(t),1)}var Gc,TSe,fF,mF,af,ESe,CSe,SSe,_Se,yF,TT,ET,vF,CT,PQe=D(()=>{"use strict";M2(),aye(),Y0(),l(W0,"buildATNKey"),Gc=1,TSe=2,fF=4,mF=5,af=7,ESe=8,CSe=9,SSe=10,_Se=11,yF=12,TT=class{static{l(this,"AbstractTransition")}constructor(e){this.target=e}isEpsilon(){return!1}},ET=class extends TT{static{l(this,"AtomTransition")}constructor(e,t){super(e),this.tokenType=t}},vF=class extends TT{static{l(this,"EpsilonTransition")}constructor(e){super(e)}isEpsilon(){return!0}},CT=class extends TT{static{l(this,"RuleTransition")}constructor(e,t,r){super(e),this.rule=t,this.followState=r}isEpsilon(){return!0}},l(cSe,"createATN"),l(uSe,"createRuleStartAndStopATNStates"),l(dF,"atom"),l(hSe,"repetition"),l(dSe,"repetitionSep"),l(pSe,"repetitionMandatory"),l(gSe,"repetitionMandatorySep"),l(fSe,"alternation"),l(mSe,"option"),l(gh,"block"),l(pF,"plus"),l(gF,"star"),l(ySe,"optional"),l(zc,"defineDecisionState"),l(X0,"makeAlts"),l(vSe,"getProdType"),l(bSe,"makeBlock"),l(wT,"tokenRef"),l(xSe,"ruleRef"),l(wSe,"buildRuleHandle"),l(Fi,"epsilon"),l(dn,"newState"),l(kT,"addTransition"),l(kSe,"removeState")});function bF(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(r=>r.stateNumber.toString()).join("_")}`}var Ob,ST,BQe=D(()=>{"use strict";M2(),Ob={},ST=class{static{l(this,"ATNConfigSet")}constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){let t=bF(e);t in this.map||(this.map[t]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return pt(this.configs,e=>e.alt)}get key(){let e="";for(let t in this.map)e+=t+":";return e}},l(bF,"getATNConfigKey")});function ASe(e,t){let r={};return i=>{let n=i.toString(),a=r[n];return a!==void 0||(a={atnStartState:e,decision:t,states:{}},r[n]=a),a}}function xF(e,t=!0){let r=new Set;for(let i of e){let n=new Set;for(let a of i){if(a===void 0){if(t)break;return!1}let s=[a.tokenTypeIdx].concat(a.categoryMatches);for(let o of s)if(r.has(o)){if(!n.has(o))return!1}else r.add(o),n.add(o)}}return!0}function LSe(e){let t=e.decisionStates.length,r=Array(t);for(let i=0;i<t;i++)r[i]=ASe(e.decisionStates[i],i);return r}function _T(e,t,r,i){let n=e[t](r),a=n.start;if(a===void 0){let s=zSe(n.atnStartState);a=TF(n,wF(s)),n.start=a}return NSe.apply(this,[n,a,r,i])}function NSe(e,t,r,i){let n=t,a=1,s=[],o=this.LA(a++);for(;;){let u=PSe(n,o);if(u===void 0&&(u=MSe.apply(this,[e,n,o,a,r,i])),u===Ob)return OSe(s,n,o);if(u.isAcceptState===!0)return u.prediction;n=u,s.push(o),o=this.LA(a++)}}function MSe(e,t,r,i,n,a){let s=BSe(t.configs,r,n);if(s.size===0)return kF(e,t,r,Ob),Ob;let o=wF(s),u=FSe(s,n);if(u!==void 0)o.isAcceptState=!0,o.prediction=u,o.configs.uniqueAlt=u;else if(jSe(s)){let h=kd(s.alts);o.isAcceptState=!0,o.prediction=h,o.configs.uniqueAlt=h,ISe.apply(this,[e,i,s.alts,a])}return o=kF(e,t,r,o),o}function ISe(e,t,r,i){let n=[];for(let h=1;h<=t;h++)n.push(this.LA(h).tokenType);let a=e.atnStartState,s=a.rule,o=a.production,u=DSe({topLevelRule:s,ambiguityIndices:r,production:o,prefixPath:n});i(u)}function DSe(e){let t=pt(e.prefixPath,n=>H0(n)).join(", "),r=e.production.idx===0?"":e.production.idx,i=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${RSe(e.production)}${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return i=i+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,i}function RSe(e){if(e instanceof na)return"SUBRULE";if(e instanceof wn)return"OPTION";if(e instanceof _a)return"OR";if(e instanceof Va)return"AT_LEAST_ONE";if(e instanceof Ya)return"AT_LEAST_ONE_SEP";if(e instanceof Sa)return"MANY_SEP";if(e instanceof bi)return"MANY";if(e instanceof ri)return"CONSUME";throw Error("non exhaustive match")}function OSe(e,t,r){let i=Ga(t.configs.elements,a=>a.state.transitions),n=vve(i.filter(a=>a instanceof ET).map(a=>a.tokenType),a=>a.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:n,tokenPath:e}}function PSe(e,t){return e.edges[t.tokenTypeIdx]}function BSe(e,t,r){let i=new ST,n=[];for(let s of e.elements){if(r.is(s.alt)===!1)continue;if(s.state.type===af){n.push(s);continue}let o=s.state.transitions.length;for(let u=0;u<o;u++){let h=s.state.transitions[u],d=$Se(h,t);d!==void 0&&i.add({state:d,alt:s.alt,stack:s.stack})}}let a;if(n.length===0&&i.size===1&&(a=i),a===void 0){a=new ST;for(let s of i.elements)Pb(s,a)}if(n.length>0&&!USe(a))for(let s of n)a.add(s);return a}function $Se(e,t){if(e instanceof ET&&L$(t,e.tokenType))return e.target}function FSe(e,t){let r;for(let i of e.elements)if(t.is(i.alt)===!0){if(r===void 0)r=i.alt;else if(r!==i.alt)return}return r}function wF(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function kF(e,t,r,i){return i=TF(e,i),t.edges[r.tokenTypeIdx]=i,i}function TF(e,t){if(t===Ob)return t;let r=t.configs.key,i=e.states[r];return i!==void 0?i:(t.configs.finalize(),e.states[r]=t,t)}function zSe(e){let t=new ST,r=e.transitions.length;for(let i=0;i<r;i++){let n={state:e.transitions[i].target,alt:i,stack:[]};Pb(n,t)}return t}function Pb(e,t){let r=e.state;if(r.type===af){if(e.stack.length>0){let n=[...e.stack],a={state:n.pop(),alt:e.alt,stack:n};Pb(a,t)}else t.add(e);return}r.epsilonOnlyTransitions||t.add(e);let i=r.transitions.length;for(let n=0;n<i;n++){let a=r.transitions[n],s=GSe(e,a);s!==void 0&&Pb(s,t)}}function GSe(e,t){if(t instanceof vF)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof CT){let r=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:r}}}function USe(e){for(let t of e.elements)if(t.state.type===af)return!0;return!1}function qSe(e){for(let t of e.elements)if(t.state.type!==af)return!1;return!0}function jSe(e){if(qSe(e))return!0;let t=HSe(e.elements);return VSe(t)&&!YSe(t)}function HSe(e){let t=new Map;for(let r of e){let i=bF(r,!1),n=t.get(i);n===void 0&&(n={},t.set(i,n)),n[r.alt]=!0}return t}function VSe(e){for(let t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}function YSe(e){for(let t of Array.from(e.values()))if(Object.keys(t).length===1)return!0;return!1}var EF,CF,WSe,$Qe=D(()=>{"use strict";Y0(),PQe(),BQe(),a2e(),yye(),uZe(),M2(),YN(),PM(),GM(),J2e(),l(ASe,"createDFACache"),EF=class{static{l(this,"PredicateSet")}constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,t){this.predicates[e]=t}toString(){let e="",t=this.predicates.length;for(let r=0;r<t;r++)e+=this.predicates[r]===!0?"1":"0";return e}},CF=new EF,WSe=class extends bT{static{l(this,"LLStarLookaheadStrategy")}constructor(e){var t;super(),this.logging=(t=e?.logging)!==null&&t!==void 0?t:r=>console.log(r)}initialize(e){this.atn=cSe(e.rules),this.dfas=LSe(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){let{prodOccurrence:t,rule:r,hasPredicates:i,dynamicTokensEnabled:n}=e,a=this.dfas,s=this.logging,o=W0(r,"Alternation",t),u=this.atn.decisionMap[o].decision,h=pt(G$({maxLookahead:1,occurrence:t,prodType:"Alternation",rule:r}),d=>pt(d,p=>p[0]));if(xF(h,!1)&&!n){let d=Oi(h,(p,g,f)=>(Ie(g,m=>{m&&(p[m.tokenTypeIdx]=f,Ie(m.categoryMatches,y=>{p[y]=f}))}),p),{});return i?function(p){var g;let f=this.LA(1),m=d[f.tokenTypeIdx];if(p!==void 0&&m!==void 0){let y=(g=p[m])===null||g===void 0?void 0:g.GATE;if(y!==void 0&&y.call(this)===!1)return}return m}:function(){let p=this.LA(1);return d[p.tokenTypeIdx]}}else return i?function(d){let p=new EF,g=d===void 0?0:d.length;for(let m=0;m<g;m++){let y=d?.[m].GATE;p.set(m,y===void 0||y.call(this))}let f=_T.call(this,a,u,p,s);return typeof f=="number"?f:void 0}:function(){let d=_T.call(this,a,u,CF,s);return typeof d=="number"?d:void 0}}buildLookaheadForOptional(e){let{prodOccurrence:t,rule:r,prodType:i,dynamicTokensEnabled:n}=e,a=this.dfas,s=this.logging,o=W0(r,i,t),u=this.atn.decisionMap[o].decision,h=pt(G$({maxLookahead:1,occurrence:t,prodType:i,rule:r}),d=>pt(d,p=>p[0]));if(xF(h)&&h[0][0]&&!n){let d=h[0],p=ln(d);if(p.length===1&&Dr(p[0].categoryMatches)){let g=p[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===g}}else{let g=Oi(p,(f,m)=>(m!==void 0&&(f[m.tokenTypeIdx]=!0,Ie(m.categoryMatches,y=>{f[y]=!0})),f),{});return function(){let f=this.LA(1);return g[f.tokenTypeIdx]===!0}}}return function(){let d=_T.call(this,a,u,CF,s);return typeof d=="object"?!1:d===0}}},l(xF,"isLL1Sequence"),l(LSe,"initATNSimulator"),l(_T,"adaptivePredict"),l(NSe,"performLookahead"),l(MSe,"computeLookaheadTarget"),l(ISe,"reportLookaheadAmbiguity"),l(DSe,"buildAmbiguityError"),l(RSe,"getProductionDslName"),l(OSe,"buildAdaptivePredictError"),l(PSe,"getExistingTargetState"),l(BSe,"computeReachSet"),l($Se,"getReachableTarget"),l(FSe,"getUniqueAlt"),l(wF,"newDFAState"),l(kF,"addDFAEdge"),l(TF,"addDFAState"),l(zSe,"computeStartState"),l(Pb,"closure"),l(GSe,"getEpsilonTarget"),l(USe,"hasConfigInRuleStopState"),l(qSe,"allConfigsInRuleStopStates"),l(jSe,"hasConflictTerminatingPrediction"),l(HSe,"getConflictingAltSets"),l(VSe,"hasConflictingAltSet"),l(YSe,"hasStateAssociatedWithOneAlt")}),FQe=D(()=>{"use strict";$Qe()}),XSe,SF,KSe,AT,Ur,_r,LT,ZSe,_F,QSe,JSe,e_e,t_e,AF,r_e,i_e,n_e,NT,sf,of,LF,lf,a_e,NF,MF,IF,DF,RF,s_e,o_e,OF,l_e,PF,Bb,c_e,u_e,h_e,d_e,p_e,g_e,f_e,m_e,MT,y_e,v_e,b_e,x_e,w_e,k_e,T_e,E_e,C_e,S_e,__e,IT,A_e,L_e,N_e,M_e,I_e,D_e,R_e,O_e,P_e,B_e,$_e,F_e,z_e,BF,$F,G_e,U_e,q_e,j_e,H_e,V_e,Y_e,W_e,X_e,K_e,Pe,Z_e=D(()=>{"use strict";(function(e){function t(r){return typeof r=="string"}l(t,"is"),e.is=t})(XSe||(XSe={})),function(e){function t(r){return typeof r=="string"}l(t,"is"),e.is=t}(SF||(SF={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}l(t,"is"),e.is=t}(KSe||(KSe={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}l(t,"is"),e.is=t}(AT||(AT={})),function(e){function t(i,n){return i===Number.MAX_VALUE&&(i=AT.MAX_VALUE),n===Number.MAX_VALUE&&(n=AT.MAX_VALUE),{line:i,character:n}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.objectLiteral(n)&&Pe.uinteger(n.line)&&Pe.uinteger(n.character)}l(r,"is"),e.is=r}(Ur||(Ur={})),function(e){function t(i,n,a,s){if(Pe.uinteger(i)&&Pe.uinteger(n)&&Pe.uinteger(a)&&Pe.uinteger(s))return{start:Ur.create(i,n),end:Ur.create(a,s)};if(Ur.is(i)&&Ur.is(n))return{start:i,end:n};throw new Error(`Range#create called with invalid arguments[${i}, ${n}, ${a}, ${s}]`)}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.objectLiteral(n)&&Ur.is(n.start)&&Ur.is(n.end)}l(r,"is"),e.is=r}(_r||(_r={})),function(e){function t(i,n){return{uri:i,range:n}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.objectLiteral(n)&&_r.is(n.range)&&(Pe.string(n.uri)||Pe.undefined(n.uri))}l(r,"is"),e.is=r}(LT||(LT={})),function(e){function t(i,n,a,s){return{targetUri:i,targetRange:n,targetSelectionRange:a,originSelectionRange:s}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.objectLiteral(n)&&_r.is(n.targetRange)&&Pe.string(n.targetUri)&&_r.is(n.targetSelectionRange)&&(_r.is(n.originSelectionRange)||Pe.undefined(n.originSelectionRange))}l(r,"is"),e.is=r}(ZSe||(ZSe={})),function(e){function t(i,n,a,s){return{red:i,green:n,blue:a,alpha:s}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.objectLiteral(n)&&Pe.numberRange(n.red,0,1)&&Pe.numberRange(n.green,0,1)&&Pe.numberRange(n.blue,0,1)&&Pe.numberRange(n.alpha,0,1)}l(r,"is"),e.is=r}(_F||(_F={})),function(e){function t(i,n){return{range:i,color:n}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.objectLiteral(n)&&_r.is(n.range)&&_F.is(n.color)}l(r,"is"),e.is=r}(QSe||(QSe={})),function(e){function t(i,n,a){return{label:i,textEdit:n,additionalTextEdits:a}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.objectLiteral(n)&&Pe.string(n.label)&&(Pe.undefined(n.textEdit)||of.is(n))&&(Pe.undefined(n.additionalTextEdits)||Pe.typedArray(n.additionalTextEdits,of.is))}l(r,"is"),e.is=r}(JSe||(JSe={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(e_e||(e_e={})),function(e){function t(i,n,a,s,o,u){let h={startLine:i,endLine:n};return Pe.defined(a)&&(h.startCharacter=a),Pe.defined(s)&&(h.endCharacter=s),Pe.defined(o)&&(h.kind=o),Pe.defined(u)&&(h.collapsedText=u),h}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.objectLiteral(n)&&Pe.uinteger(n.startLine)&&Pe.uinteger(n.startLine)&&(Pe.undefined(n.startCharacter)||Pe.uinteger(n.startCharacter))&&(Pe.undefined(n.endCharacter)||Pe.uinteger(n.endCharacter))&&(Pe.undefined(n.kind)||Pe.string(n.kind))}l(r,"is"),e.is=r}(t_e||(t_e={})),function(e){function t(i,n){return{location:i,message:n}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.defined(n)&&LT.is(n.location)&&Pe.string(n.message)}l(r,"is"),e.is=r}(AF||(AF={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(r_e||(r_e={})),function(e){e.Unnecessary=1,e.Deprecated=2}(i_e||(i_e={})),function(e){function t(r){let i=r;return Pe.objectLiteral(i)&&Pe.string(i.href)}l(t,"is"),e.is=t}(n_e||(n_e={})),function(e){function t(i,n,a,s,o,u){let h={range:i,message:n};return Pe.defined(a)&&(h.severity=a),Pe.defined(s)&&(h.code=s),Pe.defined(o)&&(h.source=o),Pe.defined(u)&&(h.relatedInformation=u),h}l(t,"create"),e.create=t;function r(i){var n;let a=i;return Pe.defined(a)&&_r.is(a.range)&&Pe.string(a.message)&&(Pe.number(a.severity)||Pe.undefined(a.severity))&&(Pe.integer(a.code)||Pe.string(a.code)||Pe.undefined(a.code))&&(Pe.undefined(a.codeDescription)||Pe.string((n=a.codeDescription)===null||n===void 0?void 0:n.href))&&(Pe.string(a.source)||Pe.undefined(a.source))&&(Pe.undefined(a.relatedInformation)||Pe.typedArray(a.relatedInformation,AF.is))}l(r,"is"),e.is=r}(NT||(NT={})),function(e){function t(i,n,...a){let s={title:i,command:n};return Pe.defined(a)&&a.length>0&&(s.arguments=a),s}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.defined(n)&&Pe.string(n.title)&&Pe.string(n.command)}l(r,"is"),e.is=r}(sf||(sf={})),function(e){function t(a,s){return{range:a,newText:s}}l(t,"replace"),e.replace=t;function r(a,s){return{range:{start:a,end:a},newText:s}}l(r,"insert"),e.insert=r;function i(a){return{range:a,newText:""}}l(i,"del"),e.del=i;function n(a){let s=a;return Pe.objectLiteral(s)&&Pe.string(s.newText)&&_r.is(s.range)}l(n,"is"),e.is=n}(of||(of={})),function(e){function t(i,n,a){let s={label:i};return n!==void 0&&(s.needsConfirmation=n),a!==void 0&&(s.description=a),s}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.objectLiteral(n)&&Pe.string(n.label)&&(Pe.boolean(n.needsConfirmation)||n.needsConfirmation===void 0)&&(Pe.string(n.description)||n.description===void 0)}l(r,"is"),e.is=r}(LF||(LF={})),function(e){function t(r){let i=r;return Pe.string(i)}l(t,"is"),e.is=t}(lf||(lf={})),function(e){function t(a,s,o){return{range:a,newText:s,annotationId:o}}l(t,"replace"),e.replace=t;function r(a,s,o){return{range:{start:a,end:a},newText:s,annotationId:o}}l(r,"insert"),e.insert=r;function i(a,s){return{range:a,newText:"",annotationId:s}}l(i,"del"),e.del=i;function n(a){let s=a;return of.is(s)&&(LF.is(s.annotationId)||lf.is(s.annotationId))}l(n,"is"),e.is=n}(a_e||(a_e={})),function(e){function t(i,n){return{textDocument:i,edits:n}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.defined(n)&&OF.is(n.textDocument)&&Array.isArray(n.edits)}l(r,"is"),e.is=r}(NF||(NF={})),function(e){function t(i,n,a){let s={kind:"create",uri:i};return n!==void 0&&(n.overwrite!==void 0||n.ignoreIfExists!==void 0)&&(s.options=n),a!==void 0&&(s.annotationId=a),s}l(t,"create"),e.create=t;function r(i){let n=i;return n&&n.kind==="create"&&Pe.string(n.uri)&&(n.options===void 0||(n.options.overwrite===void 0||Pe.boolean(n.options.overwrite))&&(n.options.ignoreIfExists===void 0||Pe.boolean(n.options.ignoreIfExists)))&&(n.annotationId===void 0||lf.is(n.annotationId))}l(r,"is"),e.is=r}(MF||(MF={})),function(e){function t(i,n,a,s){let o={kind:"rename",oldUri:i,newUri:n};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(o.options=a),s!==void 0&&(o.annotationId=s),o}l(t,"create"),e.create=t;function r(i){let n=i;return n&&n.kind==="rename"&&Pe.string(n.oldUri)&&Pe.string(n.newUri)&&(n.options===void 0||(n.options.overwrite===void 0||Pe.boolean(n.options.overwrite))&&(n.options.ignoreIfExists===void 0||Pe.boolean(n.options.ignoreIfExists)))&&(n.annotationId===void 0||lf.is(n.annotationId))}l(r,"is"),e.is=r}(IF||(IF={})),function(e){function t(i,n,a){let s={kind:"delete",uri:i};return n!==void 0&&(n.recursive!==void 0||n.ignoreIfNotExists!==void 0)&&(s.options=n),a!==void 0&&(s.annotationId=a),s}l(t,"create"),e.create=t;function r(i){let n=i;return n&&n.kind==="delete"&&Pe.string(n.uri)&&(n.options===void 0||(n.options.recursive===void 0||Pe.boolean(n.options.recursive))&&(n.options.ignoreIfNotExists===void 0||Pe.boolean(n.options.ignoreIfNotExists)))&&(n.annotationId===void 0||lf.is(n.annotationId))}l(r,"is"),e.is=r}(DF||(DF={})),function(e){function t(r){let i=r;return i&&(i.changes!==void 0||i.documentChanges!==void 0)&&(i.documentChanges===void 0||i.documentChanges.every(n=>Pe.string(n.kind)?MF.is(n)||IF.is(n)||DF.is(n):NF.is(n)))}l(t,"is"),e.is=t}(RF||(RF={})),function(e){function t(i){return{uri:i}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.defined(n)&&Pe.string(n.uri)}l(r,"is"),e.is=r}(s_e||(s_e={})),function(e){function t(i,n){return{uri:i,version:n}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.defined(n)&&Pe.string(n.uri)&&Pe.integer(n.version)}l(r,"is"),e.is=r}(o_e||(o_e={})),function(e){function t(i,n){return{uri:i,version:n}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.defined(n)&&Pe.string(n.uri)&&(n.version===null||Pe.integer(n.version))}l(r,"is"),e.is=r}(OF||(OF={})),function(e){function t(i,n,a,s){return{uri:i,languageId:n,version:a,text:s}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.defined(n)&&Pe.string(n.uri)&&Pe.string(n.languageId)&&Pe.integer(n.version)&&Pe.string(n.text)}l(r,"is"),e.is=r}(l_e||(l_e={})),function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let i=r;return i===e.PlainText||i===e.Markdown}l(t,"is"),e.is=t}(PF||(PF={})),function(e){function t(r){let i=r;return Pe.objectLiteral(r)&&PF.is(i.kind)&&Pe.string(i.value)}l(t,"is"),e.is=t}(Bb||(Bb={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(c_e||(c_e={})),function(e){e.PlainText=1,e.Snippet=2}(u_e||(u_e={})),function(e){e.Deprecated=1}(h_e||(h_e={})),function(e){function t(i,n,a){return{newText:i,insert:n,replace:a}}l(t,"create"),e.create=t;function r(i){let n=i;return n&&Pe.string(n.newText)&&_r.is(n.insert)&&_r.is(n.replace)}l(r,"is"),e.is=r}(d_e||(d_e={})),function(e){e.asIs=1,e.adjustIndentation=2}(p_e||(p_e={})),function(e){function t(r){let i=r;return i&&(Pe.string(i.detail)||i.detail===void 0)&&(Pe.string(i.description)||i.description===void 0)}l(t,"is"),e.is=t}(g_e||(g_e={})),function(e){function t(r){return{label:r}}l(t,"create"),e.create=t}(f_e||(f_e={})),function(e){function t(r,i){return{items:r||[],isIncomplete:!!i}}l(t,"create"),e.create=t}(m_e||(m_e={})),function(e){function t(i){return i.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}l(t,"fromPlainText"),e.fromPlainText=t;function r(i){let n=i;return Pe.string(n)||Pe.objectLiteral(n)&&Pe.string(n.language)&&Pe.string(n.value)}l(r,"is"),e.is=r}(MT||(MT={})),function(e){function t(r){let i=r;return!!i&&Pe.objectLiteral(i)&&(Bb.is(i.contents)||MT.is(i.contents)||Pe.typedArray(i.contents,MT.is))&&(r.range===void 0||_r.is(r.range))}l(t,"is"),e.is=t}(y_e||(y_e={})),function(e){function t(r,i){return i?{label:r,documentation:i}:{label:r}}l(t,"create"),e.create=t}(v_e||(v_e={})),function(e){function t(r,i,...n){let a={label:r};return Pe.defined(i)&&(a.documentation=i),Pe.defined(n)?a.parameters=n:a.parameters=[],a}l(t,"create"),e.create=t}(b_e||(b_e={})),function(e){e.Text=1,e.Read=2,e.Write=3}(x_e||(x_e={})),function(e){function t(r,i){let n={range:r};return Pe.number(i)&&(n.kind=i),n}l(t,"create"),e.create=t}(w_e||(w_e={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(k_e||(k_e={})),function(e){e.Deprecated=1}(T_e||(T_e={})),function(e){function t(r,i,n,a,s){let o={name:r,kind:i,location:{uri:a,range:n}};return s&&(o.containerName=s),o}l(t,"create"),e.create=t}(E_e||(E_e={})),function(e){function t(r,i,n,a){return a!==void 0?{name:r,kind:i,location:{uri:n,range:a}}:{name:r,kind:i,location:{uri:n}}}l(t,"create"),e.create=t}(C_e||(C_e={})),function(e){function t(i,n,a,s,o,u){let h={name:i,detail:n,kind:a,range:s,selectionRange:o};return u!==void 0&&(h.children=u),h}l(t,"create"),e.create=t;function r(i){let n=i;return n&&Pe.string(n.name)&&Pe.number(n.kind)&&_r.is(n.range)&&_r.is(n.selectionRange)&&(n.detail===void 0||Pe.string(n.detail))&&(n.deprecated===void 0||Pe.boolean(n.deprecated))&&(n.children===void 0||Array.isArray(n.children))&&(n.tags===void 0||Array.isArray(n.tags))}l(r,"is"),e.is=r}(S_e||(S_e={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(__e||(__e={})),function(e){e.Invoked=1,e.Automatic=2}(IT||(IT={})),function(e){function t(i,n,a){let s={diagnostics:i};return n!=null&&(s.only=n),a!=null&&(s.triggerKind=a),s}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.defined(n)&&Pe.typedArray(n.diagnostics,NT.is)&&(n.only===void 0||Pe.typedArray(n.only,Pe.string))&&(n.triggerKind===void 0||n.triggerKind===IT.Invoked||n.triggerKind===IT.Automatic)}l(r,"is"),e.is=r}(A_e||(A_e={})),function(e){function t(i,n,a){let s={title:i},o=!0;return typeof n=="string"?(o=!1,s.kind=n):sf.is(n)?s.command=n:s.edit=n,o&&a!==void 0&&(s.kind=a),s}l(t,"create"),e.create=t;function r(i){let n=i;return n&&Pe.string(n.title)&&(n.diagnostics===void 0||Pe.typedArray(n.diagnostics,NT.is))&&(n.kind===void 0||Pe.string(n.kind))&&(n.edit!==void 0||n.command!==void 0)&&(n.command===void 0||sf.is(n.command))&&(n.isPreferred===void 0||Pe.boolean(n.isPreferred))&&(n.edit===void 0||RF.is(n.edit))}l(r,"is"),e.is=r}(L_e||(L_e={})),function(e){function t(i,n){let a={range:i};return Pe.defined(n)&&(a.data=n),a}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.defined(n)&&_r.is(n.range)&&(Pe.undefined(n.command)||sf.is(n.command))}l(r,"is"),e.is=r}(N_e||(N_e={})),function(e){function t(i,n){return{tabSize:i,insertSpaces:n}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.defined(n)&&Pe.uinteger(n.tabSize)&&Pe.boolean(n.insertSpaces)}l(r,"is"),e.is=r}(M_e||(M_e={})),function(e){function t(i,n,a){return{range:i,target:n,data:a}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.defined(n)&&_r.is(n.range)&&(Pe.undefined(n.target)||Pe.string(n.target))}l(r,"is"),e.is=r}(I_e||(I_e={})),function(e){function t(i,n){return{range:i,parent:n}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.objectLiteral(n)&&_r.is(n.range)&&(n.parent===void 0||e.is(n.parent))}l(r,"is"),e.is=r}(D_e||(D_e={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(R_e||(R_e={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(O_e||(O_e={})),function(e){function t(r){let i=r;return Pe.objectLiteral(i)&&(i.resultId===void 0||typeof i.resultId=="string")&&Array.isArray(i.data)&&(i.data.length===0||typeof i.data[0]=="number")}l(t,"is"),e.is=t}(P_e||(P_e={})),function(e){function t(i,n){return{range:i,text:n}}l(t,"create"),e.create=t;function r(i){let n=i;return n!=null&&_r.is(n.range)&&Pe.string(n.text)}l(r,"is"),e.is=r}(B_e||(B_e={})),function(e){function t(i,n,a){return{range:i,variableName:n,caseSensitiveLookup:a}}l(t,"create"),e.create=t;function r(i){let n=i;return n!=null&&_r.is(n.range)&&Pe.boolean(n.caseSensitiveLookup)&&(Pe.string(n.variableName)||n.variableName===void 0)}l(r,"is"),e.is=r}($_e||($_e={})),function(e){function t(i,n){return{range:i,expression:n}}l(t,"create"),e.create=t;function r(i){let n=i;return n!=null&&_r.is(n.range)&&(Pe.string(n.expression)||n.expression===void 0)}l(r,"is"),e.is=r}(F_e||(F_e={})),function(e){function t(i,n){return{frameId:i,stoppedLocation:n}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.defined(n)&&_r.is(i.stoppedLocation)}l(r,"is"),e.is=r}(z_e||(z_e={})),function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}l(t,"is"),e.is=t}(BF||(BF={})),function(e){function t(i){return{value:i}}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.objectLiteral(n)&&(n.tooltip===void 0||Pe.string(n.tooltip)||Bb.is(n.tooltip))&&(n.location===void 0||LT.is(n.location))&&(n.command===void 0||sf.is(n.command))}l(r,"is"),e.is=r}($F||($F={})),function(e){function t(i,n,a){let s={position:i,label:n};return a!==void 0&&(s.kind=a),s}l(t,"create"),e.create=t;function r(i){let n=i;return Pe.objectLiteral(n)&&Ur.is(n.position)&&(Pe.string(n.label)||Pe.typedArray(n.label,$F.is))&&(n.kind===void 0||BF.is(n.kind))&&n.textEdits===void 0||Pe.typedArray(n.textEdits,of.is)&&(n.tooltip===void 0||Pe.string(n.tooltip)||Bb.is(n.tooltip))&&(n.paddingLeft===void 0||Pe.boolean(n.paddingLeft))&&(n.paddingRight===void 0||Pe.boolean(n.paddingRight))}l(r,"is"),e.is=r}(G_e||(G_e={})),function(e){function t(r){return{kind:"snippet",value:r}}l(t,"createSnippet"),e.createSnippet=t}(U_e||(U_e={})),function(e){function t(r,i,n,a){return{insertText:r,filterText:i,range:n,command:a}}l(t,"create"),e.create=t}(q_e||(q_e={})),function(e){function t(r){return{items:r}}l(t,"create"),e.create=t}(j_e||(j_e={})),function(e){e.Invoked=0,e.Automatic=1}(H_e||(H_e={})),function(e){function t(r,i){return{range:r,text:i}}l(t,"create"),e.create=t}(V_e||(V_e={})),function(e){function t(r,i){return{triggerKind:r,selectedCompletionInfo:i}}l(t,"create"),e.create=t}(Y_e||(Y_e={})),function(e){function t(r){let i=r;return Pe.objectLiteral(i)&&SF.is(i.uri)&&Pe.string(i.name)}l(t,"is"),e.is=t}(W_e||(W_e={})),function(e){function t(a,s,o,u){return new K_e(a,s,o,u)}l(t,"create"),e.create=t;function r(a){let s=a;return!!(Pe.defined(s)&&Pe.string(s.uri)&&(Pe.undefined(s.languageId)||Pe.string(s.languageId))&&Pe.uinteger(s.lineCount)&&Pe.func(s.getText)&&Pe.func(s.positionAt)&&Pe.func(s.offsetAt))}l(r,"is"),e.is=r;function i(a,s){let o=a.getText(),u=n(s,(d,p)=>{let g=d.range.start.line-p.range.start.line;return g===0?d.range.start.character-p.range.start.character:g}),h=o.length;for(let d=u.length-1;d>=0;d--){let p=u[d],g=a.offsetAt(p.range.start),f=a.offsetAt(p.range.end);if(f<=h)o=o.substring(0,g)+p.newText+o.substring(f,o.length);else throw new Error("Overlapping edit");h=g}return o}l(i,"applyEdits"),e.applyEdits=i;function n(a,s){if(a.length<=1)return a;let o=a.length/2|0,u=a.slice(0,o),h=a.slice(o);n(u,s),n(h,s);let d=0,p=0,g=0;for(;d<u.length&&p<h.length;)s(u[d],h[p])<=0?a[g++]=u[d++]:a[g++]=h[p++];for(;d<u.length;)a[g++]=u[d++];for(;p<h.length;)a[g++]=h[p++];return a}l(n,"mergeSort")}(X_e||(X_e={})),K_e=class{static{l(this,"FullTextDocument")}constructor(e,t,r,i){this._uri=e,this._languageId=t,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],t=this._content,r=!0;for(let i=0;i<t.length;i++){r&&(e.push(i),r=!1);let n=t.charAt(i);r=n==="\r"||n===`
`,n==="\r"&&i+1<t.length&&t.charAt(i+1)===`
`&&i++}r&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),r=0,i=t.length;if(i===0)return Ur.create(0,e);for(;r<i;){let a=Math.floor((r+i)/2);t[a]>e?i=a:r=a+1}let n=r-1;return Ur.create(n,e-t[n])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let r=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,i),r)}get lineCount(){return this.getLineOffsets().length}},function(e){let t=Object.prototype.toString;function r(f){return typeof f<"u"}l(r,"defined"),e.defined=r;function i(f){return typeof f>"u"}l(i,"undefined"),e.undefined=i;function n(f){return f===!0||f===!1}l(n,"boolean"),e.boolean=n;function a(f){return t.call(f)==="[object String]"}l(a,"string"),e.string=a;function s(f){return t.call(f)==="[object Number]"}l(s,"number"),e.number=s;function o(f,m,y){return t.call(f)==="[object Number]"&&m<=f&&f<=y}l(o,"numberRange"),e.numberRange=o;function u(f){return t.call(f)==="[object Number]"&&-2147483648<=f&&f<=2147483647}l(u,"integer"),e.integer=u;function h(f){return t.call(f)==="[object Number]"&&0<=f&&f<=2147483647}l(h,"uinteger"),e.uinteger=h;function d(f){return t.call(f)==="[object Function]"}l(d,"func"),e.func=d;function p(f){return f!==null&&typeof f=="object"}l(p,"objectLiteral"),e.objectLiteral=p;function g(f,m){return Array.isArray(f)&&f.every(m)}l(g,"typedArray"),e.typedArray=g}(Pe||(Pe={}))}),FF,DT,$b,Fb,Q_e,RT,zF=D(()=>{"use strict";Z_e(),ml(),FF=class{static{l(this,"CstNodeBuilder")}constructor(){this.nodeStack=[]}get current(){var e;return(e=this.nodeStack[this.nodeStack.length-1])!==null&&e!==void 0?e:this.rootNode}buildRootNode(e){return this.rootNode=new RT(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){let t=new Fb;return t.grammarSource=e,t.root=this.rootNode,this.current.content.push(t),this.nodeStack.push(t),t}buildLeafNode(e,t){let r=new $b(e.startOffset,e.image.length,Hv(e),e.tokenType,!t);return r.grammarSource=t,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){let t=e.container;if(t){let r=t.content.indexOf(e);r>=0&&t.content.splice(r,1)}}addHiddenNodes(e){let t=[];for(let n of e){let a=new $b(n.startOffset,n.image.length,Hv(n),n.tokenType,!0);a.root=this.rootNode,t.push(a)}let r=this.current,i=!1;if(r.content.length>0){r.content.push(...t);return}for(;r.container;){let n=r.container.content.indexOf(r);if(n>0){r.container.content.splice(n,0,...t),i=!0;break}r=r.container}i||this.rootNode.content.unshift(...t)}construct(e){let t=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=t;let r=this.nodeStack.pop();r?.content.length===0&&this.removeNode(r)}},DT=class{static{l(this,"AbstractCstNode")}get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,t;let r=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(t=this.container)===null||t===void 0?void 0:t.astNode;if(!r)throw new Error("This node has no associated AST element");return r}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}},$b=class extends DT{static{l(this,"LeafCstNodeImpl")}get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,t,r,i,n=!1){super(),this._hidden=n,this._offset=e,this._tokenType=i,this._length=t,this._range=r}},Fb=class extends DT{static{l(this,"CompositeCstNodeImpl")}constructor(){super(...arguments),this.content=new Q_e(this)}get children(){return this.content}get offset(){var e,t;return(t=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&t!==void 0?t:0}get length(){return this.end-this.offset}get end(){var e,t;return(t=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&t!==void 0?t:0}get range(){let e=this.firstNonHiddenNode,t=this.lastNonHiddenNode;if(e&&t){if(this._rangeCache===void 0){let{range:r}=e,{range:i}=t;this._rangeCache={start:r.start,end:i.end.line<r.start.line?r.start:i.end}}return this._rangeCache}else return{start:Ur.create(0,0),end:Ur.create(0,0)}}get firstNonHiddenNode(){for(let e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){let t=this.content[e];if(!t.hidden)return t}return this.content[this.content.length-1]}},Q_e=class QGe extends Array{static{l(this,"CstNodeContainer")}constructor(t){super(),this.parent=t,Object.setPrototypeOf(this,QGe.prototype)}push(...t){return this.addParents(t),super.push(...t)}unshift(...t){return this.addParents(t),super.unshift(...t)}splice(t,r,...i){return this.addParents(i),super.splice(t,r,...i)}addParents(t){for(let r of t)r.container=this.parent}},RT=class extends Fb{static{l(this,"RootCstNodeImpl")}get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}});function OT(e){return e.$type===zb}var zb,GF,UF,PT,qF,jF,BT,HF,J_e,eAe,$T=D(()=>{"use strict";Y0(),FQe(),Pc(),bl(),Ha(),zF(),zb=Symbol("Datatype"),l(OT,"isDataTypeNode"),GF="\u200B",UF=l(e=>e.endsWith(GF)?e:e+GF,"withRuleSuffix"),PT=class{static{l(this,"AbstractLangiumParser")}constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;let t=this.lexer.definition,r=e.LanguageMetaData.mode==="production";this.wrapper=new eAe(t,Object.assign(Object.assign({},e.parser.ParserConfig),{skipValidations:r,errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,t){this.wrapper.wrapOr(e,t)}optional(e,t){this.wrapper.wrapOption(e,t)}many(e,t){this.wrapper.wrapMany(e,t)}atLeastOne(e,t){this.wrapper.wrapAtLeastOne(e,t)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}},qF=class extends PT{static{l(this,"LangiumParser")}get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new FF,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,t){let r=this.computeRuleType(e),i=this.wrapper.DEFINE_RULE(UF(e.name),this.startImplementation(r,t).bind(this));return this.allRules.set(e.name,i),e.entry&&(this.mainRule=i),i}computeRuleType(e){if(!e.fragment)return sb(e)?zb:Y1(e)??e.name}parse(e,t={}){this.nodeBuilder.buildRootNode(e);let r=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=r.tokens;let i=t.rule?this.allRules.get(t.rule):this.mainRule;if(!i)throw new Error(t.rule?`No rule found with name '${t.rule}'`:"No main rule available.");let n=i.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(r.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:n,lexerErrors:r.errors,lexerReport:r.report,parserErrors:this.wrapper.errors}}startImplementation(e,t){return r=>{let i=!this.isRecording()&&e!==void 0;if(i){let a={$type:e};this.stack.push(a),e===zb&&(a.value="")}let n;try{n=t(r)}catch{n=void 0}return n===void 0&&i&&(n=this.construct()),n}}extractHiddenTokens(e){let t=this.lexerResult.hidden;if(!t.length)return[];let r=e.startOffset;for(let i=0;i<t.length;i++)if(t[i].startOffset>r)return t.splice(0,i);return t.splice(0,t.length)}consume(e,t,r){let i=this.wrapper.wrapConsume(e,t);if(!this.isRecording()&&this.isValidToken(i)){let n=this.extractHiddenTokens(i);this.nodeBuilder.addHiddenNodes(n);let a=this.nodeBuilder.buildLeafNode(i,r),{assignment:s,isCrossRef:o}=this.getAssignment(r),u=this.current;if(s){let h=Rc(r)?i.image:this.converter.convert(i.image,a);this.assign(s.operator,s.feature,h,a,o)}else if(OT(u)){let h=i.image;Rc(r)||(h=this.converter.convert(h,a).toString()),u.value+=h}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,t,r,i,n){let a;!this.isRecording()&&!r&&(a=this.nodeBuilder.buildCompositeNode(i));let s=this.wrapper.wrapSubrule(e,t,n);!this.isRecording()&&a&&a.length>0&&this.performSubruleAssignment(s,i,a)}performSubruleAssignment(e,t,r){let{assignment:i,isCrossRef:n}=this.getAssignment(t);if(i)this.assign(i.operator,i.feature,e,r,n);else if(!i){let a=this.current;if(OT(a))a.value+=e.toString();else if(typeof e=="object"&&e){let s=this.assignWithoutOverride(e,a);this.stack.pop(),this.stack.push(s)}}}action(e,t){if(!this.isRecording()){let r=this.current;if(t.feature&&t.operator){r=this.construct(),this.nodeBuilder.removeNode(r.$cstNode),this.nodeBuilder.buildCompositeNode(t).content.push(r.$cstNode);let i={$type:e};this.stack.push(i),this.assign(t.operator,t.feature,r,r.$cstNode,!1)}else r.$type=e}}construct(){if(this.isRecording())return;let e=this.current;return jk(e),this.nodeBuilder.construct(e),this.stack.pop(),OT(e)?this.converter.convert(e.value,e.$cstNode):(DB(this.astReflection,e),e)}getAssignment(e){if(!this.assignmentMap.has(e)){let t=j1(e,Dc);this.assignmentMap.set(e,{assignment:t,isCrossRef:t?Wv(t.terminal):!1})}return this.assignmentMap.get(e)}assign(e,t,r,i,n){let a=this.current,s;switch(n&&typeof r=="string"?s=this.linker.buildReference(a,t,i,r):s=r,e){case"=":{a[t]=s;break}case"?=":{a[t]=!0;break}case"+=":Array.isArray(a[t])||(a[t]=[]),a[t].push(s)}}assignWithoutOverride(e,t){for(let[i,n]of Object.entries(t)){let a=e[i];a===void 0?e[i]=n:Array.isArray(a)&&Array.isArray(n)&&(n.push(...a),e[i]=n)}let r=e.$cstNode;return r&&(r.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}},jF=class{static{l(this,"AbstractParserErrorMessageProvider")}buildMismatchTokenMessage(e){return V0.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return V0.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return V0.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return V0.buildEarlyExitMessage(e)}},BT=class extends jF{static{l(this,"LangiumParserErrorMessageProvider")}buildMismatchTokenMessage({expected:e,actual:t}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${t.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}},HF=class extends PT{static{l(this,"LangiumCompletionParser")}constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();let t=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=t.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,t){let r=this.wrapper.DEFINE_RULE(UF(e.name),this.startImplementation(t).bind(this));return this.allRules.set(e.name,r),e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return t=>{let r=this.keepStackSize();try{e(t)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,t,r){this.wrapper.wrapConsume(e,t),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,t,r,i,n){this.before(i),this.wrapper.wrapSubrule(e,t,n),this.after(i)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){let t=this.elementStack.lastIndexOf(e);t>=0&&this.elementStack.splice(t)}}get currIdx(){return this.wrapper.currIdx}},J_e={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new BT},eAe=class extends lSe{static{l(this,"ChevrotainWrapper")}constructor(e,t){let r=t&&"maxLookahead"in t;super(e,Object.assign(Object.assign(Object.assign({},J_e),{lookaheadStrategy:r?new bT({maxLookahead:t.maxLookahead}):new WSe({logging:t.skipValidations?()=>{}:void 0})}),t))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,t){return this.RULE(e,t)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,t){return this.consume(e,t)}wrapSubrule(e,t,r){return this.subrule(e,t,{ARGS:[r]})}wrapOr(e,t){this.or(e,t)}wrapOption(e,t){this.option(e,t)}wrapMany(e,t){this.many(e,t)}wrapAtLeastOne(e,t){this.atLeastOne(e,t)}}});function FT(e,t,r){return tAe({parser:t,tokens:r,ruleNames:new Map},e),t}function tAe(e,t){let r=Xk(t,!1),i=$i(t.rules).filter(ja).filter(n=>r.has(n));for(let n of i){let a=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});e.parser.rule(n,fh(a,n.definition))}}function fh(e,t,r=!1){let i;if(Rc(t))i=lAe(e,t);else if(lh(t))i=rAe(e,t);else if(Dc(t))i=fh(e,t.terminal);else if(Wv(t))i=VF(e,t);else if(Oc(t))i=iAe(e,t);else if(zk(t))i=aAe(e,t);else if(Uk(t))i=sAe(e,t);else if(r0(t))i=oAe(e,t);else if(CB(t)){let n=e.consume++;i=l(()=>e.parser.consume(n,Fc,t),"method")}else throw new Vv(t.$cstNode,`Unexpected element type: ${t.$type}`);return YF(e,r?void 0:Gb(t),i,t.cardinality)}function rAe(e,t){let r=ob(t);return()=>e.parser.action(r,t)}function iAe(e,t){let r=t.rule.ref;if(ja(r)){let i=e.subrule++,n=r.fragment,a=t.arguments.length>0?nAe(r,t.arguments):()=>({});return s=>e.parser.subrule(i,WF(e,r),n,t,a(s))}else if(yl(r)){let i=e.consume++,n=zT(e,r.name);return()=>e.parser.consume(i,n,t)}else if(r)oh(r);else throw new Vv(t.$cstNode,`Undefined rule: ${t.rule.$refText}`)}function nAe(e,t){let r=t.map(i=>wl(i.value));return i=>{let n={};for(let a=0;a<r.length;a++){let s=e.parameters[a],o=r[a];n[s.name]=o(i)}return n}}function wl(e){if(vB(e)){let t=wl(e.left),r=wl(e.right);return i=>t(i)||r(i)}else if(yB(e)){let t=wl(e.left),r=wl(e.right);return i=>t(i)&&r(i)}else if(bB(e)){let t=wl(e.value);return r=>!t(r)}else if(xB(e)){let t=e.parameter.ref.name;return r=>r!==void 0&&r[t]===!0}else if(mB(e)){let t=!!e.true;return()=>t}oh(e)}function aAe(e,t){if(t.elements.length===1)return fh(e,t.elements[0]);{let r=[];for(let n of t.elements){let a={ALT:fh(e,n,!0)},s=Gb(n);s&&(a.GATE=wl(s)),r.push(a)}let i=e.or++;return n=>e.parser.alternatives(i,r.map(a=>{let s={ALT:l(()=>a.ALT(n),"ALT")},o=a.GATE;return o&&(s.GATE=()=>o(n)),s}))}}function sAe(e,t){if(t.elements.length===1)return fh(e,t.elements[0]);let r=[];for(let o of t.elements){let u={ALT:fh(e,o,!0)},h=Gb(o);h&&(u.GATE=wl(h)),r.push(u)}let i=e.or++,n=l((o,u)=>{let h=u.getRuleStack().join("-");return`uGroup_${o}_${h}`},"idFunc"),a=l(o=>e.parser.alternatives(i,r.map((u,h)=>{let d={ALT:l(()=>!0,"ALT")},p=e.parser;d.ALT=()=>{if(u.ALT(o),!p.isRecording()){let f=n(i,p);p.unorderedGroups.get(f)||p.unorderedGroups.set(f,[]);let m=p.unorderedGroups.get(f);typeof m?.[h]>"u"&&(m[h]=!0)}};let g=u.GATE;return g?d.GATE=()=>g(o):d.GATE=()=>!p.unorderedGroups.get(n(i,p))?.[h],d})),"alternatives"),s=YF(e,Gb(t),a,"*");return o=>{s(o),e.parser.isRecording()||e.parser.unorderedGroups.delete(n(i,e.parser))}}function oAe(e,t){let r=t.elements.map(i=>fh(e,i));return i=>r.forEach(n=>n(i))}function Gb(e){if(r0(e))return e.guardCondition}function VF(e,t,r=t.terminal){if(r)if(Oc(r)&&ja(r.rule.ref)){let i=r.rule.ref,n=e.subrule++;return a=>e.parser.subrule(n,WF(e,i),!1,t,a)}else if(Oc(r)&&yl(r.rule.ref)){let i=e.consume++,n=zT(e,r.rule.ref.name);return()=>e.parser.consume(i,n,t)}else if(Rc(r)){let i=e.consume++,n=zT(e,r.value);return()=>e.parser.consume(i,n,t)}else throw new Error("Could not build cross reference parser");else{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);let i=Jk(t.type.ref),n=i?.terminal;if(!n)throw new Error("Could not find name assignment for type: "+ob(t.type.ref));return VF(e,t,n)}}function lAe(e,t){let r=e.consume++,i=e.tokens[t.value];if(!i)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,i,t)}function YF(e,t,r,i){let n=t&&wl(t);if(!i)if(n){let a=e.or++;return s=>e.parser.alternatives(a,[{ALT:l(()=>r(s),"ALT"),GATE:l(()=>n(s),"GATE")},{ALT:hF(),GATE:l(()=>!n(s),"GATE")}])}else return r;if(i==="*"){let a=e.many++;return s=>e.parser.many(a,{DEF:l(()=>r(s),"DEF"),GATE:n?()=>n(s):void 0})}else if(i==="+"){let a=e.many++;if(n){let s=e.or++;return o=>e.parser.alternatives(s,[{ALT:l(()=>e.parser.atLeastOne(a,{DEF:l(()=>r(o),"DEF")}),"ALT"),GATE:l(()=>n(o),"GATE")},{ALT:hF(),GATE:l(()=>!n(o),"GATE")}])}else return s=>e.parser.atLeastOne(a,{DEF:l(()=>r(s),"DEF")})}else if(i==="?"){let a=e.optional++;return s=>e.parser.optional(a,{DEF:l(()=>r(s),"DEF"),GATE:n?()=>n(s):void 0})}else oh(i)}function WF(e,t){let r=cAe(e,t),i=e.parser.getRule(r);if(!i)throw new Error(`Rule "${r}" not found."`);return i}function cAe(e,t){if(ja(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let r=t,i=r.$container,n=t.$type;for(;!ja(i);)(r0(i)||zk(i)||Uk(i))&&(n=i.elements.indexOf(r).toString()+":"+n),r=i,i=i.$container;return n=i.name+":"+n,e.ruleNames.set(t,n),n}}function zT(e,t){let r=e.tokens[t];if(!r)throw new Error(`Token "${t}" not found."`);return r}var XF=D(()=>{"use strict";Y0(),Pc(),pB(),us(),bl(),l(FT,"createParser"),l(tAe,"buildRules"),l(fh,"buildElement"),l(rAe,"buildAction"),l(iAe,"buildRuleCall"),l(nAe,"buildRuleCallPredicate"),l(wl,"buildPredicate"),l(aAe,"buildAlternatives"),l(sAe,"buildUnorderedGroup"),l(oAe,"buildGroup"),l(Gb,"getGuardCondition"),l(VF,"buildCrossReference"),l(lAe,"buildKeyword"),l(YF,"wrap"),l(WF,"getRule"),l(cAe,"getRuleName"),l(zT,"getToken")});function KF(e){let t=e.Grammar,r=e.parser.Lexer,i=new HF(e);return FT(t,i,r.definition),i.finalize(),i}var uAe=D(()=>{"use strict";$T(),XF(),l(KF,"createCompletionParser")});function ZF(e){let t=QF(e);return t.finalize(),t}function QF(e){let t=e.Grammar,r=e.parser.Lexer,i=new qF(e);return FT(t,i,r.definition)}var hAe=D(()=>{"use strict";$T(),XF(),l(ZF,"createLangiumParser"),l(QF,"prepareLangiumParser")}),Ub,JF=D(()=>{"use strict";Y0(),Pc(),Ha(),bl(),ab(),us(),Ub=class{static{l(this,"DefaultTokenBuilder")}constructor(){this.diagnostics=[]}buildTokens(e,t){let r=$i(Xk(e,!1)),i=this.buildTerminalTokens(r),n=this.buildKeywordTokens(r,i,t);return i.forEach(a=>{let s=a.PATTERN;typeof s=="object"&&s&&"test"in s&&nb(s)?n.unshift(a):n.push(a)}),n}flushLexingReport(e){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){let e=[...this.diagnostics];return this.diagnostics=[],e}buildTerminalTokens(e){return e.filter(yl).filter(t=>!t.fragment).map(t=>this.buildTerminalToken(t)).toArray()}buildTerminalToken(e){let t=lb(e),r=this.requiresCustomPattern(t)?this.regexPatternFunction(t):t,i={name:e.name,PATTERN:r};return typeof r=="function"&&(i.LINE_BREAKS=!0),e.hidden&&(i.GROUP=nb(t)?aa.SKIPPED:"hidden"),i}requiresCustomPattern(e){return e.flags.includes("u")||e.flags.includes("s")?!0:!!(e.source.includes("?<=")||e.source.includes("?<!"))}regexPatternFunction(e){let t=new RegExp(e,e.flags+"y");return(r,i)=>(t.lastIndex=i,t.exec(r))}buildKeywordTokens(e,t,r){return e.filter(ja).flatMap(i=>uh(i).filter(Rc)).distinct(i=>i.value).toArray().sort((i,n)=>n.value.length-i.value.length).map(i=>this.buildKeywordToken(i,t,!!r?.caseInsensitive))}buildKeywordToken(e,t,r){let i=this.buildKeywordPattern(e,r),n={name:e.value,PATTERN:i,LONGER_ALT:this.findLongerAlt(e,t)};return typeof i=="function"&&(n.LINE_BREAKS=!0),n}buildKeywordPattern(e,t){return t?new RegExp(zB(e.value)):e.value}findLongerAlt(e,t){return t.reduce((r,i)=>{let n=i?.PATTERN;return n?.source&&GB("^"+n.source+"$",e.value)&&r.push(i),r},[])}}}),GT,kl,dAe=D(()=>{"use strict";Pc(),bl(),GT=class{static{l(this,"DefaultValueConverter")}convert(e,t){let r=t.grammarSource;if(Wv(r)&&(r=KB(r)),Oc(r)){let i=r.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,e,t)}return e}runConverter(e,t,r){var i;switch(e.name.toUpperCase()){case"INT":return kl.convertInt(t);case"STRING":return kl.convertString(t);case"ID":return kl.convertID(t)}switch((i=a$(e))===null||i===void 0?void 0:i.toLowerCase()){case"number":return kl.convertNumber(t);case"boolean":return kl.convertBoolean(t);case"bigint":return kl.convertBigint(t);case"date":return kl.convertDate(t);default:return t}}},function(e){function t(h){let d="";for(let p=1;p<h.length-1;p++){let g=h.charAt(p);if(g==="\\"){let f=h.charAt(++p);d+=r(f)}else d+=g}return d}l(t,"convertString"),e.convertString=t;function r(h){switch(h){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return h}}l(r,"convertEscapeCharacter");function i(h){return h.charAt(0)==="^"?h.substring(1):h}l(i,"convertID"),e.convertID=i;function n(h){return parseInt(h)}l(n,"convertInt"),e.convertInt=n;function a(h){return BigInt(h)}l(a,"convertBigint"),e.convertBigint=a;function s(h){return new Date(h)}l(s,"convertDate"),e.convertDate=s;function o(h){return Number(h)}l(o,"convertNumber"),e.convertNumber=o;function u(h){return h.toLowerCase()==="true"}l(u,"convertBoolean"),e.convertBoolean=u}(kl||(kl={}))}),pAe=_n(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t;function r(){if(t===void 0)throw new Error("No runtime abstraction layer installed");return t}l(r,"RAL"),function(i){function n(a){if(a===void 0)throw new Error("No runtime abstraction layer provided");t=a}l(n,"install"),i.install=n}(r||(r={})),e.default=r}),zQe=_n(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringArray=e.array=e.func=e.error=e.number=e.string=e.boolean=void 0;function t(u){return u===!0||u===!1}l(t,"boolean"),e.boolean=t;function r(u){return typeof u=="string"||u instanceof String}l(r,"string"),e.string=r;function i(u){return typeof u=="number"||u instanceof Number}l(i,"number"),e.number=i;function n(u){return u instanceof Error}l(n,"error"),e.error=n;function a(u){return typeof u=="function"}l(a,"func"),e.func=a;function s(u){return Array.isArray(u)}l(s,"array"),e.array=s;function o(u){return s(u)&&u.every(h=>r(h))}l(o,"stringArray"),e.stringArray=o}),gAe=_n(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=e.Event=void 0;var t=pAe(),r;(function(a){let s={dispose(){}};a.None=function(){return s}})(r||(e.Event=r={}));var i=class{static{l(this,"CallbackList")}add(a,s=null,o){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(a),this._contexts.push(s),Array.isArray(o)&&o.push({dispose:l(()=>this.remove(a,s),"dispose")})}remove(a,s=null){if(!this._callbacks)return;let o=!1;for(let u=0,h=this._callbacks.length;u<h;u++)if(this._callbacks[u]===a)if(this._contexts[u]===s){this._callbacks.splice(u,1),this._contexts.splice(u,1);return}else o=!0;if(o)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...a){if(!this._callbacks)return[];let s=[],o=this._callbacks.slice(0),u=this._contexts.slice(0);for(let h=0,d=o.length;h<d;h++)try{s.push(o[h].apply(u[h],a))}catch(p){(0,t.default)().console.error(p)}return s}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},n=class JGe{static{l(this,"Emitter")}constructor(s){this._options=s}get event(){return this._event||(this._event=(s,o,u)=>{this._callbacks||(this._callbacks=new i),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(s,o);let h={dispose:l(()=>{this._callbacks&&(this._callbacks.remove(s,o),h.dispose=JGe._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(u)&&u.push(h),h}),this._event}fire(s){this._callbacks&&this._callbacks.invoke.call(this._callbacks,s)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};e.Emitter=n,n._noop=function(){}}),GQe=_n(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;var t=pAe(),r=zQe(),i=gAe(),n;(function(u){u.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i.Event.None}),u.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i.Event.None});function h(d){let p=d;return p&&(p===u.None||p===u.Cancelled||r.boolean(p.isCancellationRequested)&&!!p.onCancellationRequested)}l(h,"is"),u.is=h})(n||(e.CancellationToken=n={}));var a=Object.freeze(function(u,h){let d=(0,t.default)().timer.setTimeout(u.bind(h),0);return{dispose(){d.dispose()}}}),s=class{static{l(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},o=class{static{l(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=n.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=n.None}};e.CancellationTokenSource=o}),ii={},Lo=D(()=>{"use strict";Zx(ii,zn(GQe(),1))});function UT(){return new Promise(e=>{typeof setImmediate>"u"?setTimeout(e,0):setImmediate(e)})}function qT(){return qb=performance.now(),new ii.CancellationTokenSource}function ez(e){tz=e}function K0(e){return e===Uc}async function sa(e){if(e===ii.CancellationToken.None)return;let t=performance.now();if(t-qb>=tz&&(qb=t,await UT(),qb=performance.now()),e.isCancellationRequested)throw Uc}var qb,tz,Uc,Tl,No=D(()=>{"use strict";Lo(),l(UT,"delayNextTick"),qb=0,tz=10,l(qT,"startCancelableOperation"),l(ez,"setInterruptionPeriod"),Uc=Symbol("OperationCancelled"),l(K0,"isOperationCancelled"),l(sa,"interruptAndCheck"),Tl=class{static{l(this,"Deferred")}constructor(){this.promise=new Promise((e,t)=>{this.resolve=r=>(e(r),this),this.reject=r=>(t(r),this)})}}});function jT(e,t){if(e.length<=1)return e;let r=e.length/2|0,i=e.slice(0,r),n=e.slice(r);jT(i,t),jT(n,t);let a=0,s=0,o=0;for(;a<i.length&&s<n.length;)t(i[a],n[s])<=0?e[o++]=i[a++]:e[o++]=n[s++];for(;a<i.length;)e[o++]=i[a++];for(;s<n.length;)e[o++]=n[s++];return e}function rz(e,t,r=0){let i=t?[r]:[];for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);iz(a)&&(a===13&&n+1<e.length&&e.charCodeAt(n+1)===10&&n++,i.push(r+n+1))}return i}function iz(e){return e===13||e===10}function nz(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function fAe(e){let t=nz(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var az,HT,UQe=D(()=>{"use strict";az=class wj{static{l(this,"FullTextDocument")}constructor(t,r,i,n){this._uri=t,this._languageId=r,this._version=i,this._content=n,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),i=this.offsetAt(t.end);return this._content.substring(r,i)}return this._content}update(t,r){for(let i of t)if(wj.isIncremental(i)){let n=nz(i.range),a=this.offsetAt(n.start),s=this.offsetAt(n.end);this._content=this._content.substring(0,a)+i.text+this._content.substring(s,this._content.length);let o=Math.max(n.start.line,0),u=Math.max(n.end.line,0),h=this._lineOffsets,d=rz(i.text,!1,a);if(u-o===d.length)for(let g=0,f=d.length;g<f;g++)h[g+o+1]=d[g];else d.length<1e4?h.splice(o+1,u-o,...d):this._lineOffsets=h=h.slice(0,o+1).concat(d,h.slice(u+1));let p=i.text.length-(s-a);if(p!==0)for(let g=o+1+d.length,f=h.length;g<f;g++)h[g]=h[g]+p}else if(wj.isFull(i))this._content=i.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=rz(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),i=0,n=r.length;if(n===0)return{line:0,character:t};for(;i<n;){let s=Math.floor((i+n)/2);r[s]>t?n=s:i=s+1}let a=i-1;return t=this.ensureBeforeEOL(t,r[a]),{line:a,character:t-r[a]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let i=r[t.line];if(t.character<=0)return i;let n=t.line+1<r.length?r[t.line+1]:this._content.length,a=Math.min(i+t.character,n);return this.ensureBeforeEOL(a,i)}ensureBeforeEOL(t,r){for(;t>r&&iz(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},function(e){function t(n,a,s,o){return new az(n,a,s,o)}l(t,"create"),e.create=t;function r(n,a,s){if(n instanceof az)return n.update(a,s),n;throw new Error("TextDocument.update: document must be created by TextDocument.create")}l(r,"update"),e.update=r;function i(n,a){let s=n.getText(),o=jT(a.map(fAe),(d,p)=>{let g=d.range.start.line-p.range.start.line;return g===0?d.range.start.character-p.range.start.character:g}),u=0,h=[];for(let d of o){let p=n.offsetAt(d.range.start);if(p<u)throw new Error("Overlapping edit");p>u&&h.push(s.substring(u,p)),d.newText.length&&h.push(d.newText),u=n.offsetAt(d.range.end)}return h.push(s.substr(u)),h.join("")}l(i,"applyEdits"),e.applyEdits=i}(HT||(HT={})),l(jT,"mergeSort"),l(rz,"computeLineOffsets"),l(iz,"isEOL"),l(nz,"getWellformedRange"),l(fAe,"getWellformedEdit")}),mAe,El,cf,yAe=D(()=>{"use strict";(()=>{"use strict";var e={470:n=>{function a(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}l(a,"e");function s(u,h){for(var d,p="",g=0,f=-1,m=0,y=0;y<=u.length;++y){if(y<u.length)d=u.charCodeAt(y);else{if(d===47)break;d=47}if(d===47){if(!(f===y-1||m===1))if(f!==y-1&&m===2){if(p.length<2||g!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var b=p.lastIndexOf("/");if(b!==p.length-1){b===-1?(p="",g=0):g=(p=p.slice(0,b)).length-1-p.lastIndexOf("/"),f=y,m=0;continue}}else if(p.length===2||p.length===1){p="",g=0,f=y,m=0;continue}}h&&(p.length>0?p+="/..":p="..",g=2)}else p.length>0?p+="/"+u.slice(f+1,y):p=u.slice(f+1,y),g=y-f-1;f=y,m=0}else d===46&&m!==-1?++m:m=-1}return p}l(s,"r");var o={resolve:l(function(){for(var u,h="",d=!1,p=arguments.length-1;p>=-1&&!d;p--){var g;p>=0?g=arguments[p]:(u===void 0&&(u=process.cwd()),g=u),a(g),g.length!==0&&(h=g+"/"+h,d=g.charCodeAt(0)===47)}return h=s(h,!d),d?h.length>0?"/"+h:"/":h.length>0?h:"."},"resolve"),normalize:l(function(u){if(a(u),u.length===0)return".";var h=u.charCodeAt(0)===47,d=u.charCodeAt(u.length-1)===47;return(u=s(u,!h)).length!==0||h||(u="."),u.length>0&&d&&(u+="/"),h?"/"+u:u},"normalize"),isAbsolute:l(function(u){return a(u),u.length>0&&u.charCodeAt(0)===47},"isAbsolute"),join:l(function(){if(arguments.length===0)return".";for(var u,h=0;h<arguments.length;++h){var d=arguments[h];a(d),d.length>0&&(u===void 0?u=d:u+="/"+d)}return u===void 0?".":o.normalize(u)},"join"),relative:l(function(u,h){if(a(u),a(h),u===h||(u=o.resolve(u))===(h=o.resolve(h)))return"";for(var d=1;d<u.length&&u.charCodeAt(d)===47;++d);for(var p=u.length,g=p-d,f=1;f<h.length&&h.charCodeAt(f)===47;++f);for(var m=h.length-f,y=g<m?g:m,b=-1,v=0;v<=y;++v){if(v===y){if(m>y){if(h.charCodeAt(f+v)===47)return h.slice(f+v+1);if(v===0)return h.slice(f+v)}else g>y&&(u.charCodeAt(d+v)===47?b=v:v===0&&(b=0));break}var x=u.charCodeAt(d+v);if(x!==h.charCodeAt(f+v))break;x===47&&(b=v)}var w="";for(v=d+b+1;v<=p;++v)v!==p&&u.charCodeAt(v)!==47||(w.length===0?w+="..":w+="/..");return w.length>0?w+h.slice(f+b):(f+=b,h.charCodeAt(f)===47&&++f,h.slice(f))},"relative"),_makeLong:l(function(u){return u},"_makeLong"),dirname:l(function(u){if(a(u),u.length===0)return".";for(var h=u.charCodeAt(0),d=h===47,p=-1,g=!0,f=u.length-1;f>=1;--f)if((h=u.charCodeAt(f))===47){if(!g){p=f;break}}else g=!1;return p===-1?d?"/":".":d&&p===1?"//":u.slice(0,p)},"dirname"),basename:l(function(u,h){if(h!==void 0&&typeof h!="string")throw new TypeError('"ext" argument must be a string');a(u);var d,p=0,g=-1,f=!0;if(h!==void 0&&h.length>0&&h.length<=u.length){if(h.length===u.length&&h===u)return"";var m=h.length-1,y=-1;for(d=u.length-1;d>=0;--d){var b=u.charCodeAt(d);if(b===47){if(!f){p=d+1;break}}else y===-1&&(f=!1,y=d+1),m>=0&&(b===h.charCodeAt(m)?--m==-1&&(g=d):(m=-1,g=y))}return p===g?g=y:g===-1&&(g=u.length),u.slice(p,g)}for(d=u.length-1;d>=0;--d)if(u.charCodeAt(d)===47){if(!f){p=d+1;break}}else g===-1&&(f=!1,g=d+1);return g===-1?"":u.slice(p,g)},"basename"),extname:l(function(u){a(u);for(var h=-1,d=0,p=-1,g=!0,f=0,m=u.length-1;m>=0;--m){var y=u.charCodeAt(m);if(y!==47)p===-1&&(g=!1,p=m+1),y===46?h===-1?h=m:f!==1&&(f=1):h!==-1&&(f=-1);else if(!g){d=m+1;break}}return h===-1||p===-1||f===0||f===1&&h===p-1&&h===d+1?"":u.slice(h,p)},"extname"),format:l(function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return function(h,d){var p=d.dir||d.root,g=d.base||(d.name||"")+(d.ext||"");return p?p===d.root?p+g:p+"/"+g:g}(0,u)},"format"),parse:l(function(u){a(u);var h={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return h;var d,p=u.charCodeAt(0),g=p===47;g?(h.root="/",d=1):d=0;for(var f=-1,m=0,y=-1,b=!0,v=u.length-1,x=0;v>=d;--v)if((p=u.charCodeAt(v))!==47)y===-1&&(b=!1,y=v+1),p===46?f===-1?f=v:x!==1&&(x=1):f!==-1&&(x=-1);else if(!b){m=v+1;break}return f===-1||y===-1||x===0||x===1&&f===y-1&&f===m+1?y!==-1&&(h.base=h.name=m===0&&g?u.slice(1,y):u.slice(m,y)):(m===0&&g?(h.name=u.slice(1,f),h.base=u.slice(1,y)):(h.name=u.slice(m,f),h.base=u.slice(m,y)),h.ext=u.slice(f,y)),m>0?h.dir=u.slice(0,m-1):g&&(h.dir="/"),h},"parse"),sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,n.exports=o}},t={};function r(n){var a=t[n];if(a!==void 0)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}l(r,"r"),r.d=(n,a)=>{for(var s in a)r.o(a,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:a[s]})},r.o=(n,a)=>Object.prototype.hasOwnProperty.call(n,a),r.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var i={};(()=>{let n;r.r(i),r.d(i,{URI:l(()=>g,"URI"),Utils:l(()=>M,"Utils")}),typeof process=="object"?n=process.platform==="win32":typeof navigator=="object"&&(n=navigator.userAgent.indexOf("Windows")>=0);let a=/^\w[\w\d+.-]*$/,s=/^\//,o=/^\/\//;function u(I,A){if(!I.scheme&&A)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${I.authority}", path: "${I.path}", query: "${I.query}", fragment: "${I.fragment}"}`);if(I.scheme&&!a.test(I.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(I.path){if(I.authority){if(!s.test(I.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(I.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}l(u,"s");let h="",d="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class g{static{l(this,"f")}static isUri(A){return A instanceof g||!!A&&typeof A.authority=="string"&&typeof A.fragment=="string"&&typeof A.path=="string"&&typeof A.query=="string"&&typeof A.scheme=="string"&&typeof A.fsPath=="string"&&typeof A.with=="function"&&typeof A.toString=="function"}scheme;authority;path;query;fragment;constructor(A,B,S,O,R,P=!1){typeof A=="object"?(this.scheme=A.scheme||h,this.authority=A.authority||h,this.path=A.path||h,this.query=A.query||h,this.fragment=A.fragment||h):(this.scheme=function(L,$){return L||$?L:"file"}(A,P),this.authority=B||h,this.path=function(L,$){switch(L){case"https":case"http":case"file":$?$[0]!==d&&($=d+$):$=d}return $}(this.scheme,S||h),this.query=O||h,this.fragment=R||h,u(this,P))}get fsPath(){return x(this,!1)}with(A){if(!A)return this;let{scheme:B,authority:S,path:O,query:R,fragment:P}=A;return B===void 0?B=this.scheme:B===null&&(B=h),S===void 0?S=this.authority:S===null&&(S=h),O===void 0?O=this.path:O===null&&(O=h),R===void 0?R=this.query:R===null&&(R=h),P===void 0?P=this.fragment:P===null&&(P=h),B===this.scheme&&S===this.authority&&O===this.path&&R===this.query&&P===this.fragment?this:new m(B,S,O,R,P)}static parse(A,B=!1){let S=p.exec(A);return S?new m(S[2]||h,_(S[4]||h),_(S[5]||h),_(S[7]||h),_(S[9]||h),B):new m(h,h,h,h,h)}static file(A){let B=h;if(n&&(A=A.replace(/\\/g,d)),A[0]===d&&A[1]===d){let S=A.indexOf(d,2);S===-1?(B=A.substring(2),A=d):(B=A.substring(2,S),A=A.substring(S)||d)}return new m("file",B,A,h,h)}static from(A){let B=new m(A.scheme,A.authority,A.path,A.query,A.fragment);return u(B,!0),B}toString(A=!1){return w(this,A)}toJSON(){return this}static revive(A){if(A){if(A instanceof g)return A;{let B=new m(A);return B._formatted=A.external,B._fsPath=A._sep===f?A.fsPath:null,B}}return A}}let f=n?1:void 0;class m extends g{static{l(this,"l")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=x(this,!1)),this._fsPath}toString(A=!1){return A?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)}toJSON(){let A={$mid:1};return this._fsPath&&(A.fsPath=this._fsPath,A._sep=f),this._formatted&&(A.external=this._formatted),this.path&&(A.path=this.path),this.scheme&&(A.scheme=this.scheme),this.authority&&(A.authority=this.authority),this.query&&(A.query=this.query),this.fragment&&(A.fragment=this.fragment),A}}let y={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function b(I,A,B){let S,O=-1;for(let R=0;R<I.length;R++){let P=I.charCodeAt(R);if(P>=97&&P<=122||P>=65&&P<=90||P>=48&&P<=57||P===45||P===46||P===95||P===126||A&&P===47||B&&P===91||B&&P===93||B&&P===58)O!==-1&&(S+=encodeURIComponent(I.substring(O,R)),O=-1),S!==void 0&&(S+=I.charAt(R));else{S===void 0&&(S=I.substr(0,R));let L=y[P];L!==void 0?(O!==-1&&(S+=encodeURIComponent(I.substring(O,R)),O=-1),S+=L):O===-1&&(O=R)}}return O!==-1&&(S+=encodeURIComponent(I.substring(O))),S!==void 0?S:I}l(b,"d");function v(I){let A;for(let B=0;B<I.length;B++){let S=I.charCodeAt(B);S===35||S===63?(A===void 0&&(A=I.substr(0,B)),A+=y[S]):A!==void 0&&(A+=I[B])}return A!==void 0?A:I}l(v,"p");function x(I,A){let B;return B=I.authority&&I.path.length>1&&I.scheme==="file"?`//${I.authority}${I.path}`:I.path.charCodeAt(0)===47&&(I.path.charCodeAt(1)>=65&&I.path.charCodeAt(1)<=90||I.path.charCodeAt(1)>=97&&I.path.charCodeAt(1)<=122)&&I.path.charCodeAt(2)===58?A?I.path.substr(1):I.path[1].toLowerCase()+I.path.substr(2):I.path,n&&(B=B.replace(/\//g,"\\")),B}l(x,"m");function w(I,A){let B=A?v:b,S="",{scheme:O,authority:R,path:P,query:L,fragment:$}=I;if(O&&(S+=O,S+=":"),(R||O==="file")&&(S+=d,S+=d),R){let F=R.indexOf("@");if(F!==-1){let G=R.substr(0,F);R=R.substr(F+1),F=G.lastIndexOf(":"),F===-1?S+=B(G,!1,!1):(S+=B(G.substr(0,F),!1,!1),S+=":",S+=B(G.substr(F+1),!1,!0)),S+="@"}R=R.toLowerCase(),F=R.lastIndexOf(":"),F===-1?S+=B(R,!1,!0):(S+=B(R.substr(0,F),!1,!0),S+=R.substr(F))}if(P){if(P.length>=3&&P.charCodeAt(0)===47&&P.charCodeAt(2)===58){let F=P.charCodeAt(1);F>=65&&F<=90&&(P=`/${String.fromCharCode(F+32)}:${P.substr(3)}`)}else if(P.length>=2&&P.charCodeAt(1)===58){let F=P.charCodeAt(0);F>=65&&F<=90&&(P=`${String.fromCharCode(F+32)}:${P.substr(2)}`)}S+=B(P,!0,!1)}return L&&(S+="?",S+=B(L,!1,!1)),$&&(S+="#",S+=A?$:b($,!1,!1)),S}l(w,"y");function k(I){try{return decodeURIComponent(I)}catch{return I.length>3?I.substr(0,3)+k(I.substr(3)):I}}l(k,"v");let T=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function _(I){return I.match(T)?I.replace(T,A=>k(A)):I}l(_,"C");var C=r(470);let E=C.posix||C,N="/";var M;(function(I){I.joinPath=function(A,...B){return A.with({path:E.join(A.path,...B)})},I.resolvePath=function(A,...B){let S=A.path,O=!1;S[0]!==N&&(S=N+S,O=!0);let R=E.resolve(S,...B);return O&&R[0]===N&&!A.authority&&(R=R.substring(1)),A.with({path:R})},I.dirname=function(A){if(A.path.length===0||A.path===N)return A;let B=E.dirname(A.path);return B.length===1&&B.charCodeAt(0)===46&&(B=""),A.with({path:B})},I.basename=function(A){return E.basename(A.path)},I.extname=function(A){return E.extname(A.path)}})(M||(M={}))})(),mAe=i})(),{URI:El,Utils:cf}=mAe}),Cl,qc=D(()=>{"use strict";yAe(),function(e){e.basename=cf.basename,e.dirname=cf.dirname,e.extname=cf.extname,e.joinPath=cf.joinPath,e.resolvePath=cf.resolvePath;function t(n,a){return n?.toString()===a?.toString()}l(t,"equals"),e.equals=t;function r(n,a){let s=typeof n=="string"?n:n.path,o=typeof a=="string"?a:a.path,u=s.split("/").filter(f=>f.length>0),h=o.split("/").filter(f=>f.length>0),d=0;for(;d<u.length&&u[d]===h[d];d++);let p="../".repeat(u.length-d),g=h.slice(d).join("/");return p+g}l(r,"relative"),e.relative=r;function i(n){return El.parse(n.toString()).toString()}l(i,"normalize"),e.normalize=i}(Cl||(Cl={}))}),li,sz,oz,jb=D(()=>{"use strict";UQe(),jb(),Lo(),us(),qc(),function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"}(li||(li={})),sz=class{static{l(this,"DefaultLangiumDocumentFactory")}constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,t=ii.CancellationToken.None){let r=await this.fileSystemProvider.readFile(e);return this.createAsync(e,r,t)}fromTextDocument(e,t,r){return t=t??El.parse(e.uri),ii.CancellationToken.is(r)?this.createAsync(t,e,r):this.create(t,e,r)}fromString(e,t,r){return ii.CancellationToken.is(r)?this.createAsync(t,e,r):this.create(t,e,r)}fromModel(e,t){return this.create(t,{$model:e})}create(e,t,r){if(typeof t=="string"){let i=this.parse(e,t,r);return this.createLangiumDocument(i,e,void 0,t)}else if("$model"in t){let i={value:t.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(i,e)}else{let i=this.parse(e,t.getText(),r);return this.createLangiumDocument(i,e,t)}}async createAsync(e,t,r){if(typeof t=="string"){let i=await this.parseAsync(e,t,r);return this.createLangiumDocument(i,e,void 0,t)}else{let i=await this.parseAsync(e,t.getText(),r);return this.createLangiumDocument(i,e,t)}}createLangiumDocument(e,t,r,i){let n;if(r)n={parseResult:e,uri:t,state:li.Parsed,references:[],textDocument:r};else{let a=this.createTextDocumentGetter(t,i);n={parseResult:e,uri:t,state:li.Parsed,references:[],get textDocument(){return a()}}}return e.value.$document=n,n}async update(e,t){var r,i;let n=(r=e.parseResult.value.$cstNode)===null||r===void 0?void 0:r.root.fullText,a=(i=this.textDocuments)===null||i===void 0?void 0:i.get(e.uri.toString()),s=a?a.getText():await this.fileSystemProvider.readFile(e.uri);if(a)Object.defineProperty(e,"textDocument",{value:a});else{let o=this.createTextDocumentGetter(e.uri,s);Object.defineProperty(e,"textDocument",{get:o})}return n!==s&&(e.parseResult=await this.parseAsync(e.uri,s,t),e.parseResult.value.$document=e),e.state=li.Parsed,e}parse(e,t,r){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(t,r)}parseAsync(e,t,r){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(t,r)}createTextDocumentGetter(e,t){let r=this.serviceRegistry,i;return()=>i??(i=HT.create(e.toString(),r.getServices(e).LanguageMetaData.languageId,0,t??""))}},oz=class{static{l(this,"DefaultLangiumDocuments")}constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.serviceRegistry=e.ServiceRegistry}get all(){return $i(this.documentMap.values())}addDocument(e){let t=e.uri.toString();if(this.documentMap.has(t))throw new Error(`A document with the URI '${t}' is already present.`);this.documentMap.set(t,e)}getDocument(e){let t=e.toString();return this.documentMap.get(t)}async getOrCreateDocument(e,t){let r=this.getDocument(e);return r||(r=await this.langiumDocumentFactory.fromUri(e,t),this.addDocument(r),r)}createDocument(e,t,r){if(r)return this.langiumDocumentFactory.fromString(t,e,r).then(i=>(this.addDocument(i),i));{let i=this.langiumDocumentFactory.fromString(t,e);return this.addDocument(i),i}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){let t=e.toString(),r=this.documentMap.get(t);return r&&(this.serviceRegistry.getServices(e).references.Linker.unlink(r),r.state=li.Changed,r.precomputedScopes=void 0,r.diagnostics=void 0),r}deleteDocument(e){let t=e.toString(),r=this.documentMap.get(t);return r&&(r.state=li.Changed,this.documentMap.delete(t)),r}}}),VT,lz,vAe=D(()=>{"use strict";Lo(),gl(),Ha(),No(),jb(),VT=Symbol("ref_resolving"),lz=class{static{l(this,"DefaultLinker")}constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,t=ii.CancellationToken.None){for(let r of Bc(e.parseResult.value))await sa(t),Qv(r).forEach(i=>this.doLink(i,e))}doLink(e,t){var r;let i=e.reference;if(i._ref===void 0){i._ref=VT;try{let n=this.getCandidate(e);if(O1(n))i._ref=n;else if(i._nodeDescription=n,this.langiumDocuments().hasDocument(n.documentUri)){let a=this.loadAstNode(n);i._ref=a??this.createLinkingError(e,n)}else i._ref=void 0}catch(n){console.error(`An error occurred while resolving reference to '${i.$refText}':`,n);let a=(r=n.message)!==null&&r!==void 0?r:String(n);i._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${i.$refText}': ${a}`})}t.references.push(i)}}unlink(e){for(let t of e.references)delete t._ref,delete t._nodeDescription;e.references=[]}getCandidate(e){return this.scopeProvider.getScope(e).getElement(e.reference.$refText)??this.createLinkingError(e)}buildReference(e,t,r,i){let n=this,a={$refNode:r,$refText:i,get ref(){var s;if(Ji(this._ref))return this._ref;if(iB(this._nodeDescription)){let o=n.loadAstNode(this._nodeDescription);this._ref=o??n.createLinkingError({reference:a,container:e,property:t},this._nodeDescription)}else if(this._ref===void 0){this._ref=VT;let o=Kv(e).$document,u=n.getLinkedNode({reference:a,container:e,property:t});if(u.error&&o&&o.state<li.ComputedScopes)return this._ref=void 0;this._ref=(s=u.node)!==null&&s!==void 0?s:u.error,this._nodeDescription=u.descr,o?.references.push(this)}else if(this._ref===VT)throw new Error(`Cyclic reference resolution detected: ${n.astNodeLocator.getAstNodePath(e)}/${t} (symbol '${i}')`);return Ji(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return O1(this._ref)?this._ref:void 0}};return a}getLinkedNode(e){var t;try{let r=this.getCandidate(e);if(O1(r))return{error:r};let i=this.loadAstNode(r);return i?{node:i,descr:r}:{descr:r,error:this.createLinkingError(e,r)}}catch(r){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,r);let i=(t=r.message)!==null&&t!==void 0?t:String(r);return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${i}`})}}}loadAstNode(e){if(e.node)return e.node;let t=this.langiumDocuments().getDocument(e.documentUri);if(t)return this.astNodeLocator.getAstNode(t.parseResult.value,e.path)}createLinkingError(e,t){let r=Kv(e.container).$document;r&&r.state<li.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);let i=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${i} named '${e.reference.$refText}'.`,targetDescription:t})}}});function cz(e){return typeof e.name=="string"}var uz,bAe=D(()=>{"use strict";bl(),l(cz,"isNamed"),uz=class{static{l(this,"DefaultNameProvider")}getName(e){if(cz(e))return e.name}getNameNode(e){return Kk(e.$cstNode,"name")}}}),hz,xAe=D(()=>{"use strict";bl(),gl(),Ha(),ml(),us(),qc(),hz=class{static{l(this,"DefaultReferences")}constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){let t=e$(e),r=e.astNode;if(t&&r){let i=r[t.feature];if(qa(i))return i.ref;if(Array.isArray(i)){for(let n of i)if(qa(n)&&n.$refNode&&n.$refNode.offset<=e.offset&&n.$refNode.end>=e.end)return n.ref}}if(r){let i=this.nameProvider.getNameNode(r);if(i&&(i===e||aB(e,i)))return r}}}findDeclarationNode(e){let t=this.findDeclaration(e);if(t?.$cstNode)return this.nameProvider.getNameNode(t)??t.$cstNode}findReferences(e,t){let r=[];if(t.includeDeclaration){let n=this.getReferenceToSelf(e);n&&r.push(n)}let i=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return t.documentUri&&(i=i.filter(n=>Cl.equals(n.sourceUri,t.documentUri))),r.push(...i),$i(r)}getReferenceToSelf(e){let t=this.nameProvider.getNameNode(e);if(t){let r=So(e),i=this.nodeLocator.getAstNodePath(e);return{sourceUri:r.uri,sourcePath:i,targetUri:r.uri,targetPath:i,segment:B1(t),local:!0}}}}}),Z0,Hb,Vb=D(()=>{"use strict";us(),Z0=class{static{l(this,"MultiMap")}constructor(e){if(this.map=new Map,e)for(let[t,r]of e)this.add(t,r)}get size(){return jv.sum($i(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,t){if(t===void 0)return this.map.delete(e);{let r=this.map.get(e);if(r){let i=r.indexOf(t);if(i>=0)return r.length===1?this.map.delete(e):r.splice(i,1),!0}return!1}}get(e){var t;return(t=this.map.get(e))!==null&&t!==void 0?t:[]}has(e,t){if(t===void 0)return this.map.has(e);{let r=this.map.get(e);return r?r.indexOf(t)>=0:!1}}add(e,t){return this.map.has(e)?this.map.get(e).push(t):this.map.set(e,[t]),this}addAll(e,t){return this.map.has(e)?this.map.get(e).push(...t):this.map.set(e,Array.from(t)),this}forEach(e){this.map.forEach((t,r)=>t.forEach(i=>e(i,r,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return $i(this.map.entries()).flatMap(([e,t])=>t.map(r=>[e,r]))}keys(){return $i(this.map.keys())}values(){return $i(this.map.values()).flat()}entriesGroupedByKey(){return $i(this.map.entries())}},Hb=class{static{l(this,"BiMap")}get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(let[t,r]of e)this.set(t,r)}clear(){this.map.clear(),this.inverse.clear()}set(e,t){return this.map.set(e,t),this.inverse.set(t,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){let t=this.map.get(e);return t!==void 0?(this.map.delete(e),this.inverse.delete(t),!0):!1}}}),dz,wAe=D(()=>{"use strict";Lo(),Ha(),Vb(),No(),dz=class{static{l(this,"DefaultScopeComputation")}constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,t=ii.CancellationToken.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,t)}async computeExportsForNode(e,t,r=Zv,i=ii.CancellationToken.None){let n=[];this.exportNode(e,n,t);for(let a of r(e))await sa(i),this.exportNode(a,n,t);return n}exportNode(e,t,r){let i=this.nameProvider.getName(e);i&&t.push(this.descriptions.createDescription(e,i,r))}async computeLocalScopes(e,t=ii.CancellationToken.None){let r=e.parseResult.value,i=new Z0;for(let n of uh(r))await sa(t),this.processNode(n,e,i);return i}processNode(e,t,r){let i=e.$container;if(i){let n=this.nameProvider.getName(e);n&&r.add(i,this.descriptions.createDescription(e,n,t))}}}}),YT,pz,kAe,TAe=D(()=>{"use strict";us(),YT=class{static{l(this,"StreamScope")}constructor(e,t,r){var i;this.elements=e,this.outerScope=t,this.caseInsensitive=(i=r?.caseInsensitive)!==null&&i!==void 0?i:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){let t=this.caseInsensitive?this.elements.find(r=>r.name.toLowerCase()===e.toLowerCase()):this.elements.find(r=>r.name===e);if(t)return t;if(this.outerScope)return this.outerScope.getElement(e)}},pz=class{static{l(this,"MapScope")}constructor(e,t,r){var i;this.elements=new Map,this.caseInsensitive=(i=r?.caseInsensitive)!==null&&i!==void 0?i:!1;for(let n of e){let a=this.caseInsensitive?n.name.toLowerCase():n.name;this.elements.set(a,n)}this.outerScope=t}getElement(e){let t=this.caseInsensitive?e.toLowerCase():e,r=this.elements.get(t);if(r)return r;if(this.outerScope)return this.outerScope.getElement(e)}getAllElements(){let e=$i(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}},kAe={getElement(){},getAllElements(){return qv}}}),Yb,WT,Wb,gz,XT,fz=D(()=>{"use strict";Yb=class{static{l(this,"DisposableCache")}constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}},WT=class extends Yb{static{l(this,"SimpleCache")}constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,t){this.throwIfDisposed(),this.cache.set(e,t)}get(e,t){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(t){let r=t();return this.cache.set(e,r),r}else return}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}},Wb=class extends Yb{static{l(this,"ContextCache")}constructor(e){super(),this.cache=new Map,this.converter=e??(t=>t)}has(e,t){return this.throwIfDisposed(),this.cacheForContext(e).has(t)}set(e,t,r){this.throwIfDisposed(),this.cacheForContext(e).set(t,r)}get(e,t,r){this.throwIfDisposed();let i=this.cacheForContext(e);if(i.has(t))return i.get(t);if(r){let n=r();return i.set(t,n),n}else return}delete(e,t){return this.throwIfDisposed(),this.cacheForContext(e).delete(t)}clear(e){if(this.throwIfDisposed(),e){let t=this.converter(e);this.cache.delete(t)}else this.cache.clear()}cacheForContext(e){let t=this.converter(e),r=this.cache.get(t);return r||(r=new Map,this.cache.set(t,r)),r}},gz=class extends Wb{static{l(this,"DocumentCache")}constructor(e,t){super(r=>r.toString()),t?(this.toDispose.push(e.workspace.DocumentBuilder.onDocumentPhase(t,r=>{this.clear(r.uri.toString())})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((r,i)=>{for(let n of i)this.clear(n)}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((r,i)=>{let n=r.concat(i);for(let a of n)this.clear(a)}))}},XT=class extends WT{static{l(this,"WorkspaceCache")}constructor(e,t){super(),t?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(t,()=>{this.clear()})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((r,i)=>{i.length>0&&this.clear()}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}}),mz,EAe=D(()=>{"use strict";TAe(),Ha(),us(),fz(),mz=class{static{l(this,"DefaultScopeProvider")}constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new XT(e.shared)}getScope(e){let t=[],r=this.reflection.getReferenceType(e),i=So(e.container).precomputedScopes;if(i){let a=e.container;do{let s=i.get(a);s.length>0&&t.push($i(s).filter(o=>this.reflection.isSubtype(o.type,r))),a=a.$container}while(a)}let n=this.getGlobalScope(r,e);for(let a=t.length-1;a>=0;a--)n=this.createScope(t[a],n);return n}createScope(e,t,r){return new YT($i(e),t,r)}createScopeForNodes(e,t,r){let i=$i(e).map(n=>{let a=this.nameProvider.getName(n);if(a)return this.descriptions.createDescription(n,a)}).nonNullable();return new YT(i,t,r)}getGlobalScope(e,t){return this.globalScopeCache.get(e,()=>new pz(this.indexManager.allElements(e)))}}});function yz(e){return typeof e.$comment=="string"}function vz(e){return typeof e=="object"&&!!e&&("$ref"in e||"$error"in e)}var bz,xz=D(()=>{"use strict";yAe(),gl(),Ha(),bl(),l(yz,"isAstNodeWithComment"),l(vz,"isIntermediateReference"),bz=class{static{l(this,"DefaultJsonSerializer")}constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,t){let r=t??{},i=t?.replacer,n=l((s,o)=>this.replacer(s,o,r),"defaultReplacer"),a=i?(s,o)=>i(s,o,n):n;try{return this.currentDocument=So(e),JSON.stringify(e,a,t?.space)}finally{this.currentDocument=void 0}}deserialize(e,t){let r=t??{},i=JSON.parse(e);return this.linkNode(i,i,r),i}replacer(e,t,{refText:r,sourceText:i,textRegions:n,comments:a,uriConverter:s}){var o,u,h,d;if(!this.ignoreProperties.has(e))if(qa(t)){let p=t.ref,g=r?t.$refText:void 0;if(p){let f=So(p),m="";this.currentDocument&&this.currentDocument!==f&&(s?m=s(f.uri,t):m=f.uri.toString());let y=this.astNodeLocator.getAstNodePath(p);return{$ref:`${m}#${y}`,$refText:g}}else return{$error:(u=(o=t.error)===null||o===void 0?void 0:o.message)!==null&&u!==void 0?u:"Could not resolve reference",$refText:g}}else if(Ji(t)){let p;if(n&&(p=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},t)),(!e||t.$document)&&p?.$textRegion&&(p.$textRegion.documentURI=(h=this.currentDocument)===null||h===void 0?void 0:h.uri.toString())),i&&!e&&(p??(p=Object.assign({},t)),p.$sourceText=(d=t.$cstNode)===null||d===void 0?void 0:d.text),a){p??(p=Object.assign({},t));let g=this.commentProvider.getComment(t);g&&(p.$comment=g.replace(/\r/g,""))}return p??t}else return t}addAstNodeRegionWithAssignmentsTo(e){let t=l(r=>({offset:r.offset,end:r.end,length:r.length,range:r.range}),"createDocumentSegment");if(e.$cstNode){let r=e.$textRegion=t(e.$cstNode),i=r.assignments={};return Object.keys(e).filter(n=>!n.startsWith("$")).forEach(n=>{let a=QB(e.$cstNode,n).map(t);a.length!==0&&(i[n]=a)}),e}}linkNode(e,t,r,i,n,a){for(let[o,u]of Object.entries(e))if(Array.isArray(u))for(let h=0;h<u.length;h++){let d=u[h];vz(d)?u[h]=this.reviveReference(e,o,t,d,r):Ji(d)&&this.linkNode(d,t,r,e,o,h)}else vz(u)?e[o]=this.reviveReference(e,o,t,u,r):Ji(u)&&this.linkNode(u,t,r,e,o);let s=e;s.$container=i,s.$containerProperty=n,s.$containerIndex=a}reviveReference(e,t,r,i,n){let a=i.$refText,s=i.$error;if(i.$ref){let o=this.getRefNode(r,i.$ref,n.uriConverter);if(Ji(o))return a||(a=this.nameProvider.getName(o)),{$refText:a??"",ref:o};s=o}if(s){let o={$refText:a??""};return o.error={container:e,property:t,message:s,reference:o},o}else return}getRefNode(e,t,r){try{let i=t.indexOf("#");if(i===0)return this.astNodeLocator.getAstNode(e,t.substring(1))||"Could not resolve path: "+t;if(i<0){let o=r?r(t):El.parse(t),u=this.langiumDocuments.getDocument(o);return u?u.parseResult.value:"Could not find document for URI: "+t}let n=r?r(t.substring(0,i)):El.parse(t.substring(0,i)),a=this.langiumDocuments.getDocument(n);return a?i===t.length-1?a.parseResult.value:this.astNodeLocator.getAstNode(a.parseResult.value,t.substring(i+1))||"Could not resolve URI: "+t:"Could not find document for URI: "+t}catch(i){return String(i)}}}}),wz,CAe=D(()=>{"use strict";qc(),wz=class{static{l(this,"DefaultServiceRegistry")}get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=e?.workspace.TextDocuments}register(e){let t=e.LanguageMetaData;for(let r of t.fileExtensions)this.fileExtensionMap.has(r)&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${t.languageId}'.`),this.fileExtensionMap.set(r,e);this.languageIdMap.set(t.languageId,e),this.languageIdMap.size===1?this.singleton=e:this.singleton=void 0}getServices(e){var t,r;if(this.singleton!==void 0)return this.singleton;if(this.languageIdMap.size===0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");let i=(r=(t=this.textDocuments)===null||t===void 0?void 0:t.get(e))===null||r===void 0?void 0:r.languageId;if(i!==void 0){let s=this.languageIdMap.get(i);if(s)return s}let n=Cl.extname(e),a=this.fileExtensionMap.get(n);if(!a)throw i?new Error(`The service registry contains no services for the extension '${n}' for language '${i}'.`):new Error(`The service registry contains no services for the extension '${n}'.`);return a}hasServices(e){try{return this.getServices(e),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}});function Q0(e){return{code:e}}var Xb,kz,KT=D(()=>{"use strict";Fs(),Vb(),No(),us(),l(Q0,"diagnosticData"),function(e){e.all=["fast","slow","built-in"]}(Xb||(Xb={})),kz=class{static{l(this,"ValidationRegistry")}constructor(e){this.entries=new Z0,this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,t=this,r="fast"){if(r==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[i,n]of Object.entries(e)){let a=n;if(Array.isArray(a))for(let s of a){let o={check:this.wrapValidationException(s,t),category:r};this.addEntry(i,o)}else if(typeof a=="function"){let s={check:this.wrapValidationException(a,t),category:r};this.addEntry(i,s)}else oh(a)}}wrapValidationException(e,t){return async(r,i,n)=>{await this.handleException(()=>e.call(t,r,i,n),"An error occurred during validation",i,r)}}async handleException(e,t,r,i){try{await e()}catch(n){if(K0(n))throw n;console.error(`${t}:`,n),n instanceof Error&&n.stack&&console.error(n.stack);let a=n instanceof Error?n.message:String(n);r("error",`${t}: ${a}`,{node:i})}}addEntry(e,t){if(e==="AstNode"){this.entries.add("AstNode",t);return}for(let r of this.reflection.getAllSubTypes(e))this.entries.add(r,t)}getChecks(e,t){let r=$i(this.entries.get(e)).concat(this.entries.get("AstNode"));return t&&(r=r.filter(i=>t.includes(i.category))),r.map(i=>i.check)}registerBeforeDocument(e,t=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",t))}registerAfterDocument(e,t=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",t))}wrapPreparationException(e,t,r){return async(i,n,a,s)=>{await this.handleException(()=>e.call(r,i,n,a,s),t,n,i)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}});function Tz(e){if(e.range)return e.range;let t;return typeof e.property=="string"?t=Kk(e.node.$cstNode,e.property,e.index):typeof e.keyword=="string"&&(t=JB(e.node.$cstNode,e.keyword,e.index)),t??(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function Kb(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}function Ez(e){switch(e){case"error":return Q0($s.LexingError);case"warning":return Q0($s.LexingWarning);case"info":return Q0($s.LexingInfo);case"hint":return Q0($s.LexingHint);default:throw new Error("Invalid diagnostic severity: "+e)}}var Cz,$s,SAe=D(()=>{"use strict";Lo(),bl(),Ha(),ml(),No(),KT(),Cz=class{static{l(this,"DefaultDocumentValidator")}constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,t={},r=ii.CancellationToken.None){let i=e.parseResult,n=[];if(await sa(r),(!t.categories||t.categories.includes("built-in"))&&(this.processLexingErrors(i,n,t),t.stopAfterLexingErrors&&n.some(a=>{var s;return((s=a.data)===null||s===void 0?void 0:s.code)===$s.LexingError})||(this.processParsingErrors(i,n,t),t.stopAfterParsingErrors&&n.some(a=>{var s;return((s=a.data)===null||s===void 0?void 0:s.code)===$s.ParsingError}))||(this.processLinkingErrors(e,n,t),t.stopAfterLinkingErrors&&n.some(a=>{var s;return((s=a.data)===null||s===void 0?void 0:s.code)===$s.LinkingError}))))return n;try{n.push(...await this.validateAst(i.value,t,r))}catch(a){if(K0(a))throw a;console.error("An error occurred during validation:",a)}return await sa(r),n}processLexingErrors(e,t,r){var i,n,a;let s=[...e.lexerErrors,...(n=(i=e.lexerReport)===null||i===void 0?void 0:i.diagnostics)!==null&&n!==void 0?n:[]];for(let o of s){let u=(a=o.severity)!==null&&a!==void 0?a:"error",h={severity:Kb(u),range:{start:{line:o.line-1,character:o.column-1},end:{line:o.line-1,character:o.column+o.length-1}},message:o.message,data:Ez(u),source:this.getSource()};t.push(h)}}processParsingErrors(e,t,r){for(let i of e.parserErrors){let n;if(isNaN(i.token.startOffset)){if("previousToken"in i){let a=i.previousToken;if(isNaN(a.startOffset)){let s={line:0,character:0};n={start:s,end:s}}else{let s={line:a.endLine-1,character:a.endColumn};n={start:s,end:s}}}}else n=Hv(i.token);if(n){let a={severity:Kb("error"),range:n,message:i.message,data:Q0($s.ParsingError),source:this.getSource()};t.push(a)}}}processLinkingErrors(e,t,r){for(let i of e.references){let n=i.error;if(n){let a={node:n.container,property:n.property,index:n.index,data:{code:$s.LinkingError,containerType:n.container.$type,property:n.property,refText:n.reference.$refText}};t.push(this.toDiagnostic("error",n.message,a))}}}async validateAst(e,t,r=ii.CancellationToken.None){let i=[],n=l((a,s,o)=>{i.push(this.toDiagnostic(a,s,o))},"acceptor");return await this.validateAstBefore(e,t,n,r),await this.validateAstNodes(e,t,n,r),await this.validateAstAfter(e,t,n,r),i}async validateAstBefore(e,t,r,i=ii.CancellationToken.None){var n;let a=this.validationRegistry.checksBefore;for(let s of a)await sa(i),await s(e,r,(n=t.categories)!==null&&n!==void 0?n:[],i)}async validateAstNodes(e,t,r,i=ii.CancellationToken.None){await Promise.all(Bc(e).map(async n=>{await sa(i);let a=this.validationRegistry.getChecks(n.$type,t.categories);for(let s of a)await s(n,r,i)}))}async validateAstAfter(e,t,r,i=ii.CancellationToken.None){var n;let a=this.validationRegistry.checksAfter;for(let s of a)await sa(i),await s(e,r,(n=t.categories)!==null&&n!==void 0?n:[],i)}toDiagnostic(e,t,r){return{message:t,range:Tz(r),severity:Kb(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}},l(Tz,"getDiagnosticRange"),l(Kb,"toDiagnosticSeverity"),l(Ez,"toDiagnosticData"),function(e){e.LexingError="lexing-error",e.LexingWarning="lexing-warning",e.LexingInfo="lexing-info",e.LexingHint="lexing-hint",e.ParsingError="parsing-error",e.LinkingError="linking-error"}($s||($s={}))}),Sz,_z,_Ae=D(()=>{"use strict";Lo(),gl(),Ha(),ml(),No(),qc(),Sz=class{static{l(this,"DefaultAstNodeDescriptionProvider")}constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,t,r){let i=r??So(e);t??(t=this.nameProvider.getName(e));let n=this.astNodeLocator.getAstNodePath(e);if(!t)throw new Error(`Node at path ${n} has no name.`);let a,s=l(()=>{var o;return a??(a=B1((o=this.nameProvider.getNameNode(e))!==null&&o!==void 0?o:e.$cstNode))},"nameSegmentGetter");return{node:e,name:t,get nameSegment(){return s()},selectionSegment:B1(e.$cstNode),type:e.$type,documentUri:i.uri,path:n}}},_z=class{static{l(this,"DefaultReferenceDescriptionProvider")}constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,t=ii.CancellationToken.None){let r=[],i=e.parseResult.value;for(let n of Bc(i))await sa(t),Qv(n).filter(a=>!O1(a)).forEach(a=>{let s=this.createDescription(a);s&&r.push(s)});return r}createDescription(e){let t=e.reference.$nodeDescription,r=e.reference.$refNode;if(!t||!r)return;let i=So(e.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:t.documentUri,targetPath:t.path,segment:B1(r),local:Cl.equals(t.documentUri,i)}}}}),Az,AAe=D(()=>{"use strict";Az=class{static{l(this,"DefaultAstNodeLocator")}constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){let t=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return t+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:e,$containerIndex:t}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return t!==void 0?e+this.indexSeparator+t:e}getAstNode(e,t){return t.split(this.segmentSeparator).reduce((r,i)=>{if(!r||i.length===0)return r;let n=i.indexOf(this.indexSeparator);if(n>0){let a=i.substring(0,n),s=parseInt(i.substring(n+1));return r[a]?.[s]}return r[i]},e)}}}),ZT={},Lz=D(()=>{"use strict";Zx(ZT,zn(gAe(),1))}),Nz,LAe=D(()=>{"use strict";Lz(),No(),Nz=class{static{l(this,"DefaultConfigurationProvider")}constructor(e){this._ready=new Tl,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new ZT.Emitter,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var t,r;this.workspaceConfig=(r=(t=e.capabilities.workspace)===null||t===void 0?void 0:t.configuration)!==null&&r!==void 0?r:!1}async initialized(e){if(this.workspaceConfig){if(e.register){let t=this.serviceRegistry.all;e.register({section:t.map(r=>this.toSectionName(r.LanguageMetaData.languageId))})}if(e.fetchConfiguration){let t=this.serviceRegistry.all.map(i=>({section:this.toSectionName(i.LanguageMetaData.languageId)})),r=await e.fetchConfiguration(t);t.forEach((i,n)=>{this.updateSectionConfiguration(i.section,r[n])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(t=>{let r=e.settings[t];this.updateSectionConfiguration(t,r),this.onConfigurationSectionUpdateEmitter.fire({section:t,configuration:r})})}updateSectionConfiguration(e,t){this.settings[e]=t}async getConfiguration(e,t){await this.ready;let r=this.toSectionName(e);if(this.settings[r])return this.settings[r][t]}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}}),J0,NAe=D(()=>{"use strict";(function(e){function t(r){return{dispose:l(async()=>await r(),"dispose")}}l(t,"create"),e.create=t})(J0||(J0={}))}),Mz,MAe=D(()=>{"use strict";Lo(),NAe(),Vb(),No(),us(),KT(),jb(),Mz=class{static{l(this,"DefaultDocumentBuilder")}constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new Z0,this.documentPhaseListeners=new Z0,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=li.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,t={},r=ii.CancellationToken.None){var i,n;for(let a of e){let s=a.uri.toString();if(a.state===li.Validated){if(typeof t.validation=="boolean"&&t.validation)a.state=li.IndexedReferences,a.diagnostics=void 0,this.buildState.delete(s);else if(typeof t.validation=="object"){let o=this.buildState.get(s),u=(i=o?.result)===null||i===void 0?void 0:i.validationChecks;if(u){let h=((n=t.validation.categories)!==null&&n!==void 0?n:Xb.all).filter(d=>!u.includes(d));h.length>0&&(this.buildState.set(s,{completed:!1,options:{validation:Object.assign(Object.assign({},t.validation),{categories:h})},result:o.result}),a.state=li.IndexedReferences)}}}else this.buildState.delete(s)}this.currentState=li.Changed,await this.emitUpdate(e.map(a=>a.uri),[]),await this.buildDocuments(e,t,r)}async update(e,t,r=ii.CancellationToken.None){this.currentState=li.Changed;for(let a of t)this.langiumDocuments.deleteDocument(a),this.buildState.delete(a.toString()),this.indexManager.remove(a);for(let a of e){if(!this.langiumDocuments.invalidateDocument(a)){let s=this.langiumDocumentFactory.fromModel({$type:"INVALID"},a);s.state=li.Changed,this.langiumDocuments.addDocument(s)}this.buildState.delete(a.toString())}let i=$i(e).concat(t).map(a=>a.toString()).toSet();this.langiumDocuments.all.filter(a=>!i.has(a.uri.toString())&&this.shouldRelink(a,i)).forEach(a=>{this.serviceRegistry.getServices(a.uri).references.Linker.unlink(a),a.state=Math.min(a.state,li.ComputedScopes),a.diagnostics=void 0}),await this.emitUpdate(e,t),await sa(r);let n=this.sortDocuments(this.langiumDocuments.all.filter(a=>{var s;return a.state<li.Linked||!(!((s=this.buildState.get(a.uri.toString()))===null||s===void 0)&&s.completed)}).toArray());await this.buildDocuments(n,this.updateBuildOptions,r)}async emitUpdate(e,t){await Promise.all(this.updateListeners.map(r=>r(e,t)))}sortDocuments(e){let t=0,r=e.length-1;for(;t<r;){for(;t<e.length&&this.hasTextDocument(e[t]);)t++;for(;r>=0&&!this.hasTextDocument(e[r]);)r--;t<r&&([e[t],e[r]]=[e[r],e[t]])}return e}hasTextDocument(e){var t;return!!(!((t=this.textDocuments)===null||t===void 0)&&t.get(e.uri))}shouldRelink(e,t){return e.references.some(r=>r.error!==void 0)?!0:this.indexManager.isAffected(e,t)}onUpdate(e){return this.updateListeners.push(e),J0.create(()=>{let t=this.updateListeners.indexOf(e);t>=0&&this.updateListeners.splice(t,1)})}async buildDocuments(e,t,r){this.prepareBuild(e,t),await this.runCancelable(e,li.Parsed,r,n=>this.langiumDocumentFactory.update(n,r)),await this.runCancelable(e,li.IndexedContent,r,n=>this.indexManager.updateContent(n,r)),await this.runCancelable(e,li.ComputedScopes,r,async n=>{let a=this.serviceRegistry.getServices(n.uri).references.ScopeComputation;n.precomputedScopes=await a.computeLocalScopes(n,r)}),await this.runCancelable(e,li.Linked,r,n=>this.serviceRegistry.getServices(n.uri).references.Linker.link(n,r)),await this.runCancelable(e,li.IndexedReferences,r,n=>this.indexManager.updateReferences(n,r));let i=e.filter(n=>this.shouldValidate(n));await this.runCancelable(i,li.Validated,r,n=>this.validate(n,r));for(let n of e){let a=this.buildState.get(n.uri.toString());a&&(a.completed=!0)}}prepareBuild(e,t){for(let r of e){let i=r.uri.toString(),n=this.buildState.get(i);(!n||n.completed)&&this.buildState.set(i,{completed:!1,options:t,result:n?.result})}}async runCancelable(e,t,r,i){let n=e.filter(s=>s.state<t);for(let s of n)await sa(r),await i(s),s.state=t,await this.notifyDocumentPhase(s,t,r);let a=e.filter(s=>s.state===t);await this.notifyBuildPhase(a,t,r),this.currentState=t}onBuildPhase(e,t){return this.buildPhaseListeners.add(e,t),J0.create(()=>{this.buildPhaseListeners.delete(e,t)})}onDocumentPhase(e,t){return this.documentPhaseListeners.add(e,t),J0.create(()=>{this.documentPhaseListeners.delete(e,t)})}waitUntil(e,t,r){let i;if(t&&"path"in t?i=t:r=t,r??(r=ii.CancellationToken.None),i){let n=this.langiumDocuments.getDocument(i);if(n&&n.state>e)return Promise.resolve(i)}return this.currentState>=e?Promise.resolve(void 0):r.isCancellationRequested?Promise.reject(Uc):new Promise((n,a)=>{let s=this.onBuildPhase(e,()=>{if(s.dispose(),o.dispose(),i){let u=this.langiumDocuments.getDocument(i);n(u?.uri)}else n(void 0)}),o=r.onCancellationRequested(()=>{s.dispose(),o.dispose(),a(Uc)})})}async notifyDocumentPhase(e,t,r){let i=this.documentPhaseListeners.get(t).slice();for(let n of i)try{await n(e,r)}catch(a){if(!K0(a))throw a}}async notifyBuildPhase(e,t,r){if(e.length===0)return;let i=this.buildPhaseListeners.get(t).slice();for(let n of i)await sa(r),await n(e,r)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,t){var r,i;let n=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,a=this.getBuildOptions(e).validation,s=typeof a=="object"?a:void 0,o=await n.validateDocument(e,s,t);e.diagnostics?e.diagnostics.push(...o):e.diagnostics=o;let u=this.buildState.get(e.uri.toString());if(u){(r=u.result)!==null&&r!==void 0||(u.result={});let h=(i=s?.categories)!==null&&i!==void 0?i:Xb.all;u.result.validationChecks?u.result.validationChecks.push(...h):u.result.validationChecks=[...h]}}getBuildOptions(e){var t,r;return(r=(t=this.buildState.get(e.uri.toString()))===null||t===void 0?void 0:t.options)!==null&&r!==void 0?r:{}}}}),Iz,IAe=D(()=>{"use strict";Ha(),fz(),Lo(),us(),qc(),Iz=class{static{l(this,"DefaultIndexManager")}constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new Wb,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,t){let r=So(e).uri,i=[];return this.referenceIndex.forEach(n=>{n.forEach(a=>{Cl.equals(a.targetUri,r)&&a.targetPath===t&&i.push(a)})}),$i(i)}allElements(e,t){let r=$i(this.symbolIndex.keys());return t&&(r=r.filter(i=>!t||t.has(i))),r.map(i=>this.getFileDescriptions(i,e)).flat()}getFileDescriptions(e,t){var r;return t?this.symbolByTypeIndex.get(e,t,()=>{var i;return((i=this.symbolIndex.get(e))!==null&&i!==void 0?i:[]).filter(n=>this.astReflection.isSubtype(n.type,t))}):(r=this.symbolIndex.get(e))!==null&&r!==void 0?r:[]}remove(e){let t=e.toString();this.symbolIndex.delete(t),this.symbolByTypeIndex.clear(t),this.referenceIndex.delete(t)}async updateContent(e,t=ii.CancellationToken.None){let r=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,t),i=e.uri.toString();this.symbolIndex.set(i,r),this.symbolByTypeIndex.clear(i)}async updateReferences(e,t=ii.CancellationToken.None){let r=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,t);this.referenceIndex.set(e.uri.toString(),r)}isAffected(e,t){let r=this.referenceIndex.get(e.uri.toString());return r?r.some(i=>!i.local&&t.has(i.targetUri.toString())):!1}}}),Dz,DAe=D(()=>{"use strict";Lo(),No(),qc(),Dz=class{static{l(this,"DefaultWorkspaceManager")}constructor(e){this.initialBuildOptions={},this._ready=new Tl,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){var t;this.folders=(t=e.workspaceFolders)!==null&&t!==void 0?t:void 0}initialized(e){return this.mutex.write(t=>{var r;return this.initializeWorkspace((r=this.folders)!==null&&r!==void 0?r:[],t)})}async initializeWorkspace(e,t=ii.CancellationToken.None){let r=await this.performStartup(e);await sa(t),await this.documentBuilder.build(r,this.initialBuildOptions,t)}async performStartup(e){let t=this.serviceRegistry.all.flatMap(n=>n.LanguageMetaData.fileExtensions),r=[],i=l(n=>{r.push(n),this.langiumDocuments.hasDocument(n.uri)||this.langiumDocuments.addDocument(n)},"collector");return await this.loadAdditionalDocuments(e,i),await Promise.all(e.map(n=>[n,this.getRootFolder(n)]).map(async n=>this.traverseFolder(...n,t,i))),this._ready.resolve(),r}loadAdditionalDocuments(e,t){return Promise.resolve()}getRootFolder(e){return El.parse(e.uri)}async traverseFolder(e,t,r,i){let n=await this.fileSystemProvider.readDirectory(t);await Promise.all(n.map(async a=>{if(this.includeEntry(e,a,r)){if(a.isDirectory)await this.traverseFolder(e,a.uri,r,i);else if(a.isFile){let s=await this.langiumDocuments.getOrCreateDocument(a.uri);i(s)}}}))}includeEntry(e,t,r){let i=Cl.basename(t.uri);if(i.startsWith("."))return!1;if(t.isDirectory)return i!=="node_modules"&&i!=="out";if(t.isFile){let n=Cl.extname(t.uri);return r.includes(n)}return!1}}});function QT(e){return Array.isArray(e)&&(e.length===0||"name"in e[0])}function JT(e){return e&&"modes"in e&&"defaultMode"in e}function e7(e){return!QT(e)&&!JT(e)}var Rz,t7,r7,Oz=D(()=>{"use strict";Y0(),Rz=class{static{l(this,"DefaultLexerErrorMessageProvider")}buildUnexpectedCharactersMessage(e,t,r,i,n){return lT.buildUnexpectedCharactersMessage(e,t,r,i,n)}buildUnableToPopLexerModeMessage(e){return lT.buildUnableToPopLexerModeMessage(e)}},t7={mode:"full"},r7=class{static{l(this,"DefaultLexer")}constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;let t=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(t);let r=e7(t)?Object.values(t):t,i=e.LanguageMetaData.mode==="production";this.chevrotainLexer=new aa(r,{positionTracking:"full",skipValidations:i,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,t=t7){var r,i,n;let a=this.chevrotainLexer.tokenize(e);return{tokens:a.tokens,errors:a.errors,hidden:(r=a.groups.hidden)!==null&&r!==void 0?r:[],report:(n=(i=this.tokenBuilder).flushLexingReport)===null||n===void 0?void 0:n.call(i,e)}}toTokenTypeDictionary(e){if(e7(e))return e;let t=JT(e)?Object.values(e.modes).flat():e,r={};return t.forEach(i=>r[i.name]=i),r}},l(QT,"isTokenTypeArray"),l(JT,"isIMultiModeLexerDefinition"),l(e7,"isTokenTypeDictionary")});function Pz(e,t,r){let i,n;typeof e=="string"?(n=t,i=r):(n=e.range.start,i=t),n||(n=Ur.create(0,0));let a=$z(e),s=n7(i),o=RAe({lines:a,position:n,options:s});return BAe({index:0,tokens:o,position:n})}function Bz(e,t){let r=n7(t),i=$z(e);if(i.length===0)return!1;let n=i[0],a=i[i.length-1],s=r.start,o=r.end;return!!s?.exec(n)&&!!o?.exec(a)}function $z(e){let t="";return typeof e=="string"?t=e:t=e.text,t.split(qB)}function RAe(e){var t,r,i;let n=[],a=e.position.line,s=e.position.character;for(let o=0;o<e.lines.length;o++){let u=o===0,h=o===e.lines.length-1,d=e.lines[o],p=0;if(u&&e.options.start){let g=(t=e.options.start)===null||t===void 0?void 0:t.exec(d);g&&(p=g.index+g[0].length)}else{let g=(r=e.options.line)===null||r===void 0?void 0:r.exec(d);g&&(p=g.index+g[0].length)}if(h){let g=(i=e.options.end)===null||i===void 0?void 0:i.exec(d);g&&(d=d.substring(0,g.index))}if(d=d.substring(0,PAe(d)),i7(d,p)>=d.length){if(n.length>0){let g=Ur.create(a,s);n.push({type:"break",content:"",range:_r.create(g,g)})}}else{qz.lastIndex=p;let g=qz.exec(d);if(g){let f=g[0],m=g[1],y=Ur.create(a,s+p),b=Ur.create(a,s+p+f.length);n.push({type:"tag",content:m,range:_r.create(y,b)}),p+=f.length,p=i7(d,p)}if(p<d.length){let f=d.substring(p),m=Array.from(f.matchAll(qAe));n.push(...OAe(m,f,a,s+p))}}a++,s=0}return n.length>0&&n[n.length-1].type==="break"?n.slice(0,-1):n}function OAe(e,t,r,i){let n=[];if(e.length===0){let a=Ur.create(r,i),s=Ur.create(r,i+t.length);n.push({type:"text",content:t,range:_r.create(a,s)})}else{let a=0;for(let o of e){let u=o.index,h=t.substring(a,u);h.length>0&&n.push({type:"text",content:t.substring(a,u),range:_r.create(Ur.create(r,a+i),Ur.create(r,u+i))});let d=h.length+1,p=o[1];if(n.push({type:"inline-tag",content:p,range:_r.create(Ur.create(r,a+d+i),Ur.create(r,a+d+p.length+i))}),d+=p.length,o.length===4){d+=o[2].length;let g=o[3];n.push({type:"text",content:g,range:_r.create(Ur.create(r,a+d+i),Ur.create(r,a+d+g.length+i))})}else n.push({type:"text",content:"",range:_r.create(Ur.create(r,a+d+i),Ur.create(r,a+d+i))});a=u+o[0].length}let s=t.substring(a);s.length>0&&n.push({type:"text",content:s,range:_r.create(Ur.create(r,a+i),Ur.create(r,a+i+s.length))})}return n}function i7(e,t){let r=e.substring(t).match(jAe);return r?t+r.index:e.length}function PAe(e){let t=e.match(HAe);if(t&&typeof t.index=="number")return t.index}function BAe(e){var t,r,i,n;let a=Ur.create(e.position.line,e.position.character);if(e.tokens.length===0)return new jz([],_r.create(a,a));let s=[];for(;e.index<e.tokens.length;){let h=$Ae(e,s[s.length-1]);h&&s.push(h)}let o=(r=(t=s[0])===null||t===void 0?void 0:t.range.start)!==null&&r!==void 0?r:a,u=(n=(i=s[s.length-1])===null||i===void 0?void 0:i.range.end)!==null&&n!==void 0?n:a;return new jz(s,_r.create(o,u))}function $Ae(e,t){let r=e.tokens[e.index];if(r.type==="tag")return zz(e,!1);if(r.type==="text"||r.type==="inline-tag")return Fz(e);FAe(r,t),e.index++}function FAe(e,t){if(t){let r=new Hz("",e.range);"inlines"in t?t.inlines.push(r):t.content.inlines.push(r)}}function Fz(e){let t=e.tokens[e.index],r=t,i=t,n=[];for(;t&&t.type!=="break"&&t.type!=="tag";)n.push(zAe(e)),i=t,t=e.tokens[e.index];return new o7(n,_r.create(r.range.start,i.range.end))}function zAe(e){return e.tokens[e.index].type==="inline-tag"?zz(e,!0):Gz(e)}function zz(e,t){let r=e.tokens[e.index++],i=r.content.substring(1);if(e.tokens[e.index]?.type==="text")if(t){let a=Gz(e);return new s7(i,new o7([a],a.range),t,_r.create(r.range.start,a.range.end))}else{let a=Fz(e);return new s7(i,a,t,_r.create(r.range.start,a.range.end))}else{let a=r.range;return new s7(i,new o7([],a),t,a)}}function Gz(e){let t=e.tokens[e.index++];return new Hz(t.content,t.range)}function n7(e){if(!e)return n7({start:"/**",end:"*/",line:"*"});let{start:t,end:r,line:i}=e;return{start:a7(t,!0),end:a7(r,!1),line:a7(i,!0)}}function a7(e,t){if(typeof e=="string"||typeof e=="object"){let r=typeof e=="string"?V1(e):e.source;return t?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return e}function GAe(e,t,r){var i,n;if(e==="linkplain"||e==="linkcode"||e==="link"){let a=t.indexOf(" "),s=t;if(a>0){let o=i7(t,a);s=t.substring(o),t=t.substring(0,a)}return(e==="linkcode"||e==="link"&&r.link==="code")&&(s=`\`${s}\``),(n=(i=r.renderLink)===null||i===void 0?void 0:i.call(r,t,s))!==null&&n!==void 0?n:UAe(t,s)}}function UAe(e,t){try{return El.parse(e,!0),`[${t}](${e})`}catch{return e}}function Uz(e){return e.endsWith(`
`)?`
`:`

`}var qz,qAe,jAe,HAe,jz,s7,o7,Hz,VAe=D(()=>{"use strict";Z_e(),ab(),qc(),l(Pz,"parseJSDoc"),l(Bz,"isJSDoc"),l($z,"getLines"),qz=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,qAe=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu,l(RAe,"tokenize"),l(OAe,"buildInlineTokens"),jAe=/\S/,HAe=/\s*$/,l(i7,"skipWhitespace"),l(PAe,"lastCharacter"),l(BAe,"parseJSDocComment"),l($Ae,"parseJSDocElement"),l(FAe,"appendEmptyLine"),l(Fz,"parseJSDocText"),l(zAe,"parseJSDocInline"),l(zz,"parseJSDocTag"),l(Gz,"parseJSDocLine"),l(n7,"normalizeOptions"),l(a7,"normalizeOption"),jz=class{static{l(this,"JSDocCommentImpl")}constructor(e,t){this.elements=e,this.range=t}getTag(e){return this.getAllTags().find(t=>t.name===e)}getTags(e){return this.getAllTags().filter(t=>t.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(let t of this.elements)if(e.length===0)e=t.toString();else{let r=t.toString();e+=Uz(e)+r}return e.trim()}toMarkdown(e){let t="";for(let r of this.elements)if(t.length===0)t=r.toMarkdown(e);else{let i=r.toMarkdown(e);t+=Uz(t)+i}return t.trim()}},s7=class{static{l(this,"JSDocTagImpl")}constructor(e,t,r,i){this.name=e,this.content=t,this.inline=r,this.range=i}toString(){let e=`@${this.name}`,t=this.content.toString();return this.content.inlines.length===1?e=`${e} ${t}`:this.content.inlines.length>1&&(e=`${e}
${t}`),this.inline?`{${e}}`:e}toMarkdown(e){var t,r;return(r=(t=e?.renderTag)===null||t===void 0?void 0:t.call(e,this))!==null&&r!==void 0?r:this.toMarkdownDefault(e)}toMarkdownDefault(e){let t=this.content.toMarkdown(e);if(this.inline){let n=GAe(this.name,t,e??{});if(typeof n=="string")return n}let r="";e?.tag==="italic"||e?.tag===void 0?r="*":e?.tag==="bold"?r="**":e?.tag==="bold-italic"&&(r="***");let i=`${r}@${this.name}${r}`;return this.content.inlines.length===1?i=`${i} \u2014 ${t}`:this.content.inlines.length>1&&(i=`${i}
${t}`),this.inline?`{${i}}`:i}},l(GAe,"renderInlineTag"),l(UAe,"renderLinkDefault"),o7=class{static{l(this,"JSDocTextImpl")}constructor(e,t){this.inlines=e,this.range=t}toString(){let e="";for(let t=0;t<this.inlines.length;t++){let r=this.inlines[t],i=this.inlines[t+1];e+=r.toString(),i&&i.range.start.line>r.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let t="";for(let r=0;r<this.inlines.length;r++){let i=this.inlines[r],n=this.inlines[r+1];t+=i.toMarkdown(e),n&&n.range.start.line>i.range.start.line&&(t+=`
`)}return t}},Hz=class{static{l(this,"JSDocLineImpl")}constructor(e,t){this.text=e,this.range=t}toString(){return this.text}toMarkdown(){return this.text}},l(Uz,"fillNewlines")}),Vz,YAe=D(()=>{"use strict";Ha(),VAe(),Vz=class{static{l(this,"JSDocDocumentationProvider")}constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){let t=this.commentProvider.getComment(e);if(t&&Bz(t))return Pz(t).toMarkdown({renderLink:l((r,i)=>this.documentationLinkRenderer(e,r,i),"renderLink"),renderTag:l(r=>this.documentationTagRenderer(e,r),"renderTag")})}documentationLinkRenderer(e,t,r){var i;let n=(i=this.findNameInPrecomputedScopes(e,t))!==null&&i!==void 0?i:this.findNameInGlobalScope(e,t);if(n&&n.nameSegment){let a=n.nameSegment.range.start.line+1,s=n.nameSegment.range.start.character+1,o=n.documentUri.with({fragment:`L${a},${s}`});return`[${r}](${o.toString()})`}else return}documentationTagRenderer(e,t){}findNameInPrecomputedScopes(e,t){let r=So(e).precomputedScopes;if(!r)return;let i=e;do{let n=r.get(i).find(a=>a.name===t);if(n)return n;i=i.$container}while(i)}findNameInGlobalScope(e,t){return this.indexManager.allElements().find(r=>r.name===t)}}}),Yz,WAe=D(()=>{"use strict";xz(),ml(),Yz=class{static{l(this,"DefaultCommentProvider")}constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var t;return yz(e)?e.$comment:(t=lB(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||t===void 0?void 0:t.text}}}),Wz,XAe,KAe,ZAe=D(()=>{"use strict";No(),Lz(),Wz=class{static{l(this,"DefaultAsyncParser")}constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,t){return Promise.resolve(this.syncParser.parse(e))}},XAe=class{static{l(this,"AbstractThreadedAsyncParser")}constructor(e){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=e.serializer.Hydrator}initializeWorkers(){for(;this.workerPool.length<this.threadCount;){let e=this.createWorker();e.onReady(()=>{if(this.queue.length>0){let t=this.queue.shift();t&&(e.lock(),t.resolve(e))}}),this.workerPool.push(e)}}async parse(e,t){let r=await this.acquireParserWorker(t),i=new Tl,n,a=t.onCancellationRequested(()=>{n=setTimeout(()=>{this.terminateWorker(r)},this.terminationDelay)});return r.parse(e).then(s=>{let o=this.hydrator.hydrate(s);i.resolve(o)}).catch(s=>{i.reject(s)}).finally(()=>{a.dispose(),clearTimeout(n)}),i.promise}terminateWorker(e){e.terminate();let t=this.workerPool.indexOf(e);t>=0&&this.workerPool.splice(t,1)}async acquireParserWorker(e){this.initializeWorkers();for(let r of this.workerPool)if(r.ready)return r.lock(),r;let t=new Tl;return e.onCancellationRequested(()=>{let r=this.queue.indexOf(t);r>=0&&this.queue.splice(r,1),t.reject(Uc)}),this.queue.push(t),t.promise}},KAe=class{static{l(this,"ParserWorker")}get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(e,t,r,i){this.onReadyEmitter=new ZT.Emitter,this.deferred=new Tl,this._ready=!0,this._parsing=!1,this.sendMessage=e,this._terminate=i,t(n=>{let a=n;this.deferred.resolve(a),this.unlock()}),r(n=>{this.deferred.reject(n),this.unlock()})}terminate(){this.deferred.reject(Uc),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(e){if(this._parsing)throw new Error("Parser worker is busy");return this._parsing=!0,this.deferred=new Tl,this.sendMessage(e),this.deferred.promise}}}),Xz,QAe=D(()=>{"use strict";Lo(),No(),Xz=class{static{l(this,"DefaultWorkspaceLock")}constructor(){this.previousTokenSource=new ii.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();let t=qT();return this.previousTokenSource=t,this.enqueue(this.writeQueue,e,t.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,t,r=ii.CancellationToken.None){let i=new Tl,n={action:t,deferred:i,cancellationToken:r};return e.push(n),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;let e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else if(this.readQueue.length>0)e.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(e.map(async({action:t,deferred:r,cancellationToken:i})=>{try{let n=await Promise.resolve().then(()=>t(i));r.resolve(n)}catch(n){K0(n)?r.resolve(void 0):r.reject(n)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}}),Kz,JAe=D(()=>{"use strict";zF(),Pc(),gl(),Ha(),Vb(),ml(),Kz=class{static{l(this,"DefaultHydrator")}constructor(e){this.grammarElementIdMap=new Hb,this.tokenTypeIdMap=new Hb,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map(t=>Object.assign(Object.assign({},t),{message:t.message})),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){let t=new Map,r=new Map;for(let i of Bc(e))t.set(i,{});if(e.$cstNode)for(let i of P1(e.$cstNode))r.set(i,{});return{astNodes:t,cstNodes:r}}dehydrateAstNode(e,t){let r=t.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,t));for(let[i,n]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(n)){let a=[];r[i]=a;for(let s of n)Ji(s)?a.push(this.dehydrateAstNode(s,t)):qa(s)?a.push(this.dehydrateReference(s,t)):a.push(s)}else Ji(n)?r[i]=this.dehydrateAstNode(n,t):qa(n)?r[i]=this.dehydrateReference(n,t):n!==void 0&&(r[i]=n);return r}dehydrateReference(e,t){let r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=t.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,t){let r=t.cstNodes.get(e);return Mk(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=t.astNodes.get(e.astNode),Ic(e)?r.content=e.content.map(i=>this.dehydrateCstNode(i,t)):e0(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){let t=e.value,r=this.createHydrationContext(t);return"$cstNode"in t&&this.hydrateCstNode(t.$cstNode,r),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(t,r)}}createHydrationContext(e){let t=new Map,r=new Map;for(let n of Bc(e))t.set(n,{});let i;if(e.$cstNode)for(let n of P1(e.$cstNode)){let a;"fullText"in n?(a=new RT(n.fullText),i=a):"content"in n?a=new Fb:"tokenType"in n&&(a=this.hydrateCstLeafNode(n)),a&&(r.set(n,a),a.root=i)}return{astNodes:t,cstNodes:r}}hydrateAstNode(e,t){let r=t.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=t.cstNodes.get(e.$cstNode));for(let[i,n]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(n)){let a=[];r[i]=a;for(let s of n)Ji(s)?a.push(this.setParent(this.hydrateAstNode(s,t),r)):qa(s)?a.push(this.hydrateReference(s,r,i,t)):a.push(s)}else Ji(n)?r[i]=this.setParent(this.hydrateAstNode(n,t),r):qa(n)?r[i]=this.hydrateReference(n,r,i,t):n!==void 0&&(r[i]=n);return r}setParent(e,t){return e.$container=t,e}hydrateReference(e,t,r,i){return this.linker.buildReference(t,r,i.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,t,r=0){let i=t.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(i.grammarSource=this.getGrammarElement(e.grammarSource)),i.astNode=t.astNodes.get(e.astNode),Ic(i))for(let n of e.content){let a=this.hydrateCstNode(n,t,r++);i.content.push(a)}return i}hydrateCstLeafNode(e){let t=this.getTokenType(e.tokenType),r=e.offset,i=e.length,n=e.startLine,a=e.startColumn,s=e.endLine,o=e.endColumn,u=e.hidden;return new $b(r,i,{start:{line:n,character:a},end:{line:s,character:o}},t,u)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(let t of Bc(this.grammar))Pk(t)&&this.grammarElementIdMap.set(t,e++)}}});function Sl(e){return{documentation:{CommentProvider:l(t=>new Yz(t),"CommentProvider"),DocumentationProvider:l(t=>new Vz(t),"DocumentationProvider")},parser:{AsyncParser:l(t=>new Wz(t),"AsyncParser"),GrammarConfig:l(t=>s$(t),"GrammarConfig"),LangiumParser:l(t=>ZF(t),"LangiumParser"),CompletionParser:l(t=>KF(t),"CompletionParser"),ValueConverter:l(()=>new GT,"ValueConverter"),TokenBuilder:l(()=>new Ub,"TokenBuilder"),Lexer:l(t=>new r7(t),"Lexer"),ParserErrorMessageProvider:l(()=>new BT,"ParserErrorMessageProvider"),LexerErrorMessageProvider:l(()=>new Rz,"LexerErrorMessageProvider")},workspace:{AstNodeLocator:l(()=>new Az,"AstNodeLocator"),AstNodeDescriptionProvider:l(t=>new Sz(t),"AstNodeDescriptionProvider"),ReferenceDescriptionProvider:l(t=>new _z(t),"ReferenceDescriptionProvider")},references:{Linker:l(t=>new lz(t),"Linker"),NameProvider:l(()=>new uz,"NameProvider"),ScopeProvider:l(t=>new mz(t),"ScopeProvider"),ScopeComputation:l(t=>new dz(t),"ScopeComputation"),References:l(t=>new hz(t),"References")},serializer:{Hydrator:l(t=>new Kz(t),"Hydrator"),JsonSerializer:l(t=>new bz(t),"JsonSerializer")},validation:{DocumentValidator:l(t=>new Cz(t),"DocumentValidator"),ValidationRegistry:l(t=>new kz(t),"ValidationRegistry")},shared:l(()=>e.shared,"shared")}}function _l(e){return{ServiceRegistry:l(t=>new wz(t),"ServiceRegistry"),workspace:{LangiumDocuments:l(t=>new oz(t),"LangiumDocuments"),LangiumDocumentFactory:l(t=>new sz(t),"LangiumDocumentFactory"),DocumentBuilder:l(t=>new Mz(t),"DocumentBuilder"),IndexManager:l(t=>new Iz(t),"IndexManager"),WorkspaceManager:l(t=>new Dz(t),"WorkspaceManager"),FileSystemProvider:l(t=>e.fileSystemProvider(t),"FileSystemProvider"),WorkspaceLock:l(()=>new Xz,"WorkspaceLock"),ConfigurationProvider:l(t=>new Nz(t),"ConfigurationProvider")}}}var e9e=D(()=>{"use strict";J8e(),uAe(),hAe(),JF(),dAe(),vAe(),bAe(),xAe(),wAe(),EAe(),xz(),CAe(),SAe(),KT(),_Ae(),AAe(),LAe(),MAe(),jb(),IAe(),DAe(),Oz(),YAe(),WAe(),$T(),ZAe(),QAe(),JAe(),l(Sl,"createDefaultCoreModule"),l(_l,"createDefaultSharedCoreModule")});function kn(e,t,r,i,n,a,s,o,u){let h=[e,t,r,i,n,a,s,o,u].reduce(Zb,{});return Qz(h)}function Zz(e){if(e&&e[tG])for(let t of Object.values(e))Zz(t);return e}function Qz(e,t){let r=new Proxy({},{deleteProperty:l(()=>!1,"deleteProperty"),set:l(()=>{throw new Error("Cannot set property on injected service container")},"set"),get:l((i,n)=>n===tG?!0:Jz(i,n,e,t||r),"get"),getOwnPropertyDescriptor:l((i,n)=>(Jz(i,n,e,t||r),Object.getOwnPropertyDescriptor(i,n)),"getOwnPropertyDescriptor"),has:l((i,n)=>n in e,"has"),ownKeys:l(()=>[...Object.getOwnPropertyNames(e)],"ownKeys")});return r}function Jz(e,t,r,i){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===rG)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return e[t]}else if(t in r){let n=r[t];e[t]=rG;try{e[t]=typeof n=="function"?n(i):Qz(n,i)}catch(a){throw e[t]=a instanceof Error?a:void 0,a}return e[t]}else return}function Zb(e,t){if(t){for(let[r,i]of Object.entries(t))if(i!==void 0){let n=e[r];n!==null&&i!==null&&typeof n=="object"&&typeof i=="object"?e[r]=Zb(n,i):e[r]=i}}return e}var eG,tG,rG,t9e=D(()=>{"use strict";(function(e){e.merge=(t,r)=>Zb(Zb({},t),r)})(eG||(eG={})),l(kn,"inject"),tG=Symbol("isProxy"),l(Zz,"eagerLoad"),l(Qz,"_inject"),rG=Symbol(),l(Jz,"_resolve"),l(Zb,"_merge")}),qQe=D(()=>{"use strict"}),jQe=D(()=>{"use strict";WAe(),YAe(),VAe()}),HQe=D(()=>{"use strict"}),VQe=D(()=>{"use strict";J8e(),HQe()}),l7,ep,iG,r9e,YQe=D(()=>{"use strict";Y0(),JF(),Oz(),l7={indentTokenName:"INDENT",dedentTokenName:"DEDENT",whitespaceTokenName:"WS",ignoreIndentationDelimiters:[]},function(e){e.REGULAR="indentation-sensitive",e.IGNORE_INDENTATION="ignore-indentation"}(ep||(ep={})),iG=class extends Ub{static{l(this,"IndentationAwareTokenBuilder")}constructor(e=l7){super(),this.indentationStack=[0],this.whitespaceRegExp=/[ \t]+/y,this.options=Object.assign(Object.assign({},l7),e),this.indentTokenType=tf({name:this.options.indentTokenName,pattern:this.indentMatcher.bind(this),line_breaks:!1}),this.dedentTokenType=tf({name:this.options.dedentTokenName,pattern:this.dedentMatcher.bind(this),line_breaks:!1})}buildTokens(e,t){let r=super.buildTokens(e,t);if(!QT(r))throw new Error("Invalid tokens built by default builder");let{indentTokenName:i,dedentTokenName:n,whitespaceTokenName:a,ignoreIndentationDelimiters:s}=this.options,o,u,h,d=[];for(let p of r){for(let[g,f]of s)p.name===g?p.PUSH_MODE=ep.IGNORE_INDENTATION:p.name===f&&(p.POP_MODE=!0);p.name===n?o=p:p.name===i?u=p:p.name===a?h=p:d.push(p)}if(!o||!u||!h)throw new Error("Some indentation/whitespace tokens not found!");return s.length>0?{modes:{[ep.REGULAR]:[o,u,...d,h],[ep.IGNORE_INDENTATION]:[...d,h]},defaultMode:ep.REGULAR}:[o,u,h,...d]}flushLexingReport(e){let t=super.flushLexingReport(e);return Object.assign(Object.assign({},t),{remainingDedents:this.flushRemainingDedents(e)})}isStartOfLine(e,t){return t===0||`\r
`.includes(e[t-1])}matchWhitespace(e,t,r,i){var n;this.whitespaceRegExp.lastIndex=t;let a=this.whitespaceRegExp.exec(e);return{currIndentLevel:(n=a?.[0].length)!==null&&n!==void 0?n:0,prevIndentLevel:this.indentationStack.at(-1),match:a}}createIndentationTokenInstance(e,t,r,i){let n=this.getLineNumber(t,i);return xb(e,r,i,i+r.length,n,n,1,r.length)}getLineNumber(e,t){return e.substring(0,t).split(/\r\n|\r|\n/).length}indentMatcher(e,t,r,i){if(!this.isStartOfLine(e,t))return null;let{currIndentLevel:n,prevIndentLevel:a,match:s}=this.matchWhitespace(e,t,r,i);return n<=a?null:(this.indentationStack.push(n),s)}dedentMatcher(e,t,r,i){var n,a,s,o;if(!this.isStartOfLine(e,t))return null;let{currIndentLevel:u,prevIndentLevel:h,match:d}=this.matchWhitespace(e,t,r,i);if(u>=h)return null;let p=this.indentationStack.lastIndexOf(u);if(p===-1)return this.diagnostics.push({severity:"error",message:`Invalid dedent level ${u} at offset: ${t}. Current indentation stack: ${this.indentationStack}`,offset:t,length:(a=(n=d?.[0])===null||n===void 0?void 0:n.length)!==null&&a!==void 0?a:0,line:this.getLineNumber(e,t),column:1}),null;let g=this.indentationStack.length-p-1,f=(o=(s=e.substring(0,t).match(/[\r\n]+$/))===null||s===void 0?void 0:s[0].length)!==null&&o!==void 0?o:1;for(let m=0;m<g;m++){let y=this.createIndentationTokenInstance(this.dedentTokenType,e,"",t-(f-1));r.push(y),this.indentationStack.pop()}return null}buildTerminalToken(e){let t=super.buildTerminalToken(e),{indentTokenName:r,dedentTokenName:i,whitespaceTokenName:n}=this.options;return t.name===r?this.indentTokenType:t.name===i?this.dedentTokenType:t.name===n?tf({name:n,pattern:this.whitespaceRegExp,group:aa.SKIPPED}):t}flushRemainingDedents(e){let t=[];for(;this.indentationStack.length>1;)t.push(this.createIndentationTokenInstance(this.dedentTokenType,e,"",e.length)),this.indentationStack.pop();return this.indentationStack=[0],t}},r9e=class extends r7{static{l(this,"IndentationAwareLexer")}constructor(e){if(super(e),e.parser.TokenBuilder instanceof iG)this.indentationTokenBuilder=e.parser.TokenBuilder;else throw new Error("IndentationAwareLexer requires an accompanying IndentationAwareTokenBuilder")}tokenize(e,t=t7){let r=super.tokenize(e),i=r.report;t?.mode==="full"&&r.tokens.push(...i.remainingDedents),i.remainingDedents=[];let{indentTokenType:n,dedentTokenType:a}=this.indentationTokenBuilder,s=n.tokenTypeIdx,o=a.tokenTypeIdx,u=[],h=r.tokens.length-1;for(let d=0;d<h;d++){let p=r.tokens[d],g=r.tokens[d+1];if(p.tokenTypeIdx===s&&g.tokenTypeIdx===o){d++;continue}u.push(p)}return h>=0&&u.push(r.tokens[h]),r.tokens=u,r}}}),WQe=D(()=>{"use strict"}),XQe=D(()=>{"use strict";ZAe(),uAe(),zF(),YQe(),hAe(),$T(),Oz(),XF(),WQe(),JF(),dAe()}),KQe=D(()=>{"use strict";vAe(),bAe(),xAe(),TAe(),wAe(),EAe()}),ZQe=D(()=>{"use strict";JAe(),xz()}),nG,Al,i9e=D(()=>{"use strict";nG=class{static{l(this,"EmptyFileSystemProvider")}readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}},Al={fileSystemProvider:l(()=>new nG,"fileSystemProvider")}});function n9e(){let e=kn(_l(Al),s9e),t=kn(Sl({shared:e}),a9e);return e.ServiceRegistry.register(t),t}function Ll(e){var t;let r=n9e(),i=r.serializer.JsonSerializer.deserialize(e);return r.shared.workspace.LangiumDocumentFactory.fromModel(i,El.parse(`memory://${(t=i.name)!==null&&t!==void 0?t:"grammar"}.langium`)),i}var a9e,s9e,QQe=D(()=>{"use strict";e9e(),t9e(),Pc(),i9e(),qc(),a9e={Grammar:l(()=>{},"Grammar"),LanguageMetaData:l(()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"}),"LanguageMetaData")},s9e={AstReflection:l(()=>new qk,"AstReflection")},l(n9e,"createMinimalGrammarServices"),l(Ll,"loadGrammarFromJson")}),aG={};sr(aG,{AstUtils:()=>IB,BiMap:()=>Hb,Cancellation:()=>ii,ContextCache:()=>Wb,CstUtils:()=>nB,DONE_RESULT:()=>ia,Deferred:()=>Tl,Disposable:()=>J0,DisposableCache:()=>Yb,DocumentCache:()=>gz,EMPTY_STREAM:()=>qv,ErrorWithLocation:()=>Vv,GrammarUtils:()=>VB,MultiMap:()=>Z0,OperationCancelled:()=>Uc,Reduction:()=>jv,RegExpUtils:()=>$B,SimpleCache:()=>WT,StreamImpl:()=>Co,TreeStreamImpl:()=>t0,URI:()=>El,UriUtils:()=>Cl,WorkspaceCache:()=>XT,assertUnreachable:()=>oh,delayNextTick:()=>UT,interruptAndCheck:()=>sa,isOperationCancelled:()=>K0,loadGrammarFromJson:()=>Ll,setInterruptionPeriod:()=>ez,startCancelableOperation:()=>qT,stream:()=>$i});var JQe=D(()=>{"use strict";fz(),Lz(),Zx(aG,ZT),Vb(),NAe(),pB(),QQe(),No(),us(),qc(),Ha(),Lo(),ml(),bl(),ab()}),eJe=D(()=>{"use strict";SAe(),KT()}),tJe=D(()=>{"use strict";_Ae(),AAe(),LAe(),MAe(),jb(),i9e(),IAe(),QAe(),DAe()}),o9e={};sr(o9e,{AbstractAstReflection:()=>Ik,AbstractCstNode:()=>DT,AbstractLangiumParser:()=>PT,AbstractParserErrorMessageProvider:()=>jF,AbstractThreadedAsyncParser:()=>XAe,AstUtils:()=>IB,BiMap:()=>Hb,Cancellation:()=>ii,CompositeCstNodeImpl:()=>Fb,ContextCache:()=>Wb,CstNodeBuilder:()=>FF,CstUtils:()=>nB,DEFAULT_TOKENIZE_OPTIONS:()=>t7,DONE_RESULT:()=>ia,DatatypeSymbol:()=>zb,DefaultAstNodeDescriptionProvider:()=>Sz,DefaultAstNodeLocator:()=>Az,DefaultAsyncParser:()=>Wz,DefaultCommentProvider:()=>Yz,DefaultConfigurationProvider:()=>Nz,DefaultDocumentBuilder:()=>Mz,DefaultDocumentValidator:()=>Cz,DefaultHydrator:()=>Kz,DefaultIndexManager:()=>Iz,DefaultJsonSerializer:()=>bz,DefaultLangiumDocumentFactory:()=>sz,DefaultLangiumDocuments:()=>oz,DefaultLexer:()=>r7,DefaultLexerErrorMessageProvider:()=>Rz,DefaultLinker:()=>lz,DefaultNameProvider:()=>uz,DefaultReferenceDescriptionProvider:()=>_z,DefaultReferences:()=>hz,DefaultScopeComputation:()=>dz,DefaultScopeProvider:()=>mz,DefaultServiceRegistry:()=>wz,DefaultTokenBuilder:()=>Ub,DefaultValueConverter:()=>GT,DefaultWorkspaceLock:()=>Xz,DefaultWorkspaceManager:()=>Dz,Deferred:()=>Tl,Disposable:()=>J0,DisposableCache:()=>Yb,DocumentCache:()=>gz,DocumentState:()=>li,DocumentValidator:()=>$s,EMPTY_SCOPE:()=>kAe,EMPTY_STREAM:()=>qv,EmptyFileSystem:()=>Al,EmptyFileSystemProvider:()=>nG,ErrorWithLocation:()=>Vv,GrammarAST:()=>b8e,GrammarUtils:()=>VB,IndentationAwareLexer:()=>r9e,IndentationAwareTokenBuilder:()=>iG,JSDocDocumentationProvider:()=>Vz,LangiumCompletionParser:()=>HF,LangiumParser:()=>qF,LangiumParserErrorMessageProvider:()=>BT,LeafCstNodeImpl:()=>$b,LexingMode:()=>ep,MapScope:()=>pz,Module:()=>eG,MultiMap:()=>Z0,OperationCancelled:()=>Uc,ParserWorker:()=>KAe,Reduction:()=>jv,RegExpUtils:()=>$B,RootCstNodeImpl:()=>RT,SimpleCache:()=>WT,StreamImpl:()=>Co,StreamScope:()=>YT,TextDocument:()=>HT,TreeStreamImpl:()=>t0,URI:()=>El,UriUtils:()=>Cl,ValidationCategory:()=>Xb,ValidationRegistry:()=>kz,ValueConverter:()=>kl,WorkspaceCache:()=>XT,assertUnreachable:()=>oh,createCompletionParser:()=>KF,createDefaultCoreModule:()=>Sl,createDefaultSharedCoreModule:()=>_l,createGrammarConfig:()=>s$,createLangiumParser:()=>ZF,createParser:()=>FT,delayNextTick:()=>UT,diagnosticData:()=>Q0,eagerLoad:()=>Zz,getDiagnosticRange:()=>Tz,indentationBuilderDefaultOptions:()=>l7,inject:()=>kn,interruptAndCheck:()=>sa,isAstNode:()=>Ji,isAstNodeDescription:()=>iB,isAstNodeWithComment:()=>yz,isCompositeCstNode:()=>Ic,isIMultiModeLexerDefinition:()=>JT,isJSDoc:()=>Bz,isLeafCstNode:()=>e0,isLinkingError:()=>O1,isNamed:()=>cz,isOperationCancelled:()=>K0,isReference:()=>qa,isRootCstNode:()=>Mk,isTokenTypeArray:()=>QT,isTokenTypeDictionary:()=>e7,loadGrammarFromJson:()=>Ll,parseJSDoc:()=>Pz,prepareLangiumParser:()=>QF,setInterruptionPeriod:()=>ez,startCancelableOperation:()=>qT,stream:()=>$i,toDiagnosticData:()=>Ez,toDiagnosticSeverity:()=>Kb});var Fs=D(()=>{"use strict";e9e(),t9e(),CAe(),qQe(),gl(),jQe(),VQe(),XQe(),KQe(),ZQe(),JQe(),Zx(o9e,aG),eJe(),tJe(),Pc()});function l9e(e){return zs.isInstance(e,Qb)}function c9e(e){return zs.isInstance(e,uf)}function u9e(e){return zs.isInstance(e,hf)}function h9e(e){return zs.isInstance(e,df)}function d9e(e){return zs.isInstance(e,rx)}function p9e(e){return zs.isInstance(e,pf)}function g9e(e){return zs.isInstance(e,nx)}function f9e(e){return zs.isInstance(e,ax)}function m9e(e){return zs.isInstance(e,sx)}function y9e(e){return zs.isInstance(e,ox)}function v9e(e){return zs.isInstance(e,lx)}var b9e,mt,sG,Qb,Jb,uf,ex,tx,c7,hf,u7,h7,d7,df,p7,rx,ix,g7,pf,f7,nx,ax,sx,ox,m7,y7,lx,v7,cx,ux,hx,oG,zs,x9e,w9e,k9e,T9e,E9e,C9e,S9e,_9e,A9e,L9e,N9e,M9e,I9e,D9e,R9e,O9e,P9e,B9e,$9e,F9e,z9e,mh,G9e,U9e,q9e,j9e,H9e,V9e,Y9e,W9e,X9e,K9e,Z9e,dx,px,jc,rJe,La=D(()=>{"use strict";Fs(),Fs(),Fs(),Fs(),b9e=Object.defineProperty,mt=l((e,t)=>b9e(e,"name",{value:t,configurable:!0}),"__name"),sG="Statement",Qb="Architecture",l(l9e,"isArchitecture"),mt(l9e,"isArchitecture"),Jb="Axis",uf="Branch",l(c9e,"isBranch"),mt(c9e,"isBranch"),ex="Checkout",tx="CherryPicking",c7="ClassDefStatement",hf="Commit",l(u9e,"isCommit"),mt(u9e,"isCommit"),u7="Curve",h7="Edge",d7="Entry",df="GitGraph",l(h9e,"isGitGraph"),mt(h9e,"isGitGraph"),p7="Group",rx="Info",l(d9e,"isInfo"),mt(d9e,"isInfo"),ix="Item",g7="Junction",pf="Merge",l(p9e,"isMerge"),mt(p9e,"isMerge"),f7="Option",nx="Packet",l(g9e,"isPacket"),mt(g9e,"isPacket"),ax="PacketBlock",l(f9e,"isPacketBlock"),mt(f9e,"isPacketBlock"),sx="Pie",l(m9e,"isPie"),mt(m9e,"isPie"),ox="PieSection",l(y9e,"isPieSection"),mt(y9e,"isPieSection"),m7="Radar",y7="Service",lx="Treemap",l(v9e,"isTreemap"),mt(v9e,"isTreemap"),v7="TreemapRow",cx="Direction",ux="Leaf",hx="Section",oG=class extends Ik{static{l(this,"MermaidAstReflection")}static{mt(this,"MermaidAstReflection")}getAllTypes(){return[Qb,Jb,uf,ex,tx,c7,hf,u7,cx,h7,d7,df,p7,rx,ix,g7,ux,pf,f7,nx,ax,sx,ox,m7,hx,y7,sG,lx,v7]}computeIsSubtype(e,t){switch(e){case uf:case ex:case tx:case hf:case pf:return this.isSubtype(sG,t);case cx:return this.isSubtype(df,t);case ux:case hx:return this.isSubtype(ix,t);default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;switch(t){case"Entry:axis":return Jb;default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case Qb:return{name:Qb,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case Jb:return{name:Jb,properties:[{name:"label"},{name:"name"}]};case uf:return{name:uf,properties:[{name:"name"},{name:"order"}]};case ex:return{name:ex,properties:[{name:"branch"}]};case tx:return{name:tx,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case c7:return{name:c7,properties:[{name:"className"},{name:"styleText"}]};case hf:return{name:hf,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case u7:return{name:u7,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case h7:return{name:h7,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case d7:return{name:d7,properties:[{name:"axis"},{name:"value"}]};case df:return{name:df,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case p7:return{name:p7,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case rx:return{name:rx,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case ix:return{name:ix,properties:[{name:"classSelector"},{name:"name"}]};case g7:return{name:g7,properties:[{name:"id"},{name:"in"}]};case pf:return{name:pf,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case f7:return{name:f7,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case nx:return{name:nx,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case ax:return{name:ax,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case sx:return{name:sx,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case ox:return{name:ox,properties:[{name:"label"},{name:"value"}]};case m7:return{name:m7,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case y7:return{name:y7,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case lx:return{name:lx,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case v7:return{name:v7,properties:[{name:"indent"},{name:"item"}]};case cx:return{name:cx,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case ux:return{name:ux,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case hx:return{name:hx,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:e,properties:[]}}}},zs=new oG,w9e=mt(()=>x9e??(x9e=Ll(`{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"InfoGrammar"),T9e=mt(()=>k9e??(k9e=Ll(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),C9e=mt(()=>E9e??(E9e=Ll(`{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"PieGrammar"),_9e=mt(()=>S9e??(S9e=Ll(`{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"ArchitectureGrammar"),L9e=mt(()=>A9e??(A9e=Ll(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),M9e=mt(()=>N9e??(N9e=Ll(`{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}`)),"RadarGrammar"),D9e=mt(()=>I9e??(I9e=Ll(`{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}`)),"TreemapGrammar"),R9e={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},O9e={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},P9e={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},B9e={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},$9e={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},F9e={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},z9e={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},mh={AstReflection:mt(()=>new oG,"AstReflection")},G9e={Grammar:mt(()=>w9e(),"Grammar"),LanguageMetaData:mt(()=>R9e,"LanguageMetaData"),parser:{}},U9e={Grammar:mt(()=>T9e(),"Grammar"),LanguageMetaData:mt(()=>O9e,"LanguageMetaData"),parser:{}},q9e={Grammar:mt(()=>C9e(),"Grammar"),LanguageMetaData:mt(()=>P9e,"LanguageMetaData"),parser:{}},j9e={Grammar:mt(()=>_9e(),"Grammar"),LanguageMetaData:mt(()=>B9e,"LanguageMetaData"),parser:{}},H9e={Grammar:mt(()=>L9e(),"Grammar"),LanguageMetaData:mt(()=>$9e,"LanguageMetaData"),parser:{}},V9e={Grammar:mt(()=>M9e(),"Grammar"),LanguageMetaData:mt(()=>F9e,"LanguageMetaData"),parser:{}},Y9e={Grammar:mt(()=>D9e(),"Grammar"),LanguageMetaData:mt(()=>z9e,"LanguageMetaData"),parser:{}},W9e=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,X9e=/accTitle[\t ]*:([^\n\r]*)/,K9e=/title([\t ][^\n\r]*|)/,Z9e={ACC_DESCR:W9e,ACC_TITLE:X9e,TITLE:K9e},dx=class extends GT{static{l(this,"AbstractMermaidValueConverter")}static{mt(this,"AbstractMermaidValueConverter")}runConverter(e,t,r){let i=this.runCommonConverter(e,t,r);return i===void 0&&(i=this.runCustomConverter(e,t,r)),i===void 0?super.runConverter(e,t,r):i}runCommonConverter(e,t,r){let i=Z9e[e.name];if(i===void 0)return;let n=i.exec(t);if(n!==null){if(n[1]!==void 0)return n[1].trim().replace(/[\t ]{2,}/gm," ");if(n[2]!==void 0)return n[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},px=class extends dx{static{l(this,"CommonValueConverter")}static{mt(this,"CommonValueConverter")}runCustomConverter(e,t,r){}},jc=class extends Ub{static{l(this,"AbstractMermaidTokenBuilder")}static{mt(this,"AbstractMermaidTokenBuilder")}constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,t,r){let i=super.buildKeywordTokens(e,t,r);return i.forEach(n=>{this.keywords.has(n.name)&&n.PATTERN!==void 0&&(n.PATTERN=new RegExp(n.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),i}},rJe=class extends jc{static{l(this,"CommonTokenBuilder")}static{mt(this,"CommonTokenBuilder")}}});function lG(e=Al){let t=kn(_l(e),mh),r=kn(Sl({shared:t}),H9e,cG);return t.ServiceRegistry.register(r),{shared:t,GitGraph:r}}var Q9e,cG,J9e=D(()=>{"use strict";La(),Fs(),Q9e=class extends jc{static{l(this,"GitGraphTokenBuilder")}static{mt(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},cG={parser:{TokenBuilder:mt(()=>new Q9e,"TokenBuilder"),ValueConverter:mt(()=>new px,"ValueConverter")}},l(lG,"createGitGraphServices"),mt(lG,"createGitGraphServices")});function uG(e=Al){let t=kn(_l(e),mh),r=kn(Sl({shared:t}),G9e,hG);return t.ServiceRegistry.register(r),{shared:t,Info:r}}var eLe,hG,tLe=D(()=>{"use strict";La(),Fs(),eLe=class extends jc{static{l(this,"InfoTokenBuilder")}static{mt(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},hG={parser:{TokenBuilder:mt(()=>new eLe,"TokenBuilder"),ValueConverter:mt(()=>new px,"ValueConverter")}},l(uG,"createInfoServices"),mt(uG,"createInfoServices")});function dG(e=Al){let t=kn(_l(e),mh),r=kn(Sl({shared:t}),U9e,pG);return t.ServiceRegistry.register(r),{shared:t,Packet:r}}var rLe,pG,iLe=D(()=>{"use strict";La(),Fs(),rLe=class extends jc{static{l(this,"PacketTokenBuilder")}static{mt(this,"PacketTokenBuilder")}constructor(){super(["packet"])}},pG={parser:{TokenBuilder:mt(()=>new rLe,"TokenBuilder"),ValueConverter:mt(()=>new px,"ValueConverter")}},l(dG,"createPacketServices"),mt(dG,"createPacketServices")});function gG(e=Al){let t=kn(_l(e),mh),r=kn(Sl({shared:t}),q9e,fG);return t.ServiceRegistry.register(r),{shared:t,Pie:r}}var nLe,aLe,fG,sLe=D(()=>{"use strict";La(),Fs(),nLe=class extends jc{static{l(this,"PieTokenBuilder")}static{mt(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},aLe=class extends dx{static{l(this,"PieValueConverter")}static{mt(this,"PieValueConverter")}runCustomConverter(e,t,r){if(e.name==="PIE_SECTION_LABEL")return t.replace(/"/g,"").trim()}},fG={parser:{TokenBuilder:mt(()=>new nLe,"TokenBuilder"),ValueConverter:mt(()=>new aLe,"ValueConverter")}},l(gG,"createPieServices"),mt(gG,"createPieServices")});function mG(e=Al){let t=kn(_l(e),mh),r=kn(Sl({shared:t}),j9e,yG);return t.ServiceRegistry.register(r),{shared:t,Architecture:r}}var oLe,lLe,yG,cLe=D(()=>{"use strict";La(),Fs(),oLe=class extends jc{static{l(this,"ArchitectureTokenBuilder")}static{mt(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},lLe=class extends dx{static{l(this,"ArchitectureValueConverter")}static{mt(this,"ArchitectureValueConverter")}runCustomConverter(e,t,r){if(e.name==="ARCH_ICON")return t.replace(/[()]/g,"").trim();if(e.name==="ARCH_TEXT_ICON")return t.replace(/["()]/g,"");if(e.name==="ARCH_TITLE")return t.replace(/[[\]]/g,"").trim()}},yG={parser:{TokenBuilder:mt(()=>new oLe,"TokenBuilder"),ValueConverter:mt(()=>new lLe,"ValueConverter")}},l(mG,"createArchitectureServices"),mt(mG,"createArchitectureServices")});function vG(e=Al){let t=kn(_l(e),mh),r=kn(Sl({shared:t}),V9e,bG);return t.ServiceRegistry.register(r),{shared:t,Radar:r}}var uLe,bG,hLe=D(()=>{"use strict";La(),Fs(),uLe=class extends jc{static{l(this,"RadarTokenBuilder")}static{mt(this,"RadarTokenBuilder")}constructor(){super(["radar-beta"])}},bG={parser:{TokenBuilder:mt(()=>new uLe,"TokenBuilder"),ValueConverter:mt(()=>new px,"ValueConverter")}},l(vG,"createRadarServices"),mt(vG,"createRadarServices")});function xG(e){let t=e.validation.TreemapValidator,r=e.validation.ValidationRegistry;if(r){let i={Treemap:t.checkSingleRoot.bind(t)};r.register(i,t)}}function wG(e=Al){let t=kn(_l(e),mh),r=kn(Sl({shared:t}),Y9e,kG);return t.ServiceRegistry.register(r),xG(r),{shared:t,Treemap:r}}var dLe,pLe,gLe,fLe,kG,mLe=D(()=>{"use strict";La(),Fs(),dLe=class extends jc{static{l(this,"TreemapTokenBuilder")}static{mt(this,"TreemapTokenBuilder")}constructor(){super(["treemap"])}},pLe=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,gLe=class extends dx{static{l(this,"TreemapValueConverter")}static{mt(this,"TreemapValueConverter")}runCustomConverter(e,t,r){if(e.name==="NUMBER2")return parseFloat(t.replace(/,/g,""));if(e.name==="SEPARATOR"||e.name==="STRING2")return t.substring(1,t.length-1);if(e.name==="INDENTATION")return t.length;if(e.name==="ClassDef"){if(typeof t!="string")return t;let i=pLe.exec(t);if(i)return{$type:"ClassDefStatement",className:i[1],styleText:i[2]||void 0}}}},l(xG,"registerValidationChecks"),mt(xG,"registerValidationChecks"),fLe=class{static{l(this,"TreemapValidator")}static{mt(this,"TreemapValidator")}checkSingleRoot(e,t){let r;for(let i of e.TreemapRows)i.item&&(r===void 0&&i.indent===void 0?r=0:i.indent===void 0?t("error","Multiple root nodes are not allowed in a treemap.",{node:i,property:"item"}):r!==void 0&&r>=parseInt(i.indent,10)&&t("error","Multiple root nodes are not allowed in a treemap.",{node:i,property:"item"}))}},kG={parser:{TokenBuilder:mt(()=>new dLe,"TokenBuilder"),ValueConverter:mt(()=>new gLe,"ValueConverter")},validation:{TreemapValidator:mt(()=>new fLe,"TreemapValidator")}},l(wG,"createTreemapServices"),mt(wG,"createTreemapServices")}),yLe={};sr(yLe,{InfoModule:()=>hG,createInfoServices:()=>uG});var iJe=D(()=>{"use strict";tLe(),La()}),vLe={};sr(vLe,{PacketModule:()=>pG,createPacketServices:()=>dG});var nJe=D(()=>{"use strict";iLe(),La()}),bLe={};sr(bLe,{PieModule:()=>fG,createPieServices:()=>gG});var aJe=D(()=>{"use strict";sLe(),La()}),xLe={};sr(xLe,{ArchitectureModule:()=>yG,createArchitectureServices:()=>mG});var sJe=D(()=>{"use strict";cLe(),La()}),wLe={};sr(wLe,{GitGraphModule:()=>cG,createGitGraphServices:()=>lG});var oJe=D(()=>{"use strict";J9e(),La()}),kLe={};sr(kLe,{RadarModule:()=>bG,createRadarServices:()=>vG});var lJe=D(()=>{"use strict";hLe(),La()}),TLe={};sr(TLe,{TreemapModule:()=>kG,createTreemapServices:()=>wG});var cJe=D(()=>{"use strict";mLe(),La()});async function Hc(e,t){let r=ELe[e];if(!r)throw new Error(`Unknown diagram type: ${e}`);Nl[e]||await r();let i=Nl[e].parse(t);if(i.lexerErrors.length>0||i.parserErrors.length>0)throw new CLe(i);return i.value}var Nl,ELe,CLe,tp=D(()=>{"use strict";J9e(),tLe(),iLe(),sLe(),cLe(),hLe(),mLe(),La(),Nl={},ELe={info:mt(async()=>{let{createInfoServices:e}=await Promise.resolve().then(()=>(iJe(),yLe)),t=e().Info.parser.LangiumParser;Nl.info=t},"info"),packet:mt(async()=>{let{createPacketServices:e}=await Promise.resolve().then(()=>(nJe(),vLe)),t=e().Packet.parser.LangiumParser;Nl.packet=t},"packet"),pie:mt(async()=>{let{createPieServices:e}=await Promise.resolve().then(()=>(aJe(),bLe)),t=e().Pie.parser.LangiumParser;Nl.pie=t},"pie"),architecture:mt(async()=>{let{createArchitectureServices:e}=await Promise.resolve().then(()=>(sJe(),xLe)),t=e().Architecture.parser.LangiumParser;Nl.architecture=t},"architecture"),gitGraph:mt(async()=>{let{createGitGraphServices:e}=await Promise.resolve().then(()=>(oJe(),wLe)),t=e().GitGraph.parser.LangiumParser;Nl.gitGraph=t},"gitGraph"),radar:mt(async()=>{let{createRadarServices:e}=await Promise.resolve().then(()=>(lJe(),kLe)),t=e().Radar.parser.LangiumParser;Nl.radar=t},"radar"),treemap:mt(async()=>{let{createTreemapServices:e}=await Promise.resolve().then(()=>(cJe(),TLe)),t=e().Treemap.parser.LangiumParser;Nl.treemap=t},"treemap")},l(Hc,"parse"),mt(Hc,"parse"),CLe=class extends Error{static{l(this,"MermaidParseError")}constructor(e){let t=e.lexerErrors.map(i=>i.message).join(`
`),r=e.parserErrors.map(i=>i.message).join(`
`);super(`Parsing failed: ${t} ${r}`),this.result=e}static{mt(this,"MermaidParseError")}}});function rp(e,t){e.accDescr&&t.setAccDescription?.(e.accDescr),e.accTitle&&t.setAccTitle?.(e.accTitle),e.title&&t.setDiagramTitle?.(e.title)}var gf=D(()=>{"use strict";l(rp,"populateCommonDb")}),qr,TG=D(()=>{"use strict";qr={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4}}),EG,SLe=D(()=>{"use strict";EG=class{constructor(e){this.init=e,this.records=this.init()}static{l(this,"ImperativeState")}reset(){this.records=this.init()}}});function b7(){return P9({length:7})}function _Le(e,t){let r=Object.create(null);return e.reduce((i,n)=>{let a=t(n);return r[a]||(r[a]=!0,i.push(n)),i},[])}function CG(e,t,r){let i=e.indexOf(t);i===-1?e.push(r):e.splice(i,1,r)}function SG(e){let t=e.reduce((n,a)=>n.seq>a.seq?n:a,e[0]),r="";e.forEach(function(n){n===t?r+="	*":r+="	|"});let i=[r,t.id,t.seq];for(let n in vt.records.branches)vt.records.branches.get(n)===t.id&&i.push(n);if(ne.debug(i.join(" ")),t.parents&&t.parents.length==2&&t.parents[0]&&t.parents[1]){let n=vt.records.commits.get(t.parents[0]);CG(e,t,n),t.parents[1]&&e.push(vt.records.commits.get(t.parents[1]))}else{if(t.parents.length==0)return;if(t.parents[0]){let n=vt.records.commits.get(t.parents[0]);CG(e,t,n)}}e=_Le(e,n=>n.id),SG(e)}var ALe,yh,vt,LLe,NLe,MLe,ILe,DLe,RLe,OLe,_G,PLe,BLe,$Le,FLe,zLe,AG,GLe,ULe,qLe,LG,jLe=D(()=>{"use strict";st(),Zt(),pi(),cr(),Di(),TG(),SLe(),ua(),ALe=xr.gitGraph,yh=l(()=>ma({...ALe,...Tr().gitGraph}),"getConfig"),vt=new EG(()=>{let e=yh(),t=e.mainBranchName,r=e.mainBranchOrder;return{mainBranchName:t,commits:new Map,head:null,branchConfig:new Map([[t,{name:t,order:r}]]),branches:new Map([[t,null]]),currBranch:t,direction:"LR",seq:0,options:{}}}),l(b7,"getID"),l(_Le,"uniqBy"),LLe=l(function(e){vt.records.direction=e},"setDirection"),NLe=l(function(e){ne.debug("options str",e),e=e?.trim(),e=e||"{}";try{vt.records.options=JSON.parse(e)}catch(t){ne.error("error while parsing gitGraph options",t.message)}},"setOptions"),MLe=l(function(){return vt.records.options},"getOptions"),ILe=l(function(e){let t=e.msg,r=e.id,i=e.type,n=e.tags;ne.info("commit",t,r,i,n),ne.debug("Entering commit:",t,r,i,n);let a=yh();r=nt.sanitizeText(r,a),t=nt.sanitizeText(t,a),n=n?.map(o=>nt.sanitizeText(o,a));let s={id:r||vt.records.seq+"-"+b7(),message:t,seq:vt.records.seq++,type:i??qr.NORMAL,tags:n??[],parents:vt.records.head==null?[]:[vt.records.head.id],branch:vt.records.currBranch};vt.records.head=s,ne.info("main branch",a.mainBranchName),vt.records.commits.has(s.id)&&ne.warn(`Commit ID ${s.id} already exists`),vt.records.commits.set(s.id,s),vt.records.branches.set(vt.records.currBranch,s.id),ne.debug("in pushCommit "+s.id)},"commit"),DLe=l(function(e){let t=e.name,r=e.order;if(t=nt.sanitizeText(t,yh()),vt.records.branches.has(t))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${t}")`);vt.records.branches.set(t,vt.records.head!=null?vt.records.head.id:null),vt.records.branchConfig.set(t,{name:t,order:r}),_G(t),ne.debug("in createBranch")},"branch"),RLe=l(e=>{let t=e.branch,r=e.id,i=e.type,n=e.tags,a=yh();t=nt.sanitizeText(t,a),r&&(r=nt.sanitizeText(r,a));let s=vt.records.branches.get(vt.records.currBranch),o=vt.records.branches.get(t),u=s?vt.records.commits.get(s):void 0,h=o?vt.records.commits.get(o):void 0;if(u&&h&&u.branch===t)throw new Error(`Cannot merge branch '${t}' into itself.`);if(vt.records.currBranch===t){let g=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw g.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},g}if(u===void 0||!u){let g=new Error(`Incorrect usage of "merge". Current branch (${vt.records.currBranch})has no commits`);throw g.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["commit"]},g}if(!vt.records.branches.has(t)){let g=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw g.hash={text:`merge ${t}`,token:`merge ${t}`,expected:[`branch ${t}`]},g}if(h===void 0||!h){let g=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw g.hash={text:`merge ${t}`,token:`merge ${t}`,expected:['"commit"']},g}if(u===h){let g=new Error('Incorrect usage of "merge". Both branches have same head');throw g.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},g}if(r&&vt.records.commits.has(r)){let g=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom id");throw g.hash={text:`merge ${t} ${r} ${i} ${n?.join(" ")}`,token:`merge ${t} ${r} ${i} ${n?.join(" ")}`,expected:[`merge ${t} ${r}_UNIQUE ${i} ${n?.join(" ")}`]},g}let d=o||"",p={id:r||`${vt.records.seq}-${b7()}`,message:`merged branch ${t} into ${vt.records.currBranch}`,seq:vt.records.seq++,parents:vt.records.head==null?[]:[vt.records.head.id,d],branch:vt.records.currBranch,type:qr.MERGE,customType:i,customId:!!r,tags:n??[]};vt.records.head=p,vt.records.commits.set(p.id,p),vt.records.branches.set(vt.records.currBranch,p.id),ne.debug(vt.records.branches),ne.debug("in mergeBranch")},"merge"),OLe=l(function(e){let t=e.id,r=e.targetId,i=e.tags,n=e.parent;ne.debug("Entering cherryPick:",t,r,i);let a=yh();if(t=nt.sanitizeText(t,a),r=nt.sanitizeText(r,a),i=i?.map(u=>nt.sanitizeText(u,a)),n=nt.sanitizeText(n,a),!t||!vt.records.commits.has(t)){let u=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw u.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},u}let s=vt.records.commits.get(t);if(s===void 0||!s)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(n&&!(Array.isArray(s.parents)&&s.parents.includes(n)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");let o=s.branch;if(s.type===qr.MERGE&&!n)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!vt.records.commits.has(r)){if(o===vt.records.currBranch){let p=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw p.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},p}let u=vt.records.branches.get(vt.records.currBranch);if(u===void 0||!u){let p=new Error(`Incorrect usage of "cherry-pick". Current branch (${vt.records.currBranch})has no commits`);throw p.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},p}let h=vt.records.commits.get(u);if(h===void 0||!h){let p=new Error(`Incorrect usage of "cherry-pick". Current branch (${vt.records.currBranch})has no commits`);throw p.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},p}let d={id:vt.records.seq+"-"+b7(),message:`cherry-picked ${s?.message} into ${vt.records.currBranch}`,seq:vt.records.seq++,parents:vt.records.head==null?[]:[vt.records.head.id,s.id],branch:vt.records.currBranch,type:qr.CHERRY_PICK,tags:i?i.filter(Boolean):[`cherry-pick:${s.id}${s.type===qr.MERGE?`|parent:${n}`:""}`]};vt.records.head=d,vt.records.commits.set(d.id,d),vt.records.branches.set(vt.records.currBranch,d.id),ne.debug(vt.records.branches),ne.debug("in cherryPick")}},"cherryPick"),_G=l(function(e){if(e=nt.sanitizeText(e,yh()),vt.records.branches.has(e)){vt.records.currBranch=e;let t=vt.records.branches.get(vt.records.currBranch);t===void 0||!t?vt.records.head=null:vt.records.head=vt.records.commits.get(t)??null}else{let t=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${e}")`);throw t.hash={text:`checkout ${e}`,token:`checkout ${e}`,expected:[`branch ${e}`]},t}},"checkout"),l(CG,"upsert"),l(SG,"prettyPrintCommitHistory"),PLe=l(function(){ne.debug(vt.records.commits);let e=AG()[0];SG([e])},"prettyPrint"),BLe=l(function(){vt.reset(),Ni()},"clear"),$Le=l(function(){return[...vt.records.branchConfig.values()].map((e,t)=>e.order!==null&&e.order!==void 0?e:{...e,order:parseFloat(`0.${t}`)}).sort((e,t)=>(e.order??0)-(t.order??0)).map(({name:e})=>({name:e}))},"getBranchesAsObjArray"),FLe=l(function(){return vt.records.branches},"getBranches"),zLe=l(function(){return vt.records.commits},"getCommits"),AG=l(function(){let e=[...vt.records.commits.values()];return e.forEach(function(t){ne.debug(t.id)}),e.sort((t,r)=>t.seq-r.seq),e},"getCommitsArray"),GLe=l(function(){return vt.records.currBranch},"getCurrentBranch"),ULe=l(function(){return vt.records.direction},"getDirection"),qLe=l(function(){return vt.records.head},"getHead"),LG={commitType:qr,getConfig:yh,setDirection:LLe,setOptions:NLe,getOptions:MLe,commit:ILe,branch:DLe,merge:RLe,cherryPick:OLe,checkout:_G,prettyPrint:PLe,clear:BLe,getBranchesAsObjArray:$Le,getBranches:FLe,getCommits:zLe,getCommitsArray:AG,getCurrentBranch:GLe,getDirection:ULe,getHead:qLe,setAccTitle:Mi,getAccTitle:Gi,getAccDescription:qi,setAccDescription:Ui,setDiagramTitle:sn,getDiagramTitle:Ii}}),HLe,VLe,YLe,WLe,XLe,KLe,ZLe,QLe,uJe=D(()=>{"use strict";tp(),st(),gf(),jLe(),TG(),HLe=l((e,t)=>{rp(e,t),e.dir&&t.setDirection(e.dir);for(let r of e.statements)VLe(r,t)},"populate"),VLe=l((e,t)=>{let r={Commit:l(i=>t.commit(YLe(i)),"Commit"),Branch:l(i=>t.branch(WLe(i)),"Branch"),Merge:l(i=>t.merge(XLe(i)),"Merge"),Checkout:l(i=>t.checkout(KLe(i)),"Checkout"),CherryPicking:l(i=>t.cherryPick(ZLe(i)),"CherryPicking")}[e.$type];r?r(e):ne.error(`Unknown statement type: ${e.$type}`)},"parseStatement"),YLe=l(e=>({id:e.id,msg:e.message??"",type:e.type!==void 0?qr[e.type]:qr.NORMAL,tags:e.tags??void 0}),"parseCommit"),WLe=l(e=>({name:e.name,order:e.order??0}),"parseBranch"),XLe=l(e=>({branch:e.branch,id:e.id??"",type:e.type!==void 0?qr[e.type]:void 0,tags:e.tags??void 0}),"parseMerge"),KLe=l(e=>e.branch,"parseCheckout"),ZLe=l(e=>({id:e.id,targetId:"",tags:e.tags?.length===0?void 0:e.tags,parent:e.parent}),"parseCherryPicking"),QLe={parse:l(async e=>{let t=await Hc("gitGraph",e);ne.debug(t),HLe(t,LG)},"parse")}}),JLe,ds,Vc,Yc,Mo,Ml,vh,Na,Ma,gx,ff,fx,Wc,kr,eNe,NG,MG,tNe,rNe,iNe,nNe,aNe,sNe,oNe,lNe,cNe,uNe,hNe,dNe,IG,pNe,mf,gNe,fNe,mNe,yNe,vNe,bNe,hJe=D(()=>{"use strict";hr(),Gt(),st(),Zt(),TG(),JLe=Ee(),ds=JLe?.gitGraph,Vc=10,Yc=40,Mo=4,Ml=2,vh=8,Na=new Map,Ma=new Map,gx=30,ff=new Map,fx=[],Wc=0,kr="LR",eNe=l(()=>{Na.clear(),Ma.clear(),ff.clear(),Wc=0,fx=[],kr="LR"},"clear"),NG=l(e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof e=="string"?e.split(/\\n|\n|<br\s*\/?>/gi):e).forEach(r=>{let i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=r.trim(),t.appendChild(i)}),t},"drawText"),MG=l(e=>{let t,r,i;return kr==="BT"?(r=l((n,a)=>n<=a,"comparisonFunc"),i=1/0):(r=l((n,a)=>n>=a,"comparisonFunc"),i=0),e.forEach(n=>{let a=kr==="TB"||kr=="BT"?Ma.get(n)?.y:Ma.get(n)?.x;a!==void 0&&r(a,i)&&(t=n,i=a)}),t},"findClosestParent"),tNe=l(e=>{let t="",r=1/0;return e.forEach(i=>{let n=Ma.get(i).y;n<=r&&(t=i,r=n)}),t||void 0},"findClosestParentBT"),rNe=l((e,t,r)=>{let i=r,n=r,a=[];e.forEach(s=>{let o=t.get(s);if(!o)throw new Error(`Commit not found for key ${s}`);o.parents.length?(i=nNe(o),n=Math.max(i,n)):a.push(o),aNe(o,i)}),i=n,a.forEach(s=>{sNe(s,i,r)}),e.forEach(s=>{let o=t.get(s);if(o?.parents.length){let u=tNe(o.parents);i=Ma.get(u).y-Yc,i<=n&&(n=i);let h=Na.get(o.branch).pos,d=i-Vc;Ma.set(o.id,{x:h,y:d})}})},"setParallelBTPos"),iNe=l(e=>{let t=MG(e.parents.filter(i=>i!==null));if(!t)throw new Error(`Closest parent not found for commit ${e.id}`);let r=Ma.get(t)?.y;if(r===void 0)throw new Error(`Closest parent position not found for commit ${e.id}`);return r},"findClosestParentPos"),nNe=l(e=>iNe(e)+Yc,"calculateCommitPosition"),aNe=l((e,t)=>{let r=Na.get(e.branch);if(!r)throw new Error(`Branch not found for commit ${e.id}`);let i=r.pos,n=t+Vc;return Ma.set(e.id,{x:i,y:n}),{x:i,y:n}},"setCommitPosition"),sNe=l((e,t,r)=>{let i=Na.get(e.branch);if(!i)throw new Error(`Branch not found for commit ${e.id}`);let n=t+r,a=i.pos;Ma.set(e.id,{x:a,y:n})},"setRootPosition"),oNe=l((e,t,r,i,n,a)=>{if(a===qr.HIGHLIGHT)e.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${t.id} commit-highlight${n%vh} ${i}-outer`),e.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${t.id} commit${n%vh} ${i}-inner`);else if(a===qr.CHERRY_PICK)e.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${t.id} ${i}`),e.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${i}`),e.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${i}`),e.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${i}`),e.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${i}`);else{let s=e.append("circle");if(s.attr("cx",r.x),s.attr("cy",r.y),s.attr("r",t.type===qr.MERGE?9:10),s.attr("class",`commit ${t.id} commit${n%vh}`),a===qr.MERGE){let o=e.append("circle");o.attr("cx",r.x),o.attr("cy",r.y),o.attr("r",6),o.attr("class",`commit ${i} ${t.id} commit${n%vh}`)}a===qr.REVERSE&&e.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${i} ${t.id} commit${n%vh}`)}},"drawCommitBullet"),lNe=l((e,t,r,i)=>{if(t.type!==qr.CHERRY_PICK&&(t.customId&&t.type===qr.MERGE||t.type!==qr.MERGE)&&ds?.showCommitLabel){let n=e.append("g"),a=n.insert("rect").attr("class","commit-label-bkg"),s=n.append("text").attr("x",i).attr("y",r.y+25).attr("class","commit-label").text(t.id),o=s.node()?.getBBox();if(o&&(a.attr("x",r.posWithOffset-o.width/2-Ml).attr("y",r.y+13.5).attr("width",o.width+2*Ml).attr("height",o.height+2*Ml),kr==="TB"||kr==="BT"?(a.attr("x",r.x-(o.width+4*Mo+5)).attr("y",r.y-12),s.attr("x",r.x-(o.width+4*Mo)).attr("y",r.y+o.height-12)):s.attr("x",r.posWithOffset-o.width/2),ds.rotateCommitLabel))if(kr==="TB"||kr==="BT")s.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),a.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{let u=-7.5-(o.width+10)/25*9.5,h=10+o.width/25*8.5;n.attr("transform","translate("+u+", "+h+") rotate(-45, "+i+", "+r.y+")")}}},"drawCommitLabel"),cNe=l((e,t,r,i)=>{if(t.tags.length>0){let n=0,a=0,s=0,o=[];for(let u of t.tags.reverse()){let h=e.insert("polygon"),d=e.append("circle"),p=e.append("text").attr("y",r.y-16-n).attr("class","tag-label").text(u),g=p.node()?.getBBox();if(!g)throw new Error("Tag bbox not found");a=Math.max(a,g.width),s=Math.max(s,g.height),p.attr("x",r.posWithOffset-g.width/2),o.push({tag:p,hole:d,rect:h,yOffset:n}),n+=20}for(let{tag:u,hole:h,rect:d,yOffset:p}of o){let g=s/2,f=r.y-19.2-p;if(d.attr("class","tag-label-bkg").attr("points",`
      ${i-a/2-Mo/2},${f+Ml}  
      ${i-a/2-Mo/2},${f-Ml}
      ${r.posWithOffset-a/2-Mo},${f-g-Ml}
      ${r.posWithOffset+a/2+Mo},${f-g-Ml}
      ${r.posWithOffset+a/2+Mo},${f+g+Ml}
      ${r.posWithOffset-a/2-Mo},${f+g+Ml}`),h.attr("cy",f).attr("cx",i-a/2+Mo/2).attr("r",1.5).attr("class","tag-hole"),kr==="TB"||kr==="BT"){let m=i+p;d.attr("class","tag-label-bkg").attr("points",`
        ${r.x},${m+2}
        ${r.x},${m-2}
        ${r.x+Vc},${m-g-2}
        ${r.x+Vc+a+4},${m-g-2}
        ${r.x+Vc+a+4},${m+g+2}
        ${r.x+Vc},${m+g+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+i+")"),h.attr("cx",r.x+Mo/2).attr("cy",m).attr("transform","translate(12,12) rotate(45, "+r.x+","+i+")"),u.attr("x",r.x+5).attr("y",m+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+i+")")}}}},"drawCommitTags"),uNe=l(e=>{switch(e.customType??e.type){case qr.NORMAL:return"commit-normal";case qr.REVERSE:return"commit-reverse";case qr.HIGHLIGHT:return"commit-highlight";case qr.MERGE:return"commit-merge";case qr.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),hNe=l((e,t,r,i)=>{let n={x:0,y:0};if(e.parents.length>0){let a=MG(e.parents);if(a){let s=i.get(a)??n;return t==="TB"?s.y+Yc:t==="BT"?(i.get(e.id)??n).y-Yc:s.x+Yc}}else return t==="TB"?gx:t==="BT"?(i.get(e.id)??n).y-Yc:0;return 0},"calculatePosition"),dNe=l((e,t,r)=>{let i=kr==="BT"&&r?t:t+Vc,n=kr==="TB"||kr==="BT"?i:Na.get(e.branch)?.pos,a=kr==="TB"||kr==="BT"?Na.get(e.branch)?.pos:i;if(a===void 0||n===void 0)throw new Error(`Position were undefined for commit ${e.id}`);return{x:a,y:n,posWithOffset:i}},"getCommitPosition"),IG=l((e,t,r)=>{if(!ds)throw new Error("GitGraph config not found");let i=e.append("g").attr("class","commit-bullets"),n=e.append("g").attr("class","commit-labels"),a=kr==="TB"||kr==="BT"?gx:0,s=[...t.keys()],o=ds?.parallelCommits??!1,u=l((d,p)=>{let g=t.get(d)?.seq,f=t.get(p)?.seq;return g!==void 0&&f!==void 0?g-f:0},"sortKeys"),h=s.sort(u);kr==="BT"&&(o&&rNe(h,t,a),h=h.reverse()),h.forEach(d=>{let p=t.get(d);if(!p)throw new Error(`Commit not found for key ${d}`);o&&(a=hNe(p,kr,a,Ma));let g=dNe(p,a,o);if(r){let f=uNe(p),m=p.customType??p.type,y=Na.get(p.branch)?.index??0;oNe(i,p,g,f,y,m),lNe(n,p,g,a),cNe(n,p,g,a)}kr==="TB"||kr==="BT"?Ma.set(p.id,{x:g.x,y:g.posWithOffset}):Ma.set(p.id,{x:g.posWithOffset,y:g.y}),a=kr==="BT"&&o?a+Yc:a+Yc+Vc,a>Wc&&(Wc=a)})},"drawCommits"),pNe=l((e,t,r,i,n)=>{let a=(kr==="TB"||kr==="BT"?r.x<i.x:r.y<i.y)?t.branch:e.branch,s=l(u=>u.branch===a,"isOnBranchToGetCurve"),o=l(u=>u.seq>e.seq&&u.seq<t.seq,"isBetweenCommits");return[...n.values()].some(u=>o(u)&&s(u))},"shouldRerouteArrow"),mf=l((e,t,r=0)=>{let i=e+Math.abs(e-t)/2;if(r>5)return i;if(fx.every(a=>Math.abs(a-i)>=10))return fx.push(i),i;let n=Math.abs(e-t);return mf(e,t-n/5,r+1)},"findLane"),gNe=l((e,t,r,i)=>{let n=Ma.get(t.id),a=Ma.get(r.id);if(n===void 0||a===void 0)throw new Error(`Commit positions not found for commits ${t.id} and ${r.id}`);let s=pNe(t,r,n,a,i),o="",u="",h=0,d=0,p=Na.get(r.branch)?.index;r.type===qr.MERGE&&t.id!==r.parents[0]&&(p=Na.get(t.branch)?.index);let g;if(s){o="A 10 10, 0, 0, 0,",u="A 10 10, 0, 0, 1,",h=10,d=10;let f=n.y<a.y?mf(n.y,a.y):mf(a.y,n.y),m=n.x<a.x?mf(n.x,a.x):mf(a.x,n.x);kr==="TB"?n.x<a.x?g=`M ${n.x} ${n.y} L ${m-h} ${n.y} ${u} ${m} ${n.y+d} L ${m} ${a.y-h} ${o} ${m+d} ${a.y} L ${a.x} ${a.y}`:(p=Na.get(t.branch)?.index,g=`M ${n.x} ${n.y} L ${m+h} ${n.y} ${o} ${m} ${n.y+d} L ${m} ${a.y-h} ${u} ${m-d} ${a.y} L ${a.x} ${a.y}`):kr==="BT"?n.x<a.x?g=`M ${n.x} ${n.y} L ${m-h} ${n.y} ${o} ${m} ${n.y-d} L ${m} ${a.y+h} ${u} ${m+d} ${a.y} L ${a.x} ${a.y}`:(p=Na.get(t.branch)?.index,g=`M ${n.x} ${n.y} L ${m+h} ${n.y} ${u} ${m} ${n.y-d} L ${m} ${a.y+h} ${o} ${m-d} ${a.y} L ${a.x} ${a.y}`):n.y<a.y?g=`M ${n.x} ${n.y} L ${n.x} ${f-h} ${o} ${n.x+d} ${f} L ${a.x-h} ${f} ${u} ${a.x} ${f+d} L ${a.x} ${a.y}`:(p=Na.get(t.branch)?.index,g=`M ${n.x} ${n.y} L ${n.x} ${f+h} ${u} ${n.x+d} ${f} L ${a.x-h} ${f} ${o} ${a.x} ${f-d} L ${a.x} ${a.y}`)}else o="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,d=20,kr==="TB"?(n.x<a.x&&(r.type===qr.MERGE&&t.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${n.x} ${a.y-h} ${o} ${n.x+d} ${a.y} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${a.x-h} ${n.y} ${u} ${a.x} ${n.y+d} L ${a.x} ${a.y}`),n.x>a.x&&(o="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,d=20,r.type===qr.MERGE&&t.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${n.x} ${a.y-h} ${u} ${n.x-d} ${a.y} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${a.x+h} ${n.y} ${o} ${a.x} ${n.y+d} L ${a.x} ${a.y}`),n.x===a.x&&(g=`M ${n.x} ${n.y} L ${a.x} ${a.y}`)):kr==="BT"?(n.x<a.x&&(r.type===qr.MERGE&&t.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${n.x} ${a.y+h} ${u} ${n.x+d} ${a.y} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${a.x-h} ${n.y} ${o} ${a.x} ${n.y-d} L ${a.x} ${a.y}`),n.x>a.x&&(o="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,d=20,r.type===qr.MERGE&&t.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${n.x} ${a.y+h} ${o} ${n.x-d} ${a.y} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${a.x-h} ${n.y} ${o} ${a.x} ${n.y-d} L ${a.x} ${a.y}`),n.x===a.x&&(g=`M ${n.x} ${n.y} L ${a.x} ${a.y}`)):(n.y<a.y&&(r.type===qr.MERGE&&t.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${a.x-h} ${n.y} ${u} ${a.x} ${n.y+d} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${n.x} ${a.y-h} ${o} ${n.x+d} ${a.y} L ${a.x} ${a.y}`),n.y>a.y&&(r.type===qr.MERGE&&t.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${a.x-h} ${n.y} ${o} ${a.x} ${n.y-d} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${n.x} ${a.y+h} ${u} ${n.x+d} ${a.y} L ${a.x} ${a.y}`),n.y===a.y&&(g=`M ${n.x} ${n.y} L ${a.x} ${a.y}`));if(g===void 0)throw new Error("Line definition not found");e.append("path").attr("d",g).attr("class","arrow arrow"+p%vh)},"drawArrow"),fNe=l((e,t)=>{let r=e.append("g").attr("class","commit-arrows");[...t.keys()].forEach(i=>{let n=t.get(i);n.parents&&n.parents.length>0&&n.parents.forEach(a=>{gNe(r,t.get(a),n,t)})})},"drawArrows"),mNe=l((e,t)=>{let r=e.append("g");t.forEach((i,n)=>{let a=n%vh,s=Na.get(i.name)?.pos;if(s===void 0)throw new Error(`Position not found for branch ${i.name}`);let o=r.append("line");o.attr("x1",0),o.attr("y1",s),o.attr("x2",Wc),o.attr("y2",s),o.attr("class","branch branch"+a),kr==="TB"?(o.attr("y1",gx),o.attr("x1",s),o.attr("y2",Wc),o.attr("x2",s)):kr==="BT"&&(o.attr("y1",Wc),o.attr("x1",s),o.attr("y2",gx),o.attr("x2",s)),fx.push(s);let u=i.name,h=NG(u),d=r.insert("rect"),p=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+a);p.node().appendChild(h);let g=h.getBBox();d.attr("class","branchLabelBkg label"+a).attr("rx",4).attr("ry",4).attr("x",-g.width-4-(ds?.rotateCommitLabel===!0?30:0)).attr("y",-g.height/2+8).attr("width",g.width+18).attr("height",g.height+4),p.attr("transform","translate("+(-g.width-14-(ds?.rotateCommitLabel===!0?30:0))+", "+(s-g.height/2-1)+")"),kr==="TB"?(d.attr("x",s-g.width/2-10).attr("y",0),p.attr("transform","translate("+(s-g.width/2-5)+", 0)")):kr==="BT"?(d.attr("x",s-g.width/2-10).attr("y",Wc),p.attr("transform","translate("+(s-g.width/2-5)+", "+Wc+")")):d.attr("transform","translate(-19, "+(s-g.height/2)+")")})},"drawBranches"),yNe=l(function(e,t,r,i,n){return Na.set(e,{pos:t,index:r}),t+=50+(n?40:0)+(kr==="TB"||kr==="BT"?i.width/2:0),t},"setBranchPosition"),vNe=l(function(e,t,r,i){if(eNe(),ne.debug("in gitgraph renderer",e+`
`,"id:",t,r),!ds)throw new Error("GitGraph config not found");let n=ds.rotateCommitLabel??!1,a=i.db;ff=a.getCommits();let s=a.getBranchesAsObjArray();kr=a.getDirection();let o=Ke(`[id="${t}"]`),u=0;s.forEach((h,d)=>{let p=NG(h.name),g=o.append("g"),f=g.insert("g").attr("class","branchLabel"),m=f.insert("g").attr("class","label branch-label");m.node()?.appendChild(p);let y=p.getBBox();u=yNe(h.name,u,d,y,n),m.remove(),f.remove(),g.remove()}),IG(o,ff,!1),ds.showBranches&&mNe(o,s),fNe(o,ff),IG(o,ff,!0),or.insertTitle(o,"gitTitleText",ds.titleTopMargin??0,a.getDiagramTitle()),mS(void 0,o,ds.diagramPadding,ds.useMaxWidth)},"draw"),bNe={draw:vNe}}),xNe,wNe,dJe=D(()=>{"use strict";xNe=l(e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),wNe=xNe}),kNe={};sr(kNe,{diagram:()=>TNe});var TNe,pJe=D(()=>{"use strict";uJe(),jLe(),hJe(),dJe(),TNe={parser:QLe,db:LG,renderer:bNe,styles:wNe}}),x7,ENe,gJe=D(()=>{"use strict";x7=function(){var e=l(function(B,S,O,R){for(O=O||{},R=B.length;R--;O[B[R]]=S);return O},"o"),t=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],i=[1,27],n=[1,28],a=[1,29],s=[1,30],o=[1,31],u=[1,32],h=[1,33],d=[1,34],p=[1,9],g=[1,10],f=[1,11],m=[1,12],y=[1,13],b=[1,14],v=[1,15],x=[1,16],w=[1,19],k=[1,20],T=[1,21],_=[1,22],C=[1,23],E=[1,25],N=[1,35],M={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:l(function(B,S,O,R,P,L,$){var F=L.length-1;switch(P){case 1:return L[F-1];case 2:this.$=[];break;case 3:L[F-1].push(L[F]),this.$=L[F-1];break;case 4:case 5:this.$=L[F];break;case 6:case 7:this.$=[];break;case 8:R.setWeekday("monday");break;case 9:R.setWeekday("tuesday");break;case 10:R.setWeekday("wednesday");break;case 11:R.setWeekday("thursday");break;case 12:R.setWeekday("friday");break;case 13:R.setWeekday("saturday");break;case 14:R.setWeekday("sunday");break;case 15:R.setWeekend("friday");break;case 16:R.setWeekend("saturday");break;case 17:R.setDateFormat(L[F].substr(11)),this.$=L[F].substr(11);break;case 18:R.enableInclusiveEndDates(),this.$=L[F].substr(18);break;case 19:R.TopAxis(),this.$=L[F].substr(8);break;case 20:R.setAxisFormat(L[F].substr(11)),this.$=L[F].substr(11);break;case 21:R.setTickInterval(L[F].substr(13)),this.$=L[F].substr(13);break;case 22:R.setExcludes(L[F].substr(9)),this.$=L[F].substr(9);break;case 23:R.setIncludes(L[F].substr(9)),this.$=L[F].substr(9);break;case 24:R.setTodayMarker(L[F].substr(12)),this.$=L[F].substr(12);break;case 27:R.setDiagramTitle(L[F].substr(6)),this.$=L[F].substr(6);break;case 28:this.$=L[F].trim(),R.setAccTitle(this.$);break;case 29:case 30:this.$=L[F].trim(),R.setAccDescription(this.$);break;case 31:R.addSection(L[F].substr(8)),this.$=L[F].substr(8);break;case 33:R.addTask(L[F-1],L[F]),this.$="task";break;case 34:this.$=L[F-1],R.setClickEvent(L[F-1],L[F],null);break;case 35:this.$=L[F-2],R.setClickEvent(L[F-2],L[F-1],L[F]);break;case 36:this.$=L[F-2],R.setClickEvent(L[F-2],L[F-1],null),R.setLink(L[F-2],L[F]);break;case 37:this.$=L[F-3],R.setClickEvent(L[F-3],L[F-2],L[F-1]),R.setLink(L[F-3],L[F]);break;case 38:this.$=L[F-2],R.setClickEvent(L[F-2],L[F],null),R.setLink(L[F-2],L[F-1]);break;case 39:this.$=L[F-3],R.setClickEvent(L[F-3],L[F-1],L[F]),R.setLink(L[F-3],L[F-2]);break;case 40:this.$=L[F-1],R.setLink(L[F-1],L[F]);break;case 41:case 47:this.$=L[F-1]+" "+L[F];break;case 42:case 43:case 45:this.$=L[F-2]+" "+L[F-1]+" "+L[F];break;case 44:case 46:this.$=L[F-3]+" "+L[F-2]+" "+L[F-1]+" "+L[F];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:i,14:n,15:a,16:s,17:o,18:u,19:18,20:h,21:d,22:p,23:g,24:f,25:m,26:y,27:b,28:v,29:x,30:w,31:k,33:T,35:_,36:C,37:24,38:E,40:N},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:36,11:17,12:r,13:i,14:n,15:a,16:s,17:o,18:u,19:18,20:h,21:d,22:p,23:g,24:f,25:m,26:y,27:b,28:v,29:x,30:w,31:k,33:T,35:_,36:C,37:24,38:E,40:N},e(t,[2,5]),e(t,[2,6]),e(t,[2,17]),e(t,[2,18]),e(t,[2,19]),e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),e(t,[2,27]),{32:[1,37]},{34:[1,38]},e(t,[2,30]),e(t,[2,31]),e(t,[2,32]),{39:[1,39]},e(t,[2,8]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),{41:[1,40],43:[1,41]},e(t,[2,4]),e(t,[2,28]),e(t,[2,29]),e(t,[2,33]),e(t,[2,34],{42:[1,42],43:[1,43]}),e(t,[2,40],{41:[1,44]}),e(t,[2,35],{43:[1,45]}),e(t,[2,36]),e(t,[2,38],{42:[1,46]}),e(t,[2,37]),e(t,[2,39])],defaultActions:{},parseError:l(function(B,S){if(S.recoverable)this.trace(B);else{var O=new Error(B);throw O.hash=S,O}},"parseError"),parse:l(function(B){var S=this,O=[0],R=[],P=[null],L=[],$=this.table,F="",G=0,q=0,V=0,H=2,ae=1,re=L.slice.call(arguments,1),oe=Object.create(this.lexer),ue={yy:{}};for(var W in this.yy)Object.prototype.hasOwnProperty.call(this.yy,W)&&(ue.yy[W]=this.yy[W]);oe.setInput(B,ue.yy),ue.yy.lexer=oe,ue.yy.parser=this,typeof oe.yylloc>"u"&&(oe.yylloc={});var ee=oe.yylloc;L.push(ee);var X=oe.options&&oe.options.ranges;typeof ue.yy.parseError=="function"?this.parseError=ue.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Z(ve){O.length=O.length-2*ve,P.length=P.length-ve,L.length=L.length-ve}l(Z,"popStack");function J(){var ve;return ve=R.pop()||oe.lex()||ae,typeof ve!="number"&&(ve instanceof Array&&(R=ve,ve=R.pop()),ve=S.symbols_[ve]||ve),ve}l(J,"lex");for(var he,K,me,Y,_e,ce,Ne={},Be,je,qe,Se;;){if(me=O[O.length-1],this.defaultActions[me]?Y=this.defaultActions[me]:((he===null||typeof he>"u")&&(he=J()),Y=$[me]&&$[me][he]),typeof Y>"u"||!Y.length||!Y[0]){var Re="";Se=[];for(Be in $[me])this.terminals_[Be]&&Be>H&&Se.push("'"+this.terminals_[Be]+"'");oe.showPosition?Re="Parse error on line "+(G+1)+`:
`+oe.showPosition()+`
Expecting `+Se.join(", ")+", got '"+(this.terminals_[he]||he)+"'":Re="Parse error on line "+(G+1)+": Unexpected "+(he==ae?"end of input":"'"+(this.terminals_[he]||he)+"'"),this.parseError(Re,{text:oe.match,token:this.terminals_[he]||he,line:oe.yylineno,loc:ee,expected:Se})}if(Y[0]instanceof Array&&Y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+me+", token: "+he);switch(Y[0]){case 1:O.push(he),P.push(oe.yytext),L.push(oe.yylloc),O.push(Y[1]),he=null,K?(he=K,K=null):(q=oe.yyleng,F=oe.yytext,G=oe.yylineno,ee=oe.yylloc,V>0&&V--);break;case 2:if(je=this.productions_[Y[1]][1],Ne.$=P[P.length-je],Ne._$={first_line:L[L.length-(je||1)].first_line,last_line:L[L.length-1].last_line,first_column:L[L.length-(je||1)].first_column,last_column:L[L.length-1].last_column},X&&(Ne._$.range=[L[L.length-(je||1)].range[0],L[L.length-1].range[1]]),ce=this.performAction.apply(Ne,[F,q,G,ue.yy,Y[1],P,L].concat(re)),typeof ce<"u")return ce;je&&(O=O.slice(0,-1*je*2),P=P.slice(0,-1*je),L=L.slice(0,-1*je)),O.push(this.productions_[Y[1]][0]),P.push(Ne.$),L.push(Ne._$),qe=$[O[O.length-2]][O[O.length-1]],O.push(qe);break;case 3:return!0}}return!0},"parse")},I=function(){var B={EOF:1,parseError:l(function(S,O){if(this.yy.parser)this.yy.parser.parseError(S,O);else throw new Error(S)},"parseError"),setInput:l(function(S,O){return this.yy=O||this.yy||{},this._input=S,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var S=this._input[0];this.yytext+=S,this.yyleng++,this.offset++,this.match+=S,this.matched+=S;var O=S.match(/(?:\r\n?|\n).*/g);return O?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),S},"input"),unput:l(function(S){var O=S.length,R=S.split(/(?:\r\n?|\n)/g);this._input=S+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-O),this.offset-=O;var P=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),R.length-1&&(this.yylineno-=R.length-1);var L=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:R?(R.length===P.length?this.yylloc.first_column:0)+P[P.length-R.length].length-R[0].length:this.yylloc.first_column-O},this.options.ranges&&(this.yylloc.range=[L[0],L[0]+this.yyleng-O]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(S){this.unput(this.match.slice(S))},"less"),pastInput:l(function(){var S=this.matched.substr(0,this.matched.length-this.match.length);return(S.length>20?"...":"")+S.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var S=this.match;return S.length<20&&(S+=this._input.substr(0,20-S.length)),(S.substr(0,20)+(S.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var S=this.pastInput(),O=new Array(S.length+1).join("-");return S+this.upcomingInput()+`
`+O+"^"},"showPosition"),test_match:l(function(S,O){var R,P,L;if(this.options.backtrack_lexer&&(L={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(L.yylloc.range=this.yylloc.range.slice(0))),P=S[0].match(/(?:\r\n?|\n).*/g),P&&(this.yylineno+=P.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:P?P[P.length-1].length-P[P.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+S[0].length},this.yytext+=S[0],this.match+=S[0],this.matches=S,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(S[0].length),this.matched+=S[0],R=this.performAction.call(this,this.yy,this,O,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),R)return R;if(this._backtrack){for(var $ in L)this[$]=L[$];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var S,O,R,P;this._more||(this.yytext="",this.match="");for(var L=this._currentRules(),$=0;$<L.length;$++)if(R=this._input.match(this.rules[L[$]]),R&&(!O||R[0].length>O[0].length)){if(O=R,P=$,this.options.backtrack_lexer){if(S=this.test_match(R,L[$]),S!==!1)return S;if(this._backtrack){O=!1;continue}else return!1}else if(!this.options.flex)break}return O?(S=this.test_match(O,L[P]),S!==!1?S:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var S=this.next();return S||this.lex()},"lex"),begin:l(function(S){this.conditionStack.push(S)},"begin"),popState:l(function(){var S=this.conditionStack.length-1;return S>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(S){return S=this.conditionStack.length-1-Math.abs(S||0),S>=0?this.conditionStack[S]:"INITIAL"},"topState"),pushState:l(function(S){this.begin(S)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(S,O,R,P){var L=P;switch(R){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return B}();M.lexer=I;function A(){this.yy={}}return l(A,"Parser"),A.prototype=M,M.Parser=A,new A}(),x7.parser=x7,ENe=x7}),fJe=_n((e,t)=>{"use strict";(function(r,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_isoWeek=i()})(e,function(){"use strict";var r="day";return function(i,n,a){var s=l(function(h){return h.add(4-h.isoWeekday(),r)},"a"),o=n.prototype;o.isoWeekYear=function(){return s(this).year()},o.isoWeek=function(h){if(!this.$utils().u(h))return this.add(7*(h-this.isoWeek()),r);var d,p,g,f,m=s(this),y=(d=this.isoWeekYear(),p=this.$u,g=(p?a.utc:a)().year(d).startOf("year"),f=4-g.isoWeekday(),g.isoWeekday()>4&&(f+=7),g.add(f,r));return m.diff(y,"week")+1},o.isoWeekday=function(h){return this.$utils().u(h)?this.day()||7:this.day(this.day()%7?h:h-7)};var u=o.startOf;o.startOf=function(h,d){var p=this.$utils(),g=!!p.u(d)||d;return p.p(h)==="isoweek"?g?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):u.bind(this)(h,d)}}})}),mJe=_n((e,t)=>{"use strict";(function(r,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_customParseFormat=i()})(e,function(){"use strict";var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,a=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,u={},h=l(function(b){return(b=+b)+(b>68?1900:2e3)},"a"),d=l(function(b){return function(v){this[b]=+v}},"f"),p=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var x=v.match(/([+-]|\d\d)/g),w=60*x[1]+(+x[2]||0);return w===0?0:x[0]==="+"?-w:w}(b)}],g=l(function(b){var v=u[b];return v&&(v.indexOf?v:v.s.concat(v.f))},"u"),f=l(function(b,v){var x,w=u.meridiem;if(w){for(var k=1;k<=24;k+=1)if(b.indexOf(w(k,0,v))>-1){x=k>12;break}}else x=b===(v?"pm":"PM");return x},"d"),m={A:[o,function(b){this.afternoon=f(b,!1)}],a:[o,function(b){this.afternoon=f(b,!0)}],Q:[n,function(b){this.month=3*(b-1)+1}],S:[n,function(b){this.milliseconds=100*+b}],SS:[a,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[s,d("seconds")],ss:[s,d("seconds")],m:[s,d("minutes")],mm:[s,d("minutes")],H:[s,d("hours")],h:[s,d("hours")],HH:[s,d("hours")],hh:[s,d("hours")],D:[s,d("day")],DD:[a,d("day")],Do:[o,function(b){var v=u.ordinal,x=b.match(/\d+/);if(this.day=x[0],v)for(var w=1;w<=31;w+=1)v(w).replace(/\[|\]/g,"")===b&&(this.day=w)}],w:[s,d("week")],ww:[a,d("week")],M:[s,d("month")],MM:[a,d("month")],MMM:[o,function(b){var v=g("months"),x=(g("monthsShort")||v.map(function(w){return w.slice(0,3)})).indexOf(b)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[o,function(b){var v=g("months").indexOf(b)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,d("year")],YY:[a,function(b){this.year=h(b)}],YYYY:[/\d{4}/,d("year")],Z:p,ZZ:p};function y(b){var v,x;v=b,x=u&&u.formats;for(var w=(b=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(M,I,A){var B=A&&A.toUpperCase();return I||x[A]||r[A]||x[B].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,O,R){return O||R.slice(1)})})).match(i),k=w.length,T=0;T<k;T+=1){var _=w[T],C=m[_],E=C&&C[0],N=C&&C[1];w[T]=N?{regex:E,parser:N}:_.replace(/^\[|\]$/g,"")}return function(M){for(var I={},A=0,B=0;A<k;A+=1){var S=w[A];if(typeof S=="string")B+=S.length;else{var O=S.regex,R=S.parser,P=M.slice(B),L=O.exec(P)[0];R.call(I,L),M=M.replace(L,"")}}return function($){var F=$.afternoon;if(F!==void 0){var G=$.hours;F?G<12&&($.hours+=12):G===12&&($.hours=0),delete $.afternoon}}(I),I}}return l(y,"l"),function(b,v,x){x.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(h=b.parseTwoDigitYear);var w=v.prototype,k=w.parse;w.parse=function(T){var _=T.date,C=T.utc,E=T.args;this.$u=C;var N=E[1];if(typeof N=="string"){var M=E[2]===!0,I=E[3]===!0,A=M||I,B=E[2];I&&(B=E[2]),u=this.$locale(),!M&&B&&(u=x.Ls[B]),this.$d=function(P,L,$,F){try{if(["x","X"].indexOf(L)>-1)return new Date((L==="X"?1e3:1)*P);var G=y(L)(P),q=G.year,V=G.month,H=G.day,ae=G.hours,re=G.minutes,oe=G.seconds,ue=G.milliseconds,W=G.zone,ee=G.week,X=new Date,Z=H||(q||V?1:X.getDate()),J=q||X.getFullYear(),he=0;q&&!V||(he=V>0?V-1:X.getMonth());var K,me=ae||0,Y=re||0,_e=oe||0,ce=ue||0;return W?new Date(Date.UTC(J,he,Z,me,Y,_e,ce+60*W.offset*1e3)):$?new Date(Date.UTC(J,he,Z,me,Y,_e,ce)):(K=new Date(J,he,Z,me,Y,_e,ce),ee&&(K=F(K).week(ee).toDate()),K)}catch{return new Date("")}}(_,N,C,x),this.init(),B&&B!==!0&&(this.$L=this.locale(B).$L),A&&_!=this.format(N)&&(this.$d=new Date("")),u={}}else if(N instanceof Array)for(var S=N.length,O=1;O<=S;O+=1){E[1]=N[O-1];var R=x.apply(this,E);if(R.isValid()){this.$d=R.$d,this.$L=R.$L,this.init();break}O===S&&(this.$d=new Date(""))}else k.call(this,T)}}})}),yJe=_n((e,t)=>{"use strict";(function(r,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_advancedFormat=i()})(e,function(){"use strict";return function(r,i){var n=i.prototype,a=n.format;n.format=function(s){var o=this,u=this.$locale();if(!this.isValid())return a.bind(this)(s);var h=this.$utils(),d=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(p){switch(p){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return u.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return u.ordinal(o.week(),"W");case"w":case"ww":return h.s(o.week(),p==="w"?1:2,"0");case"W":case"WW":return h.s(o.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return h.s(String(o.$H===0?24:o.$H),p==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return p}});return a.bind(this)(d)}}})});function DG(e,t,r){let i=!0;for(;i;)i=!1,r.forEach(function(n){let a="^\\s*"+n+"\\s*$",s=new RegExp(a);e[0].match(s)&&(t[n]=!0,e.shift(1),i=!0)})}var CNe,ps,SNe,_Ne,ANe,RG,Io,w7,OG,k7,yf,vf,T7,E7,mx,ip,C7,PG,S7,bf,_7,A7,yx,L7,LNe,NNe,MNe,INe,DNe,RNe,ONe,PNe,BNe,$Ne,FNe,zNe,GNe,UNe,qNe,jNe,HNe,VNe,YNe,WNe,XNe,KNe,ZNe,BG,QNe,JNe,eMe,$G,tMe,N7,FG,zG,vx,np,rMe,iMe,GG,M7,en,UG,nMe,bh,aMe,qG,sMe,jG,oMe,HG,lMe,cMe,uMe,vJe=D(()=>{"use strict";CNe=zn(xy(),1),ps=zn(j8(),1),SNe=zn(fJe(),1),_Ne=zn(mJe(),1),ANe=zn(yJe(),1),st(),Gt(),Zt(),Di(),ps.default.extend(SNe.default),ps.default.extend(_Ne.default),ps.default.extend(ANe.default),RG={friday:5,saturday:6},Io="",w7="",k7="",yf=[],vf=[],T7=new Map,E7=[],mx=[],ip="",C7="",PG=["active","done","crit","milestone","vert"],S7=[],bf=!1,_7=!1,A7="sunday",yx="saturday",L7=0,LNe=l(function(){E7=[],mx=[],ip="",S7=[],vx=0,GG=void 0,M7=void 0,en=[],Io="",w7="",C7="",OG=void 0,k7="",yf=[],vf=[],bf=!1,_7=!1,L7=0,T7=new Map,Ni(),A7="sunday",yx="saturday"},"clear"),NNe=l(function(e){w7=e},"setAxisFormat"),MNe=l(function(){return w7},"getAxisFormat"),INe=l(function(e){OG=e},"setTickInterval"),DNe=l(function(){return OG},"getTickInterval"),RNe=l(function(e){k7=e},"setTodayMarker"),ONe=l(function(){return k7},"getTodayMarker"),PNe=l(function(e){Io=e},"setDateFormat"),BNe=l(function(){bf=!0},"enableInclusiveEndDates"),$Ne=l(function(){return bf},"endDatesAreInclusive"),FNe=l(function(){_7=!0},"enableTopAxis"),zNe=l(function(){return _7},"topAxisEnabled"),GNe=l(function(e){C7=e},"setDisplayMode"),UNe=l(function(){return C7},"getDisplayMode"),qNe=l(function(){return Io},"getDateFormat"),jNe=l(function(e){yf=e.toLowerCase().split(/[\s,]+/)},"setIncludes"),HNe=l(function(){return yf},"getIncludes"),VNe=l(function(e){vf=e.toLowerCase().split(/[\s,]+/)},"setExcludes"),YNe=l(function(){return vf},"getExcludes"),WNe=l(function(){return T7},"getLinks"),XNe=l(function(e){ip=e,E7.push(e)},"addSection"),KNe=l(function(){return E7},"getSections"),ZNe=l(function(){let e=qG(),t=10,r=0;for(;!e&&r<t;)e=qG(),r++;return mx=en,mx},"getTasks"),BG=l(function(e,t,r,i){let n=e.format(t.trim()),a=e.format("YYYY-MM-DD");return i.includes(n)||i.includes(a)?!1:r.includes("weekends")&&(e.isoWeekday()===RG[yx]||e.isoWeekday()===RG[yx]+1)||r.includes(e.format("dddd").toLowerCase())?!0:r.includes(n)||r.includes(a)},"isInvalidDate"),QNe=l(function(e){A7=e},"setWeekday"),JNe=l(function(){return A7},"getWeekday"),eMe=l(function(e){yx=e},"setWeekend"),$G=l(function(e,t,r,i){if(!r.length||e.manualEndTime)return;let n;e.startTime instanceof Date?n=(0,ps.default)(e.startTime):n=(0,ps.default)(e.startTime,t,!0),n=n.add(1,"d");let a;e.endTime instanceof Date?a=(0,ps.default)(e.endTime):a=(0,ps.default)(e.endTime,t,!0);let[s,o]=tMe(n,a,t,r,i);e.endTime=s.toDate(),e.renderEndTime=o},"checkTaskDates"),tMe=l(function(e,t,r,i,n){let a=!1,s=null;for(;e<=t;)a||(s=t.toDate()),a=BG(e,r,i,n),a&&(t=t.add(1,"d")),e=e.add(1,"d");return[t,s]},"fixTaskDates"),N7=l(function(e,t,r){if(r=r.trim(),l(a=>{let s=a.trim();return s==="x"||s==="X"},"isTimestampFormat")(t)&&/^\d+$/.test(r))return new Date(Number(r));let i=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(i!==null){let a=null;for(let o of i.groups.ids.split(" ")){let u=bh(o);u!==void 0&&(!a||u.endTime>a.endTime)&&(a=u)}if(a)return a.endTime;let s=new Date;return s.setHours(0,0,0,0),s}let n=(0,ps.default)(r,t.trim(),!0);if(n.isValid())return n.toDate();{ne.debug("Invalid date:"+r),ne.debug("With date format:"+t.trim());let a=new Date(r);if(a===void 0||isNaN(a.getTime())||a.getFullYear()<-1e4||a.getFullYear()>1e4)throw new Error("Invalid date:"+r);return a}},"getStartDate"),FG=l(function(e){let t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return t!==null?[Number.parseFloat(t[1]),t[2]]:[NaN,"ms"]},"parseDuration"),zG=l(function(e,t,r,i=!1){r=r.trim();let n=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(n!==null){let h=null;for(let p of n.groups.ids.split(" ")){let g=bh(p);g!==void 0&&(!h||g.startTime<h.startTime)&&(h=g)}if(h)return h.startTime;let d=new Date;return d.setHours(0,0,0,0),d}let a=(0,ps.default)(r,t.trim(),!0);if(a.isValid())return i&&(a=a.add(1,"d")),a.toDate();let s=(0,ps.default)(e),[o,u]=FG(r);if(!Number.isNaN(o)){let h=s.add(o,u);h.isValid()&&(s=h)}return s.toDate()},"getEndDate"),vx=0,np=l(function(e){return e===void 0?(vx=vx+1,"task"+vx):e},"parseId"),rMe=l(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let i=r.split(","),n={};DG(i,n,PG);for(let s=0;s<i.length;s++)i[s]=i[s].trim();let a="";switch(i.length){case 1:n.id=np(),n.startTime=e.endTime,a=i[0];break;case 2:n.id=np(),n.startTime=N7(void 0,Io,i[0]),a=i[1];break;case 3:n.id=np(i[0]),n.startTime=N7(void 0,Io,i[1]),a=i[2];break;default:}return a&&(n.endTime=zG(n.startTime,Io,a,bf),n.manualEndTime=(0,ps.default)(a,"YYYY-MM-DD",!0).isValid(),$G(n,Io,vf,yf)),n},"compileData"),iMe=l(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let i=r.split(","),n={};DG(i,n,PG);for(let a=0;a<i.length;a++)i[a]=i[a].trim();switch(i.length){case 1:n.id=np(),n.startTime={type:"prevTaskEnd",id:e},n.endTime={data:i[0]};break;case 2:n.id=np(),n.startTime={type:"getStartDate",startData:i[0]},n.endTime={data:i[1]};break;case 3:n.id=np(i[0]),n.startTime={type:"getStartDate",startData:i[1]},n.endTime={data:i[2]};break;default:}return n},"parseData"),en=[],UG={},nMe=l(function(e,t){let r={section:ip,type:ip,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},i=iMe(M7,t);r.raw.startTime=i.startTime,r.raw.endTime=i.endTime,r.id=i.id,r.prevTaskId=M7,r.active=i.active,r.done=i.done,r.crit=i.crit,r.milestone=i.milestone,r.vert=i.vert,r.order=L7,L7++;let n=en.push(r);M7=r.id,UG[r.id]=n-1},"addTask"),bh=l(function(e){let t=UG[e];return en[t]},"findTaskById"),aMe=l(function(e,t){let r={section:ip,type:ip,description:e,task:e,classes:[]},i=rMe(GG,t);r.startTime=i.startTime,r.endTime=i.endTime,r.id=i.id,r.active=i.active,r.done=i.done,r.crit=i.crit,r.milestone=i.milestone,r.vert=i.vert,GG=r,mx.push(r)},"addTaskOrg"),qG=l(function(){let e=l(function(r){let i=en[r],n="";switch(en[r].raw.startTime.type){case"prevTaskEnd":{let a=bh(i.prevTaskId);i.startTime=a.endTime;break}case"getStartDate":n=N7(void 0,Io,en[r].raw.startTime.startData),n&&(en[r].startTime=n);break}return en[r].startTime&&(en[r].endTime=zG(en[r].startTime,Io,en[r].raw.endTime.data,bf),en[r].endTime&&(en[r].processed=!0,en[r].manualEndTime=(0,ps.default)(en[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),$G(en[r],Io,vf,yf))),en[r].processed},"compileTask"),t=!0;for(let[r,i]of en.entries())e(r),t=t&&i.processed;return t},"compileTasks"),sMe=l(function(e,t){let r=t;Ee().securityLevel!=="loose"&&(r=(0,CNe.sanitizeUrl)(t)),e.split(",").forEach(function(i){bh(i)!==void 0&&(HG(i,()=>{window.open(r,"_self")}),T7.set(i,r))}),jG(e,"clickable")},"setLink"),jG=l(function(e,t){e.split(",").forEach(function(r){let i=bh(r);i!==void 0&&i.classes.push(t)})},"setClass"),oMe=l(function(e,t,r){if(Ee().securityLevel!=="loose"||t===void 0)return;let i=[];if(typeof r=="string"){i=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let n=0;n<i.length;n++){let a=i[n].trim();a.startsWith('"')&&a.endsWith('"')&&(a=a.substr(1,a.length-2)),i[n]=a}}i.length===0&&i.push(e),bh(e)!==void 0&&HG(e,()=>{or.runFunc(t,...i)})},"setClickFun"),HG=l(function(e,t){S7.push(function(){let r=document.querySelector(`[id="${e}"]`);r!==null&&r.addEventListener("click",function(){t()})},function(){let r=document.querySelector(`[id="${e}-text"]`);r!==null&&r.addEventListener("click",function(){t()})})},"pushFun"),lMe=l(function(e,t,r){e.split(",").forEach(function(i){oMe(i,t,r)}),jG(e,"clickable")},"setClickEvent"),cMe=l(function(e){S7.forEach(function(t){t(e)})},"bindFunctions"),uMe={getConfig:l(()=>Ee().gantt,"getConfig"),clear:LNe,setDateFormat:PNe,getDateFormat:qNe,enableInclusiveEndDates:BNe,endDatesAreInclusive:$Ne,enableTopAxis:FNe,topAxisEnabled:zNe,setAxisFormat:NNe,getAxisFormat:MNe,setTickInterval:INe,getTickInterval:DNe,setTodayMarker:RNe,getTodayMarker:ONe,setAccTitle:Mi,getAccTitle:Gi,setDiagramTitle:sn,getDiagramTitle:Ii,setDisplayMode:GNe,getDisplayMode:UNe,setAccDescription:Ui,getAccDescription:qi,addSection:XNe,getSections:KNe,getTasks:ZNe,addTask:nMe,findTaskById:bh,addTaskOrg:aMe,setIncludes:jNe,getIncludes:HNe,setExcludes:VNe,getExcludes:YNe,setClickEvent:lMe,setLink:sMe,getLinks:WNe,bindFunctions:cMe,parseDuration:FG,isInvalidDate:BG,setWeekday:QNe,getWeekday:JNe,setWeekend:eMe},l(DG,"getTaskTags")}),bJe=_n((e,t)=>{"use strict";(function(r,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_duration=i()})(e,function(){"use strict";var r,i,n=1e3,a=6e4,s=36e5,o=864e5,u=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h=31536e6,d=2628e6,p=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,g={years:h,months:d,days:o,hours:s,minutes:a,seconds:n,milliseconds:1,weeks:6048e5},f=l(function(_){return _ instanceof k},"c"),m=l(function(_,C,E){return new k(_,E,C.$l)},"f"),y=l(function(_){return i.p(_)+"s"},"m"),b=l(function(_){return _<0},"l"),v=l(function(_){return b(_)?Math.ceil(_):Math.floor(_)},"$"),x=l(function(_){return Math.abs(_)},"y"),w=l(function(_,C){return _?b(_)?{negative:!0,format:""+x(_)+C}:{negative:!1,format:""+_+C}:{negative:!1,format:""}},"v"),k=function(){function _(E,N,M){var I=this;if(this.$d={},this.$l=M,E===void 0&&(this.$ms=0,this.parseFromMilliseconds()),N)return m(E*g[y(N)],this);if(typeof E=="number")return this.$ms=E,this.parseFromMilliseconds(),this;if(typeof E=="object")return Object.keys(E).forEach(function(S){I.$d[y(S)]=E[S]}),this.calMilliseconds(),this;if(typeof E=="string"){var A=E.match(p);if(A){var B=A.slice(2).map(function(S){return S!=null?Number(S):0});return this.$d.years=B[0],this.$d.months=B[1],this.$d.weeks=B[2],this.$d.days=B[3],this.$d.hours=B[4],this.$d.minutes=B[5],this.$d.seconds=B[6],this.calMilliseconds(),this}}return this}l(_,"l");var C=_.prototype;return C.calMilliseconds=function(){var E=this;this.$ms=Object.keys(this.$d).reduce(function(N,M){return N+(E.$d[M]||0)*g[M]},0)},C.parseFromMilliseconds=function(){var E=this.$ms;this.$d.years=v(E/h),E%=h,this.$d.months=v(E/d),E%=d,this.$d.days=v(E/o),E%=o,this.$d.hours=v(E/s),E%=s,this.$d.minutes=v(E/a),E%=a,this.$d.seconds=v(E/n),E%=n,this.$d.milliseconds=E},C.toISOString=function(){var E=w(this.$d.years,"Y"),N=w(this.$d.months,"M"),M=+this.$d.days||0;this.$d.weeks&&(M+=7*this.$d.weeks);var I=w(M,"D"),A=w(this.$d.hours,"H"),B=w(this.$d.minutes,"M"),S=this.$d.seconds||0;this.$d.milliseconds&&(S+=this.$d.milliseconds/1e3,S=Math.round(1e3*S)/1e3);var O=w(S,"S"),R=E.negative||N.negative||I.negative||A.negative||B.negative||O.negative,P=A.format||B.format||O.format?"T":"",L=(R?"-":"")+"P"+E.format+N.format+I.format+P+A.format+B.format+O.format;return L==="P"||L==="-P"?"P0D":L},C.toJSON=function(){return this.toISOString()},C.format=function(E){var N=E||"YYYY-MM-DDTHH:mm:ss",M={Y:this.$d.years,YY:i.s(this.$d.years,2,"0"),YYYY:i.s(this.$d.years,4,"0"),M:this.$d.months,MM:i.s(this.$d.months,2,"0"),D:this.$d.days,DD:i.s(this.$d.days,2,"0"),H:this.$d.hours,HH:i.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:i.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:i.s(this.$d.seconds,2,"0"),SSS:i.s(this.$d.milliseconds,3,"0")};return N.replace(u,function(I,A){return A||String(M[I])})},C.as=function(E){return this.$ms/g[y(E)]},C.get=function(E){var N=this.$ms,M=y(E);return M==="milliseconds"?N%=1e3:N=M==="weeks"?v(N/g[M]):this.$d[M],N||0},C.add=function(E,N,M){var I;return I=N?E*g[y(N)]:f(E)?E.$ms:m(E,this).$ms,m(this.$ms+I*(M?-1:1),this)},C.subtract=function(E,N){return this.add(E,N,!0)},C.locale=function(E){var N=this.clone();return N.$l=E,N},C.clone=function(){return m(this.$ms,this)},C.humanize=function(E){return r().add(this.$ms,"ms").locale(this.$l).fromNow(!E)},C.valueOf=function(){return this.asMilliseconds()},C.milliseconds=function(){return this.get("milliseconds")},C.asMilliseconds=function(){return this.as("milliseconds")},C.seconds=function(){return this.get("seconds")},C.asSeconds=function(){return this.as("seconds")},C.minutes=function(){return this.get("minutes")},C.asMinutes=function(){return this.as("minutes")},C.hours=function(){return this.get("hours")},C.asHours=function(){return this.as("hours")},C.days=function(){return this.get("days")},C.asDays=function(){return this.as("days")},C.weeks=function(){return this.get("weeks")},C.asWeeks=function(){return this.as("weeks")},C.months=function(){return this.get("months")},C.asMonths=function(){return this.as("months")},C.years=function(){return this.get("years")},C.asYears=function(){return this.as("years")},_}(),T=l(function(_,C,E){return _.add(C.years()*E,"y").add(C.months()*E,"M").add(C.days()*E,"d").add(C.hours()*E,"h").add(C.minutes()*E,"m").add(C.seconds()*E,"s").add(C.milliseconds()*E,"ms")},"p");return function(_,C,E){r=E,i=E().$utils(),E.duration=function(I,A){var B=E.locale();return m(I,{$l:B},A)},E.isDuration=f;var N=C.prototype.add,M=C.prototype.subtract;C.prototype.add=function(I,A){return f(I)?T(this,I,1):N.bind(this)(I,A)},C.prototype.subtract=function(I,A){return f(I)?T(this,I,-1):M.bind(this)(I,A)}}})}),xf,hMe,dMe,VG,pMe,Xc,I7,gMe,fMe,xJe=D(()=>{"use strict";xf=zn(j8(),1),hMe=zn(bJe(),1),st(),hr(),cr(),Gt(),an(),xf.default.extend(hMe.default),dMe=l(function(){ne.debug("Something is calling, setConf, remove the call")},"setConf"),VG={monday:rg,tuesday:G_,wednesday:U_,thursday:Eu,friday:q_,saturday:j_,sunday:tg},pMe=l((e,t)=>{let r=[...e].map(()=>-1/0),i=[...e].sort((a,s)=>a.startTime-s.startTime||a.order-s.order),n=0;for(let a of i)for(let s=0;s<r.length;s++)if(a.startTime>=r[s]){r[s]=a.endTime,a.order=s+t,s>n&&(n=s);break}return n},"getMaxIntersections"),I7=1e4,gMe=l(function(e,t,r,i){let n=Ee().gantt,a=Ee().securityLevel,s;a==="sandbox"&&(s=Ke("#i"+t));let o=Ke(a==="sandbox"?s.nodes()[0].contentDocument.body:"body"),u=a==="sandbox"?s.nodes()[0].contentDocument:document,h=u.getElementById(t);Xc=h.parentElement.offsetWidth,Xc===void 0&&(Xc=1200),n.useWidth!==void 0&&(Xc=n.useWidth);let d=i.db.getTasks(),p=[];for(let N of d)p.push(N.type);p=E(p);let g={},f=2*n.topPadding;if(i.db.getDisplayMode()==="compact"||n.displayMode==="compact"){let N={};for(let I of d)N[I.section]===void 0?N[I.section]=[I]:N[I.section].push(I);let M=0;for(let I of Object.keys(N)){let A=pMe(N[I],M)+1;M+=A,f+=A*(n.barHeight+n.barGap),g[I]=A}}else{f+=d.length*(n.barHeight+n.barGap);for(let N of p)g[N]=d.filter(M=>M.type===N).length}h.setAttribute("viewBox","0 0 "+Xc+" "+f);let m=o.select(`[id="${t}"]`),y=Kte().domain([TX(d,function(N){return N.startTime}),kX(d,function(N){return N.endTime})]).rangeRound([0,Xc-n.leftPadding-n.rightPadding]);function b(N,M){let I=N.startTime,A=M.startTime,B=0;return I>A?B=1:I<A&&(B=-1),B}l(b,"taskCompare"),d.sort(b),v(d,Xc,f),Wn(m,f,Xc,n.useMaxWidth),m.append("text").text(i.db.getDiagramTitle()).attr("x",Xc/2).attr("y",n.titleTopMargin).attr("class","titleText");function v(N,M,I){let A=n.barHeight,B=A+n.barGap,S=n.topPadding,O=n.leftPadding,R=jh().domain([0,p.length]).range(["#00B9FA","#F95002"]).interpolate(cQ);w(B,S,O,M,I,N,i.db.getExcludes(),i.db.getIncludes()),T(O,S,M,I),x(N,B,S,O,A,R,M,I),_(B,S,O,A,R),C(O,S,M,I)}l(v,"makeGantt");function x(N,M,I,A,B,S,O){N.sort(($,F)=>$.vert===F.vert?0:$.vert?1:-1);let R=[...new Set(N.map($=>$.order))].map($=>N.find(F=>F.order===$));m.append("g").selectAll("rect").data(R).enter().append("rect").attr("x",0).attr("y",function($,F){return F=$.order,F*M+I-2}).attr("width",function(){return O-n.rightPadding/2}).attr("height",M).attr("class",function($){for(let[F,G]of p.entries())if($.type===G)return"section section"+F%n.numberSectionStyles;return"section section0"}).enter();let P=m.append("g").selectAll("rect").data(N).enter(),L=i.db.getLinks();if(P.append("rect").attr("id",function($){return $.id}).attr("rx",3).attr("ry",3).attr("x",function($){return $.milestone?y($.startTime)+A+.5*(y($.endTime)-y($.startTime))-.5*B:y($.startTime)+A}).attr("y",function($,F){return F=$.order,$.vert?n.gridLineStartPadding:F*M+I}).attr("width",function($){return $.milestone?B:$.vert?.08*B:y($.renderEndTime||$.endTime)-y($.startTime)}).attr("height",function($){return $.vert?d.length*(n.barHeight+n.barGap)+n.barHeight*2:B}).attr("transform-origin",function($,F){return F=$.order,(y($.startTime)+A+.5*(y($.endTime)-y($.startTime))).toString()+"px "+(F*M+I+.5*B).toString()+"px"}).attr("class",function($){let F="task",G="";$.classes.length>0&&(G=$.classes.join(" "));let q=0;for(let[H,ae]of p.entries())$.type===ae&&(q=H%n.numberSectionStyles);let V="";return $.active?$.crit?V+=" activeCrit":V=" active":$.done?$.crit?V=" doneCrit":V=" done":$.crit&&(V+=" crit"),V.length===0&&(V=" task"),$.milestone&&(V=" milestone "+V),$.vert&&(V=" vert "+V),V+=q,V+=" "+G,F+V}),P.append("text").attr("id",function($){return $.id+"-text"}).text(function($){return $.task}).attr("font-size",n.fontSize).attr("x",function($){let F=y($.startTime),G=y($.renderEndTime||$.endTime);if($.milestone&&(F+=.5*(y($.endTime)-y($.startTime))-.5*B,G=F+B),$.vert)return y($.startTime)+A;let q=this.getBBox().width;return q>G-F?G+q+1.5*n.leftPadding>O?F+A-5:G+A+5:(G-F)/2+F+A}).attr("y",function($,F){return $.vert?n.gridLineStartPadding+d.length*(n.barHeight+n.barGap)+60:(F=$.order,F*M+n.barHeight/2+(n.fontSize/2-2)+I)}).attr("text-height",B).attr("class",function($){let F=y($.startTime),G=y($.endTime);$.milestone&&(G=F+B);let q=this.getBBox().width,V="";$.classes.length>0&&(V=$.classes.join(" "));let H=0;for(let[re,oe]of p.entries())$.type===oe&&(H=re%n.numberSectionStyles);let ae="";return $.active&&($.crit?ae="activeCritText"+H:ae="activeText"+H),$.done?$.crit?ae=ae+" doneCritText"+H:ae=ae+" doneText"+H:$.crit&&(ae=ae+" critText"+H),$.milestone&&(ae+=" milestoneText"),$.vert&&(ae+=" vertText"),q>G-F?G+q+1.5*n.leftPadding>O?V+" taskTextOutsideLeft taskTextOutside"+H+" "+ae:V+" taskTextOutsideRight taskTextOutside"+H+" "+ae+" width-"+q:V+" taskText taskText"+H+" "+ae+" width-"+q}),Ee().securityLevel==="sandbox"){let $;$=Ke("#i"+t);let F=$.nodes()[0].contentDocument;P.filter(function(G){return L.has(G.id)}).each(function(G){var q=F.querySelector("#"+G.id),V=F.querySelector("#"+G.id+"-text");let H=q.parentNode;var ae=F.createElement("a");ae.setAttribute("xlink:href",L.get(G.id)),ae.setAttribute("target","_top"),H.appendChild(ae),ae.appendChild(q),ae.appendChild(V)})}}l(x,"drawRects");function w(N,M,I,A,B,S,O,R){if(O.length===0&&R.length===0)return;let P,L;for(let{startTime:V,endTime:H}of S)(P===void 0||V<P)&&(P=V),(L===void 0||H>L)&&(L=H);if(!P||!L)return;if((0,xf.default)(L).diff((0,xf.default)(P),"year")>5){ne.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}let $=i.db.getDateFormat(),F=[],G=null,q=(0,xf.default)(P);for(;q.valueOf()<=L;)i.db.isInvalidDate(q,$,O,R)?G?G.end=q:G={start:q,end:q}:G&&(F.push(G),G=null),q=q.add(1,"d");m.append("g").selectAll("rect").data(F).enter().append("rect").attr("id",V=>"exclude-"+V.start.format("YYYY-MM-DD")).attr("x",V=>y(V.start.startOf("day"))+I).attr("y",n.gridLineStartPadding).attr("width",V=>y(V.end.endOf("day"))-y(V.start.startOf("day"))).attr("height",B-M-n.gridLineStartPadding).attr("transform-origin",function(V,H){return(y(V.start)+I+.5*(y(V.end)-y(V.start))).toString()+"px "+(H*N+.5*B).toString()+"px"}).attr("class","exclude-range")}l(w,"drawExcludeDays");function k(N,M,I,A){if(I<=0||N>M)return 1/0;let B=M-N,S=xf.default.duration({[A??"day"]:I}).asMilliseconds();return S<=0?1/0:Math.ceil(B/S)}l(k,"getEstimatedTickCount");function T(N,M,I,A){let B=i.db.getDateFormat(),S=i.db.getAxisFormat(),O;S?O=S:B==="D"?O="%d":O=n.axisFormat??"%Y-%m-%d";let R=IX(y).tickSize(-A+M+n.gridLineStartPadding).tickFormat(h5(O)),P=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(i.db.getTickInterval()||n.tickInterval);if(P!==null){let L=parseInt(P[1],10);if(isNaN(L)||L<=0)ne.warn(`Invalid tick interval value: "${P[1]}". Skipping custom tick interval.`);else{let $=P[2],F=i.db.getWeekday()||n.weekday,G=y.domain(),q=G[0],V=G[1],H=k(q,V,L,$);if(H>I7)ne.warn(`The tick interval "${L}${$}" would generate ${H} ticks, which exceeds the maximum allowed (${I7}). This may indicate an invalid date or time range. Skipping custom tick interval.`);else switch($){case"millisecond":R.ticks(Hh.every(L));break;case"second":R.ticks(Jl.every(L));break;case"minute":R.ticks(Jp.every(L));break;case"hour":R.ticks(eg.every(L));break;case"day":R.ticks(wu.every(L));break;case"week":R.ticks(VG[F].every(L));break;case"month":R.ticks(ig.every(L));break}}}if(m.append("g").attr("class","grid").attr("transform","translate("+N+", "+(A-50)+")").call(R).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),i.db.topAxisEnabled()||n.topAxis){let L=MX(y).tickSize(-A+M+n.gridLineStartPadding).tickFormat(h5(O));if(P!==null){let $=parseInt(P[1],10);if(isNaN($)||$<=0)ne.warn(`Invalid tick interval value: "${P[1]}". Skipping custom tick interval.`);else{let F=P[2],G=i.db.getWeekday()||n.weekday,q=y.domain(),V=q[0],H=q[1];if(k(V,H,$,F)<=I7)switch(F){case"millisecond":L.ticks(Hh.every($));break;case"second":L.ticks(Jl.every($));break;case"minute":L.ticks(Jp.every($));break;case"hour":L.ticks(eg.every($));break;case"day":L.ticks(wu.every($));break;case"week":L.ticks(VG[G].every($));break;case"month":L.ticks(ig.every($));break}}}m.append("g").attr("class","grid").attr("transform","translate("+N+", "+M+")").call(L).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}l(T,"makeGrid");function _(N,M){let I=0,A=Object.keys(g).map(B=>[B,g[B]]);m.append("g").selectAll("text").data(A).enter().append(function(B){let S=B[0].split(nt.lineBreakRegex),O=-(S.length-1)/2,R=u.createElementNS("http://www.w3.org/2000/svg","text");R.setAttribute("dy",O+"em");for(let[P,L]of S.entries()){let $=u.createElementNS("http://www.w3.org/2000/svg","tspan");$.setAttribute("alignment-baseline","central"),$.setAttribute("x","10"),P>0&&$.setAttribute("dy","1em"),$.textContent=L,R.appendChild($)}return R}).attr("x",10).attr("y",function(B,S){if(S>0)for(let O=0;O<S;O++)return I+=A[S-1][1],B[1]*N/2+I*N+M;else return B[1]*N/2+M}).attr("font-size",n.sectionFontSize).attr("class",function(B){for(let[S,O]of p.entries())if(B[0]===O)return"sectionTitle sectionTitle"+S%n.numberSectionStyles;return"sectionTitle"})}l(_,"vertLabels");function C(N,M,I,A){let B=i.db.getTodayMarker();if(B==="off")return;let S=m.append("g").attr("class","today"),O=new Date,R=S.append("line");R.attr("x1",y(O)+N).attr("x2",y(O)+N).attr("y1",n.titleTopMargin).attr("y2",A-n.titleTopMargin).attr("class","today"),B!==""&&R.attr("style",B.replace(/,/g,";"))}l(C,"drawToday");function E(N){let M={},I=[];for(let A=0,B=N.length;A<B;++A)Object.prototype.hasOwnProperty.call(M,N[A])||(M[N[A]]=!0,I.push(N[A]));return I}l(E,"checkUnique")},"draw"),fMe={setConf:dMe,draw:gMe}}),mMe,yMe,wJe=D(()=>{"use strict";mMe=l(e=>`
  .mermaid-main-font {
        font-family: ${e.fontFamily};
  }

  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: ${e.fontFamily};
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${e.fontFamily};
    fill: ${e.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: ${e.fontFamily};
  }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    font-family: ${e.fontFamily};
  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .vert {
    stroke: ${e.vertLineColor};
  }

  .vertText {
    font-size: 15px;
    text-anchor: middle;
    fill: ${e.vertLineColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.titleColor||e.textColor};
    font-family: ${e.fontFamily};
  }
`,"getStyles"),yMe=mMe}),vMe={};sr(vMe,{diagram:()=>bMe});var bMe,kJe=D(()=>{"use strict";gJe(),vJe(),xJe(),wJe(),bMe={parser:ENe,db:uMe,renderer:fMe,styles:yMe}}),xMe,TJe=D(()=>{"use strict";tp(),st(),xMe={parse:l(async e=>{let t=await Hc("info",e);ne.debug(t)},"parse")}}),D7,wMe=D(()=>{D7={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}}}),kMe,TMe,EMe,EJe=D(()=>{"use strict";wMe(),kMe={version:D7.version+""},TMe=l(()=>kMe.version,"getVersion"),EMe={getVersion:TMe}}),Il,Kc=D(()=>{"use strict";hr(),Gt(),Il=l(e=>{let{securityLevel:t}=Ee(),r=Ke("body");if(t==="sandbox"){let i=Ke(`#i${e}`).node()?.contentDocument??document;r=Ke(i.body)}return r.select(`#${e}`)},"selectSvgElement")}),CMe,SMe,CJe=D(()=>{"use strict";st(),Kc(),an(),CMe=l((e,t,r)=>{ne.debug(`rendering info diagram
`+e);let i=Il(t);Wn(i,100,400,!0),i.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw"),SMe={draw:CMe}}),_Me={};sr(_Me,{diagram:()=>AMe});var AMe,SJe=D(()=>{"use strict";TJe(),EJe(),CJe(),AMe={parser:xMe,db:EMe,renderer:SMe}}),YG,R7,bx,O7,LMe,NMe,MMe,IMe,DMe,RMe,OMe,WG,PMe=D(()=>{"use strict";st(),Di(),ua(),YG=xr.pie,R7={sections:new Map,showData:!1,config:YG},bx=R7.sections,O7=R7.showData,LMe=structuredClone(YG),NMe=l(()=>structuredClone(LMe),"getConfig"),MMe=l(()=>{bx=new Map,O7=R7.showData,Ni()},"clear"),IMe=l(({label:e,value:t})=>{if(t<0)throw new Error(`"${e}" has invalid value: ${t}. Negative values are not allowed in pie charts. All slice values must be >= 0.`);bx.has(e)||(bx.set(e,t),ne.debug(`added new section: ${e}, with value: ${t}`))},"addSection"),DMe=l(()=>bx,"getSections"),RMe=l(e=>{O7=e},"setShowData"),OMe=l(()=>O7,"getShowData"),WG={getConfig:NMe,clear:MMe,setDiagramTitle:sn,getDiagramTitle:Ii,setAccTitle:Mi,getAccTitle:Gi,setAccDescription:Ui,getAccDescription:qi,addSection:IMe,getSections:DMe,setShowData:RMe,getShowData:OMe}}),BMe,$Me,_Je=D(()=>{"use strict";tp(),st(),gf(),PMe(),BMe=l((e,t)=>{rp(e,t),t.setShowData(e.showData),e.sections.map(t.addSection)},"populateDb"),$Me={parse:l(async e=>{let t=await Hc("pie",e);ne.debug(t),BMe(t,WG)},"parse")}}),FMe,zMe,AJe=D(()=>{"use strict";FMe=l(e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${e.pieOuterStrokeColor};
    stroke-width: ${e.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,"getStyles"),zMe=FMe}),GMe,UMe,qMe,LJe=D(()=>{"use strict";hr(),Gt(),st(),Kc(),an(),Zt(),GMe=l(e=>{let t=[...e.values()].reduce((i,n)=>i+n,0),r=[...e.entries()].map(([i,n])=>({label:i,value:n})).filter(i=>i.value/t*100>=1).sort((i,n)=>n.value-i.value);return gre().value(i=>i.value)(r)},"createPieArcs"),UMe=l((e,t,r,i)=>{ne.debug(`rendering pie chart
`+e);let n=i.db,a=Ee(),s=ma(n.getConfig(),a.pie),o=40,u=18,h=4,d=450,p=d,g=Il(t),f=g.append("g");f.attr("transform","translate("+p/2+","+d/2+")");let{themeVariables:m}=a,[y]=Iu(m.pieOuterStrokeWidth);y??=2;let b=s.textPosition,v=Math.min(p,d)/2-o,x=Wh().innerRadius(0).outerRadius(v),w=Wh().innerRadius(v*b).outerRadius(v*b);f.append("circle").attr("cx",0).attr("cy",0).attr("r",v+y/2).attr("class","pieOuterCircle");let k=n.getSections(),T=GMe(k),_=[m.pie1,m.pie2,m.pie3,m.pie4,m.pie5,m.pie6,m.pie7,m.pie8,m.pie9,m.pie10,m.pie11,m.pie12],C=0;k.forEach(S=>{C+=S});let E=T.filter(S=>(S.data.value/C*100).toFixed(0)!=="0"),N=bu(_);f.selectAll("mySlices").data(E).enter().append("path").attr("d",x).attr("fill",S=>N(S.data.label)).attr("class","pieCircle"),f.selectAll("mySlices").data(E).enter().append("text").text(S=>(S.data.value/C*100).toFixed(0)+"%").attr("transform",S=>"translate("+w.centroid(S)+")").style("text-anchor","middle").attr("class","slice"),f.append("text").text(n.getDiagramTitle()).attr("x",0).attr("y",-(d-50)/2).attr("class","pieTitleText");let M=[...k.entries()].map(([S,O])=>({label:S,value:O})),I=f.selectAll(".legend").data(M).enter().append("g").attr("class","legend").attr("transform",(S,O)=>{let R=u+h,P=R*M.length/2,L=12*u,$=O*R-P;return"translate("+L+","+$+")"});I.append("rect").attr("width",u).attr("height",u).style("fill",S=>N(S.label)).style("stroke",S=>N(S.label)),I.append("text").attr("x",u+h).attr("y",u-h).text(S=>n.getShowData()?`${S.label} [${S.value}]`:S.label);let A=Math.max(...I.selectAll("text").nodes().map(S=>S?.getBoundingClientRect().width??0)),B=p+o+u+h+A;g.attr("viewBox",`0 0 ${B} ${d}`),Wn(g,d,B,s.useMaxWidth)},"draw"),qMe={draw:UMe}}),jMe={};sr(jMe,{diagram:()=>HMe});var HMe,NJe=D(()=>{"use strict";_Je(),PMe(),AJe(),LJe(),HMe={parser:$Me,db:WG,renderer:qMe,styles:zMe}}),P7,VMe,MJe=D(()=>{"use strict";P7=function(){var e=l(function(z,te,se,pe){for(se=se||{},pe=z.length;pe--;se[z[pe]]=te);return se},"o"),t=[1,3],r=[1,4],i=[1,5],n=[1,6],a=[1,7],s=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],o=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],u=[55,56,57],h=[2,36],d=[1,37],p=[1,36],g=[1,38],f=[1,35],m=[1,43],y=[1,41],b=[1,14],v=[1,23],x=[1,18],w=[1,19],k=[1,20],T=[1,21],_=[1,22],C=[1,24],E=[1,25],N=[1,26],M=[1,27],I=[1,28],A=[1,29],B=[1,32],S=[1,33],O=[1,34],R=[1,39],P=[1,40],L=[1,42],$=[1,44],F=[1,62],G=[1,61],q=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],V=[1,65],H=[1,66],ae=[1,67],re=[1,68],oe=[1,69],ue=[1,70],W=[1,71],ee=[1,72],X=[1,73],Z=[1,74],J=[1,75],he=[1,76],K=[4,5,6,7,8,9,10,11,12,13,14,15,18],me=[1,90],Y=[1,91],_e=[1,92],ce=[1,99],Ne=[1,93],Be=[1,96],je=[1,94],qe=[1,95],Se=[1,97],Re=[1,98],ve=[1,102],Fe=[10,55,56,57],de=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],Ve={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:l(function(z,te,se,pe,fe,we,Ce){var Te=we.length-1;switch(fe){case 23:this.$=we[Te];break;case 24:this.$=we[Te-1]+""+we[Te];break;case 26:this.$=we[Te-1]+we[Te];break;case 27:this.$=[we[Te].trim()];break;case 28:we[Te-2].push(we[Te].trim()),this.$=we[Te-2];break;case 29:this.$=we[Te-4],pe.addClass(we[Te-2],we[Te]);break;case 37:this.$=[];break;case 42:this.$=we[Te].trim(),pe.setDiagramTitle(this.$);break;case 43:this.$=we[Te].trim(),pe.setAccTitle(this.$);break;case 44:case 45:this.$=we[Te].trim(),pe.setAccDescription(this.$);break;case 46:pe.addSection(we[Te].substr(8)),this.$=we[Te].substr(8);break;case 47:pe.addPoint(we[Te-3],"",we[Te-1],we[Te],[]);break;case 48:pe.addPoint(we[Te-4],we[Te-3],we[Te-1],we[Te],[]);break;case 49:pe.addPoint(we[Te-4],"",we[Te-2],we[Te-1],we[Te]);break;case 50:pe.addPoint(we[Te-5],we[Te-4],we[Te-2],we[Te-1],we[Te]);break;case 51:pe.setXAxisLeftText(we[Te-2]),pe.setXAxisRightText(we[Te]);break;case 52:we[Te-1].text+=" \u27F6 ",pe.setXAxisLeftText(we[Te-1]);break;case 53:pe.setXAxisLeftText(we[Te]);break;case 54:pe.setYAxisBottomText(we[Te-2]),pe.setYAxisTopText(we[Te]);break;case 55:we[Te-1].text+=" \u27F6 ",pe.setYAxisBottomText(we[Te-1]);break;case 56:pe.setYAxisBottomText(we[Te]);break;case 57:pe.setQuadrant1Text(we[Te]);break;case 58:pe.setQuadrant2Text(we[Te]);break;case 59:pe.setQuadrant3Text(we[Te]);break;case 60:pe.setQuadrant4Text(we[Te]);break;case 64:this.$={text:we[Te],type:"text"};break;case 65:this.$={text:we[Te-1].text+""+we[Te],type:we[Te-1].type};break;case 66:this.$={text:we[Te],type:"text"};break;case 67:this.$={text:we[Te],type:"markdown"};break;case 68:this.$=we[Te];break;case 69:this.$=we[Te-1]+""+we[Te];break}},"anonymous"),table:[{18:t,26:1,27:2,28:r,55:i,56:n,57:a},{1:[3]},{18:t,26:8,27:2,28:r,55:i,56:n,57:a},{18:t,26:9,27:2,28:r,55:i,56:n,57:a},e(s,[2,33],{29:10}),e(o,[2,61]),e(o,[2,62]),e(o,[2,63]),{1:[2,30]},{1:[2,31]},e(u,h,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:d,5:p,10:g,12:f,13:m,14:y,18:b,25:v,35:x,37:w,39:k,41:T,42:_,48:C,50:E,51:N,52:M,53:I,54:A,60:B,61:S,63:O,64:R,65:P,66:L,67:$}),e(s,[2,34]),{27:45,55:i,56:n,57:a},e(u,[2,37]),e(u,h,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:d,5:p,10:g,12:f,13:m,14:y,18:b,25:v,35:x,37:w,39:k,41:T,42:_,48:C,50:E,51:N,52:M,53:I,54:A,60:B,61:S,63:O,64:R,65:P,66:L,67:$}),e(u,[2,39]),e(u,[2,40]),e(u,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},e(u,[2,45]),e(u,[2,46]),{18:[1,50]},{4:d,5:p,10:g,12:f,13:m,14:y,43:51,58:31,60:B,61:S,63:O,64:R,65:P,66:L,67:$},{4:d,5:p,10:g,12:f,13:m,14:y,43:52,58:31,60:B,61:S,63:O,64:R,65:P,66:L,67:$},{4:d,5:p,10:g,12:f,13:m,14:y,43:53,58:31,60:B,61:S,63:O,64:R,65:P,66:L,67:$},{4:d,5:p,10:g,12:f,13:m,14:y,43:54,58:31,60:B,61:S,63:O,64:R,65:P,66:L,67:$},{4:d,5:p,10:g,12:f,13:m,14:y,43:55,58:31,60:B,61:S,63:O,64:R,65:P,66:L,67:$},{4:d,5:p,10:g,12:f,13:m,14:y,43:56,58:31,60:B,61:S,63:O,64:R,65:P,66:L,67:$},{4:d,5:p,8:F,10:g,12:f,13:m,14:y,18:G,44:[1,57],47:[1,58],58:60,59:59,63:O,64:R,65:P,66:L,67:$},e(q,[2,64]),e(q,[2,66]),e(q,[2,67]),e(q,[2,70]),e(q,[2,71]),e(q,[2,72]),e(q,[2,73]),e(q,[2,74]),e(q,[2,75]),e(q,[2,76]),e(q,[2,77]),e(q,[2,78]),e(q,[2,79]),e(q,[2,80]),e(s,[2,35]),e(u,[2,38]),e(u,[2,42]),e(u,[2,43]),e(u,[2,44]),{3:64,4:V,5:H,6:ae,7:re,8:oe,9:ue,10:W,11:ee,12:X,13:Z,14:J,15:he,21:63},e(u,[2,53],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:y,18:G,49:[1,77],63:O,64:R,65:P,66:L,67:$}),e(u,[2,56],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:y,18:G,49:[1,78],63:O,64:R,65:P,66:L,67:$}),e(u,[2,57],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:y,18:G,63:O,64:R,65:P,66:L,67:$}),e(u,[2,58],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:y,18:G,63:O,64:R,65:P,66:L,67:$}),e(u,[2,59],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:y,18:G,63:O,64:R,65:P,66:L,67:$}),e(u,[2,60],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:y,18:G,63:O,64:R,65:P,66:L,67:$}),{45:[1,79]},{44:[1,80]},e(q,[2,65]),e(q,[2,81]),e(q,[2,82]),e(q,[2,83]),{3:82,4:V,5:H,6:ae,7:re,8:oe,9:ue,10:W,11:ee,12:X,13:Z,14:J,15:he,18:[1,81]},e(K,[2,23]),e(K,[2,1]),e(K,[2,2]),e(K,[2,3]),e(K,[2,4]),e(K,[2,5]),e(K,[2,6]),e(K,[2,7]),e(K,[2,8]),e(K,[2,9]),e(K,[2,10]),e(K,[2,11]),e(K,[2,12]),e(u,[2,52],{58:31,43:83,4:d,5:p,10:g,12:f,13:m,14:y,60:B,61:S,63:O,64:R,65:P,66:L,67:$}),e(u,[2,55],{58:31,43:84,4:d,5:p,10:g,12:f,13:m,14:y,60:B,61:S,63:O,64:R,65:P,66:L,67:$}),{46:[1,85]},{45:[1,86]},{4:me,5:Y,6:_e,8:ce,11:Ne,13:Be,16:89,17:je,18:qe,19:Se,20:Re,22:88,23:87},e(K,[2,24]),e(u,[2,51],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:y,18:G,63:O,64:R,65:P,66:L,67:$}),e(u,[2,54],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:y,18:G,63:O,64:R,65:P,66:L,67:$}),e(u,[2,47],{22:88,16:89,23:100,4:me,5:Y,6:_e,8:ce,11:Ne,13:Be,17:je,18:qe,19:Se,20:Re}),{46:[1,101]},e(u,[2,29],{10:ve}),e(Fe,[2,27],{16:103,4:me,5:Y,6:_e,8:ce,11:Ne,13:Be,17:je,18:qe,19:Se,20:Re}),e(de,[2,25]),e(de,[2,13]),e(de,[2,14]),e(de,[2,15]),e(de,[2,16]),e(de,[2,17]),e(de,[2,18]),e(de,[2,19]),e(de,[2,20]),e(de,[2,21]),e(de,[2,22]),e(u,[2,49],{10:ve}),e(u,[2,48],{22:88,16:89,23:104,4:me,5:Y,6:_e,8:ce,11:Ne,13:Be,17:je,18:qe,19:Se,20:Re}),{4:me,5:Y,6:_e,8:ce,11:Ne,13:Be,16:89,17:je,18:qe,19:Se,20:Re,22:105},e(de,[2,26]),e(u,[2,50],{10:ve}),e(Fe,[2,28],{16:103,4:me,5:Y,6:_e,8:ce,11:Ne,13:Be,17:je,18:qe,19:Se,20:Re})],defaultActions:{8:[2,30],9:[2,31]},parseError:l(function(z,te){if(te.recoverable)this.trace(z);else{var se=new Error(z);throw se.hash=te,se}},"parseError"),parse:l(function(z){var te=this,se=[0],pe=[],fe=[null],we=[],Ce=this.table,Te="",ze=0,He=0,at=0,$e=2,Ye=1,Ue=we.slice.call(arguments,1),Ge=Object.create(this.lexer),Xe={yy:{}};for(var kt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,kt)&&(Xe.yy[kt]=this.yy[kt]);Ge.setInput(z,Xe.yy),Xe.yy.lexer=Ge,Xe.yy.parser=this,typeof Ge.yylloc>"u"&&(Ge.yylloc={});var ct=Ge.yylloc;we.push(ct);var ot=Ge.options&&Ge.options.ranges;typeof Xe.yy.parseError=="function"?this.parseError=Xe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Et(be){se.length=se.length-2*be,fe.length=fe.length-be,we.length=we.length-be}l(Et,"popStack");function tt(){var be;return be=pe.pop()||Ge.lex()||Ye,typeof be!="number"&&(be instanceof Array&&(pe=be,be=pe.pop()),be=te.symbols_[be]||be),be}l(tt,"lex");for(var ht,ft,Qe,Ze,_t,jt,Pt={},Vr,lr,Jt,fr;;){if(Qe=se[se.length-1],this.defaultActions[Qe]?Ze=this.defaultActions[Qe]:((ht===null||typeof ht>"u")&&(ht=tt()),Ze=Ce[Qe]&&Ce[Qe][ht]),typeof Ze>"u"||!Ze.length||!Ze[0]){var Mr="";fr=[];for(Vr in Ce[Qe])this.terminals_[Vr]&&Vr>$e&&fr.push("'"+this.terminals_[Vr]+"'");Ge.showPosition?Mr="Parse error on line "+(ze+1)+`:
`+Ge.showPosition()+`
Expecting `+fr.join(", ")+", got '"+(this.terminals_[ht]||ht)+"'":Mr="Parse error on line "+(ze+1)+": Unexpected "+(ht==Ye?"end of input":"'"+(this.terminals_[ht]||ht)+"'"),this.parseError(Mr,{text:Ge.match,token:this.terminals_[ht]||ht,line:Ge.yylineno,loc:ct,expected:fr})}if(Ze[0]instanceof Array&&Ze.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Qe+", token: "+ht);switch(Ze[0]){case 1:se.push(ht),fe.push(Ge.yytext),we.push(Ge.yylloc),se.push(Ze[1]),ht=null,ft?(ht=ft,ft=null):(He=Ge.yyleng,Te=Ge.yytext,ze=Ge.yylineno,ct=Ge.yylloc,at>0&&at--);break;case 2:if(lr=this.productions_[Ze[1]][1],Pt.$=fe[fe.length-lr],Pt._$={first_line:we[we.length-(lr||1)].first_line,last_line:we[we.length-1].last_line,first_column:we[we.length-(lr||1)].first_column,last_column:we[we.length-1].last_column},ot&&(Pt._$.range=[we[we.length-(lr||1)].range[0],we[we.length-1].range[1]]),jt=this.performAction.apply(Pt,[Te,He,ze,Xe.yy,Ze[1],fe,we].concat(Ue)),typeof jt<"u")return jt;lr&&(se=se.slice(0,-1*lr*2),fe=fe.slice(0,-1*lr),we=we.slice(0,-1*lr)),se.push(this.productions_[Ze[1]][0]),fe.push(Pt.$),we.push(Pt._$),Jt=Ce[se[se.length-2]][se[se.length-1]],se.push(Jt);break;case 3:return!0}}return!0},"parse")},Q=function(){var z={EOF:1,parseError:l(function(te,se){if(this.yy.parser)this.yy.parser.parseError(te,se);else throw new Error(te)},"parseError"),setInput:l(function(te,se){return this.yy=se||this.yy||{},this._input=te,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var te=this._input[0];this.yytext+=te,this.yyleng++,this.offset++,this.match+=te,this.matched+=te;var se=te.match(/(?:\r\n?|\n).*/g);return se?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),te},"input"),unput:l(function(te){var se=te.length,pe=te.split(/(?:\r\n?|\n)/g);this._input=te+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-se),this.offset-=se;var fe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),pe.length-1&&(this.yylineno-=pe.length-1);var we=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:pe?(pe.length===fe.length?this.yylloc.first_column:0)+fe[fe.length-pe.length].length-pe[0].length:this.yylloc.first_column-se},this.options.ranges&&(this.yylloc.range=[we[0],we[0]+this.yyleng-se]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(te){this.unput(this.match.slice(te))},"less"),pastInput:l(function(){var te=this.matched.substr(0,this.matched.length-this.match.length);return(te.length>20?"...":"")+te.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var te=this.match;return te.length<20&&(te+=this._input.substr(0,20-te.length)),(te.substr(0,20)+(te.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var te=this.pastInput(),se=new Array(te.length+1).join("-");return te+this.upcomingInput()+`
`+se+"^"},"showPosition"),test_match:l(function(te,se){var pe,fe,we;if(this.options.backtrack_lexer&&(we={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(we.yylloc.range=this.yylloc.range.slice(0))),fe=te[0].match(/(?:\r\n?|\n).*/g),fe&&(this.yylineno+=fe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:fe?fe[fe.length-1].length-fe[fe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+te[0].length},this.yytext+=te[0],this.match+=te[0],this.matches=te,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(te[0].length),this.matched+=te[0],pe=this.performAction.call(this,this.yy,this,se,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),pe)return pe;if(this._backtrack){for(var Ce in we)this[Ce]=we[Ce];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var te,se,pe,fe;this._more||(this.yytext="",this.match="");for(var we=this._currentRules(),Ce=0;Ce<we.length;Ce++)if(pe=this._input.match(this.rules[we[Ce]]),pe&&(!se||pe[0].length>se[0].length)){if(se=pe,fe=Ce,this.options.backtrack_lexer){if(te=this.test_match(pe,we[Ce]),te!==!1)return te;if(this._backtrack){se=!1;continue}else return!1}else if(!this.options.flex)break}return se?(te=this.test_match(se,we[fe]),te!==!1?te:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var te=this.next();return te||this.lex()},"lex"),begin:l(function(te){this.conditionStack.push(te)},"begin"),popState:l(function(){var te=this.conditionStack.length-1;return te>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(te){return te=this.conditionStack.length-1-Math.abs(te||0),te>=0?this.conditionStack[te]:"INITIAL"},"topState"),pushState:l(function(te){this.begin(te)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(te,se,pe,fe){var we=fe;switch(pe){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return z}();Ve.lexer=Q;function Me(){this.yy={}}return l(Me,"Parser"),Me.prototype=Ve,Ve.Parser=Me,new Me}(),P7.parser=P7,VMe=P7}),oa,YMe,IJe=D(()=>{"use strict";hr(),ua(),st(),a4(),oa=Qf(),YMe=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}static{l(this,"QuadrantBuilder")}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:xr.quadrantChart?.chartWidth||500,chartWidth:xr.quadrantChart?.chartHeight||500,titlePadding:xr.quadrantChart?.titlePadding||10,titleFontSize:xr.quadrantChart?.titleFontSize||20,quadrantPadding:xr.quadrantChart?.quadrantPadding||5,xAxisLabelPadding:xr.quadrantChart?.xAxisLabelPadding||5,yAxisLabelPadding:xr.quadrantChart?.yAxisLabelPadding||5,xAxisLabelFontSize:xr.quadrantChart?.xAxisLabelFontSize||16,yAxisLabelFontSize:xr.quadrantChart?.yAxisLabelFontSize||16,quadrantLabelFontSize:xr.quadrantChart?.quadrantLabelFontSize||16,quadrantTextTopPadding:xr.quadrantChart?.quadrantTextTopPadding||5,pointTextPadding:xr.quadrantChart?.pointTextPadding||5,pointLabelFontSize:xr.quadrantChart?.pointLabelFontSize||12,pointRadius:xr.quadrantChart?.pointRadius||5,xAxisPosition:xr.quadrantChart?.xAxisPosition||"top",yAxisPosition:xr.quadrantChart?.yAxisPosition||"left",quadrantInternalBorderStrokeWidth:xr.quadrantChart?.quadrantInternalBorderStrokeWidth||1,quadrantExternalBorderStrokeWidth:xr.quadrantChart?.quadrantExternalBorderStrokeWidth||2}}getDefaultThemeConfig(){return{quadrant1Fill:oa.quadrant1Fill,quadrant2Fill:oa.quadrant2Fill,quadrant3Fill:oa.quadrant3Fill,quadrant4Fill:oa.quadrant4Fill,quadrant1TextFill:oa.quadrant1TextFill,quadrant2TextFill:oa.quadrant2TextFill,quadrant3TextFill:oa.quadrant3TextFill,quadrant4TextFill:oa.quadrant4TextFill,quadrantPointFill:oa.quadrantPointFill,quadrantPointTextFill:oa.quadrantPointTextFill,quadrantXAxisTextFill:oa.quadrantXAxisTextFill,quadrantYAxisTextFill:oa.quadrantYAxisTextFill,quadrantTitleFill:oa.quadrantTitleFill,quadrantInternalBorderStrokeFill:oa.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:oa.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,ne.info("clear called")}setData(e){this.data={...this.data,...e}}addPoints(e){this.data.points=[...e,...this.data.points]}addClass(e,t){this.classes.set(e,t)}setConfig(e){ne.trace("setConfig called with: ",e),this.config={...this.config,...e}}setThemeConfig(e){ne.trace("setThemeConfig called with: ",e),this.themeConfig={...this.themeConfig,...e}}calculateSpace(e,t,r,i){let n=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,a={top:e==="top"&&t?n:0,bottom:e==="bottom"&&t?n:0},s=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,o={left:this.config.yAxisPosition==="left"&&r?s:0,right:this.config.yAxisPosition==="right"&&r?s:0},u=this.config.titleFontSize+this.config.titlePadding*2,h={top:i?u:0},d=this.config.quadrantPadding+o.left,p=this.config.quadrantPadding+a.top+h.top,g=this.config.chartWidth-this.config.quadrantPadding*2-o.left-o.right,f=this.config.chartHeight-this.config.quadrantPadding*2-a.top-a.bottom-h.top,m=g/2,y=f/2;return{xAxisSpace:a,yAxisSpace:o,titleSpace:h,quadrantSpace:{quadrantLeft:d,quadrantTop:p,quadrantWidth:g,quadrantHalfWidth:m,quadrantHeight:f,quadrantHalfHeight:y}}}getAxisLabels(e,t,r,i){let{quadrantSpace:n,titleSpace:a}=i,{quadrantHalfHeight:s,quadrantHeight:o,quadrantLeft:u,quadrantHalfWidth:h,quadrantTop:d,quadrantWidth:p}=n,g=!!this.data.xAxisRightText,f=!!this.data.yAxisTopText,m=[];return this.data.xAxisLeftText&&t&&m.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+(g?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+a.top:this.config.xAxisLabelPadding+d+o+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&t&&m.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+h+(g?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+a.top:this.config.xAxisLabelPadding+d+o+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&r&&m.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+p+this.config.quadrantPadding,y:d+o-(f?s/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:f?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&r&&m.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+p+this.config.quadrantPadding,y:d+s-(f?s/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:f?"center":"left",horizontalPos:"top",rotation:-90}),m}getQuadrants(e){let{quadrantSpace:t}=e,{quadrantHalfHeight:r,quadrantLeft:i,quadrantHalfWidth:n,quadrantTop:a}=t,s=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+n,y:a,width:n,height:r,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:a,width:n,height:r,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:a+r,width:n,height:r,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+n,y:a+r,width:n,height:r,fill:this.themeConfig.quadrant4Fill}];for(let o of s)o.text.x=o.x+o.width/2,this.data.points.length===0?(o.text.y=o.y+o.height/2,o.text.horizontalPos="middle"):(o.text.y=o.y+this.config.quadrantTextTopPadding,o.text.horizontalPos="top");return s}getQuadrantPoints(e){let{quadrantSpace:t}=e,{quadrantHeight:r,quadrantLeft:i,quadrantTop:n,quadrantWidth:a}=t,s=jh().domain([0,1]).range([i,a+i]),o=jh().domain([0,1]).range([r+n,n]);return this.data.points.map(u=>{let h=this.classes.get(u.className);return h&&(u={...h,...u}),{x:s(u.x),y:o(u.y),fill:u.color??this.themeConfig.quadrantPointFill,radius:u.radius??this.config.pointRadius,text:{text:u.text,fill:this.themeConfig.quadrantPointTextFill,x:s(u.x),y:o(u.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:u.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:u.strokeWidth??"0px"}})}getBorders(e){let t=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:r}=e,{quadrantHalfHeight:i,quadrantHeight:n,quadrantLeft:a,quadrantHalfWidth:s,quadrantTop:o,quadrantWidth:u}=r;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a-t,y1:o,x2:a+u+t,y2:o},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a+u,y1:o+t,x2:a+u,y2:o+n-t},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a-t,y1:o+n,x2:a+u+t,y2:o+n},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a,y1:o+t,x2:a,y2:o+n-t},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:a+s,y1:o+t,x2:a+s,y2:o+n-t},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:a+t,y1:o+i,x2:a+u-t,y2:o+i}]}getTitle(e){if(e)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){let e=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),t=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),r=this.config.showTitle&&!!this.data.titleText,i=this.data.points.length>0?"bottom":this.config.xAxisPosition,n=this.calculateSpace(i,e,t,r);return{points:this.getQuadrantPoints(n),quadrants:this.getQuadrants(n),axisLabels:this.getAxisLabels(i,e,t,n),borderLines:this.getBorders(n),title:this.getTitle(r)}}}});function XG(e){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(e)}function WMe(e){return!/^\d+$/.test(e)}function XMe(e){return!/^\d+px$/.test(e)}var xx,DJe=D(()=>{"use strict";xx=class extends Error{static{l(this,"InvalidStyleError")}constructor(e,t,r){super(`value for ${e} ${t} is invalid, please use a valid ${r}`),this.name="InvalidStyleError"}},l(XG,"validateHexCode"),l(WMe,"validateNumber"),l(XMe,"validateSizeInPixels")});function Dl(e){return wr(e.trim(),cIe)}function KMe(e){Tn.setData({quadrant1Text:Dl(e.text)})}function ZMe(e){Tn.setData({quadrant2Text:Dl(e.text)})}function QMe(e){Tn.setData({quadrant3Text:Dl(e.text)})}function JMe(e){Tn.setData({quadrant4Text:Dl(e.text)})}function eIe(e){Tn.setData({xAxisLeftText:Dl(e.text)})}function tIe(e){Tn.setData({xAxisRightText:Dl(e.text)})}function rIe(e){Tn.setData({yAxisTopText:Dl(e.text)})}function iIe(e){Tn.setData({yAxisBottomText:Dl(e.text)})}function B7(e){let t={};for(let r of e){let[i,n]=r.trim().split(/\s*:\s*/);if(i==="radius"){if(WMe(n))throw new xx(i,n,"number");t.radius=parseInt(n)}else if(i==="color"){if(XG(n))throw new xx(i,n,"hex code");t.color=n}else if(i==="stroke-color"){if(XG(n))throw new xx(i,n,"hex code");t.strokeColor=n}else if(i==="stroke-width"){if(XMe(n))throw new xx(i,n,"number of pixels (eg. 10px)");t.strokeWidth=n}else throw new Error(`style named ${i} is not supported.`)}return t}function nIe(e,t,r,i,n){let a=B7(n);Tn.addPoints([{x:r,y:i,text:Dl(e.text),className:t,...a}])}function aIe(e,t){Tn.addClass(e,B7(t))}function sIe(e){Tn.setConfig({chartWidth:e})}function oIe(e){Tn.setConfig({chartHeight:e})}function lIe(){let e=Ee(),{themeVariables:t,quadrantChart:r}=e;return r&&Tn.setConfig(r),Tn.setThemeConfig({quadrant1Fill:t.quadrant1Fill,quadrant2Fill:t.quadrant2Fill,quadrant3Fill:t.quadrant3Fill,quadrant4Fill:t.quadrant4Fill,quadrant1TextFill:t.quadrant1TextFill,quadrant2TextFill:t.quadrant2TextFill,quadrant3TextFill:t.quadrant3TextFill,quadrant4TextFill:t.quadrant4TextFill,quadrantPointFill:t.quadrantPointFill,quadrantPointTextFill:t.quadrantPointTextFill,quadrantXAxisTextFill:t.quadrantXAxisTextFill,quadrantYAxisTextFill:t.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:t.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:t.quadrantInternalBorderStrokeFill,quadrantTitleFill:t.quadrantTitleFill}),Tn.setData({titleText:Ii()}),Tn.build()}var cIe,Tn,uIe,hIe,RJe=D(()=>{"use strict";Gt(),cr(),Di(),IJe(),DJe(),cIe=Ee(),l(Dl,"textSanitizer"),Tn=new YMe,l(KMe,"setQuadrant1Text"),l(ZMe,"setQuadrant2Text"),l(QMe,"setQuadrant3Text"),l(JMe,"setQuadrant4Text"),l(eIe,"setXAxisLeftText"),l(tIe,"setXAxisRightText"),l(rIe,"setYAxisTopText"),l(iIe,"setYAxisBottomText"),l(B7,"parseStyles"),l(nIe,"addPoint"),l(aIe,"addClass"),l(sIe,"setWidth"),l(oIe,"setHeight"),l(lIe,"getQuadrantData"),uIe=l(function(){Tn.clear(),Ni()},"clear"),hIe={setWidth:sIe,setHeight:oIe,setQuadrant1Text:KMe,setQuadrant2Text:ZMe,setQuadrant3Text:QMe,setQuadrant4Text:JMe,setXAxisLeftText:eIe,setXAxisRightText:tIe,setYAxisTopText:rIe,setYAxisBottomText:iIe,parseStyles:B7,addPoint:nIe,addClass:aIe,getQuadrantData:lIe,clear:uIe,setAccTitle:Mi,getAccTitle:Gi,setDiagramTitle:sn,getDiagramTitle:Ii,getAccDescription:qi,setAccDescription:Ui}}),dIe,pIe,OJe=D(()=>{"use strict";hr(),Gt(),st(),an(),dIe=l((e,t,r,i)=>{function n(_){return _==="top"?"hanging":"middle"}l(n,"getDominantBaseLine");function a(_){return _==="left"?"start":"middle"}l(a,"getTextAnchor");function s(_){return`translate(${_.x}, ${_.y}) rotate(${_.rotation||0})`}l(s,"getTransformation");let o=Ee();ne.debug(`Rendering quadrant chart
`+e);let u=o.securityLevel,h;u==="sandbox"&&(h=Ke("#i"+t));let d=Ke(u==="sandbox"?h.nodes()[0].contentDocument.body:"body").select(`[id="${t}"]`),p=d.append("g").attr("class","main"),g=o.quadrantChart?.chartWidth??500,f=o.quadrantChart?.chartHeight??500;Wn(d,f,g,o.quadrantChart?.useMaxWidth??!0),d.attr("viewBox","0 0 "+g+" "+f),i.db.setHeight(f),i.db.setWidth(g);let m=i.db.getQuadrantData(),y=p.append("g").attr("class","quadrants"),b=p.append("g").attr("class","border"),v=p.append("g").attr("class","data-points"),x=p.append("g").attr("class","labels"),w=p.append("g").attr("class","title");m.title&&w.append("text").attr("x",0).attr("y",0).attr("fill",m.title.fill).attr("font-size",m.title.fontSize).attr("dominant-baseline",n(m.title.horizontalPos)).attr("text-anchor",a(m.title.verticalPos)).attr("transform",s(m.title)).text(m.title.text),m.borderLines&&b.selectAll("line").data(m.borderLines).enter().append("line").attr("x1",_=>_.x1).attr("y1",_=>_.y1).attr("x2",_=>_.x2).attr("y2",_=>_.y2).style("stroke",_=>_.strokeFill).style("stroke-width",_=>_.strokeWidth);let k=y.selectAll("g.quadrant").data(m.quadrants).enter().append("g").attr("class","quadrant");k.append("rect").attr("x",_=>_.x).attr("y",_=>_.y).attr("width",_=>_.width).attr("height",_=>_.height).attr("fill",_=>_.fill),k.append("text").attr("x",0).attr("y",0).attr("fill",_=>_.text.fill).attr("font-size",_=>_.text.fontSize).attr("dominant-baseline",_=>n(_.text.horizontalPos)).attr("text-anchor",_=>a(_.text.verticalPos)).attr("transform",_=>s(_.text)).text(_=>_.text.text),x.selectAll("g.label").data(m.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(_=>_.text).attr("fill",_=>_.fill).attr("font-size",_=>_.fontSize).attr("dominant-baseline",_=>n(_.horizontalPos)).attr("text-anchor",_=>a(_.verticalPos)).attr("transform",_=>s(_));let T=v.selectAll("g.data-point").data(m.points).enter().append("g").attr("class","data-point");T.append("circle").attr("cx",_=>_.x).attr("cy",_=>_.y).attr("r",_=>_.radius).attr("fill",_=>_.fill).attr("stroke",_=>_.strokeColor).attr("stroke-width",_=>_.strokeWidth),T.append("text").attr("x",0).attr("y",0).text(_=>_.text.text).attr("fill",_=>_.text.fill).attr("font-size",_=>_.text.fontSize).attr("dominant-baseline",_=>n(_.text.horizontalPos)).attr("text-anchor",_=>a(_.text.verticalPos)).attr("transform",_=>s(_.text))},"draw"),pIe={draw:dIe}}),gIe={};sr(gIe,{diagram:()=>fIe});var fIe,PJe=D(()=>{"use strict";MJe(),RJe(),OJe(),fIe={parser:VMe,db:hIe,renderer:pIe,styles:l(()=>"","styles")}}),$7,mIe,BJe=D(()=>{"use strict";$7=function(){var e=l(function(O,R,P,L){for(P=P||{},L=O.length;L--;P[O[L]]=R);return P},"o"),t=[1,10,12,14,16,18,19,21,23],r=[2,6],i=[1,3],n=[1,5],a=[1,6],s=[1,7],o=[1,5,10,12,14,16,18,19,21,23,34,35,36],u=[1,25],h=[1,26],d=[1,28],p=[1,29],g=[1,30],f=[1,31],m=[1,32],y=[1,33],b=[1,34],v=[1,35],x=[1,36],w=[1,37],k=[1,43],T=[1,42],_=[1,47],C=[1,50],E=[1,10,12,14,16,18,19,21,23,34,35,36],N=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],M=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],I=[1,64],A={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:l(function(O,R,P,L,$,F,G){var q=F.length-1;switch($){case 5:L.setOrientation(F[q]);break;case 9:L.setDiagramTitle(F[q].text.trim());break;case 12:L.setLineData({text:"",type:"text"},F[q]);break;case 13:L.setLineData(F[q-1],F[q]);break;case 14:L.setBarData({text:"",type:"text"},F[q]);break;case 15:L.setBarData(F[q-1],F[q]);break;case 16:this.$=F[q].trim(),L.setAccTitle(this.$);break;case 17:case 18:this.$=F[q].trim(),L.setAccDescription(this.$);break;case 19:this.$=F[q-1];break;case 20:this.$=[Number(F[q-2]),...F[q]];break;case 21:this.$=[Number(F[q])];break;case 22:L.setXAxisTitle(F[q]);break;case 23:L.setXAxisTitle(F[q-1]);break;case 24:L.setXAxisTitle({type:"text",text:""});break;case 25:L.setXAxisBand(F[q]);break;case 26:L.setXAxisRangeData(Number(F[q-2]),Number(F[q]));break;case 27:this.$=F[q-1];break;case 28:this.$=[F[q-2],...F[q]];break;case 29:this.$=[F[q]];break;case 30:L.setYAxisTitle(F[q]);break;case 31:L.setYAxisTitle(F[q-1]);break;case 32:L.setYAxisTitle({type:"text",text:""});break;case 33:L.setYAxisRangeData(Number(F[q-2]),Number(F[q]));break;case 37:this.$={text:F[q],type:"text"};break;case 38:this.$={text:F[q],type:"text"};break;case 39:this.$={text:F[q],type:"markdown"};break;case 40:this.$=F[q];break;case 41:this.$=F[q-1]+""+F[q];break}},"anonymous"),table:[e(t,r,{3:1,4:2,7:4,5:i,34:n,35:a,36:s}),{1:[3]},e(t,r,{4:2,7:4,3:8,5:i,34:n,35:a,36:s}),e(t,r,{4:2,7:4,6:9,3:10,5:i,8:[1,11],34:n,35:a,36:s}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},e(o,[2,34]),e(o,[2,35]),e(o,[2,36]),{1:[2,1]},e(t,r,{4:2,7:4,3:21,5:i,34:n,35:a,36:s}),{1:[2,3]},e(o,[2,5]),e(t,[2,7],{4:22,34:n,35:a,36:s}),{11:23,37:24,38:u,39:h,40:27,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w},{11:39,13:38,24:k,27:T,29:40,30:41,37:24,38:u,39:h,40:27,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w},{11:45,15:44,27:_,33:46,37:24,38:u,39:h,40:27,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w},{11:49,17:48,24:C,37:24,38:u,39:h,40:27,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w},{11:52,17:51,24:C,37:24,38:u,39:h,40:27,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w},{20:[1,53]},{22:[1,54]},e(E,[2,18]),{1:[2,2]},e(E,[2,8]),e(E,[2,9]),e(N,[2,37],{40:55,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w}),e(N,[2,38]),e(N,[2,39]),e(M,[2,40]),e(M,[2,42]),e(M,[2,43]),e(M,[2,44]),e(M,[2,45]),e(M,[2,46]),e(M,[2,47]),e(M,[2,48]),e(M,[2,49]),e(M,[2,50]),e(M,[2,51]),e(E,[2,10]),e(E,[2,22],{30:41,29:56,24:k,27:T}),e(E,[2,24]),e(E,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:u,39:h,40:27,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w},e(E,[2,11]),e(E,[2,30],{33:60,27:_}),e(E,[2,32]),{31:[1,61]},e(E,[2,12]),{17:62,24:C},{25:63,27:I},e(E,[2,14]),{17:65,24:C},e(E,[2,16]),e(E,[2,17]),e(M,[2,41]),e(E,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},e(E,[2,31]),{27:[1,69]},e(E,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},e(E,[2,15]),e(E,[2,26]),e(E,[2,27]),{11:59,32:72,37:24,38:u,39:h,40:27,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w},e(E,[2,33]),e(E,[2,19]),{25:73,27:I},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:l(function(O,R){if(R.recoverable)this.trace(O);else{var P=new Error(O);throw P.hash=R,P}},"parseError"),parse:l(function(O){var R=this,P=[0],L=[],$=[null],F=[],G=this.table,q="",V=0,H=0,ae=0,re=2,oe=1,ue=F.slice.call(arguments,1),W=Object.create(this.lexer),ee={yy:{}};for(var X in this.yy)Object.prototype.hasOwnProperty.call(this.yy,X)&&(ee.yy[X]=this.yy[X]);W.setInput(O,ee.yy),ee.yy.lexer=W,ee.yy.parser=this,typeof W.yylloc>"u"&&(W.yylloc={});var Z=W.yylloc;F.push(Z);var J=W.options&&W.options.ranges;typeof ee.yy.parseError=="function"?this.parseError=ee.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function he(de){P.length=P.length-2*de,$.length=$.length-de,F.length=F.length-de}l(he,"popStack");function K(){var de;return de=L.pop()||W.lex()||oe,typeof de!="number"&&(de instanceof Array&&(L=de,de=L.pop()),de=R.symbols_[de]||de),de}l(K,"lex");for(var me,Y,_e,ce,Ne,Be,je={},qe,Se,Re,ve;;){if(_e=P[P.length-1],this.defaultActions[_e]?ce=this.defaultActions[_e]:((me===null||typeof me>"u")&&(me=K()),ce=G[_e]&&G[_e][me]),typeof ce>"u"||!ce.length||!ce[0]){var Fe="";ve=[];for(qe in G[_e])this.terminals_[qe]&&qe>re&&ve.push("'"+this.terminals_[qe]+"'");W.showPosition?Fe="Parse error on line "+(V+1)+`:
`+W.showPosition()+`
Expecting `+ve.join(", ")+", got '"+(this.terminals_[me]||me)+"'":Fe="Parse error on line "+(V+1)+": Unexpected "+(me==oe?"end of input":"'"+(this.terminals_[me]||me)+"'"),this.parseError(Fe,{text:W.match,token:this.terminals_[me]||me,line:W.yylineno,loc:Z,expected:ve})}if(ce[0]instanceof Array&&ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_e+", token: "+me);switch(ce[0]){case 1:P.push(me),$.push(W.yytext),F.push(W.yylloc),P.push(ce[1]),me=null,Y?(me=Y,Y=null):(H=W.yyleng,q=W.yytext,V=W.yylineno,Z=W.yylloc,ae>0&&ae--);break;case 2:if(Se=this.productions_[ce[1]][1],je.$=$[$.length-Se],je._$={first_line:F[F.length-(Se||1)].first_line,last_line:F[F.length-1].last_line,first_column:F[F.length-(Se||1)].first_column,last_column:F[F.length-1].last_column},J&&(je._$.range=[F[F.length-(Se||1)].range[0],F[F.length-1].range[1]]),Be=this.performAction.apply(je,[q,H,V,ee.yy,ce[1],$,F].concat(ue)),typeof Be<"u")return Be;Se&&(P=P.slice(0,-1*Se*2),$=$.slice(0,-1*Se),F=F.slice(0,-1*Se)),P.push(this.productions_[ce[1]][0]),$.push(je.$),F.push(je._$),Re=G[P[P.length-2]][P[P.length-1]],P.push(Re);break;case 3:return!0}}return!0},"parse")},B=function(){var O={EOF:1,parseError:l(function(R,P){if(this.yy.parser)this.yy.parser.parseError(R,P);else throw new Error(R)},"parseError"),setInput:l(function(R,P){return this.yy=P||this.yy||{},this._input=R,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var R=this._input[0];this.yytext+=R,this.yyleng++,this.offset++,this.match+=R,this.matched+=R;var P=R.match(/(?:\r\n?|\n).*/g);return P?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),R},"input"),unput:l(function(R){var P=R.length,L=R.split(/(?:\r\n?|\n)/g);this._input=R+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-P),this.offset-=P;var $=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),L.length-1&&(this.yylineno-=L.length-1);var F=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:L?(L.length===$.length?this.yylloc.first_column:0)+$[$.length-L.length].length-L[0].length:this.yylloc.first_column-P},this.options.ranges&&(this.yylloc.range=[F[0],F[0]+this.yyleng-P]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(R){this.unput(this.match.slice(R))},"less"),pastInput:l(function(){var R=this.matched.substr(0,this.matched.length-this.match.length);return(R.length>20?"...":"")+R.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var R=this.match;return R.length<20&&(R+=this._input.substr(0,20-R.length)),(R.substr(0,20)+(R.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var R=this.pastInput(),P=new Array(R.length+1).join("-");return R+this.upcomingInput()+`
`+P+"^"},"showPosition"),test_match:l(function(R,P){var L,$,F;if(this.options.backtrack_lexer&&(F={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(F.yylloc.range=this.yylloc.range.slice(0))),$=R[0].match(/(?:\r\n?|\n).*/g),$&&(this.yylineno+=$.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:$?$[$.length-1].length-$[$.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+R[0].length},this.yytext+=R[0],this.match+=R[0],this.matches=R,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(R[0].length),this.matched+=R[0],L=this.performAction.call(this,this.yy,this,P,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),L)return L;if(this._backtrack){for(var G in F)this[G]=F[G];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var R,P,L,$;this._more||(this.yytext="",this.match="");for(var F=this._currentRules(),G=0;G<F.length;G++)if(L=this._input.match(this.rules[F[G]]),L&&(!P||L[0].length>P[0].length)){if(P=L,$=G,this.options.backtrack_lexer){if(R=this.test_match(L,F[G]),R!==!1)return R;if(this._backtrack){P=!1;continue}else return!1}else if(!this.options.flex)break}return P?(R=this.test_match(P,F[$]),R!==!1?R:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var R=this.next();return R||this.lex()},"lex"),begin:l(function(R){this.conditionStack.push(R)},"begin"),popState:l(function(){var R=this.conditionStack.length-1;return R>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(R){return R=this.conditionStack.length-1-Math.abs(R||0),R>=0?this.conditionStack[R]:"INITIAL"},"topState"),pushState:l(function(R){this.begin(R)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(R,P,L,$){var F=$;switch(L){case 0:break;case 1:break;case 2:return this.popState(),34;case 3:return this.popState(),34;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 5;case 16:return 8;case 17:return this.pushState("axis_data"),"X_AXIS";case 18:return this.pushState("axis_data"),"Y_AXIS";case 19:return this.pushState("axis_band_data"),24;case 20:return 31;case 21:return this.pushState("data"),16;case 22:return this.pushState("data"),18;case 23:return this.pushState("data_inner"),24;case 24:return 27;case 25:return this.popState(),26;case 26:this.popState();break;case 27:this.pushState("string");break;case 28:this.popState();break;case 29:return"STR";case 30:return 24;case 31:return 26;case 32:return 43;case 33:return"COLON";case 34:return 44;case 35:return 28;case 36:return 45;case 37:return 46;case 38:return 48;case 39:return 50;case 40:return 47;case 41:return 41;case 42:return 49;case 43:return 42;case 44:break;case 45:return 35;case 46:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:xychart\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,24,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,18,21,22,23,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,22,24,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[28,29],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0}}};return O}();A.lexer=B;function S(){this.yy={}}return l(S,"Parser"),S.prototype=A,A.Parser=S,new S}(),$7.parser=$7,mIe=$7});function KG(e){return e.type==="bar"}function ZG(e){return e.type==="band"}function wf(e){return e.type==="linear"}var QG=D(()=>{"use strict";l(KG,"isBarPlot"),l(ZG,"isBandAxisData"),l(wf,"isLinearAxisData")}),JG,yIe=D(()=>{"use strict";po(),JG=class{constructor(e){this.parentGroup=e}static{l(this,"TextDimensionCalculatorWithFont")}getMaxDimension(e,t){if(!this.parentGroup)return{width:e.reduce((n,a)=>Math.max(a.length,n),0)*t,height:t};let r={width:0,height:0},i=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",t);for(let n of e){let a=zue(i,1,n),s=a?a.width:n.length*t,o=a?a.height:t;r.width=Math.max(r.width,s),r.height=Math.max(r.height,o)}return i.remove(),r}}}),eU,vIe=D(()=>{"use strict";eU=class{constructor(e,t,r,i){this.axisConfig=e,this.title=t,this.textDimensionCalculator=r,this.axisThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}static{l(this,"BaseAxis")}setRange(e){this.range=e,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=e[1]-e[0]:this.boundingRect.width=e[1]-e[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(e){this.axisPosition=e,this.setRange(this.range)}getTickDistance(){let e=this.getRange();return Math.abs(e[0]-e[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(e=>e.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){.7*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(.7*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(e){let t=e.height;if(this.axisConfig.showAxisLine&&t>this.axisConfig.axisLineWidth&&(t-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let r=this.getLabelDimension(),i=.2*e.width;this.outerPadding=Math.min(r.width/2,i);let n=r.height+this.axisConfig.labelPadding*2;this.labelTextHeight=r.height,n<=t&&(t-=n,this.showLabel=!0)}if(this.axisConfig.showTick&&t>=this.axisConfig.tickLength&&(this.showTick=!0,t-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let r=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=r.height+this.axisConfig.titlePadding*2;this.titleTextHeight=r.height,i<=t&&(t-=i,this.showTitle=!0)}this.boundingRect.width=e.width,this.boundingRect.height=e.height-t}calculateSpaceIfDrawnVertical(e){let t=e.width;if(this.axisConfig.showAxisLine&&t>this.axisConfig.axisLineWidth&&(t-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let r=this.getLabelDimension(),i=.2*e.height;this.outerPadding=Math.min(r.height/2,i);let n=r.width+this.axisConfig.labelPadding*2;n<=t&&(t-=n,this.showLabel=!0)}if(this.axisConfig.showTick&&t>=this.axisConfig.tickLength&&(this.showTick=!0,t-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let r=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=r.height+this.axisConfig.titlePadding*2;this.titleTextHeight=r.height,i<=t&&(t-=i,this.showTitle=!0)}this.boundingRect.width=e.width-t,this.boundingRect.height=e.height}calculateSpace(e){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(e):this.calculateSpaceIfDrawnHorizontally(e),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}getDrawableElementsForLeftAxis(){let e=[];if(this.showAxisLine){let t=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${t},${this.boundingRect.y} L ${t},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(t=>({text:t.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(t),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){let t=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(r=>({path:`M ${t},${this.getScaleValue(r)} L ${t-this.axisConfig.tickLength},${this.getScaleValue(r)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForBottomAxis(){let e=[];if(this.showAxisLine){let t=this.boundingRect.y+this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${t} L ${this.boundingRect.x+this.boundingRect.width},${t}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(t=>({text:t.toString(),x:this.getScaleValue(t),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let t=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(r=>({path:`M ${this.getScaleValue(r)},${t} L ${this.getScaleValue(r)},${t+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForTopAxis(){let e=[];if(this.showAxisLine){let t=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${t} L ${this.boundingRect.x+this.boundingRect.width},${t}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(t=>({text:t.toString(),x:this.getScaleValue(t),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let t=this.boundingRect.y;e.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(r=>({path:`M ${this.getScaleValue(r)},${t+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(r)},${t+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}}}),bIe,$Je=D(()=>{"use strict";hr(),st(),vIe(),bIe=class extends eU{static{l(this,"BandAxis")}constructor(e,t,r,i,n){super(e,i,n,t),this.categories=r,this.scale=i5().domain(this.categories).range(this.getRange())}setRange(e){super.setRange(e)}recalculateScale(){this.scale=i5().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),ne.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(e){return this.scale(e)??this.getRange()[0]}}}),xIe,FJe=D(()=>{"use strict";hr(),vIe(),xIe=class extends eU{static{l(this,"LinearAxis")}constructor(e,t,r,i,n){super(e,i,n,t),this.domain=r,this.scale=jh().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){let e=[...this.domain];this.axisPosition==="left"&&e.reverse(),this.scale=jh().domain(e).range(this.getRange())}getScaleValue(e){return this.scale(e)}}});function tU(e,t,r,i){let n=new JG(i);return ZG(e)?new bIe(t,r,e.categories,e.title,n):new xIe(t,r,[e.min,e.max],e.title,n)}var zJe=D(()=>{"use strict";QG(),yIe(),$Je(),FJe(),l(tU,"getAxis")});function wIe(e,t,r,i){let n=new JG(i);return new kIe(n,e,t,r)}var kIe,GJe=D(()=>{"use strict";yIe(),kIe=class{constructor(e,t,r,i){this.textDimensionCalculator=e,this.chartConfig=t,this.chartData=r,this.chartThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}static{l(this,"ChartTitle")}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){let t=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),r=Math.max(t.width,e.width),i=t.height+2*this.chartConfig.titlePadding;return t.width<=r&&t.height<=i&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=r,this.boundingRect.height=i,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){let e=[];return this.showChartTitle&&e.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),e}},l(wIe,"getChartTitleComponent")}),TIe,UJe=D(()=>{"use strict";hr(),TIe=class{constructor(e,t,r,i,n){this.plotData=e,this.xAxis=t,this.yAxis=r,this.orientation=i,this.plotIndex=n}static{l(this,"LinePlot")}getDrawableElement(){let e=this.plotData.data.map(r=>[this.xAxis.getScaleValue(r[0]),this.yAxis.getScaleValue(r[1])]),t;return this.orientation==="horizontal"?t=cg().y(r=>r[0]).x(r=>r[1])(e):t=cg().x(r=>r[0]).y(r=>r[1])(e),t?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:t,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}}}),EIe,qJe=D(()=>{"use strict";EIe=class{constructor(e,t,r,i,n,a){this.barData=e,this.boundingRect=t,this.xAxis=r,this.yAxis=i,this.orientation=n,this.plotIndex=a}static{l(this,"BarPlot")}getDrawableElement(){let e=this.barData.data.map(i=>[this.xAxis.getScaleValue(i[0]),this.yAxis.getScaleValue(i[1])]),t=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-.05),r=t/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(i=>({x:this.boundingRect.x,y:i[0]-r,height:t,width:i[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(i=>({x:i[0]-r,y:i[1],width:t,height:this.boundingRect.y+this.boundingRect.height-i[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}}});function CIe(e,t,r){return new SIe(e,t,r)}var SIe,jJe=D(()=>{"use strict";UJe(),qJe(),SIe=class{constructor(e,t,r){this.chartConfig=e,this.chartData=t,this.chartThemeConfig=r,this.boundingRect={x:0,y:0,width:0,height:0}}static{l(this,"BasePlot")}setAxes(e,t){this.xAxis=e,this.yAxis=t}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){return this.boundingRect.width=e.width,this.boundingRect.height=e.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");let e=[];for(let[t,r]of this.chartData.plots.entries())switch(r.type){case"line":{let i=new TIe(r,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,t);e.push(...i.getDrawableElement())}break;case"bar":{let i=new EIe(r,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,t);e.push(...i.getDrawableElement())}break}return e}},l(CIe,"getPlotComponent")}),_Ie,HJe=D(()=>{"use strict";zJe(),GJe(),jJe(),QG(),_Ie=class{constructor(e,t,r,i){this.chartConfig=e,this.chartData=t,this.componentStore={title:wIe(e,t,r,i),plot:CIe(e,t,r),xAxis:tU(t.xAxis,e.xAxis,{titleColor:r.xAxisTitleColor,labelColor:r.xAxisLabelColor,tickColor:r.xAxisTickColor,axisLineColor:r.xAxisLineColor},i),yAxis:tU(t.yAxis,e.yAxis,{titleColor:r.yAxisTitleColor,labelColor:r.yAxisLabelColor,tickColor:r.yAxisTickColor,axisLineColor:r.yAxisLineColor},i)}}static{l(this,"Orchestrator")}calculateVerticalSpace(){let e=this.chartConfig.width,t=this.chartConfig.height,r=0,i=0,n=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),a=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),s=this.componentStore.plot.calculateSpace({width:n,height:a});e-=s.width,t-=s.height,s=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:t}),i=s.height,t-=s.height,this.componentStore.xAxis.setAxisPosition("bottom"),s=this.componentStore.xAxis.calculateSpace({width:e,height:t}),t-=s.height,this.componentStore.yAxis.setAxisPosition("left"),s=this.componentStore.yAxis.calculateSpace({width:e,height:t}),r=s.width,e-=s.width,e>0&&(n+=e,e=0),t>0&&(a+=t,t=0),this.componentStore.plot.calculateSpace({width:n,height:a}),this.componentStore.plot.setBoundingBoxXY({x:r,y:i}),this.componentStore.xAxis.setRange([r,r+n]),this.componentStore.xAxis.setBoundingBoxXY({x:r,y:i+a}),this.componentStore.yAxis.setRange([i,i+a]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:i}),this.chartData.plots.some(o=>KG(o))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let e=this.chartConfig.width,t=this.chartConfig.height,r=0,i=0,n=0,a=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),s=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),o=this.componentStore.plot.calculateSpace({width:a,height:s});e-=o.width,t-=o.height,o=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:t}),r=o.height,t-=o.height,this.componentStore.xAxis.setAxisPosition("left"),o=this.componentStore.xAxis.calculateSpace({width:e,height:t}),e-=o.width,i=o.width,this.componentStore.yAxis.setAxisPosition("top"),o=this.componentStore.yAxis.calculateSpace({width:e,height:t}),t-=o.height,n=r+o.height,e>0&&(a+=e,e=0),t>0&&(s+=t,t=0),this.componentStore.plot.calculateSpace({width:a,height:s}),this.componentStore.plot.setBoundingBoxXY({x:i,y:n}),this.componentStore.yAxis.setRange([i,i+a]),this.componentStore.yAxis.setBoundingBoxXY({x:i,y:r}),this.componentStore.xAxis.setRange([n,n+s]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:n}),this.chartData.plots.some(u=>KG(u))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();let e=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(let t of Object.values(this.componentStore))e.push(...t.getDrawableElements());return e}}}),AIe,VJe=D(()=>{"use strict";HJe(),AIe=class{static{l(this,"XYChartBuilder")}static build(e,t,r,i){return new _Ie(e,t,r,i).getDrawableElement()}}});function rU(){let e=Qf(),t=Tr();return ma(e.xyChart,t.themeVariables.xyChart)}function iU(){let e=Tr();return ma(xr.xyChart,e.xyChart)}function nU(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function F7(e){let t=Tr();return wr(e.trim(),t)}function LIe(e){UIe=e}function NIe(e){e==="horizontal"?Tf.chartOrientation="horizontal":Tf.chartOrientation="vertical"}function MIe(e){zr.xAxis.title=F7(e.text)}function aU(e,t){zr.xAxis={type:"linear",title:zr.xAxis.title,min:e,max:t},wx=!0}function IIe(e){zr.xAxis={type:"band",title:zr.xAxis.title,categories:e.map(t=>F7(t.text))},wx=!0}function DIe(e){zr.yAxis.title=F7(e.text)}function RIe(e,t){zr.yAxis={type:"linear",title:zr.yAxis.title,min:e,max:t},G7=!0}function OIe(e){let t=Math.min(...e),r=Math.max(...e),i=wf(zr.yAxis)?zr.yAxis.min:1/0,n=wf(zr.yAxis)?zr.yAxis.max:-1/0;zr.yAxis={type:"linear",title:zr.yAxis.title,min:Math.min(i,t),max:Math.max(n,r)}}function sU(e){let t=[];if(e.length===0)return t;if(!wx){let r=wf(zr.xAxis)?zr.xAxis.min:1/0,i=wf(zr.xAxis)?zr.xAxis.max:-1/0;aU(Math.min(r,1),Math.max(i,e.length))}if(G7||OIe(e),ZG(zr.xAxis)&&(t=zr.xAxis.categories.map((r,i)=>[r,e[i]])),wf(zr.xAxis)){let r=zr.xAxis.min,i=zr.xAxis.max,n=(i-r)/(e.length-1),a=[];for(let s=r;s<=i;s+=n)a.push(`${s}`);t=a.map((s,o)=>[s,e[o]])}return t}function oU(e){return z7[e===0?0:e%z7.length]}function PIe(e,t){let r=sU(t);zr.plots.push({type:"line",strokeFill:oU(kf),strokeWidth:2,data:r}),kf++}function BIe(e,t){let r=sU(t);zr.plots.push({type:"bar",fill:oU(kf),data:r}),kf++}function $Ie(){if(zr.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return zr.title=Ii(),AIe.build(Tf,zr,Ef,UIe)}function FIe(){return Ef}function zIe(){return Tf}function GIe(){return zr}var kf,UIe,Tf,Ef,zr,z7,wx,G7,qIe,jIe,YJe=D(()=>{"use strict";pi(),ua(),a4(),Zt(),cr(),Di(),VJe(),QG(),kf=0,Tf=iU(),Ef=rU(),zr=nU(),z7=Ef.plotColorPalette.split(",").map(e=>e.trim()),wx=!1,G7=!1,l(rU,"getChartDefaultThemeConfig"),l(iU,"getChartDefaultConfig"),l(nU,"getChartDefaultData"),l(F7,"textSanitizer"),l(LIe,"setTmpSVGG"),l(NIe,"setOrientation"),l(MIe,"setXAxisTitle"),l(aU,"setXAxisRangeData"),l(IIe,"setXAxisBand"),l(DIe,"setYAxisTitle"),l(RIe,"setYAxisRangeData"),l(OIe,"setYAxisRangeFromPlotData"),l(sU,"transformDataWithoutCategory"),l(oU,"getPlotColorFromPalette"),l(PIe,"setLineData"),l(BIe,"setBarData"),l($Ie,"getDrawableElem"),l(FIe,"getChartThemeConfig"),l(zIe,"getChartConfig"),l(GIe,"getXYChartData"),qIe=l(function(){Ni(),kf=0,Tf=iU(),zr=nU(),Ef=rU(),z7=Ef.plotColorPalette.split(",").map(e=>e.trim()),wx=!1,G7=!1},"clear"),jIe={getDrawableElem:$Ie,clear:qIe,setAccTitle:Mi,getAccTitle:Gi,setDiagramTitle:sn,getDiagramTitle:Ii,getAccDescription:qi,setAccDescription:Ui,setOrientation:NIe,setXAxisTitle:MIe,setXAxisRangeData:aU,setXAxisBand:IIe,setYAxisTitle:DIe,setYAxisRangeData:RIe,setLineData:PIe,setBarData:BIe,setTmpSVGG:LIe,getChartThemeConfig:FIe,getChartConfig:zIe,getXYChartData:GIe}}),HIe,VIe,WJe=D(()=>{"use strict";st(),Kc(),an(),HIe=l((e,t,r,i)=>{let n=i.db,a=n.getChartThemeConfig(),s=n.getChartConfig(),o=n.getXYChartData().plots[0].data.map(w=>w[1]);function u(w){return w==="top"?"text-before-edge":"middle"}l(u,"getDominantBaseLine");function h(w){return w==="left"?"start":w==="right"?"end":"middle"}l(h,"getTextAnchor");function d(w){return`translate(${w.x}, ${w.y}) rotate(${w.rotation||0})`}l(d,"getTextTransformation"),ne.debug(`Rendering xychart chart
`+e);let p=Il(t),g=p.append("g").attr("class","main"),f=g.append("rect").attr("width",s.width).attr("height",s.height).attr("class","background");Wn(p,s.height,s.width,!0),p.attr("viewBox",`0 0 ${s.width} ${s.height}`),f.attr("fill",a.backgroundColor),n.setTmpSVGG(p.append("g").attr("class","mermaid-tmp-group"));let m=n.getDrawableElem(),y={};function b(w){let k=g,T="";for(let[_]of w.entries()){let C=g;_>0&&y[T]&&(C=y[T]),T+=w[_],k=y[T],k||(k=y[T]=C.append("g").attr("class",w[_]))}return k}l(b,"getGroup");for(let w of m){if(w.data.length===0)continue;let k=b(w.groupTexts);switch(w.type){case"rect":if(k.selectAll("rect").data(w.data).enter().append("rect").attr("x",T=>T.x).attr("y",T=>T.y).attr("width",T=>T.width).attr("height",T=>T.height).attr("fill",T=>T.fill).attr("stroke",T=>T.strokeFill).attr("stroke-width",T=>T.strokeWidth),s.showDataLabel)if(s.chartOrientation==="horizontal"){let T=function(M,I){let{data:A,label:B}=M;return I*B.length*.7<=A.width-10};var v=T;l(T,"fitsHorizontally");let _=.7,C=w.data.map((M,I)=>({data:M,label:o[I].toString()})).filter(M=>M.data.width>0&&M.data.height>0),E=C.map(M=>{let{data:I}=M,A=I.height*.7;for(;!T(M,A)&&A>0;)A-=1;return A}),N=Math.floor(Math.min(...E));k.selectAll("text").data(C).enter().append("text").attr("x",M=>M.data.x+M.data.width-10).attr("y",M=>M.data.y+M.data.height/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("fill","black").attr("font-size",`${N}px`).text(M=>M.label)}else{let T=function(M,I,A){let{data:B,label:S}=M,O=I*S.length*.7,R=B.x+B.width/2,P=R-O/2,L=R+O/2,$=P>=B.x&&L<=B.x+B.width,F=B.y+A+I<=B.y+B.height;return $&&F};var x=T;l(T,"fitsInBar");let _=10,C=w.data.map((M,I)=>({data:M,label:o[I].toString()})).filter(M=>M.data.width>0&&M.data.height>0),E=C.map(M=>{let{data:I,label:A}=M,B=I.width/(A.length*.7);for(;!T(M,B,10)&&B>0;)B-=1;return B}),N=Math.floor(Math.min(...E));k.selectAll("text").data(C).enter().append("text").attr("x",M=>M.data.x+M.data.width/2).attr("y",M=>M.data.y+10).attr("text-anchor","middle").attr("dominant-baseline","hanging").attr("fill","black").attr("font-size",`${N}px`).text(M=>M.label)}break;case"text":k.selectAll("text").data(w.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",T=>T.fill).attr("font-size",T=>T.fontSize).attr("dominant-baseline",T=>u(T.verticalPos)).attr("text-anchor",T=>h(T.horizontalPos)).attr("transform",T=>d(T)).text(T=>T.text);break;case"path":k.selectAll("path").data(w.data).enter().append("path").attr("d",T=>T.path).attr("fill",T=>T.fill?T.fill:"none").attr("stroke",T=>T.strokeFill).attr("stroke-width",T=>T.strokeWidth);break}}},"draw"),VIe={draw:HIe}}),YIe={};sr(YIe,{diagram:()=>WIe});var WIe,XJe=D(()=>{"use strict";BJe(),YJe(),WJe(),WIe={parser:mIe,db:jIe,renderer:VIe}}),U7,XIe,KJe=D(()=>{"use strict";U7=function(){var e=l(function(Ve,Q,Me,z){for(Me=Me||{},z=Ve.length;z--;Me[Ve[z]]=Q);return Me},"o"),t=[1,3],r=[1,4],i=[1,5],n=[1,6],a=[5,6,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],s=[1,22],o=[2,7],u=[1,26],h=[1,27],d=[1,28],p=[1,29],g=[1,33],f=[1,34],m=[1,35],y=[1,36],b=[1,37],v=[1,38],x=[1,24],w=[1,31],k=[1,32],T=[1,30],_=[1,39],C=[1,40],E=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],N=[1,61],M=[89,90],I=[5,8,9,11,13,21,22,23,24,27,29,41,42,43,44,45,46,54,61,63,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],A=[27,29],B=[1,70],S=[1,71],O=[1,72],R=[1,73],P=[1,74],L=[1,75],$=[1,76],F=[1,83],G=[1,80],q=[1,84],V=[1,85],H=[1,86],ae=[1,87],re=[1,88],oe=[1,89],ue=[1,90],W=[1,91],ee=[1,92],X=[5,8,9,11,13,21,22,23,24,27,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],Z=[63,64],J=[1,101],he=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,76,77,89,90],K=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],me=[1,110],Y=[1,106],_e=[1,107],ce=[1,108],Ne=[1,109],Be=[1,111],je=[1,116],qe=[1,117],Se=[1,114],Re=[1,115],ve={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,direction:17,styleStatement:18,classDefStatement:19,classStatement:20,direction_tb:21,direction_bt:22,direction_rl:23,direction_lr:24,requirementType:25,requirementName:26,STRUCT_START:27,requirementBody:28,STYLE_SEPARATOR:29,idList:30,ID:31,COLONSEP:32,id:33,TEXT:34,text:35,RISK:36,riskLevel:37,VERIFYMTHD:38,verifyType:39,STRUCT_STOP:40,REQUIREMENT:41,FUNCTIONAL_REQUIREMENT:42,INTERFACE_REQUIREMENT:43,PERFORMANCE_REQUIREMENT:44,PHYSICAL_REQUIREMENT:45,DESIGN_CONSTRAINT:46,LOW_RISK:47,MED_RISK:48,HIGH_RISK:49,VERIFY_ANALYSIS:50,VERIFY_DEMONSTRATION:51,VERIFY_INSPECTION:52,VERIFY_TEST:53,ELEMENT:54,elementName:55,elementBody:56,TYPE:57,type:58,DOCREF:59,ref:60,END_ARROW_L:61,relationship:62,LINE:63,END_ARROW_R:64,CONTAINS:65,COPIES:66,DERIVES:67,SATISFIES:68,VERIFIES:69,REFINES:70,TRACES:71,CLASSDEF:72,stylesOpt:73,CLASS:74,ALPHA:75,COMMA:76,STYLE:77,style:78,styleComponent:79,NUM:80,COLON:81,UNIT:82,SPACE:83,BRKT:84,PCT:85,MINUS:86,LABEL:87,SEMICOLON:88,unqString:89,qString:90,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",21:"direction_tb",22:"direction_bt",23:"direction_rl",24:"direction_lr",27:"STRUCT_START",29:"STYLE_SEPARATOR",31:"ID",32:"COLONSEP",34:"TEXT",36:"RISK",38:"VERIFYMTHD",40:"STRUCT_STOP",41:"REQUIREMENT",42:"FUNCTIONAL_REQUIREMENT",43:"INTERFACE_REQUIREMENT",44:"PERFORMANCE_REQUIREMENT",45:"PHYSICAL_REQUIREMENT",46:"DESIGN_CONSTRAINT",47:"LOW_RISK",48:"MED_RISK",49:"HIGH_RISK",50:"VERIFY_ANALYSIS",51:"VERIFY_DEMONSTRATION",52:"VERIFY_INSPECTION",53:"VERIFY_TEST",54:"ELEMENT",57:"TYPE",59:"DOCREF",61:"END_ARROW_L",63:"LINE",64:"END_ARROW_R",65:"CONTAINS",66:"COPIES",67:"DERIVES",68:"SATISFIES",69:"VERIFIES",70:"REFINES",71:"TRACES",72:"CLASSDEF",74:"CLASS",75:"ALPHA",76:"COMMA",77:"STYLE",80:"NUM",81:"COLON",82:"UNIT",83:"SPACE",84:"BRKT",85:"PCT",86:"MINUS",87:"LABEL",88:"SEMICOLON",89:"unqString",90:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[17,1],[17,1],[17,1],[17,1],[14,5],[14,7],[28,5],[28,5],[28,5],[28,5],[28,2],[28,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[37,1],[37,1],[37,1],[39,1],[39,1],[39,1],[39,1],[15,5],[15,7],[56,5],[56,5],[56,2],[56,1],[16,5],[16,5],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[19,3],[20,3],[20,3],[30,1],[30,3],[30,1],[30,3],[18,3],[73,1],[73,3],[78,1],[78,2],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[26,1],[26,1],[33,1],[33,1],[35,1],[35,1],[55,1],[55,1],[58,1],[58,1],[60,1],[60,1]],performAction:l(function(Ve,Q,Me,z,te,se,pe){var fe=se.length-1;switch(te){case 4:this.$=se[fe].trim(),z.setAccTitle(this.$);break;case 5:case 6:this.$=se[fe].trim(),z.setAccDescription(this.$);break;case 7:this.$=[];break;case 17:z.setDirection("TB");break;case 18:z.setDirection("BT");break;case 19:z.setDirection("RL");break;case 20:z.setDirection("LR");break;case 21:z.addRequirement(se[fe-3],se[fe-4]);break;case 22:z.addRequirement(se[fe-5],se[fe-6]),z.setClass([se[fe-5]],se[fe-3]);break;case 23:z.setNewReqId(se[fe-2]);break;case 24:z.setNewReqText(se[fe-2]);break;case 25:z.setNewReqRisk(se[fe-2]);break;case 26:z.setNewReqVerifyMethod(se[fe-2]);break;case 29:this.$=z.RequirementType.REQUIREMENT;break;case 30:this.$=z.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 31:this.$=z.RequirementType.INTERFACE_REQUIREMENT;break;case 32:this.$=z.RequirementType.PERFORMANCE_REQUIREMENT;break;case 33:this.$=z.RequirementType.PHYSICAL_REQUIREMENT;break;case 34:this.$=z.RequirementType.DESIGN_CONSTRAINT;break;case 35:this.$=z.RiskLevel.LOW_RISK;break;case 36:this.$=z.RiskLevel.MED_RISK;break;case 37:this.$=z.RiskLevel.HIGH_RISK;break;case 38:this.$=z.VerifyType.VERIFY_ANALYSIS;break;case 39:this.$=z.VerifyType.VERIFY_DEMONSTRATION;break;case 40:this.$=z.VerifyType.VERIFY_INSPECTION;break;case 41:this.$=z.VerifyType.VERIFY_TEST;break;case 42:z.addElement(se[fe-3]);break;case 43:z.addElement(se[fe-5]),z.setClass([se[fe-5]],se[fe-3]);break;case 44:z.setNewElementType(se[fe-2]);break;case 45:z.setNewElementDocRef(se[fe-2]);break;case 48:z.addRelationship(se[fe-2],se[fe],se[fe-4]);break;case 49:z.addRelationship(se[fe-2],se[fe-4],se[fe]);break;case 50:this.$=z.Relationships.CONTAINS;break;case 51:this.$=z.Relationships.COPIES;break;case 52:this.$=z.Relationships.DERIVES;break;case 53:this.$=z.Relationships.SATISFIES;break;case 54:this.$=z.Relationships.VERIFIES;break;case 55:this.$=z.Relationships.REFINES;break;case 56:this.$=z.Relationships.TRACES;break;case 57:this.$=se[fe-2],z.defineClass(se[fe-1],se[fe]);break;case 58:z.setClass(se[fe-1],se[fe]);break;case 59:z.setClass([se[fe-2]],se[fe]);break;case 60:case 62:this.$=[se[fe]];break;case 61:case 63:this.$=se[fe-2].concat([se[fe]]);break;case 64:this.$=se[fe-2],z.setCssStyle(se[fe-1],se[fe]);break;case 65:this.$=[se[fe]];break;case 66:se[fe-2].push(se[fe]),this.$=se[fe-2];break;case 68:this.$=se[fe-1]+se[fe];break}},"anonymous"),table:[{3:1,4:2,6:t,9:r,11:i,13:n},{1:[3]},{3:8,4:2,5:[1,7],6:t,9:r,11:i,13:n},{5:[1,9]},{10:[1,10]},{12:[1,11]},e(a,[2,6]),{3:12,4:2,6:t,9:r,11:i,13:n},{1:[2,2]},{4:17,5:s,7:13,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:_,90:C},e(a,[2,4]),e(a,[2,5]),{1:[2,1]},{8:[1,41]},{4:17,5:s,7:42,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:_,90:C},{4:17,5:s,7:43,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:_,90:C},{4:17,5:s,7:44,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:_,90:C},{4:17,5:s,7:45,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:_,90:C},{4:17,5:s,7:46,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:_,90:C},{4:17,5:s,7:47,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:_,90:C},{4:17,5:s,7:48,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:_,90:C},{4:17,5:s,7:49,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:_,90:C},{4:17,5:s,7:50,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:_,90:C},{26:51,89:[1,52],90:[1,53]},{55:54,89:[1,55],90:[1,56]},{29:[1,59],61:[1,57],63:[1,58]},e(E,[2,17]),e(E,[2,18]),e(E,[2,19]),e(E,[2,20]),{30:60,33:62,75:N,89:_,90:C},{30:63,33:62,75:N,89:_,90:C},{30:64,33:62,75:N,89:_,90:C},e(M,[2,29]),e(M,[2,30]),e(M,[2,31]),e(M,[2,32]),e(M,[2,33]),e(M,[2,34]),e(I,[2,81]),e(I,[2,82]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{27:[1,65],29:[1,66]},e(A,[2,79]),e(A,[2,80]),{27:[1,67],29:[1,68]},e(A,[2,85]),e(A,[2,86]),{62:69,65:B,66:S,67:O,68:R,69:P,70:L,71:$},{62:77,65:B,66:S,67:O,68:R,69:P,70:L,71:$},{30:78,33:62,75:N,89:_,90:C},{73:79,75:F,76:G,78:81,79:82,80:q,81:V,82:H,83:ae,84:re,85:oe,86:ue,87:W,88:ee},e(X,[2,60]),e(X,[2,62]),{73:93,75:F,76:G,78:81,79:82,80:q,81:V,82:H,83:ae,84:re,85:oe,86:ue,87:W,88:ee},{30:94,33:62,75:N,76:G,89:_,90:C},{5:[1,95]},{30:96,33:62,75:N,89:_,90:C},{5:[1,97]},{30:98,33:62,75:N,89:_,90:C},{63:[1,99]},e(Z,[2,50]),e(Z,[2,51]),e(Z,[2,52]),e(Z,[2,53]),e(Z,[2,54]),e(Z,[2,55]),e(Z,[2,56]),{64:[1,100]},e(E,[2,59],{76:G}),e(E,[2,64],{76:J}),{33:103,75:[1,102],89:_,90:C},e(he,[2,65],{79:104,75:F,80:q,81:V,82:H,83:ae,84:re,85:oe,86:ue,87:W,88:ee}),e(K,[2,67]),e(K,[2,69]),e(K,[2,70]),e(K,[2,71]),e(K,[2,72]),e(K,[2,73]),e(K,[2,74]),e(K,[2,75]),e(K,[2,76]),e(K,[2,77]),e(K,[2,78]),e(E,[2,57],{76:J}),e(E,[2,58],{76:G}),{5:me,28:105,31:Y,34:_e,36:ce,38:Ne,40:Be},{27:[1,112],76:G},{5:je,40:qe,56:113,57:Se,59:Re},{27:[1,118],76:G},{33:119,89:_,90:C},{33:120,89:_,90:C},{75:F,78:121,79:82,80:q,81:V,82:H,83:ae,84:re,85:oe,86:ue,87:W,88:ee},e(X,[2,61]),e(X,[2,63]),e(K,[2,68]),e(E,[2,21]),{32:[1,122]},{32:[1,123]},{32:[1,124]},{32:[1,125]},{5:me,28:126,31:Y,34:_e,36:ce,38:Ne,40:Be},e(E,[2,28]),{5:[1,127]},e(E,[2,42]),{32:[1,128]},{32:[1,129]},{5:je,40:qe,56:130,57:Se,59:Re},e(E,[2,47]),{5:[1,131]},e(E,[2,48]),e(E,[2,49]),e(he,[2,66],{79:104,75:F,80:q,81:V,82:H,83:ae,84:re,85:oe,86:ue,87:W,88:ee}),{33:132,89:_,90:C},{35:133,89:[1,134],90:[1,135]},{37:136,47:[1,137],48:[1,138],49:[1,139]},{39:140,50:[1,141],51:[1,142],52:[1,143],53:[1,144]},e(E,[2,27]),{5:me,28:145,31:Y,34:_e,36:ce,38:Ne,40:Be},{58:146,89:[1,147],90:[1,148]},{60:149,89:[1,150],90:[1,151]},e(E,[2,46]),{5:je,40:qe,56:152,57:Se,59:Re},{5:[1,153]},{5:[1,154]},{5:[2,83]},{5:[2,84]},{5:[1,155]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[1,156]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},e(E,[2,22]),{5:[1,157]},{5:[2,87]},{5:[2,88]},{5:[1,158]},{5:[2,89]},{5:[2,90]},e(E,[2,43]),{5:me,28:159,31:Y,34:_e,36:ce,38:Ne,40:Be},{5:me,28:160,31:Y,34:_e,36:ce,38:Ne,40:Be},{5:me,28:161,31:Y,34:_e,36:ce,38:Ne,40:Be},{5:me,28:162,31:Y,34:_e,36:ce,38:Ne,40:Be},{5:je,40:qe,56:163,57:Se,59:Re},{5:je,40:qe,56:164,57:Se,59:Re},e(E,[2,23]),e(E,[2,24]),e(E,[2,25]),e(E,[2,26]),e(E,[2,44]),e(E,[2,45])],defaultActions:{8:[2,2],12:[2,1],41:[2,3],42:[2,8],43:[2,9],44:[2,10],45:[2,11],46:[2,12],47:[2,13],48:[2,14],49:[2,15],50:[2,16],134:[2,83],135:[2,84],137:[2,35],138:[2,36],139:[2,37],141:[2,38],142:[2,39],143:[2,40],144:[2,41],147:[2,87],148:[2,88],150:[2,89],151:[2,90]},parseError:l(function(Ve,Q){if(Q.recoverable)this.trace(Ve);else{var Me=new Error(Ve);throw Me.hash=Q,Me}},"parseError"),parse:l(function(Ve){var Q=this,Me=[0],z=[],te=[null],se=[],pe=this.table,fe="",we=0,Ce=0,Te=0,ze=2,He=1,at=se.slice.call(arguments,1),$e=Object.create(this.lexer),Ye={yy:{}};for(var Ue in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ue)&&(Ye.yy[Ue]=this.yy[Ue]);$e.setInput(Ve,Ye.yy),Ye.yy.lexer=$e,Ye.yy.parser=this,typeof $e.yylloc>"u"&&($e.yylloc={});var Ge=$e.yylloc;se.push(Ge);var Xe=$e.options&&$e.options.ranges;typeof Ye.yy.parseError=="function"?this.parseError=Ye.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function kt(Jt){Me.length=Me.length-2*Jt,te.length=te.length-Jt,se.length=se.length-Jt}l(kt,"popStack");function ct(){var Jt;return Jt=z.pop()||$e.lex()||He,typeof Jt!="number"&&(Jt instanceof Array&&(z=Jt,Jt=z.pop()),Jt=Q.symbols_[Jt]||Jt),Jt}l(ct,"lex");for(var ot,Et,tt,ht,ft,Qe,Ze={},_t,jt,Pt,Vr;;){if(tt=Me[Me.length-1],this.defaultActions[tt]?ht=this.defaultActions[tt]:((ot===null||typeof ot>"u")&&(ot=ct()),ht=pe[tt]&&pe[tt][ot]),typeof ht>"u"||!ht.length||!ht[0]){var lr="";Vr=[];for(_t in pe[tt])this.terminals_[_t]&&_t>ze&&Vr.push("'"+this.terminals_[_t]+"'");$e.showPosition?lr="Parse error on line "+(we+1)+`:
`+$e.showPosition()+`
Expecting `+Vr.join(", ")+", got '"+(this.terminals_[ot]||ot)+"'":lr="Parse error on line "+(we+1)+": Unexpected "+(ot==He?"end of input":"'"+(this.terminals_[ot]||ot)+"'"),this.parseError(lr,{text:$e.match,token:this.terminals_[ot]||ot,line:$e.yylineno,loc:Ge,expected:Vr})}if(ht[0]instanceof Array&&ht.length>1)throw new Error("Parse Error: multiple actions possible at state: "+tt+", token: "+ot);switch(ht[0]){case 1:Me.push(ot),te.push($e.yytext),se.push($e.yylloc),Me.push(ht[1]),ot=null,Et?(ot=Et,Et=null):(Ce=$e.yyleng,fe=$e.yytext,we=$e.yylineno,Ge=$e.yylloc,Te>0&&Te--);break;case 2:if(jt=this.productions_[ht[1]][1],Ze.$=te[te.length-jt],Ze._$={first_line:se[se.length-(jt||1)].first_line,last_line:se[se.length-1].last_line,first_column:se[se.length-(jt||1)].first_column,last_column:se[se.length-1].last_column},Xe&&(Ze._$.range=[se[se.length-(jt||1)].range[0],se[se.length-1].range[1]]),Qe=this.performAction.apply(Ze,[fe,Ce,we,Ye.yy,ht[1],te,se].concat(at)),typeof Qe<"u")return Qe;jt&&(Me=Me.slice(0,-1*jt*2),te=te.slice(0,-1*jt),se=se.slice(0,-1*jt)),Me.push(this.productions_[ht[1]][0]),te.push(Ze.$),se.push(Ze._$),Pt=pe[Me[Me.length-2]][Me[Me.length-1]],Me.push(Pt);break;case 3:return!0}}return!0},"parse")},Fe=function(){var Ve={EOF:1,parseError:l(function(Q,Me){if(this.yy.parser)this.yy.parser.parseError(Q,Me);else throw new Error(Q)},"parseError"),setInput:l(function(Q,Me){return this.yy=Me||this.yy||{},this._input=Q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var Q=this._input[0];this.yytext+=Q,this.yyleng++,this.offset++,this.match+=Q,this.matched+=Q;var Me=Q.match(/(?:\r\n?|\n).*/g);return Me?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Q},"input"),unput:l(function(Q){var Me=Q.length,z=Q.split(/(?:\r\n?|\n)/g);this._input=Q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Me),this.offset-=Me;var te=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),z.length-1&&(this.yylineno-=z.length-1);var se=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:z?(z.length===te.length?this.yylloc.first_column:0)+te[te.length-z.length].length-z[0].length:this.yylloc.first_column-Me},this.options.ranges&&(this.yylloc.range=[se[0],se[0]+this.yyleng-Me]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(Q){this.unput(this.match.slice(Q))},"less"),pastInput:l(function(){var Q=this.matched.substr(0,this.matched.length-this.match.length);return(Q.length>20?"...":"")+Q.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var Q=this.match;return Q.length<20&&(Q+=this._input.substr(0,20-Q.length)),(Q.substr(0,20)+(Q.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var Q=this.pastInput(),Me=new Array(Q.length+1).join("-");return Q+this.upcomingInput()+`
`+Me+"^"},"showPosition"),test_match:l(function(Q,Me){var z,te,se;if(this.options.backtrack_lexer&&(se={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(se.yylloc.range=this.yylloc.range.slice(0))),te=Q[0].match(/(?:\r\n?|\n).*/g),te&&(this.yylineno+=te.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:te?te[te.length-1].length-te[te.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Q[0].length},this.yytext+=Q[0],this.match+=Q[0],this.matches=Q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Q[0].length),this.matched+=Q[0],z=this.performAction.call(this,this.yy,this,Me,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),z)return z;if(this._backtrack){for(var pe in se)this[pe]=se[pe];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Q,Me,z,te;this._more||(this.yytext="",this.match="");for(var se=this._currentRules(),pe=0;pe<se.length;pe++)if(z=this._input.match(this.rules[se[pe]]),z&&(!Me||z[0].length>Me[0].length)){if(Me=z,te=pe,this.options.backtrack_lexer){if(Q=this.test_match(z,se[pe]),Q!==!1)return Q;if(this._backtrack){Me=!1;continue}else return!1}else if(!this.options.flex)break}return Me?(Q=this.test_match(Me,se[te]),Q!==!1?Q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var Q=this.next();return Q||this.lex()},"lex"),begin:l(function(Q){this.conditionStack.push(Q)},"begin"),popState:l(function(){var Q=this.conditionStack.length-1;return Q>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(Q){return Q=this.conditionStack.length-1-Math.abs(Q||0),Q>=0?this.conditionStack[Q]:"INITIAL"},"topState"),pushState:l(function(Q){this.begin(Q)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(Q,Me,z,te){var se=te;switch(z){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 21;case 9:return 22;case 10:return 23;case 11:return 24;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:return 8;case 17:return 6;case 18:return 27;case 19:return 40;case 20:return 29;case 21:return 32;case 22:return 31;case 23:return 34;case 24:return 36;case 25:return 38;case 26:return 41;case 27:return 42;case 28:return 43;case 29:return 44;case 30:return 45;case 31:return 46;case 32:return 47;case 33:return 48;case 34:return 49;case 35:return 50;case 36:return 51;case 37:return 52;case 38:return 53;case 39:return 54;case 40:return 65;case 41:return 66;case 42:return 67;case 43:return 68;case 44:return 69;case 45:return 70;case 46:return 71;case 47:return 57;case 48:return 59;case 49:return this.begin("style"),77;case 50:return 75;case 51:return 81;case 52:return 88;case 53:return"PERCENT";case 54:return 86;case 55:return 84;case 56:break;case 57:this.begin("string");break;case 58:this.popState();break;case 59:return this.begin("style"),72;case 60:return this.begin("style"),74;case 61:return 61;case 62:return 64;case 63:return 63;case 64:this.begin("string");break;case 65:this.popState();break;case 66:return"qString";case 67:return Me.yytext=Me.yytext.trim(),89;case 68:return 75;case 69:return 80;case 70:return 76}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::{3})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:style\b)/i,/^(?:\w+)/i,/^(?::)/i,/^(?:;)/i,/^(?:%)/i,/^(?:-)/i,/^(?:#)/i,/^(?: )/i,/^(?:["])/i,/^(?:\n)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^:,\r\n\{\<\>\-\=]*)/i,/^(?:\w+)/i,/^(?:[0-9]+)/i,/^(?:,)/i],conditions:{acc_descr_multiline:{rules:[6,7,68,69,70],inclusive:!1},acc_descr:{rules:[4,68,69,70],inclusive:!1},acc_title:{rules:[2,68,69,70],inclusive:!1},style:{rules:[50,51,52,53,54,55,56,57,58,68,69,70],inclusive:!1},unqString:{rules:[68,69,70],inclusive:!1},token:{rules:[68,69,70],inclusive:!1},string:{rules:[65,66,68,69,70],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,59,60,61,62,63,64,67,68,69,70],inclusive:!0}}};return Ve}();ve.lexer=Fe;function de(){this.yy={}}return l(de,"Parser"),de.prototype=ve,ve.Parser=de,new de}(),U7.parser=U7,XIe=U7}),KIe,ZJe=D(()=>{"use strict";Gt(),st(),Di(),KIe=class{constructor(){this.relations=[],this.latestRequirement=this.getInitialRequirement(),this.requirements=new Map,this.latestElement=this.getInitialElement(),this.elements=new Map,this.classes=new Map,this.direction="TB",this.RequirementType={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},this.RiskLevel={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},this.VerifyType={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},this.Relationships={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},this.setAccTitle=Mi,this.getAccTitle=Gi,this.setAccDescription=Ui,this.getAccDescription=qi,this.setDiagramTitle=sn,this.getDiagramTitle=Ii,this.getConfig=l(()=>Ee().requirement,"getConfig"),this.clear(),this.setDirection=this.setDirection.bind(this),this.addRequirement=this.addRequirement.bind(this),this.setNewReqId=this.setNewReqId.bind(this),this.setNewReqRisk=this.setNewReqRisk.bind(this),this.setNewReqText=this.setNewReqText.bind(this),this.setNewReqVerifyMethod=this.setNewReqVerifyMethod.bind(this),this.addElement=this.addElement.bind(this),this.setNewElementType=this.setNewElementType.bind(this),this.setNewElementDocRef=this.setNewElementDocRef.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setCssStyle=this.setCssStyle.bind(this),this.setClass=this.setClass.bind(this),this.defineClass=this.defineClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}static{l(this,"RequirementDB")}getDirection(){return this.direction}setDirection(e){this.direction=e}resetLatestRequirement(){this.latestRequirement=this.getInitialRequirement()}resetLatestElement(){this.latestElement=this.getInitialElement()}getInitialRequirement(){return{requirementId:"",text:"",risk:"",verifyMethod:"",name:"",type:"",cssStyles:[],classes:["default"]}}getInitialElement(){return{name:"",type:"",docRef:"",cssStyles:[],classes:["default"]}}addRequirement(e,t){return this.requirements.has(e)||this.requirements.set(e,{name:e,type:t,requirementId:this.latestRequirement.requirementId,text:this.latestRequirement.text,risk:this.latestRequirement.risk,verifyMethod:this.latestRequirement.verifyMethod,cssStyles:[],classes:["default"]}),this.resetLatestRequirement(),this.requirements.get(e)}getRequirements(){return this.requirements}setNewReqId(e){this.latestRequirement!==void 0&&(this.latestRequirement.requirementId=e)}setNewReqText(e){this.latestRequirement!==void 0&&(this.latestRequirement.text=e)}setNewReqRisk(e){this.latestRequirement!==void 0&&(this.latestRequirement.risk=e)}setNewReqVerifyMethod(e){this.latestRequirement!==void 0&&(this.latestRequirement.verifyMethod=e)}addElement(e){return this.elements.has(e)||(this.elements.set(e,{name:e,type:this.latestElement.type,docRef:this.latestElement.docRef,cssStyles:[],classes:["default"]}),ne.info("Added new element: ",e)),this.resetLatestElement(),this.elements.get(e)}getElements(){return this.elements}setNewElementType(e){this.latestElement!==void 0&&(this.latestElement.type=e)}setNewElementDocRef(e){this.latestElement!==void 0&&(this.latestElement.docRef=e)}addRelationship(e,t,r){this.relations.push({type:e,src:t,dst:r})}getRelationships(){return this.relations}clear(){this.relations=[],this.resetLatestRequirement(),this.requirements=new Map,this.resetLatestElement(),this.elements=new Map,this.classes=new Map,Ni()}setCssStyle(e,t){for(let r of e){let i=this.requirements.get(r)??this.elements.get(r);if(!t||!i)return;for(let n of t)n.includes(",")?i.cssStyles.push(...n.split(",")):i.cssStyles.push(n)}}setClass(e,t){for(let r of e){let i=this.requirements.get(r)??this.elements.get(r);if(i)for(let n of t){i.classes.push(n);let a=this.classes.get(n)?.styles;a&&i.cssStyles.push(...a)}}}defineClass(e,t){for(let r of e){let i=this.classes.get(r);i===void 0&&(i={id:r,styles:[],textStyles:[]},this.classes.set(r,i)),t&&t.forEach(function(n){if(/color/.exec(n)){let a=n.replace("fill","bgFill");i.textStyles.push(a)}i.styles.push(n)}),this.requirements.forEach(n=>{n.classes.includes(r)&&n.cssStyles.push(...t.flatMap(a=>a.split(",")))}),this.elements.forEach(n=>{n.classes.includes(r)&&n.cssStyles.push(...t.flatMap(a=>a.split(",")))})}}getClasses(){return this.classes}getData(){let e=Ee(),t=[],r=[];for(let i of this.requirements.values()){let n=i;n.id=i.name,n.cssStyles=i.cssStyles,n.cssClasses=i.classes.join(" "),n.shape="requirementBox",n.look=e.look,t.push(n)}for(let i of this.elements.values()){let n=i;n.shape="requirementBox",n.look=e.look,n.id=i.name,n.cssStyles=i.cssStyles,n.cssClasses=i.classes.join(" "),t.push(n)}for(let i of this.relations){let n=0,a=i.type===this.Relationships.CONTAINS,s={id:`${i.src}-${i.dst}-${n}`,start:this.requirements.get(i.src)?.name??this.elements.get(i.src)?.name,end:this.requirements.get(i.dst)?.name??this.elements.get(i.dst)?.name,label:`&lt;&lt;${i.type}&gt;&gt;`,classes:"relationshipLine",style:["fill:none",a?"":"stroke-dasharray: 10,7"],labelpos:"c",thickness:"normal",type:"normal",pattern:a?"normal":"dashed",arrowTypeStart:a?"requirement_contains":"",arrowTypeEnd:a?"":"requirement_arrow",look:e.look};r.push(s),n++}return{nodes:t,edges:r,other:{},config:e,direction:this.getDirection()}}}}),ZIe,QIe,QJe=D(()=>{"use strict";ZIe=l(e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }
  .divider {
    stroke: ${e.nodeBorder};
    stroke-width: 1;
  }
  .label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }
  .labelBkg {
    background-color: ${e.edgeLabelBackground};
  }

`,"getStyles"),QIe=ZIe}),JIe={};sr(JIe,{draw:()=>eDe});var eDe,JJe=D(()=>{"use strict";Gt(),st(),Fg(),Qd(),Jd(),Zt(),eDe=l(async function(e,t,r,i){ne.info("REF0:"),ne.info("Drawing requirement diagram (unified)",t);let{securityLevel:n,state:a,layout:s}=Ee(),o=i.db.getData(),u=bd(t,n);o.type=i.type,o.layoutAlgorithm=D1(s),o.nodeSpacing=a?.nodeSpacing??50,o.rankSpacing=a?.rankSpacing??50,o.markers=["requirement_contains","requirement_arrow"],o.diagramId=t,await Zd(o,u),or.insertTitle(u,"requirementDiagramTitleText",a?.titleTopMargin??25,i.db.getDiagramTitle()),sh(u,8,"requirementDiagram",a?.useMaxWidth??!0)},"draw")}),tDe={};sr(tDe,{diagram:()=>rDe});var rDe,eet=D(()=>{"use strict";KJe(),ZJe(),QJe(),JJe(),rDe={parser:XIe,get db(){return new KIe},renderer:JIe,styles:QIe}}),q7,iDe,tet=D(()=>{"use strict";q7=function(){var e=l(function(ee,X,Z,J){for(Z=Z||{},J=ee.length;J--;Z[ee[J]]=X);return Z},"o"),t=[1,2],r=[1,3],i=[1,4],n=[2,4],a=[1,9],s=[1,11],o=[1,13],u=[1,14],h=[1,16],d=[1,17],p=[1,18],g=[1,24],f=[1,25],m=[1,26],y=[1,27],b=[1,28],v=[1,29],x=[1,30],w=[1,31],k=[1,32],T=[1,33],_=[1,34],C=[1,35],E=[1,36],N=[1,37],M=[1,38],I=[1,39],A=[1,41],B=[1,42],S=[1,43],O=[1,44],R=[1,45],P=[1,46],L=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,55,60,61,62,63,71],$=[2,71],F=[4,5,16,50,52,53],G=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],q=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,55,60,61,62,63,71],V=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,55,60,61,62,63,71],H=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,55,60,61,62,63,71],ae=[69,70,71],re=[1,127],oe={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,actor_with_config:54,note:55,placement:56,text2:57,over:58,actor_pair:59,links:60,link:61,properties:62,details:63,spaceList:64,",":65,left_of:66,right_of:67,signaltype:68,"+":69,"-":70,ACTOR:71,config_object:72,CONFIG_START:73,CONFIG_CONTENT:74,CONFIG_END:75,SOLID_OPEN_ARROW:76,DOTTED_OPEN_ARROW:77,SOLID_ARROW:78,BIDIRECTIONAL_SOLID_ARROW:79,DOTTED_ARROW:80,BIDIRECTIONAL_DOTTED_ARROW:81,SOLID_CROSS:82,DOTTED_CROSS:83,SOLID_POINT:84,DOTTED_POINT:85,TXT:86,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",55:"note",58:"over",60:"links",61:"link",62:"properties",63:"details",65:",",66:"left_of",67:"right_of",69:"+",70:"-",71:"ACTOR",73:"CONFIG_START",74:"CONFIG_CONTENT",75:"CONFIG_END",76:"SOLID_OPEN_ARROW",77:"DOTTED_OPEN_ARROW",78:"SOLID_ARROW",79:"BIDIRECTIONAL_SOLID_ARROW",80:"DOTTED_ARROW",81:"BIDIRECTIONAL_DOTTED_ARROW",82:"SOLID_CROSS",83:"DOTTED_CROSS",84:"SOLID_POINT",85:"DOTTED_POINT",86:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[64,2],[64,1],[59,3],[59,1],[56,1],[56,1],[17,5],[17,5],[17,4],[54,2],[72,3],[22,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[57,1]],performAction:l(function(ee,X,Z,J,he,K,me){var Y=K.length-1;switch(he){case 3:return J.apply(K[Y]),K[Y];case 4:case 9:this.$=[];break;case 5:case 10:K[Y-1].push(K[Y]),this.$=K[Y-1];break;case 6:case 7:case 11:case 12:this.$=K[Y];break;case 8:case 13:this.$=[];break;case 15:K[Y].type="createParticipant",this.$=K[Y];break;case 16:K[Y-1].unshift({type:"boxStart",boxData:J.parseBoxData(K[Y-2])}),K[Y-1].push({type:"boxEnd",boxText:K[Y-2]}),this.$=K[Y-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(K[Y-2]),sequenceIndexStep:Number(K[Y-1]),sequenceVisible:!0,signalType:J.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(K[Y-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:J.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:J.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:J.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:J.LINETYPE.ACTIVE_START,actor:K[Y-1].actor};break;case 23:this.$={type:"activeEnd",signalType:J.LINETYPE.ACTIVE_END,actor:K[Y-1].actor};break;case 29:J.setDiagramTitle(K[Y].substring(6)),this.$=K[Y].substring(6);break;case 30:J.setDiagramTitle(K[Y].substring(7)),this.$=K[Y].substring(7);break;case 31:this.$=K[Y].trim(),J.setAccTitle(this.$);break;case 32:case 33:this.$=K[Y].trim(),J.setAccDescription(this.$);break;case 34:K[Y-1].unshift({type:"loopStart",loopText:J.parseMessage(K[Y-2]),signalType:J.LINETYPE.LOOP_START}),K[Y-1].push({type:"loopEnd",loopText:K[Y-2],signalType:J.LINETYPE.LOOP_END}),this.$=K[Y-1];break;case 35:K[Y-1].unshift({type:"rectStart",color:J.parseMessage(K[Y-2]),signalType:J.LINETYPE.RECT_START}),K[Y-1].push({type:"rectEnd",color:J.parseMessage(K[Y-2]),signalType:J.LINETYPE.RECT_END}),this.$=K[Y-1];break;case 36:K[Y-1].unshift({type:"optStart",optText:J.parseMessage(K[Y-2]),signalType:J.LINETYPE.OPT_START}),K[Y-1].push({type:"optEnd",optText:J.parseMessage(K[Y-2]),signalType:J.LINETYPE.OPT_END}),this.$=K[Y-1];break;case 37:K[Y-1].unshift({type:"altStart",altText:J.parseMessage(K[Y-2]),signalType:J.LINETYPE.ALT_START}),K[Y-1].push({type:"altEnd",signalType:J.LINETYPE.ALT_END}),this.$=K[Y-1];break;case 38:K[Y-1].unshift({type:"parStart",parText:J.parseMessage(K[Y-2]),signalType:J.LINETYPE.PAR_START}),K[Y-1].push({type:"parEnd",signalType:J.LINETYPE.PAR_END}),this.$=K[Y-1];break;case 39:K[Y-1].unshift({type:"parStart",parText:J.parseMessage(K[Y-2]),signalType:J.LINETYPE.PAR_OVER_START}),K[Y-1].push({type:"parEnd",signalType:J.LINETYPE.PAR_END}),this.$=K[Y-1];break;case 40:K[Y-1].unshift({type:"criticalStart",criticalText:J.parseMessage(K[Y-2]),signalType:J.LINETYPE.CRITICAL_START}),K[Y-1].push({type:"criticalEnd",signalType:J.LINETYPE.CRITICAL_END}),this.$=K[Y-1];break;case 41:K[Y-1].unshift({type:"breakStart",breakText:J.parseMessage(K[Y-2]),signalType:J.LINETYPE.BREAK_START}),K[Y-1].push({type:"breakEnd",optText:J.parseMessage(K[Y-2]),signalType:J.LINETYPE.BREAK_END}),this.$=K[Y-1];break;case 43:this.$=K[Y-3].concat([{type:"option",optionText:J.parseMessage(K[Y-1]),signalType:J.LINETYPE.CRITICAL_OPTION},K[Y]]);break;case 45:this.$=K[Y-3].concat([{type:"and",parText:J.parseMessage(K[Y-1]),signalType:J.LINETYPE.PAR_AND},K[Y]]);break;case 47:this.$=K[Y-3].concat([{type:"else",altText:J.parseMessage(K[Y-1]),signalType:J.LINETYPE.ALT_ELSE},K[Y]]);break;case 48:K[Y-3].draw="participant",K[Y-3].type="addParticipant",K[Y-3].description=J.parseMessage(K[Y-1]),this.$=K[Y-3];break;case 49:K[Y-1].draw="participant",K[Y-1].type="addParticipant",this.$=K[Y-1];break;case 50:K[Y-3].draw="actor",K[Y-3].type="addParticipant",K[Y-3].description=J.parseMessage(K[Y-1]),this.$=K[Y-3];break;case 51:K[Y-1].draw="actor",K[Y-1].type="addParticipant",this.$=K[Y-1];break;case 52:K[Y-1].type="destroyParticipant",this.$=K[Y-1];break;case 53:K[Y-1].draw="participant",K[Y-1].type="addParticipant",this.$=K[Y-1];break;case 54:this.$=[K[Y-1],{type:"addNote",placement:K[Y-2],actor:K[Y-1].actor,text:K[Y]}];break;case 55:K[Y-2]=[].concat(K[Y-1],K[Y-1]).slice(0,2),K[Y-2][0]=K[Y-2][0].actor,K[Y-2][1]=K[Y-2][1].actor,this.$=[K[Y-1],{type:"addNote",placement:J.PLACEMENT.OVER,actor:K[Y-2].slice(0,2),text:K[Y]}];break;case 56:this.$=[K[Y-1],{type:"addLinks",actor:K[Y-1].actor,text:K[Y]}];break;case 57:this.$=[K[Y-1],{type:"addALink",actor:K[Y-1].actor,text:K[Y]}];break;case 58:this.$=[K[Y-1],{type:"addProperties",actor:K[Y-1].actor,text:K[Y]}];break;case 59:this.$=[K[Y-1],{type:"addDetails",actor:K[Y-1].actor,text:K[Y]}];break;case 62:this.$=[K[Y-2],K[Y]];break;case 63:this.$=K[Y];break;case 64:this.$=J.PLACEMENT.LEFTOF;break;case 65:this.$=J.PLACEMENT.RIGHTOF;break;case 66:this.$=[K[Y-4],K[Y-1],{type:"addMessage",from:K[Y-4].actor,to:K[Y-1].actor,signalType:K[Y-3],msg:K[Y],activate:!0},{type:"activeStart",signalType:J.LINETYPE.ACTIVE_START,actor:K[Y-1].actor}];break;case 67:this.$=[K[Y-4],K[Y-1],{type:"addMessage",from:K[Y-4].actor,to:K[Y-1].actor,signalType:K[Y-3],msg:K[Y]},{type:"activeEnd",signalType:J.LINETYPE.ACTIVE_END,actor:K[Y-4].actor}];break;case 68:this.$=[K[Y-3],K[Y-1],{type:"addMessage",from:K[Y-3].actor,to:K[Y-1].actor,signalType:K[Y-2],msg:K[Y]}];break;case 69:this.$={type:"addParticipant",actor:K[Y-1],config:K[Y]};break;case 70:this.$=K[Y-1].trim();break;case 71:this.$={type:"addParticipant",actor:K[Y]};break;case 72:this.$=J.LINETYPE.SOLID_OPEN;break;case 73:this.$=J.LINETYPE.DOTTED_OPEN;break;case 74:this.$=J.LINETYPE.SOLID;break;case 75:this.$=J.LINETYPE.BIDIRECTIONAL_SOLID;break;case 76:this.$=J.LINETYPE.DOTTED;break;case 77:this.$=J.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 78:this.$=J.LINETYPE.SOLID_CROSS;break;case 79:this.$=J.LINETYPE.DOTTED_CROSS;break;case 80:this.$=J.LINETYPE.SOLID_POINT;break;case 81:this.$=J.LINETYPE.DOTTED_POINT;break;case 82:this.$=J.parseMessage(K[Y].trim().substring(1));break}},"anonymous"),table:[{3:1,4:t,5:r,6:i},{1:[3]},{3:5,4:t,5:r,6:i},{3:6,4:t,5:r,6:i},e([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],n,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,12:12,13:o,14:u,17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:_,44:C,46:E,50:N,52:M,53:I,55:A,60:B,61:S,62:O,63:R,71:P},e(L,[2,5]),{9:47,12:12,13:o,14:u,17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:_,44:C,46:E,50:N,52:M,53:I,55:A,60:B,61:S,62:O,63:R,71:P},e(L,[2,7]),e(L,[2,8]),e(L,[2,14]),{12:48,50:N,52:M,53:I},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,71:P},{22:55,71:P},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},e(L,[2,29]),e(L,[2,30]),{32:[1,61]},{34:[1,62]},e(L,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,54:72,71:[1,73]},{22:74,71:P},{22:75,71:P},{68:76,76:[1,77],77:[1,78],78:[1,79],79:[1,80],80:[1,81],81:[1,82],82:[1,83],83:[1,84],84:[1,85],85:[1,86]},{56:87,58:[1,88],66:[1,89],67:[1,90]},{22:91,71:P},{22:92,71:P},{22:93,71:P},{22:94,71:P},e([5,51,65,76,77,78,79,80,81,82,83,84,85,86],$),e(L,[2,6]),e(L,[2,15]),e(F,[2,9],{10:95}),e(L,[2,17]),{5:[1,97],19:[1,96]},{5:[1,98]},e(L,[2,21]),{5:[1,99]},{5:[1,100]},e(L,[2,24]),e(L,[2,25]),e(L,[2,26]),e(L,[2,27]),e(L,[2,28]),e(L,[2,31]),e(L,[2,32]),e(G,n,{7:101}),e(G,n,{7:102}),e(G,n,{7:103}),e(q,n,{40:104,7:105}),e(V,n,{42:106,7:107}),e(V,n,{7:107,42:108}),e(H,n,{45:109,7:110}),e(G,n,{7:111}),{5:[1,113],51:[1,112]},{5:[1,114]},e([5,51],$,{72:115,73:[1,116]}),{5:[1,118],51:[1,117]},{5:[1,119]},{22:122,69:[1,120],70:[1,121],71:P},e(ae,[2,72]),e(ae,[2,73]),e(ae,[2,74]),e(ae,[2,75]),e(ae,[2,76]),e(ae,[2,77]),e(ae,[2,78]),e(ae,[2,79]),e(ae,[2,80]),e(ae,[2,81]),{22:123,71:P},{22:125,59:124,71:P},{71:[2,64]},{71:[2,65]},{57:126,86:re},{57:128,86:re},{57:129,86:re},{57:130,86:re},{4:[1,133],5:[1,135],11:132,12:134,16:[1,131],50:N,52:M,53:I},{5:[1,136]},e(L,[2,19]),e(L,[2,20]),e(L,[2,22]),e(L,[2,23]),{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[1,137],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:_,44:C,46:E,50:N,52:M,53:I,55:A,60:B,61:S,62:O,63:R,71:P},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[1,138],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:_,44:C,46:E,50:N,52:M,53:I,55:A,60:B,61:S,62:O,63:R,71:P},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[1,139],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:_,44:C,46:E,50:N,52:M,53:I,55:A,60:B,61:S,62:O,63:R,71:P},{16:[1,140]},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[2,46],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:_,44:C,46:E,49:[1,141],50:N,52:M,53:I,55:A,60:B,61:S,62:O,63:R,71:P},{16:[1,142]},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[2,44],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:_,44:C,46:E,48:[1,143],50:N,52:M,53:I,55:A,60:B,61:S,62:O,63:R,71:P},{16:[1,144]},{16:[1,145]},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[2,42],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:_,44:C,46:E,47:[1,146],50:N,52:M,53:I,55:A,60:B,61:S,62:O,63:R,71:P},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[1,147],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:_,44:C,46:E,50:N,52:M,53:I,55:A,60:B,61:S,62:O,63:R,71:P},{15:[1,148]},e(L,[2,49]),e(L,[2,53]),{5:[2,69]},{74:[1,149]},{15:[1,150]},e(L,[2,51]),e(L,[2,52]),{22:151,71:P},{22:152,71:P},{57:153,86:re},{57:154,86:re},{57:155,86:re},{65:[1,156],86:[2,63]},{5:[2,56]},{5:[2,82]},{5:[2,57]},{5:[2,58]},{5:[2,59]},e(L,[2,16]),e(F,[2,10]),{12:157,50:N,52:M,53:I},e(F,[2,12]),e(F,[2,13]),e(L,[2,18]),e(L,[2,34]),e(L,[2,35]),e(L,[2,36]),e(L,[2,37]),{15:[1,158]},e(L,[2,38]),{15:[1,159]},e(L,[2,39]),e(L,[2,40]),{15:[1,160]},e(L,[2,41]),{5:[1,161]},{75:[1,162]},{5:[1,163]},{57:164,86:re},{57:165,86:re},{5:[2,68]},{5:[2,54]},{5:[2,55]},{22:166,71:P},e(F,[2,11]),e(q,n,{7:105,40:167}),e(V,n,{7:107,42:168}),e(H,n,{7:110,45:169}),e(L,[2,48]),{5:[2,70]},e(L,[2,50]),{5:[2,66]},{5:[2,67]},{86:[2,62]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],89:[2,64],90:[2,65],115:[2,69],126:[2,56],127:[2,82],128:[2,57],129:[2,58],130:[2,59],153:[2,68],154:[2,54],155:[2,55],162:[2,70],164:[2,66],165:[2,67],166:[2,62],167:[2,47],168:[2,45],169:[2,43]},parseError:l(function(ee,X){if(X.recoverable)this.trace(ee);else{var Z=new Error(ee);throw Z.hash=X,Z}},"parseError"),parse:l(function(ee){var X=this,Z=[0],J=[],he=[null],K=[],me=this.table,Y="",_e=0,ce=0,Ne=0,Be=2,je=1,qe=K.slice.call(arguments,1),Se=Object.create(this.lexer),Re={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(Re.yy[ve]=this.yy[ve]);Se.setInput(ee,Re.yy),Re.yy.lexer=Se,Re.yy.parser=this,typeof Se.yylloc>"u"&&(Se.yylloc={});var Fe=Se.yylloc;K.push(Fe);var de=Se.options&&Se.options.ranges;typeof Re.yy.parseError=="function"?this.parseError=Re.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ve($e){Z.length=Z.length-2*$e,he.length=he.length-$e,K.length=K.length-$e}l(Ve,"popStack");function Q(){var $e;return $e=J.pop()||Se.lex()||je,typeof $e!="number"&&($e instanceof Array&&(J=$e,$e=J.pop()),$e=X.symbols_[$e]||$e),$e}l(Q,"lex");for(var Me,z,te,se,pe,fe,we={},Ce,Te,ze,He;;){if(te=Z[Z.length-1],this.defaultActions[te]?se=this.defaultActions[te]:((Me===null||typeof Me>"u")&&(Me=Q()),se=me[te]&&me[te][Me]),typeof se>"u"||!se.length||!se[0]){var at="";He=[];for(Ce in me[te])this.terminals_[Ce]&&Ce>Be&&He.push("'"+this.terminals_[Ce]+"'");Se.showPosition?at="Parse error on line "+(_e+1)+`:
`+Se.showPosition()+`
Expecting `+He.join(", ")+", got '"+(this.terminals_[Me]||Me)+"'":at="Parse error on line "+(_e+1)+": Unexpected "+(Me==je?"end of input":"'"+(this.terminals_[Me]||Me)+"'"),this.parseError(at,{text:Se.match,token:this.terminals_[Me]||Me,line:Se.yylineno,loc:Fe,expected:He})}if(se[0]instanceof Array&&se.length>1)throw new Error("Parse Error: multiple actions possible at state: "+te+", token: "+Me);switch(se[0]){case 1:Z.push(Me),he.push(Se.yytext),K.push(Se.yylloc),Z.push(se[1]),Me=null,z?(Me=z,z=null):(ce=Se.yyleng,Y=Se.yytext,_e=Se.yylineno,Fe=Se.yylloc,Ne>0&&Ne--);break;case 2:if(Te=this.productions_[se[1]][1],we.$=he[he.length-Te],we._$={first_line:K[K.length-(Te||1)].first_line,last_line:K[K.length-1].last_line,first_column:K[K.length-(Te||1)].first_column,last_column:K[K.length-1].last_column},de&&(we._$.range=[K[K.length-(Te||1)].range[0],K[K.length-1].range[1]]),fe=this.performAction.apply(we,[Y,ce,_e,Re.yy,se[1],he,K].concat(qe)),typeof fe<"u")return fe;Te&&(Z=Z.slice(0,-1*Te*2),he=he.slice(0,-1*Te),K=K.slice(0,-1*Te)),Z.push(this.productions_[se[1]][0]),he.push(we.$),K.push(we._$),ze=me[Z[Z.length-2]][Z[Z.length-1]],Z.push(ze);break;case 3:return!0}}return!0},"parse")},ue=function(){var ee={EOF:1,parseError:l(function(X,Z){if(this.yy.parser)this.yy.parser.parseError(X,Z);else throw new Error(X)},"parseError"),setInput:l(function(X,Z){return this.yy=Z||this.yy||{},this._input=X,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var X=this._input[0];this.yytext+=X,this.yyleng++,this.offset++,this.match+=X,this.matched+=X;var Z=X.match(/(?:\r\n?|\n).*/g);return Z?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),X},"input"),unput:l(function(X){var Z=X.length,J=X.split(/(?:\r\n?|\n)/g);this._input=X+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Z),this.offset-=Z;var he=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),J.length-1&&(this.yylineno-=J.length-1);var K=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:J?(J.length===he.length?this.yylloc.first_column:0)+he[he.length-J.length].length-J[0].length:this.yylloc.first_column-Z},this.options.ranges&&(this.yylloc.range=[K[0],K[0]+this.yyleng-Z]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(X){this.unput(this.match.slice(X))},"less"),pastInput:l(function(){var X=this.matched.substr(0,this.matched.length-this.match.length);return(X.length>20?"...":"")+X.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var X=this.match;return X.length<20&&(X+=this._input.substr(0,20-X.length)),(X.substr(0,20)+(X.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var X=this.pastInput(),Z=new Array(X.length+1).join("-");return X+this.upcomingInput()+`
`+Z+"^"},"showPosition"),test_match:l(function(X,Z){var J,he,K;if(this.options.backtrack_lexer&&(K={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(K.yylloc.range=this.yylloc.range.slice(0))),he=X[0].match(/(?:\r\n?|\n).*/g),he&&(this.yylineno+=he.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:he?he[he.length-1].length-he[he.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+X[0].length},this.yytext+=X[0],this.match+=X[0],this.matches=X,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(X[0].length),this.matched+=X[0],J=this.performAction.call(this,this.yy,this,Z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),J)return J;if(this._backtrack){for(var me in K)this[me]=K[me];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var X,Z,J,he;this._more||(this.yytext="",this.match="");for(var K=this._currentRules(),me=0;me<K.length;me++)if(J=this._input.match(this.rules[K[me]]),J&&(!Z||J[0].length>Z[0].length)){if(Z=J,he=me,this.options.backtrack_lexer){if(X=this.test_match(J,K[me]),X!==!1)return X;if(this._backtrack){Z=!1;continue}else return!1}else if(!this.options.flex)break}return Z?(X=this.test_match(Z,K[he]),X!==!1?X:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var X=this.next();return X||this.lex()},"lex"),begin:l(function(X){this.conditionStack.push(X)},"begin"),popState:l(function(){var X=this.conditionStack.length-1;return X>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(X){return X=this.conditionStack.length-1-Math.abs(X||0),X>=0?this.conditionStack[X]:"INITIAL"},"topState"),pushState:l(function(X){this.begin(X)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(X,Z,J,he){var K=he;switch(J){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("CONFIG"),73;case 8:return 74;case 9:return this.popState(),this.popState(),75;case 10:return Z.yytext=Z.yytext.trim(),71;case 11:return Z.yytext=Z.yytext.trim(),this.begin("ALIAS"),71;case 12:return this.begin("LINE"),14;case 13:return this.begin("ID"),50;case 14:return this.begin("ID"),52;case 15:return 13;case 16:return this.begin("ID"),53;case 17:return Z.yytext=Z.yytext.trim(),this.begin("ALIAS"),71;case 18:return this.popState(),this.popState(),this.begin("LINE"),51;case 19:return this.popState(),this.popState(),5;case 20:return this.begin("LINE"),36;case 21:return this.begin("LINE"),37;case 22:return this.begin("LINE"),38;case 23:return this.begin("LINE"),39;case 24:return this.begin("LINE"),49;case 25:return this.begin("LINE"),41;case 26:return this.begin("LINE"),43;case 27:return this.begin("LINE"),48;case 28:return this.begin("LINE"),44;case 29:return this.begin("LINE"),47;case 30:return this.begin("LINE"),46;case 31:return this.popState(),15;case 32:return 16;case 33:return 66;case 34:return 67;case 35:return 60;case 36:return 61;case 37:return 62;case 38:return 63;case 39:return 58;case 40:return 55;case 41:return this.begin("ID"),21;case 42:return this.begin("ID"),23;case 43:return 29;case 44:return 30;case 45:return this.begin("acc_title"),31;case 46:return this.popState(),"acc_title_value";case 47:return this.begin("acc_descr"),33;case 48:return this.popState(),"acc_descr_value";case 49:this.begin("acc_descr_multiline");break;case 50:this.popState();break;case 51:return"acc_descr_multiline_value";case 52:return 6;case 53:return 18;case 54:return 20;case 55:return 65;case 56:return 5;case 57:return Z.yytext=Z.yytext.trim(),71;case 58:return 78;case 59:return 79;case 60:return 80;case 61:return 81;case 62:return 76;case 63:return 77;case 64:return 82;case 65:return 83;case 66:return 84;case 67:return 85;case 68:return 86;case 69:return 86;case 70:return 69;case 71:return 70;case 72:return 5;case 73:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:@\{)/i,/^(?:[^\}]+)/i,/^(?:\})/i,/^(?:[^\<->\->:\n,;@\s]+(?=@\{))/i,/^(?:[^\<->\->:\n,;@]+?([\-]*[^\<->\->:\n,;@]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^<\->\->:\n,;]+?([\-]*[^<\->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^+<\->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+<\->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]*)/i,/^(?::)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[50,51],inclusive:!1},acc_descr:{rules:[48],inclusive:!1},acc_title:{rules:[46],inclusive:!1},ID:{rules:[2,3,7,10,11,17],inclusive:!1},ALIAS:{rules:[2,3,18,19],inclusive:!1},LINE:{rules:[2,3,31],inclusive:!1},CONFIG:{rules:[8,9],inclusive:!1},CONFIG_DATA:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,12,13,14,15,16,20,21,22,23,24,25,26,27,28,29,30,32,33,34,35,36,37,38,39,40,41,42,43,44,45,47,49,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73],inclusive:!0}}};return ee}();oe.lexer=ue;function W(){this.yy={}}return l(W,"Parser"),W.prototype=oe,oe.Parser=W,new W}(),q7.parser=q7,iDe=q7}),nDe,aDe,sDe,kx,oDe,lDe=D(()=>{"use strict";Gt(),c6(),st(),SLe(),cr(),Di(),nDe={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},aDe={FILLED:0,OPEN:1},sDe={LEFTOF:0,RIGHTOF:1,OVER:2},kx={ACTOR:"actor",BOUNDARY:"boundary",COLLECTIONS:"collections",CONTROL:"control",DATABASE:"database",ENTITY:"entity",PARTICIPANT:"participant",QUEUE:"queue"},oDe=class{constructor(){this.state=new EG(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),this.setAccTitle=Mi,this.setAccDescription=Ui,this.setDiagramTitle=sn,this.getAccTitle=Gi,this.getAccDescription=qi,this.getDiagramTitle=Ii,this.apply=this.apply.bind(this),this.parseBoxData=this.parseBoxData.bind(this),this.parseMessage=this.parseMessage.bind(this),this.clear(),this.setWrap(Ee().wrap),this.LINETYPE=nDe,this.ARROWTYPE=aDe,this.PLACEMENT=sDe}static{l(this,"SequenceDB")}addBox(e){this.state.records.boxes.push({name:e.text,wrap:e.wrap??this.autoWrap(),fill:e.color,actorKeys:[]}),this.state.records.currentBox=this.state.records.boxes.slice(-1)[0]}addActor(e,t,r,i,n){let a=this.state.records.currentBox,s;if(n!==void 0){let u;n.includes(`
`)?u=n+`
`:u=`{
`+n+`
}`,s=Xy(u,{schema:Wy})}i=s?.type??i;let o=this.state.records.actors.get(e);if(o){if(this.state.records.currentBox&&o.box&&this.state.records.currentBox!==o.box)throw new Error(`A same participant should only be defined in one Box: ${o.name} can't be in '${o.box.name}' and in '${this.state.records.currentBox.name}' at the same time.`);if(a=o.box?o.box:this.state.records.currentBox,o.box=a,o&&t===o.name&&r==null)return}if(r?.text==null&&(r={text:t,type:i}),(i==null||r.text==null)&&(r={text:t,type:i}),this.state.records.actors.set(e,{box:a,name:t,description:r.text,wrap:r.wrap??this.autoWrap(),prevActor:this.state.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:i??"participant"}),this.state.records.prevActor){let u=this.state.records.actors.get(this.state.records.prevActor);u&&(u.nextActor=e)}this.state.records.currentBox&&this.state.records.currentBox.actorKeys.push(e),this.state.records.prevActor=e}activationCount(e){let t,r=0;if(!e)return 0;for(t=0;t<this.state.records.messages.length;t++)this.state.records.messages[t].type===this.LINETYPE.ACTIVE_START&&this.state.records.messages[t].from===e&&r++,this.state.records.messages[t].type===this.LINETYPE.ACTIVE_END&&this.state.records.messages[t].from===e&&r--;return r}addMessage(e,t,r,i){this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:e,to:t,message:r.text,wrap:r.wrap??this.autoWrap(),answer:i})}addSignal(e,t,r,i,n=!1){if(i===this.LINETYPE.ACTIVE_END&&this.activationCount(e??"")<1){let a=new Error("Trying to inactivate an inactive participant ("+e+")");throw a.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},a}return this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:e,to:t,message:r?.text??"",wrap:r?.wrap??this.autoWrap(),type:i,activate:n}),!0}hasAtLeastOneBox(){return this.state.records.boxes.length>0}hasAtLeastOneBoxWithTitle(){return this.state.records.boxes.some(e=>e.name)}getMessages(){return this.state.records.messages}getBoxes(){return this.state.records.boxes}getActors(){return this.state.records.actors}getCreatedActors(){return this.state.records.createdActors}getDestroyedActors(){return this.state.records.destroyedActors}getActor(e){return this.state.records.actors.get(e)}getActorKeys(){return[...this.state.records.actors.keys()]}enableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!0}disableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!1}showSequenceNumbers(){return this.state.records.sequenceNumbersEnabled}setWrap(e){this.state.records.wrapEnabled=e}extractWrap(e){if(e===void 0)return{};e=e.trim();let t=/^:?wrap:/.exec(e)!==null?!0:/^:?nowrap:/.exec(e)!==null?!1:void 0;return{cleanedText:(t===void 0?e:e.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:t}}autoWrap(){return this.state.records.wrapEnabled!==void 0?this.state.records.wrapEnabled:Ee().sequence?.wrap??!1}clear(){this.state.reset(),Ni()}parseMessage(e){let t=e.trim(),{wrap:r,cleanedText:i}=this.extractWrap(t),n={text:i,wrap:r};return ne.debug(`parseMessage: ${JSON.stringify(n)}`),n}parseBoxData(e){let t=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(e),r=t?.[1]?t[1].trim():"transparent",i=t?.[2]?t[2].trim():void 0;if(window?.CSS)window.CSS.supports("color",r)||(r="transparent",i=e.trim());else{let s=new Option().style;s.color=r,s.color!==r&&(r="transparent",i=e.trim())}let{wrap:n,cleanedText:a}=this.extractWrap(i);return{text:a?wr(a,Ee()):void 0,color:r,wrap:n}}addNote(e,t,r){let i={actor:e,placement:t,message:r.text,wrap:r.wrap??this.autoWrap()},n=[].concat(e,e);this.state.records.notes.push(i),this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:n[0],to:n[1],message:r.text,wrap:r.wrap??this.autoWrap(),type:this.LINETYPE.NOTE,placement:t})}addLinks(e,t){let r=this.getActor(e);try{let i=wr(t.text,Ee());i=i.replace(/&equals;/g,"="),i=i.replace(/&amp;/g,"&");let n=JSON.parse(i);this.insertLinks(r,n)}catch(i){ne.error("error while parsing actor link text",i)}}addALink(e,t){let r=this.getActor(e);try{let i={},n=wr(t.text,Ee()),a=n.indexOf("@");n=n.replace(/&equals;/g,"="),n=n.replace(/&amp;/g,"&");let s=n.slice(0,a-1).trim(),o=n.slice(a+1).trim();i[s]=o,this.insertLinks(r,i)}catch(i){ne.error("error while parsing actor link text",i)}}insertLinks(e,t){if(e.links==null)e.links=t;else for(let r in t)e.links[r]=t[r]}addProperties(e,t){let r=this.getActor(e);try{let i=wr(t.text,Ee()),n=JSON.parse(i);this.insertProperties(r,n)}catch(i){ne.error("error while parsing actor properties text",i)}}insertProperties(e,t){if(e.properties==null)e.properties=t;else for(let r in t)e.properties[r]=t[r]}boxEnd(){this.state.records.currentBox=void 0}addDetails(e,t){let r=this.getActor(e),i=document.getElementById(t.text);try{let n=i.innerHTML,a=JSON.parse(n);a.properties&&this.insertProperties(r,a.properties),a.links&&this.insertLinks(r,a.links)}catch(n){ne.error("error while parsing actor details text",n)}}getActorProperty(e,t){if(e?.properties!==void 0)return e.properties[t]}apply(e){if(Array.isArray(e))e.forEach(t=>{this.apply(t)});else switch(e.type){case"sequenceIndex":this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":this.addActor(e.actor,e.actor,e.description,e.draw,e.config);break;case"createParticipant":if(this.state.records.actors.has(e.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");this.state.records.lastCreated=e.actor,this.addActor(e.actor,e.actor,e.description,e.draw,e.config),this.state.records.createdActors.set(e.actor,this.state.records.messages.length);break;case"destroyParticipant":this.state.records.lastDestroyed=e.actor,this.state.records.destroyedActors.set(e.actor,this.state.records.messages.length);break;case"activeStart":this.addSignal(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":this.addSignal(e.actor,void 0,void 0,e.signalType);break;case"addNote":this.addNote(e.actor,e.placement,e.text);break;case"addLinks":this.addLinks(e.actor,e.text);break;case"addALink":this.addALink(e.actor,e.text);break;case"addProperties":this.addProperties(e.actor,e.text);break;case"addDetails":this.addDetails(e.actor,e.text);break;case"addMessage":if(this.state.records.lastCreated){if(e.to!==this.state.records.lastCreated)throw new Error("The created participant "+this.state.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");this.state.records.lastCreated=void 0}else if(this.state.records.lastDestroyed){if(e.to!==this.state.records.lastDestroyed&&e.from!==this.state.records.lastDestroyed)throw new Error("The destroyed participant "+this.state.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");this.state.records.lastDestroyed=void 0}this.addSignal(e.from,e.to,e.msg,e.signalType,e.activate);break;case"boxStart":this.addBox(e.boxData);break;case"boxEnd":this.boxEnd();break;case"loopStart":this.addSignal(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"rectStart":this.addSignal(void 0,void 0,e.color,e.signalType);break;case"rectEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"optStart":this.addSignal(void 0,void 0,e.optText,e.signalType);break;case"optEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"altStart":this.addSignal(void 0,void 0,e.altText,e.signalType);break;case"else":this.addSignal(void 0,void 0,e.altText,e.signalType);break;case"altEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":Mi(e.text);break;case"parStart":this.addSignal(void 0,void 0,e.parText,e.signalType);break;case"and":this.addSignal(void 0,void 0,e.parText,e.signalType);break;case"parEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"criticalStart":this.addSignal(void 0,void 0,e.criticalText,e.signalType);break;case"option":this.addSignal(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"breakStart":this.addSignal(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break}}getConfig(){return Ee().sequence}}}),cDe,uDe,ret=D(()=>{"use strict";cDe=l(e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }
  
  .innerArc {
    stroke-width: 1.5;
    stroke-dasharray: none;
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }

`,"getStyles"),uDe=cDe}),lU,xh,Zc,Qc,Tx,Jc,Cf,hDe,Ex,Cx,ap,cU,br,uU,dDe,pDe,gDe,fDe,mDe,yDe,vDe,bDe,xDe,wDe,kDe,TDe,EDe,hU,CDe,SDe,_De,ADe,LDe,NDe,MDe,dU,IDe,Rl,DDe,Si,iet=D(()=>{"use strict";lU=zn(xy(),1),pi(),Zt(),cr(),E5(),xh=36,Zc="actor-top",Qc="actor-bottom",Tx="actor-box",Jc="actor-man",Cf=l(function(e,t){return wy(e,t)},"drawRect"),hDe=l(function(e,t,r,i,n){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};let a=t.links,s=t.actorCnt,o=t.rectData;var u="none";n&&(u="block !important");let h=e.append("g");h.attr("id","actor"+s+"_popup"),h.attr("class","actorPopupMenu"),h.attr("display",u);var d="";o.class!==void 0&&(d=" "+o.class);let p=o.width>r?o.width:r,g=h.append("rect");if(g.attr("class","actorPopupMenuPanel"+d),g.attr("x",o.x),g.attr("y",o.height),g.attr("fill",o.fill),g.attr("stroke",o.stroke),g.attr("width",p),g.attr("height",o.height),g.attr("rx",o.rx),g.attr("ry",o.ry),a!=null){var f=20;for(let b in a){var m=h.append("a"),y=(0,lU.sanitizeUrl)(a[b]);m.attr("xlink:href",y),m.attr("target","_blank"),DDe(i)(b,m,o.x+10,o.height+f,p,20,{class:"actor"},i),f+=30}}return g.attr("height",f),{height:o.height+f,width:p}},"drawPopup"),Ex=l(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),Cx=l(async function(e,t,r=null){let i=e.append("foreignObject"),n=await $p(t.text,Tr()),a=i.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(n).node().getBoundingClientRect();if(i.attr("height",Math.round(a.height)).attr("width",Math.round(a.width)),t.class==="noteText"){let s=e.node().firstChild;s.setAttribute("height",a.height+2*t.textMargin);let o=s.getBBox();i.attr("x",Math.round(o.x+o.width/2-a.width/2)).attr("y",Math.round(o.y+o.height/2-a.height/2))}else if(r){let{startx:s,stopx:o,starty:u}=r;if(s>o){let h=s;s=o,o=h}i.attr("x",Math.round(s+Math.abs(s-o)/2-a.width/2)),t.class==="loopText"?i.attr("y",Math.round(u)):i.attr("y",Math.round(u-a.height))}return[i]},"drawKatex"),ap=l(function(e,t){let r=0,i=0,n=t.text.split(nt.lineBreakRegex),[a,s]=Iu(t.fontSize),o=[],u=0,h=l(()=>t.y,"yfunc");if(t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0)switch(t.valign){case"top":case"start":h=l(()=>Math.round(t.y+t.textMargin),"yfunc");break;case"middle":case"center":h=l(()=>Math.round(t.y+(r+i+t.textMargin)/2),"yfunc");break;case"bottom":case"end":h=l(()=>Math.round(t.y+(r+i+2*t.textMargin)-t.textMargin),"yfunc");break}if(t.anchor!==void 0&&t.textMargin!==void 0&&t.width!==void 0)switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle";break}for(let[d,p]of n.entries()){t.textMargin!==void 0&&t.textMargin===0&&a!==void 0&&(u=d*a);let g=e.append("text");g.attr("x",t.x),g.attr("y",h()),t.anchor!==void 0&&g.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),t.fontFamily!==void 0&&g.style("font-family",t.fontFamily),s!==void 0&&g.style("font-size",s),t.fontWeight!==void 0&&g.style("font-weight",t.fontWeight),t.fill!==void 0&&g.attr("fill",t.fill),t.class!==void 0&&g.attr("class",t.class),t.dy!==void 0?g.attr("dy",t.dy):u!==0&&g.attr("dy",u);let f=p||M9;if(t.tspan){let m=g.append("tspan");m.attr("x",t.x),t.fill!==void 0&&m.attr("fill",t.fill),m.text(f)}else g.text(f);t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0&&(i+=(g._groups||g)[0][0].getBBox().height,r=i),o.push(g)}return o},"drawText"),cU=l(function(e,t){function r(n,a,s,o,u){return n+","+a+" "+(n+s)+","+a+" "+(n+s)+","+(a+o-u)+" "+(n+s-u*1.2)+","+(a+o)+" "+n+","+(a+o)}l(r,"genPoints");let i=e.append("polygon");return i.attr("points",r(t.x,t.y,t.width,t.height,7)),i.attr("class","labelBox"),t.y=t.y+t.height/2,ap(e,t),i},"drawLabel"),br=-1,uU=l((e,t,r,i)=>{e.select&&r.forEach(n=>{let a=t.get(n),s=e.select("#actor"+a.actorCnt);!i.mirrorActors&&a.stopy?s.attr("y2",a.stopy+a.height/2):i.mirrorActors&&s.attr("y2",a.stopy)})},"fixLifeLineHeights"),dDe=l(function(e,t,r,i){let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+t.height,o=e.append("g").lower();var u=o;i||(br++,Object.keys(t.links||{}).length&&!r.forceMenus&&u.attr("onclick",Ex(`actor${br}_popup`)).attr("cursor","pointer"),u.append("line").attr("id","actor"+br).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),u=o.append("g"),t.actorCnt=br,t.links!=null&&u.attr("id","root-"+br));let h=Pa();var d="actor";t.properties?.class?d=t.properties.class:h.fill="#eaeaea",i?d+=` ${Qc}`:d+=` ${Zc}`,h.x=t.x,h.y=n,h.width=t.width,h.height=t.height,h.class=d,h.rx=3,h.ry=3,h.name=t.name;let p=Cf(u,h);if(t.rectData=h,t.properties?.icon){let f=t.properties.icon.trim();f.charAt(0)==="@"?k5(u,h.x+h.width-20,h.y+10,f.substr(1)):w5(u,h.x+h.width-20,h.y+10,f)}Rl(r,fi(t.description))(t.description,u,h.x,h.y,h.width,h.height,{class:`actor ${Tx}`},r);let g=t.height;if(p.node){let f=p.node().getBBox();t.height=f.height,g=f.height}return g},"drawActorTypeParticipant"),pDe=l(function(e,t,r,i){let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+t.height,o=e.append("g").lower();var u=o;i||(br++,Object.keys(t.links||{}).length&&!r.forceMenus&&u.attr("onclick",Ex(`actor${br}_popup`)).attr("cursor","pointer"),u.append("line").attr("id","actor"+br).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),u=o.append("g"),t.actorCnt=br,t.links!=null&&u.attr("id","root-"+br));let h=Pa();var d="actor";t.properties?.class?d=t.properties.class:h.fill="#eaeaea",i?d+=` ${Qc}`:d+=` ${Zc}`,h.x=t.x,h.y=n,h.width=t.width,h.height=t.height,h.class=d,h.name=t.name;let p=6,g={...h,x:h.x+-p,y:h.y+ +p,class:"actor"},f=Cf(u,h);if(Cf(u,g),t.rectData=h,t.properties?.icon){let y=t.properties.icon.trim();y.charAt(0)==="@"?k5(u,h.x+h.width-20,h.y+10,y.substr(1)):w5(u,h.x+h.width-20,h.y+10,y)}Rl(r,fi(t.description))(t.description,u,h.x-p,h.y+p,h.width,h.height,{class:`actor ${Tx}`},r);let m=t.height;if(f.node){let y=f.node().getBBox();t.height=y.height,m=y.height}return m},"drawActorTypeCollections"),gDe=l(function(e,t,r,i){let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+t.height,o=e.append("g").lower(),u=o;i||(br++,Object.keys(t.links||{}).length&&!r.forceMenus&&u.attr("onclick",Ex(`actor${br}_popup`)).attr("cursor","pointer"),u.append("line").attr("id","actor"+br).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),u=o.append("g"),t.actorCnt=br,t.links!=null&&u.attr("id","root-"+br));let h=Pa(),d="actor";t.properties?.class?d=t.properties.class:h.fill="#eaeaea",i?d+=` ${Qc}`:d+=` ${Zc}`,h.x=t.x,h.y=n,h.width=t.width,h.height=t.height,h.class=d,h.name=t.name;let p=h.height/2,g=p/(2.5+h.height/50),f=u.append("g"),m=u.append("g");if(f.append("path").attr("d",`M ${h.x},${h.y+p}
    a ${g},${p} 0 0 0 0,${h.height}
    h ${h.width-2*g}
    a ${g},${p} 0 0 0 0,-${h.height}
    Z
  `).attr("class",d),m.append("path").attr("d",`M ${h.x},${h.y+p}
      a ${g},${p} 0 0 0 0,${h.height}`).attr("stroke","#666").attr("stroke-width","1px").attr("class",d),f.attr("transform",`translate(${g}, ${-(h.height/2)})`),m.attr("transform",`translate(${h.width-g}, ${-h.height/2})`),t.rectData=h,t.properties?.icon){let v=t.properties.icon.trim(),x=h.x+h.width-20,w=h.y+10;v.charAt(0)==="@"?k5(u,x,w,v.substr(1)):w5(u,x,w,v)}Rl(r,fi(t.description))(t.description,u,h.x,h.y,h.width,h.height,{class:`actor ${Tx}`},r);let y=t.height,b=f.select("path:last-child");if(b.node()){let v=b.node().getBBox();t.height=v.height,y=v.height}return y},"drawActorTypeQueue"),fDe=l(function(e,t,r,i){let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+75,o=e.append("g").lower();i||(br++,o.append("line").attr("id","actor"+br).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=br);let u=e.append("g"),h=Jc;i?h+=` ${Qc}`:h+=` ${Zc}`,u.attr("class",h),u.attr("name",t.name);let d=Pa();d.x=t.x,d.y=n,d.fill="#eaeaea",d.width=t.width,d.height=t.height,d.class="actor";let p=t.x+t.width/2,g=n+30,f=18;u.append("defs").append("marker").attr("id","filled-head-control").attr("refX",11).attr("refY",5.8).attr("markerWidth",20).attr("markerHeight",28).attr("orient","172.5").append("path").attr("d","M 14.4 5.6 L 7.2 10.4 L 8.8 5.6 L 7.2 0.8 Z"),u.append("circle").attr("cx",p).attr("cy",g).attr("r",f).attr("fill","#eaeaf7").attr("stroke","#666").attr("stroke-width",1.2),u.append("line").attr("marker-end","url(#filled-head-control)").attr("transform",`translate(${p}, ${g-f})`);let m=u.node().getBBox();return t.height=m.height+2*(r?.sequence?.labelBoxHeight??0),Rl(r,fi(t.description))(t.description,u,d.x,d.y+f+(i?5:10),d.width,d.height,{class:`actor ${Jc}`},r),t.height},"drawActorTypeControl"),mDe=l(function(e,t,r,i){let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+75,o=e.append("g").lower(),u=e.append("g"),h=Jc;i?h+=` ${Qc}`:h+=` ${Zc}`,u.attr("class",h),u.attr("name",t.name);let d=Pa();d.x=t.x,d.y=n,d.fill="#eaeaea",d.width=t.width,d.height=t.height,d.class="actor";let p=t.x+t.width/2,g=n+(i?10:25),f=18;u.append("circle").attr("cx",p).attr("cy",g).attr("r",f).attr("width",t.width).attr("height",t.height),u.append("line").attr("x1",p-f).attr("x2",p+f).attr("y1",g+f).attr("y2",g+f).attr("stroke","#333").attr("stroke-width",2);let m=u.node().getBBox();return t.height=m.height+(r?.sequence?.labelBoxHeight??0),i||(br++,o.append("line").attr("id","actor"+br).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=br),Rl(r,fi(t.description))(t.description,u,d.x,d.y+(i?(g-n+f-5)/2:(g+f-n)/2),d.width,d.height,{class:`actor ${Jc}`},r),i?u.attr("transform",`translate(0, ${f/2})`):u.attr("transform",`translate(0, ${f/2})`),t.height},"drawActorTypeEntity"),yDe=l(function(e,t,r,i){let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+t.height+2*r.boxTextMargin,o=e.append("g").lower(),u=o;i||(br++,Object.keys(t.links||{}).length&&!r.forceMenus&&u.attr("onclick",Ex(`actor${br}_popup`)).attr("cursor","pointer"),u.append("line").attr("id","actor"+br).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),u=o.append("g"),t.actorCnt=br,t.links!=null&&u.attr("id","root-"+br));let h=Pa(),d="actor";t.properties?.class?d=t.properties.class:h.fill="#eaeaea",i?d+=` ${Qc}`:d+=` ${Zc}`,h.x=t.x,h.y=n,h.width=t.width,h.height=t.height,h.class=d,h.name=t.name,h.x=t.x,h.y=n;let p=h.width/4,g=h.width/4,f=p/2,m=f/(2.5+p/50),y=u.append("g"),b=`
  M ${h.x},${h.y+m}
  a ${f},${m} 0 0 0 ${p},0
  a ${f},${m} 0 0 0 -${p},0
  l 0,${g-2*m}
  a ${f},${m} 0 0 0 ${p},0
  l 0,-${g-2*m}
`;y.append("path").attr("d",b).attr("fill","#eaeaea").attr("stroke","#000").attr("stroke-width",1).attr("class",d),i?y.attr("transform",`translate(${p*1.5}, ${h.height/4-2*m})`):y.attr("transform",`translate(${p*1.5}, ${(h.height+m)/4})`),t.rectData=h,Rl(r,fi(t.description))(t.description,u,h.x,h.y+(i?(h.height+g)/4:(h.height+m)/2),h.width,h.height,{class:`actor ${Tx}`},r);let v=y.select("path:last-child");if(v.node()){let x=v.node().getBBox();t.height=x.height+(r.sequence.labelBoxHeight??0)}return t.height},"drawActorTypeDatabase"),vDe=l(function(e,t,r,i){let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+80,o=30,u=e.append("g").lower();i||(br++,u.append("line").attr("id","actor"+br).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=br);let h=e.append("g"),d=Jc;i?d+=` ${Qc}`:d+=` ${Zc}`,h.attr("class",d),h.attr("name",t.name);let p=Pa();p.x=t.x,p.y=n,p.fill="#eaeaea",p.width=t.width,p.height=t.height,p.class="actor",h.append("line").attr("id","actor-man-torso"+br).attr("x1",t.x+t.width/2-o*2.5).attr("y1",n+10).attr("x2",t.x+t.width/2-15).attr("y2",n+10),h.append("line").attr("id","actor-man-arms"+br).attr("x1",t.x+t.width/2-o*2.5).attr("y1",n+0).attr("x2",t.x+t.width/2-o*2.5).attr("y2",n+20),h.append("circle").attr("cx",t.x+t.width/2).attr("cy",n+10).attr("r",o);let g=h.node().getBBox();return t.height=g.height+(r.sequence.labelBoxHeight??0),Rl(r,fi(t.description))(t.description,h,p.x,p.y+(i?o/2-4:o/2+3),p.width,p.height,{class:`actor ${Jc}`},r),i?h.attr("transform",`translate(0,${o/2+7})`):h.attr("transform",`translate(0,${o/2+7})`),t.height},"drawActorTypeBoundary"),bDe=l(function(e,t,r,i){let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+80,o=e.append("g").lower();i||(br++,o.append("line").attr("id","actor"+br).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=br);let u=e.append("g"),h=Jc;i?h+=` ${Qc}`:h+=` ${Zc}`,u.attr("class",h),u.attr("name",t.name);let d=Pa();d.x=t.x,d.y=n,d.fill="#eaeaea",d.width=t.width,d.height=t.height,d.class="actor",d.rx=3,d.ry=3,u.append("line").attr("id","actor-man-torso"+br).attr("x1",a).attr("y1",n+25).attr("x2",a).attr("y2",n+45),u.append("line").attr("id","actor-man-arms"+br).attr("x1",a-xh/2).attr("y1",n+33).attr("x2",a+xh/2).attr("y2",n+33),u.append("line").attr("x1",a-xh/2).attr("y1",n+60).attr("x2",a).attr("y2",n+45),u.append("line").attr("x1",a).attr("y1",n+45).attr("x2",a+xh/2-2).attr("y2",n+60);let p=u.append("circle");p.attr("cx",t.x+t.width/2),p.attr("cy",n+10),p.attr("r",15),p.attr("width",t.width),p.attr("height",t.height);let g=u.node().getBBox();return t.height=g.height,Rl(r,fi(t.description))(t.description,u,d.x,d.y+35,d.width,d.height,{class:`actor ${Jc}`},r),t.height},"drawActorTypeActor"),xDe=l(async function(e,t,r,i){switch(t.type){case"actor":return await bDe(e,t,r,i);case"participant":return await dDe(e,t,r,i);case"boundary":return await vDe(e,t,r,i);case"control":return await fDe(e,t,r,i);case"entity":return await mDe(e,t,r,i);case"database":return await yDe(e,t,r,i);case"collections":return await pDe(e,t,r,i);case"queue":return await gDe(e,t,r,i)}},"drawActor"),wDe=l(function(e,t,r){let i=e.append("g");hU(i,t),t.name&&Rl(r)(t.name,i,t.x,t.y+r.boxTextMargin+(t.textMaxHeight||0)/2,t.width,0,{class:"text"},r),i.lower()},"drawBox"),kDe=l(function(e){return e.append("g")},"anchorElement"),TDe=l(function(e,t,r,i,n){let a=Pa(),s=t.anchored;a.x=t.startx,a.y=t.starty,a.class="activation"+n%3,a.width=t.stopx-t.startx,a.height=r-t.starty,Cf(s,a)},"drawActivation"),EDe=l(async function(e,t,r,i){let{boxMargin:n,boxTextMargin:a,labelBoxHeight:s,labelBoxWidth:o,messageFontFamily:u,messageFontSize:h,messageFontWeight:d}=i,p=e.append("g"),g=l(function(y,b,v,x){return p.append("line").attr("x1",y).attr("y1",b).attr("x2",v).attr("y2",x).attr("class","loopLine")},"drawLoopLine");g(t.startx,t.starty,t.stopx,t.starty),g(t.stopx,t.starty,t.stopx,t.stopy),g(t.startx,t.stopy,t.stopx,t.stopy),g(t.startx,t.starty,t.startx,t.stopy),t.sections!==void 0&&t.sections.forEach(function(y){g(t.startx,y.y,t.stopx,y.y).style("stroke-dasharray","3, 3")});let f=T5();f.text=r,f.x=t.startx,f.y=t.starty,f.fontFamily=u,f.fontSize=h,f.fontWeight=d,f.anchor="middle",f.valign="middle",f.tspan=!1,f.width=o||50,f.height=s||20,f.textMargin=a,f.class="labelText",cU(p,f),f=dU(),f.text=t.title,f.x=t.startx+o/2+(t.stopx-t.startx)/2,f.y=t.starty+n+a,f.anchor="middle",f.valign="middle",f.textMargin=a,f.class="loopText",f.fontFamily=u,f.fontSize=h,f.fontWeight=d,f.wrap=!0;let m=fi(f.text)?await Cx(p,f,t):ap(p,f);if(t.sectionTitles!==void 0){for(let[y,b]of Object.entries(t.sectionTitles))if(b.message){f.text=b.message,f.x=t.startx+(t.stopx-t.startx)/2,f.y=t.sections[y].y+n+a,f.class="loopText",f.anchor="middle",f.valign="middle",f.tspan=!1,f.fontFamily=u,f.fontSize=h,f.fontWeight=d,f.wrap=t.wrap,fi(f.text)?(t.starty=t.sections[y].y,await Cx(p,f,t)):ap(p,f);let v=Math.round(m.map(x=>(x._groups||x)[0][0].getBBox().height).reduce((x,w)=>x+w));t.sections[y].height+=v-(n+a)}}return t.height=Math.round(t.stopy-t.starty),p},"drawLoop"),hU=l(function(e,t){qA(e,t)},"drawBackgroundRect"),CDe=l(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),SDe=l(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),_De=l(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),ADe=l(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),LDe=l(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),NDe=l(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),MDe=l(function(e){e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),dU=l(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),IDe=l(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),Rl=function(){function e(a,s,o,u,h,d,p){let g=s.append("text").attr("x",o+h/2).attr("y",u+d/2+5).style("text-anchor","middle").text(a);n(g,p)}l(e,"byText");function t(a,s,o,u,h,d,p,g){let{actorFontSize:f,actorFontFamily:m,actorFontWeight:y}=g,[b,v]=Iu(f),x=a.split(nt.lineBreakRegex);for(let w=0;w<x.length;w++){let k=w*b-b*(x.length-1)/2,T=s.append("text").attr("x",o+h/2).attr("y",u).style("text-anchor","middle").style("font-size",v).style("font-weight",y).style("font-family",m);T.append("tspan").attr("x",o+h/2).attr("dy",k).text(x[w]),T.attr("y",u+d/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(T,p)}}l(t,"byTspan");function r(a,s,o,u,h,d,p,g){let f=s.append("switch"),m=f.append("foreignObject").attr("x",o).attr("y",u).attr("width",h).attr("height",d).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,f,o,u,h,d,p,g),n(m,p)}l(r,"byFo");async function i(a,s,o,u,h,d,p,g){let f=await Bp(a,Tr()),m=s.append("switch"),y=m.append("foreignObject").attr("x",o+h/2-f.width/2).attr("y",u+d/2-f.height/2).attr("width",f.width).attr("height",f.height).append("xhtml:div").style("height","100%").style("width","100%");y.append("div").style("text-align","center").style("vertical-align","middle").html(await $p(a,Tr())),t(a,m,o,u,h,d,p,g),n(y,p)}l(i,"byKatex");function n(a,s){for(let o in s)s.hasOwnProperty(o)&&a.attr(o,s[o])}return l(n,"_setTextAttrs"),function(a,s=!1){return s?i:a.textPlacement==="fo"?r:a.textPlacement==="old"?e:t}}(),DDe=function(){function e(n,a,s,o,u,h,d){let p=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").text(n);i(p,d)}l(e,"byText");function t(n,a,s,o,u,h,d,p){let{actorFontSize:g,actorFontFamily:f,actorFontWeight:m}=p,y=n.split(nt.lineBreakRegex);for(let b=0;b<y.length;b++){let v=b*g-g*(y.length-1)/2,x=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").style("font-size",g).style("font-weight",m).style("font-family",f);x.append("tspan").attr("x",s).attr("dy",v).text(y[b]),x.attr("y",o+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(x,d)}}l(t,"byTspan");function r(n,a,s,o,u,h,d,p){let g=a.append("switch"),f=g.append("foreignObject").attr("x",s).attr("y",o).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,g,s,o,u,h,d,p),i(f,d)}l(r,"byFo");function i(n,a){for(let s in a)a.hasOwnProperty(s)&&n.attr(s,a[s])}return l(i,"_setTextAttrs"),function(n){return n.textPlacement==="fo"?r:n.textPlacement==="old"?e:t}}(),Si={drawRect:Cf,drawText:ap,drawLabel:cU,drawActor:xDe,drawBox:wDe,drawPopup:hDe,anchorElement:kDe,drawActivation:TDe,drawLoop:EDe,drawBackgroundRect:hU,insertArrowHead:ADe,insertArrowFilledHead:LDe,insertSequenceNumber:NDe,insertArrowCrossHead:MDe,insertDatabaseIcon:CDe,insertComputerIcon:SDe,insertClockIcon:_De,getTextObj:dU,getNoteRect:IDe,fixLifeLineHeights:uU,sanitizeUrl:lU.sanitizeUrl}});async function RDe(e,t){Je.bumpVerticalPos(10);let{startx:r,stopx:i,message:n}=t,a=nt.splitBreaks(n).length,s=fi(n),o=s?await Bp(n,Ee()):or.calculateTextDimensions(n,wh(Le));if(!s){let p=o.height/a;t.height+=p,Je.bumpVerticalPos(p)}let u,h=o.height-10,d=o.width;if(r===i){u=Je.getVerticalPos()+h,Le.rightAngles||(h+=Le.boxMargin,u=Je.getVerticalPos()+h),h+=30;let p=nt.getMax(d/2,Le.width/2);Je.insert(r-p,Je.getVerticalPos()-10+h,i+p,Je.getVerticalPos()+30+h)}else h+=Le.boxMargin,u=Je.getVerticalPos()+h,Je.insert(r,u-10,i,u);return Je.bumpVerticalPos(h),t.height+=h,t.stopy=t.starty+t.height,Je.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),u}function Do(e,t,r,i,n){Je.bumpVerticalPos(r);let a=i;if(t.id&&t.message&&e[t.id]){let s=e[t.id].width,o=wh(Le);t.message=or.wrapLabel(`[${t.message}]`,s-2*Le.wrapPadding,o),t.width=s,t.wrap=!0;let u=or.calculateTextDimensions(t.message,o),h=nt.getMax(u.height,Le.labelBoxHeight);a=i+h,ne.debug(`${h} - ${t.message}`)}n(t),Je.bumpVerticalPos(a)}function ODe(e,t,r,i,n,a,s){function o(d,p){d.x<n.get(e.from).x?(Je.insert(t.stopx-p,t.starty,t.startx,t.stopy+d.height/2+Le.noteMargin),t.stopx=t.stopx+p):(Je.insert(t.startx,t.starty,t.stopx+p,t.stopy+d.height/2+Le.noteMargin),t.stopx=t.stopx-p)}l(o,"receiverAdjustment");function u(d,p){d.x<n.get(e.to).x?(Je.insert(t.startx-p,t.starty,t.stopx,t.stopy+d.height/2+Le.noteMargin),t.startx=t.startx+p):(Je.insert(t.stopx,t.starty,t.startx+p,t.stopy+d.height/2+Le.noteMargin),t.startx=t.startx-p)}l(u,"senderAdjustment");let h=[kx.ACTOR,kx.CONTROL,kx.ENTITY,kx.DATABASE];if(a.get(e.to)==i){let d=n.get(e.to),p=h.includes(d.type)?xh/2+3:d.width/2+3;o(d,p),d.starty=r-d.height/2,Je.bumpVerticalPos(d.height/2)}else if(s.get(e.from)==i){let d=n.get(e.from);if(Le.mirrorActors){let p=h.includes(d.type)?xh/2:d.width/2;u(d,p)}d.stopy=r-d.height/2,Je.bumpVerticalPos(d.height/2)}else if(s.get(e.to)==i){let d=n.get(e.to);if(Le.mirrorActors){let p=h.includes(d.type)?xh/2+3:d.width/2+3;o(d,p)}d.stopy=r-d.height/2,Je.bumpVerticalPos(d.height/2)}}async function PDe(e,t,r){let i={};for(let n of t)if(e.get(n.to)&&e.get(n.from)){let a=e.get(n.to);if(n.placement===r.db.PLACEMENT.LEFTOF&&!a.prevActor||n.placement===r.db.PLACEMENT.RIGHTOF&&!a.nextActor)continue;let s=n.placement!==void 0,o=!s,u=s?sp(Le):wh(Le),h=n.wrap?or.wrapLabel(n.message,Le.width-2*Le.wrapPadding,u):n.message,d=(fi(h)?await Bp(n.message,Ee()):or.calculateTextDimensions(h,u)).width+2*Le.wrapPadding;o&&n.from===a.nextActor?i[n.to]=nt.getMax(i[n.to]||0,d):o&&n.from===a.prevActor?i[n.from]=nt.getMax(i[n.from]||0,d):o&&n.from===n.to?(i[n.from]=nt.getMax(i[n.from]||0,d/2),i[n.to]=nt.getMax(i[n.to]||0,d/2)):n.placement===r.db.PLACEMENT.RIGHTOF?i[n.from]=nt.getMax(i[n.from]||0,d):n.placement===r.db.PLACEMENT.LEFTOF?i[a.prevActor]=nt.getMax(i[a.prevActor]||0,d):n.placement===r.db.PLACEMENT.OVER&&(a.prevActor&&(i[a.prevActor]=nt.getMax(i[a.prevActor]||0,d/2)),a.nextActor&&(i[n.from]=nt.getMax(i[n.from]||0,d/2)))}return ne.debug("maxMessageWidthPerActor:",i),i}async function BDe(e,t,r){let i=0;for(let a of e.keys()){let s=e.get(a);s.wrap&&(s.description=or.wrapLabel(s.description,Le.width-2*Le.wrapPadding,j7(Le)));let o=fi(s.description)?await Bp(s.description,Ee()):or.calculateTextDimensions(s.description,j7(Le));s.width=s.wrap?Le.width:nt.getMax(Le.width,o.width+2*Le.wrapPadding),s.height=s.wrap?nt.getMax(o.height,Le.height):Le.height,i=nt.getMax(i,s.height)}for(let a in t){let s=e.get(a);if(!s)continue;let o=e.get(s.nextActor);if(!o){let h=t[a]+Le.actorMargin-s.width/2;s.margin=nt.getMax(h,Le.actorMargin);continue}let u=t[a]+Le.actorMargin-s.width/2-o.width/2;s.margin=nt.getMax(u,Le.actorMargin)}let n=0;return r.forEach(a=>{let s=wh(Le),o=a.actorKeys.reduce((p,g)=>p+=e.get(g).width+(e.get(g).margin||0),0),u=Le.boxMargin*8;o+=u,o-=2*Le.boxTextMargin,a.wrap&&(a.name=or.wrapLabel(a.name,o-2*Le.wrapPadding,s));let h=or.calculateTextDimensions(a.name,s);n=nt.getMax(h.height,n);let d=nt.getMax(o,h.width+2*Le.wrapPadding);if(a.margin=Le.boxTextMargin,o<d){let p=(d-o)/2;a.margin+=p}}),r.forEach(a=>a.textMaxHeight=n),nt.getMax(i,Le.height)}var Le,Je,$De,wh,sp,j7,FDe,zDe,H7,pU,gU,Sx,fU,GDe,UDe,qDe,jDe,HDe,VDe,net=D(()=>{"use strict";hr(),iet(),st(),cr(),cr(),E5(),Gt(),Uf(),Zt(),an(),lDe(),Le={},Je={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:l(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},"getHeight"),clear:l(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:l(function(e){this.boxes.push(e)},"addBox"),addActor:l(function(e){this.actors.push(e)},"addActor"),addLoop:l(function(e){this.loops.push(e)},"addLoop"),addMessage:l(function(e){this.messages.push(e)},"addMessage"),addNote:l(function(e){this.notes.push(e)},"addNote"),lastActor:l(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:l(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:l(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:l(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:l(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,gU(Ee())},"init"),updateVal:l(function(e,t,r,i){e[t]===void 0?e[t]=r:e[t]=i(r,e[t])},"updateVal"),updateBounds:l(function(e,t,r,i){let n=this,a=0;function s(o){return l(function(u){a++;let h=n.sequenceItems.length-a+1;n.updateVal(u,"starty",t-h*Le.boxMargin,Math.min),n.updateVal(u,"stopy",i+h*Le.boxMargin,Math.max),n.updateVal(Je.data,"startx",e-h*Le.boxMargin,Math.min),n.updateVal(Je.data,"stopx",r+h*Le.boxMargin,Math.max),o!=="activation"&&(n.updateVal(u,"startx",e-h*Le.boxMargin,Math.min),n.updateVal(u,"stopx",r+h*Le.boxMargin,Math.max),n.updateVal(Je.data,"starty",t-h*Le.boxMargin,Math.min),n.updateVal(Je.data,"stopy",i+h*Le.boxMargin,Math.max))},"updateItemBounds")}l(s,"updateFn"),this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},"updateBounds"),insert:l(function(e,t,r,i){let n=nt.getMin(e,r),a=nt.getMax(e,r),s=nt.getMin(t,i),o=nt.getMax(t,i);this.updateVal(Je.data,"startx",n,Math.min),this.updateVal(Je.data,"starty",s,Math.min),this.updateVal(Je.data,"stopx",a,Math.max),this.updateVal(Je.data,"stopy",o,Math.max),this.updateBounds(n,s,a,o)},"insert"),newActivation:l(function(e,t,r){let i=r.get(e.from),n=Sx(e.from).length||0,a=i.x+i.width/2+(n-1)*Le.activationWidth/2;this.activations.push({startx:a,starty:this.verticalPos+2,stopx:a+Le.activationWidth,stopy:void 0,actor:e.from,anchored:Si.anchorElement(t)})},"newActivation"),endActivation:l(function(e){let t=this.activations.map(function(r){return r.actor}).lastIndexOf(e.from);return this.activations.splice(t,1)[0]},"endActivation"),createLoop:l(function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},"createLoop"),newLoop:l(function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},"newLoop"),endLoop:l(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:l(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:l(function(e){let t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:Je.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},"addSectionToLoop"),saveVerticalPos:l(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:l(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:l(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=nt.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:l(function(){return this.verticalPos},"getVerticalPos"),getBounds:l(function(){return{bounds:this.data,models:this.models}},"getBounds")},$De=l(async function(e,t){Je.bumpVerticalPos(Le.boxMargin),t.height=Le.boxMargin,t.starty=Je.getVerticalPos();let r=Pa();r.x=t.startx,r.y=t.starty,r.width=t.width||Le.width,r.class="note";let i=e.append("g"),n=Si.drawRect(i,r),a=T5();a.x=t.startx,a.y=t.starty,a.width=r.width,a.dy="1em",a.text=t.message,a.class="noteText",a.fontFamily=Le.noteFontFamily,a.fontSize=Le.noteFontSize,a.fontWeight=Le.noteFontWeight,a.anchor=Le.noteAlign,a.textMargin=Le.noteMargin,a.valign="center";let s=fi(a.text)?await Cx(i,a):ap(i,a),o=Math.round(s.map(u=>(u._groups||u)[0][0].getBBox().height).reduce((u,h)=>u+h));n.attr("height",o+2*Le.noteMargin),t.height+=o+2*Le.noteMargin,Je.bumpVerticalPos(o+2*Le.noteMargin),t.stopy=t.starty+o+2*Le.noteMargin,t.stopx=t.startx+r.width,Je.insert(t.startx,t.starty,t.stopx,t.stopy),Je.models.addNote(t)},"drawNote"),wh=l(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),sp=l(e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),"noteFont"),j7=l(e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}),"actorFont"),l(RDe,"boundMessage"),FDe=l(async function(e,t,r,i){let{startx:n,stopx:a,starty:s,message:o,type:u,sequenceIndex:h,sequenceVisible:d}=t,p=or.calculateTextDimensions(o,wh(Le)),g=T5();g.x=n,g.y=s+10,g.width=a-n,g.class="messageText",g.dy="1em",g.text=o,g.fontFamily=Le.messageFontFamily,g.fontSize=Le.messageFontSize,g.fontWeight=Le.messageFontWeight,g.anchor=Le.messageAlign,g.valign="center",g.textMargin=Le.wrapPadding,g.tspan=!1,fi(g.text)?await Cx(e,g,{startx:n,stopx:a,starty:r}):ap(e,g);let f=p.width,m;n===a?Le.rightAngles?m=e.append("path").attr("d",`M  ${n},${r} H ${n+nt.getMax(Le.width/2,f/2)} V ${r+25} H ${n}`):m=e.append("path").attr("d","M "+n+","+r+" C "+(n+60)+","+(r-10)+" "+(n+60)+","+(r+30)+" "+n+","+(r+20)):(m=e.append("line"),m.attr("x1",n),m.attr("y1",r),m.attr("x2",a),m.attr("y2",r)),u===i.db.LINETYPE.DOTTED||u===i.db.LINETYPE.DOTTED_CROSS||u===i.db.LINETYPE.DOTTED_POINT||u===i.db.LINETYPE.DOTTED_OPEN||u===i.db.LINETYPE.BIDIRECTIONAL_DOTTED?(m.style("stroke-dasharray","3, 3"),m.attr("class","messageLine1")):m.attr("class","messageLine0");let y="";Le.arrowMarkerAbsolute&&(y=_m(!0)),m.attr("stroke-width",2),m.attr("stroke","none"),m.style("fill","none"),(u===i.db.LINETYPE.SOLID||u===i.db.LINETYPE.DOTTED)&&m.attr("marker-end","url("+y+"#arrowhead)"),(u===i.db.LINETYPE.BIDIRECTIONAL_SOLID||u===i.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(m.attr("marker-start","url("+y+"#arrowhead)"),m.attr("marker-end","url("+y+"#arrowhead)")),(u===i.db.LINETYPE.SOLID_POINT||u===i.db.LINETYPE.DOTTED_POINT)&&m.attr("marker-end","url("+y+"#filled-head)"),(u===i.db.LINETYPE.SOLID_CROSS||u===i.db.LINETYPE.DOTTED_CROSS)&&m.attr("marker-end","url("+y+"#crosshead)"),(d||Le.showSequenceNumbers)&&((u===i.db.LINETYPE.BIDIRECTIONAL_SOLID||u===i.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(n<a?m.attr("x1",n+12):m.attr("x1",n+6)),e.append("line").attr("x1",n).attr("y1",r).attr("x2",n).attr("y2",r).attr("stroke-width",0).attr("marker-start","url("+y+"#sequencenumber)"),e.append("text").attr("x",n).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(h))},"drawMessage"),zDe=l(function(e,t,r,i,n,a,s){let o=0,u=0,h,d=0;for(let p of i){let g=t.get(p),f=g.box;h&&h!=f&&(s||Je.models.addBox(h),u+=Le.boxMargin+h.margin),f&&f!=h&&(s||(f.x=o+u,f.y=n),u+=f.margin),g.width=g.width||Le.width,g.height=nt.getMax(g.height||Le.height,Le.height),g.margin=g.margin||Le.actorMargin,d=nt.getMax(d,g.height),r.get(g.name)&&(u+=g.width/2),g.x=o+u,g.starty=Je.getVerticalPos(),Je.insert(g.x,n,g.x+g.width,g.height),o+=g.width+u,g.box&&(g.box.width=o+f.margin-g.box.x),u=g.margin,h=g.box,Je.models.addActor(g)}h&&!s&&Je.models.addBox(h),Je.bumpVerticalPos(d)},"addActorRenderingData"),H7=l(async function(e,t,r,i){if(i){let n=0;Je.bumpVerticalPos(Le.boxMargin*2);for(let a of r){let s=t.get(a);s.stopy||(s.stopy=Je.getVerticalPos());let o=await Si.drawActor(e,s,Le,!0);n=nt.getMax(n,o)}Je.bumpVerticalPos(n+Le.boxMargin)}else for(let n of r){let a=t.get(n);await Si.drawActor(e,a,Le,!1)}},"drawActors"),pU=l(function(e,t,r,i){let n=0,a=0;for(let s of r){let o=t.get(s),u=UDe(o),h=Si.drawPopup(e,o,u,Le,Le.forceMenus,i);h.height>n&&(n=h.height),h.width+o.x>a&&(a=h.width+o.x)}return{maxHeight:n,maxWidth:a}},"drawActorsPopup"),gU=l(function(e){ki(Le,e),e.fontFamily&&(Le.actorFontFamily=Le.noteFontFamily=Le.messageFontFamily=e.fontFamily),e.fontSize&&(Le.actorFontSize=Le.noteFontSize=Le.messageFontSize=e.fontSize),e.fontWeight&&(Le.actorFontWeight=Le.noteFontWeight=Le.messageFontWeight=e.fontWeight)},"setConf"),Sx=l(function(e){return Je.activations.filter(function(t){return t.actor===e})},"actorActivations"),fU=l(function(e,t){let r=t.get(e),i=Sx(e),n=i.reduce(function(s,o){return nt.getMin(s,o.startx)},r.x+r.width/2-1),a=i.reduce(function(s,o){return nt.getMax(s,o.stopx)},r.x+r.width/2+1);return[n,a]},"activationBounds"),l(Do,"adjustLoopHeightForWrap"),l(ODe,"adjustCreatedDestroyedData"),GDe=l(async function(e,t,r,i){let{securityLevel:n,sequence:a}=Ee();Le=a;let s;n==="sandbox"&&(s=Ke("#i"+t));let o=Ke(n==="sandbox"?s.nodes()[0].contentDocument.body:"body"),u=n==="sandbox"?s.nodes()[0].contentDocument:document;Je.init(),ne.debug(i.db);let h=n==="sandbox"?o.select(`[id="${t}"]`):Ke(`[id="${t}"]`),d=i.db.getActors(),p=i.db.getCreatedActors(),g=i.db.getDestroyedActors(),f=i.db.getBoxes(),m=i.db.getActorKeys(),y=i.db.getMessages(),b=i.db.getDiagramTitle(),v=i.db.hasAtLeastOneBox(),x=i.db.hasAtLeastOneBoxWithTitle(),w=await PDe(d,y,i);if(Le.height=await BDe(d,w,f),Si.insertComputerIcon(h),Si.insertDatabaseIcon(h),Si.insertClockIcon(h),v&&(Je.bumpVerticalPos(Le.boxMargin),x&&Je.bumpVerticalPos(f[0].textMaxHeight)),Le.hideUnusedParticipants===!0){let L=new Set;y.forEach($=>{L.add($.from),L.add($.to)}),m=m.filter($=>L.has($))}zDe(h,d,p,m,0,y,!1);let k=await HDe(y,d,w,i);Si.insertArrowHead(h),Si.insertArrowCrossHead(h),Si.insertArrowFilledHead(h),Si.insertSequenceNumber(h);function T(L,$){let F=Je.endActivation(L);F.starty+18>$&&(F.starty=$-6,$+=12),Si.drawActivation(h,F,$,Le,Sx(L.from).length),Je.insert(F.startx,$-10,F.stopx,$)}l(T,"activeEnd");let _=1,C=1,E=[],N=[],M=0;for(let L of y){let $,F,G;switch(L.type){case i.db.LINETYPE.NOTE:Je.resetVerticalPos(),F=L.noteModel,await $De(h,F);break;case i.db.LINETYPE.ACTIVE_START:Je.newActivation(L,h,d);break;case i.db.LINETYPE.ACTIVE_END:T(L,Je.getVerticalPos());break;case i.db.LINETYPE.LOOP_START:Do(k,L,Le.boxMargin,Le.boxMargin+Le.boxTextMargin,q=>Je.newLoop(q));break;case i.db.LINETYPE.LOOP_END:$=Je.endLoop(),await Si.drawLoop(h,$,"loop",Le),Je.bumpVerticalPos($.stopy-Je.getVerticalPos()),Je.models.addLoop($);break;case i.db.LINETYPE.RECT_START:Do(k,L,Le.boxMargin,Le.boxMargin,q=>Je.newLoop(void 0,q.message));break;case i.db.LINETYPE.RECT_END:$=Je.endLoop(),N.push($),Je.models.addLoop($),Je.bumpVerticalPos($.stopy-Je.getVerticalPos());break;case i.db.LINETYPE.OPT_START:Do(k,L,Le.boxMargin,Le.boxMargin+Le.boxTextMargin,q=>Je.newLoop(q));break;case i.db.LINETYPE.OPT_END:$=Je.endLoop(),await Si.drawLoop(h,$,"opt",Le),Je.bumpVerticalPos($.stopy-Je.getVerticalPos()),Je.models.addLoop($);break;case i.db.LINETYPE.ALT_START:Do(k,L,Le.boxMargin,Le.boxMargin+Le.boxTextMargin,q=>Je.newLoop(q));break;case i.db.LINETYPE.ALT_ELSE:Do(k,L,Le.boxMargin+Le.boxTextMargin,Le.boxMargin,q=>Je.addSectionToLoop(q));break;case i.db.LINETYPE.ALT_END:$=Je.endLoop(),await Si.drawLoop(h,$,"alt",Le),Je.bumpVerticalPos($.stopy-Je.getVerticalPos()),Je.models.addLoop($);break;case i.db.LINETYPE.PAR_START:case i.db.LINETYPE.PAR_OVER_START:Do(k,L,Le.boxMargin,Le.boxMargin+Le.boxTextMargin,q=>Je.newLoop(q)),Je.saveVerticalPos();break;case i.db.LINETYPE.PAR_AND:Do(k,L,Le.boxMargin+Le.boxTextMargin,Le.boxMargin,q=>Je.addSectionToLoop(q));break;case i.db.LINETYPE.PAR_END:$=Je.endLoop(),await Si.drawLoop(h,$,"par",Le),Je.bumpVerticalPos($.stopy-Je.getVerticalPos()),Je.models.addLoop($);break;case i.db.LINETYPE.AUTONUMBER:_=L.message.start||_,C=L.message.step||C,L.message.visible?i.db.enableSequenceNumbers():i.db.disableSequenceNumbers();break;case i.db.LINETYPE.CRITICAL_START:Do(k,L,Le.boxMargin,Le.boxMargin+Le.boxTextMargin,q=>Je.newLoop(q));break;case i.db.LINETYPE.CRITICAL_OPTION:Do(k,L,Le.boxMargin+Le.boxTextMargin,Le.boxMargin,q=>Je.addSectionToLoop(q));break;case i.db.LINETYPE.CRITICAL_END:$=Je.endLoop(),await Si.drawLoop(h,$,"critical",Le),Je.bumpVerticalPos($.stopy-Je.getVerticalPos()),Je.models.addLoop($);break;case i.db.LINETYPE.BREAK_START:Do(k,L,Le.boxMargin,Le.boxMargin+Le.boxTextMargin,q=>Je.newLoop(q));break;case i.db.LINETYPE.BREAK_END:$=Je.endLoop(),await Si.drawLoop(h,$,"break",Le),Je.bumpVerticalPos($.stopy-Je.getVerticalPos()),Je.models.addLoop($);break;default:try{G=L.msgModel,G.starty=Je.getVerticalPos(),G.sequenceIndex=_,G.sequenceVisible=i.db.showSequenceNumbers();let q=await RDe(h,G);ODe(L,G,q,M,d,p,g),E.push({messageModel:G,lineStartY:q}),Je.models.addMessage(G)}catch(q){ne.error("error while drawing message",q)}}[i.db.LINETYPE.SOLID_OPEN,i.db.LINETYPE.DOTTED_OPEN,i.db.LINETYPE.SOLID,i.db.LINETYPE.DOTTED,i.db.LINETYPE.SOLID_CROSS,i.db.LINETYPE.DOTTED_CROSS,i.db.LINETYPE.SOLID_POINT,i.db.LINETYPE.DOTTED_POINT,i.db.LINETYPE.BIDIRECTIONAL_SOLID,i.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(L.type)&&(_=_+C),M++}ne.debug("createdActors",p),ne.debug("destroyedActors",g),await H7(h,d,m,!1);for(let L of E)await FDe(h,L.messageModel,L.lineStartY,i);Le.mirrorActors&&await H7(h,d,m,!0),N.forEach(L=>Si.drawBackgroundRect(h,L)),uU(h,d,m,Le);for(let L of Je.models.boxes){L.height=Je.getVerticalPos()-L.y,Je.insert(L.x,L.y,L.x+L.width,L.height);let $=Le.boxMargin*2;L.startx=L.x-$,L.starty=L.y-$*.25,L.stopx=L.startx+L.width+2*$,L.stopy=L.starty+L.height+$*.75,L.stroke="rgb(0,0,0, 0.5)",Si.drawBox(h,L,Le)}v&&Je.bumpVerticalPos(Le.boxMargin);let I=pU(h,d,m,u),{bounds:A}=Je.getBounds();A.startx===void 0&&(A.startx=0),A.starty===void 0&&(A.starty=0),A.stopx===void 0&&(A.stopx=0),A.stopy===void 0&&(A.stopy=0);let B=A.stopy-A.starty;B<I.maxHeight&&(B=I.maxHeight);let S=B+2*Le.diagramMarginY;Le.mirrorActors&&(S=S-Le.boxMargin+Le.bottomMarginAdj);let O=A.stopx-A.startx;O<I.maxWidth&&(O=I.maxWidth);let R=O+2*Le.diagramMarginX;b&&h.append("text").text(b).attr("x",(A.stopx-A.startx)/2-2*Le.diagramMarginX).attr("y",-25),Wn(h,S,R,Le.useMaxWidth);let P=b?40:0;h.attr("viewBox",A.startx-Le.diagramMarginX+" -"+(Le.diagramMarginY+P)+" "+R+" "+(S+P)),ne.debug("models:",Je.models)},"draw"),l(PDe,"getMaxMessageWidthPerActor"),UDe=l(function(e){let t=0,r=j7(Le);for(let i in e.links){let n=or.calculateTextDimensions(i,r).width+2*Le.wrapPadding+2*Le.boxMargin;t<n&&(t=n)}return t},"getRequiredPopupWidth"),l(BDe,"calculateActorMargins"),qDe=l(async function(e,t,r){let i=t.get(e.from),n=t.get(e.to),a=i.x,s=n.x,o=e.wrap&&e.message,u=fi(e.message)?await Bp(e.message,Ee()):or.calculateTextDimensions(o?or.wrapLabel(e.message,Le.width,sp(Le)):e.message,sp(Le)),h={width:o?Le.width:nt.getMax(Le.width,u.width+2*Le.noteMargin),height:0,startx:i.x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===r.db.PLACEMENT.RIGHTOF?(h.width=o?nt.getMax(Le.width,u.width):nt.getMax(i.width/2+n.width/2,u.width+2*Le.noteMargin),h.startx=a+(i.width+Le.actorMargin)/2):e.placement===r.db.PLACEMENT.LEFTOF?(h.width=o?nt.getMax(Le.width,u.width+2*Le.noteMargin):nt.getMax(i.width/2+n.width/2,u.width+2*Le.noteMargin),h.startx=a-h.width+(i.width-Le.actorMargin)/2):e.to===e.from?(u=or.calculateTextDimensions(o?or.wrapLabel(e.message,nt.getMax(Le.width,i.width),sp(Le)):e.message,sp(Le)),h.width=o?nt.getMax(Le.width,i.width):nt.getMax(i.width,Le.width,u.width+2*Le.noteMargin),h.startx=a+(i.width-h.width)/2):(h.width=Math.abs(a+i.width/2-(s+n.width/2))+Le.actorMargin,h.startx=a<s?a+i.width/2-Le.actorMargin/2:s+n.width/2-Le.actorMargin/2),o&&(h.message=or.wrapLabel(e.message,h.width-2*Le.wrapPadding,sp(Le))),ne.debug(`NM:[${h.startx},${h.stopx},${h.starty},${h.stopy}:${h.width},${h.height}=${e.message}]`),h},"buildNoteModel"),jDe=l(function(e,t,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type))return{};let[i,n]=fU(e.from,t),[a,s]=fU(e.to,t),o=i<=a,u=o?n:i,h=o?a:s,d=Math.abs(a-s)>2,p=l(y=>o?-y:y,"adjustValue");e.from===e.to?h=u:(e.activate&&!d&&(h+=p(Le.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(e.type)||(h+=p(3)),[r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type)&&(u-=p(3)));let g=[i,n,a,s],f=Math.abs(u-h);e.wrap&&e.message&&(e.message=or.wrapLabel(e.message,nt.getMax(f+2*Le.wrapPadding,Le.width),wh(Le)));let m=or.calculateTextDimensions(e.message,wh(Le));return{width:nt.getMax(e.wrap?0:m.width+2*Le.wrapPadding,f+2*Le.wrapPadding,Le.width),height:0,startx:u,stopx:h,starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,g),toBounds:Math.max.apply(null,g)}},"buildMessageModel"),HDe=l(async function(e,t,r,i){let n={},a=[],s,o,u;for(let h of e){switch(h.type){case i.db.LINETYPE.LOOP_START:case i.db.LINETYPE.ALT_START:case i.db.LINETYPE.OPT_START:case i.db.LINETYPE.PAR_START:case i.db.LINETYPE.PAR_OVER_START:case i.db.LINETYPE.CRITICAL_START:case i.db.LINETYPE.BREAK_START:a.push({id:h.id,msg:h.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case i.db.LINETYPE.ALT_ELSE:case i.db.LINETYPE.PAR_AND:case i.db.LINETYPE.CRITICAL_OPTION:h.message&&(s=a.pop(),n[s.id]=s,n[h.id]=s,a.push(s));break;case i.db.LINETYPE.LOOP_END:case i.db.LINETYPE.ALT_END:case i.db.LINETYPE.OPT_END:case i.db.LINETYPE.PAR_END:case i.db.LINETYPE.CRITICAL_END:case i.db.LINETYPE.BREAK_END:s=a.pop(),n[s.id]=s;break;case i.db.LINETYPE.ACTIVE_START:{let d=t.get(h.from?h.from:h.to.actor),p=Sx(h.from?h.from:h.to.actor).length,g=d.x+d.width/2+(p-1)*Le.activationWidth/2,f={startx:g,stopx:g+Le.activationWidth,actor:h.from,enabled:!0};Je.activations.push(f)}break;case i.db.LINETYPE.ACTIVE_END:{let d=Je.activations.map(p=>p.actor).lastIndexOf(h.from);Je.activations.splice(d,1).splice(0,1)}break}h.placement!==void 0?(o=await qDe(h,t,i),h.noteModel=o,a.forEach(d=>{s=d,s.from=nt.getMin(s.from,o.startx),s.to=nt.getMax(s.to,o.startx+o.width),s.width=nt.getMax(s.width,Math.abs(s.from-s.to))-Le.labelBoxWidth})):(u=jDe(h,t,i),h.msgModel=u,u.startx&&u.stopx&&a.length>0&&a.forEach(d=>{if(s=d,u.startx===u.stopx){let p=t.get(h.from),g=t.get(h.to);s.from=nt.getMin(p.x-u.width/2,p.x-p.width/2,s.from),s.to=nt.getMax(g.x+u.width/2,g.x+p.width/2,s.to),s.width=nt.getMax(s.width,Math.abs(s.to-s.from))-Le.labelBoxWidth}else s.from=nt.getMin(u.startx,s.from),s.to=nt.getMax(u.stopx,s.to),s.width=nt.getMax(s.width,u.width)-Le.labelBoxWidth}))}return Je.activations=[],ne.debug("Loop type widths:",n),n},"calculateLoopBounds"),VDe={bounds:Je,drawActors:H7,drawActorsPopup:pU,setConf:gU,draw:GDe}}),YDe={};sr(YDe,{diagram:()=>WDe});var WDe,aet=D(()=>{"use strict";tet(),lDe(),ret(),Gt(),net(),WDe={parser:iDe,get db(){return new oDe},renderer:VDe,styles:uDe,init:l(e=>{e.sequence||(e.sequence={}),e.wrap&&(e.sequence.wrap=e.wrap,d3({sequence:{wrap:e.wrap}}))},"init")}}),V7,mU,XDe=D(()=>{"use strict";V7=function(){var e=l(function(Re,ve,Fe,de){for(Fe=Fe||{},de=Re.length;de--;Fe[Re[de]]=ve);return Fe},"o"),t=[1,18],r=[1,19],i=[1,20],n=[1,41],a=[1,42],s=[1,26],o=[1,24],u=[1,25],h=[1,32],d=[1,33],p=[1,34],g=[1,45],f=[1,35],m=[1,36],y=[1,37],b=[1,38],v=[1,27],x=[1,28],w=[1,29],k=[1,30],T=[1,31],_=[1,44],C=[1,46],E=[1,43],N=[1,47],M=[1,9],I=[1,8,9],A=[1,58],B=[1,59],S=[1,60],O=[1,61],R=[1,62],P=[1,63],L=[1,64],$=[1,8,9,41],F=[1,76],G=[1,8,9,12,13,22,39,41,44,68,69,70,71,72,73,74,79,81],q=[1,8,9,12,13,18,20,22,39,41,44,50,60,68,69,70,71,72,73,74,79,81,86,100,102,103],V=[13,60,86,100,102,103],H=[13,60,73,74,86,100,102,103],ae=[13,60,68,69,70,71,72,86,100,102,103],re=[1,100],oe=[1,117],ue=[1,113],W=[1,109],ee=[1,115],X=[1,110],Z=[1,111],J=[1,112],he=[1,114],K=[1,116],me=[22,48,60,61,82,86,87,88,89,90],Y=[1,8,9,39,41,44],_e=[1,8,9,22],ce=[1,145],Ne=[1,8,9,61],Be=[1,8,9,22,48,60,61,82,86,87,88,89,90],je={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,classLiteralName:17,DOT:18,className:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,emptyBody:47,SPACE:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,NOTE_FOR:54,noteText:55,NOTE:56,CLASSDEF:57,classList:58,stylesOpt:59,ALPHA:60,COMMA:61,direction_tb:62,direction_bt:63,direction_rl:64,direction_lr:65,relationType:66,lineType:67,AGGREGATION:68,EXTENSION:69,COMPOSITION:70,DEPENDENCY:71,LOLLIPOP:72,LINE:73,DOTTED_LINE:74,CALLBACK:75,LINK:76,LINK_TARGET:77,CLICK:78,CALLBACK_NAME:79,CALLBACK_ARGS:80,HREF:81,STYLE:82,CSSCLASS:83,style:84,styleComponent:85,NUM:86,COLON:87,UNIT:88,BRKT:89,PCT:90,commentToken:91,textToken:92,graphCodeTokens:93,textNoTagsToken:94,TAGSTART:95,TAGEND:96,"==":97,"--":98,DEFAULT:99,MINUS:100,keywords:101,UNICODE_TEXT:102,BQUOTE_STR:103,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",18:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",48:"SPACE",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"NOTE_FOR",56:"NOTE",57:"CLASSDEF",60:"ALPHA",61:"COMMA",62:"direction_tb",63:"direction_bt",64:"direction_rl",65:"direction_lr",68:"AGGREGATION",69:"EXTENSION",70:"COMPOSITION",71:"DEPENDENCY",72:"LOLLIPOP",73:"LINE",74:"DOTTED_LINE",75:"CALLBACK",76:"LINK",77:"LINK_TARGET",78:"CLICK",79:"CALLBACK_NAME",80:"CALLBACK_ARGS",81:"HREF",82:"STYLE",83:"CSSCLASS",86:"NUM",87:"COLON",88:"UNIT",89:"BRKT",90:"PCT",93:"graphCodeTokens",95:"TAGSTART",96:"TAGEND",97:"==",98:"--",99:"DEFAULT",100:"MINUS",101:"keywords",102:"UNICODE_TEXT",103:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,1],[15,3],[15,2],[19,1],[19,3],[19,1],[19,2],[19,2],[19,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,3],[24,6],[43,2],[43,3],[47,0],[47,2],[47,2],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[58,1],[58,3],[32,1],[32,1],[32,1],[32,1],[53,3],[53,2],[53,2],[53,1],[66,1],[66,1],[66,1],[66,1],[66,1],[67,1],[67,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[59,1],[59,3],[84,1],[84,2],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[91,1],[91,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[94,1],[94,1],[94,1],[94,1],[16,1],[16,1],[16,1],[16,1],[17,1],[55,1]],performAction:l(function(Re,ve,Fe,de,Ve,Q,Me){var z=Q.length-1;switch(Ve){case 8:this.$=Q[z-1];break;case 9:case 10:case 13:case 15:this.$=Q[z];break;case 11:case 14:this.$=Q[z-2]+"."+Q[z];break;case 12:case 16:this.$=Q[z-1]+Q[z];break;case 17:case 18:this.$=Q[z-1]+"~"+Q[z]+"~";break;case 19:de.addRelation(Q[z]);break;case 20:Q[z-1].title=de.cleanupLabel(Q[z]),de.addRelation(Q[z-1]);break;case 31:this.$=Q[z].trim(),de.setAccTitle(this.$);break;case 32:case 33:this.$=Q[z].trim(),de.setAccDescription(this.$);break;case 34:de.addClassesToNamespace(Q[z-3],Q[z-1]);break;case 35:de.addClassesToNamespace(Q[z-4],Q[z-1]);break;case 36:this.$=Q[z],de.addNamespace(Q[z]);break;case 37:this.$=[Q[z]];break;case 38:this.$=[Q[z-1]];break;case 39:Q[z].unshift(Q[z-2]),this.$=Q[z];break;case 41:de.setCssClass(Q[z-2],Q[z]);break;case 42:de.addMembers(Q[z-3],Q[z-1]);break;case 44:de.setCssClass(Q[z-5],Q[z-3]),de.addMembers(Q[z-5],Q[z-1]);break;case 45:this.$=Q[z],de.addClass(Q[z]);break;case 46:this.$=Q[z-1],de.addClass(Q[z-1]),de.setClassLabel(Q[z-1],Q[z]);break;case 50:de.addAnnotation(Q[z],Q[z-2]);break;case 51:case 64:this.$=[Q[z]];break;case 52:Q[z].push(Q[z-1]),this.$=Q[z];break;case 53:break;case 54:de.addMember(Q[z-1],de.cleanupLabel(Q[z]));break;case 55:break;case 56:break;case 57:this.$={id1:Q[z-2],id2:Q[z],relation:Q[z-1],relationTitle1:"none",relationTitle2:"none"};break;case 58:this.$={id1:Q[z-3],id2:Q[z],relation:Q[z-1],relationTitle1:Q[z-2],relationTitle2:"none"};break;case 59:this.$={id1:Q[z-3],id2:Q[z],relation:Q[z-2],relationTitle1:"none",relationTitle2:Q[z-1]};break;case 60:this.$={id1:Q[z-4],id2:Q[z],relation:Q[z-2],relationTitle1:Q[z-3],relationTitle2:Q[z-1]};break;case 61:de.addNote(Q[z],Q[z-1]);break;case 62:de.addNote(Q[z]);break;case 63:this.$=Q[z-2],de.defineClass(Q[z-1],Q[z]);break;case 65:this.$=Q[z-2].concat([Q[z]]);break;case 66:de.setDirection("TB");break;case 67:de.setDirection("BT");break;case 68:de.setDirection("RL");break;case 69:de.setDirection("LR");break;case 70:this.$={type1:Q[z-2],type2:Q[z],lineType:Q[z-1]};break;case 71:this.$={type1:"none",type2:Q[z],lineType:Q[z-1]};break;case 72:this.$={type1:Q[z-1],type2:"none",lineType:Q[z]};break;case 73:this.$={type1:"none",type2:"none",lineType:Q[z]};break;case 74:this.$=de.relationType.AGGREGATION;break;case 75:this.$=de.relationType.EXTENSION;break;case 76:this.$=de.relationType.COMPOSITION;break;case 77:this.$=de.relationType.DEPENDENCY;break;case 78:this.$=de.relationType.LOLLIPOP;break;case 79:this.$=de.lineType.LINE;break;case 80:this.$=de.lineType.DOTTED_LINE;break;case 81:case 87:this.$=Q[z-2],de.setClickEvent(Q[z-1],Q[z]);break;case 82:case 88:this.$=Q[z-3],de.setClickEvent(Q[z-2],Q[z-1]),de.setTooltip(Q[z-2],Q[z]);break;case 83:this.$=Q[z-2],de.setLink(Q[z-1],Q[z]);break;case 84:this.$=Q[z-3],de.setLink(Q[z-2],Q[z-1],Q[z]);break;case 85:this.$=Q[z-3],de.setLink(Q[z-2],Q[z-1]),de.setTooltip(Q[z-2],Q[z]);break;case 86:this.$=Q[z-4],de.setLink(Q[z-3],Q[z-2],Q[z]),de.setTooltip(Q[z-3],Q[z-1]);break;case 89:this.$=Q[z-3],de.setClickEvent(Q[z-2],Q[z-1],Q[z]);break;case 90:this.$=Q[z-4],de.setClickEvent(Q[z-3],Q[z-2],Q[z-1]),de.setTooltip(Q[z-3],Q[z]);break;case 91:this.$=Q[z-3],de.setLink(Q[z-2],Q[z]);break;case 92:this.$=Q[z-4],de.setLink(Q[z-3],Q[z-1],Q[z]);break;case 93:this.$=Q[z-4],de.setLink(Q[z-3],Q[z-1]),de.setTooltip(Q[z-3],Q[z]);break;case 94:this.$=Q[z-5],de.setLink(Q[z-4],Q[z-2],Q[z]),de.setTooltip(Q[z-4],Q[z-1]);break;case 95:this.$=Q[z-2],de.setCssStyle(Q[z-1],Q[z]);break;case 96:de.setCssClass(Q[z-1],Q[z]);break;case 97:this.$=[Q[z]];break;case 98:Q[z-2].push(Q[z]),this.$=Q[z-2];break;case 100:this.$=Q[z-1]+Q[z];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:i,38:22,42:n,43:23,46:a,49:s,51:o,52:u,54:h,56:d,57:p,60:g,62:f,63:m,64:y,65:b,75:v,76:x,78:w,82:k,83:T,86:_,100:C,102:E,103:N},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},e(M,[2,5],{8:[1,48]}),{8:[1,49]},e(I,[2,19],{22:[1,50]}),e(I,[2,21]),e(I,[2,22]),e(I,[2,23]),e(I,[2,24]),e(I,[2,25]),e(I,[2,26]),e(I,[2,27]),e(I,[2,28]),e(I,[2,29]),e(I,[2,30]),{34:[1,51]},{36:[1,52]},e(I,[2,33]),e(I,[2,53],{53:53,66:56,67:57,13:[1,54],22:[1,55],68:A,69:B,70:S,71:O,72:R,73:P,74:L}),{39:[1,65]},e($,[2,40],{39:[1,67],44:[1,66]}),e(I,[2,55]),e(I,[2,56]),{16:68,60:g,86:_,100:C,102:E},{16:39,17:40,19:69,60:g,86:_,100:C,102:E,103:N},{16:39,17:40,19:70,60:g,86:_,100:C,102:E,103:N},{16:39,17:40,19:71,60:g,86:_,100:C,102:E,103:N},{60:[1,72]},{13:[1,73]},{16:39,17:40,19:74,60:g,86:_,100:C,102:E,103:N},{13:F,55:75},{58:77,60:[1,78]},e(I,[2,66]),e(I,[2,67]),e(I,[2,68]),e(I,[2,69]),e(G,[2,13],{16:39,17:40,19:80,18:[1,79],20:[1,81],60:g,86:_,100:C,102:E,103:N}),e(G,[2,15],{20:[1,82]}),{15:83,16:84,17:85,60:g,86:_,100:C,102:E,103:N},{16:39,17:40,19:86,60:g,86:_,100:C,102:E,103:N},e(q,[2,123]),e(q,[2,124]),e(q,[2,125]),e(q,[2,126]),e([1,8,9,12,13,20,22,39,41,44,68,69,70,71,72,73,74,79,81],[2,127]),e(M,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,19:21,38:22,43:23,16:39,17:40,5:87,33:t,35:r,37:i,42:n,46:a,49:s,51:o,52:u,54:h,56:d,57:p,60:g,62:f,63:m,64:y,65:b,75:v,76:x,78:w,82:k,83:T,86:_,100:C,102:E,103:N}),{5:88,10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:i,38:22,42:n,43:23,46:a,49:s,51:o,52:u,54:h,56:d,57:p,60:g,62:f,63:m,64:y,65:b,75:v,76:x,78:w,82:k,83:T,86:_,100:C,102:E,103:N},e(I,[2,20]),e(I,[2,31]),e(I,[2,32]),{13:[1,90],16:39,17:40,19:89,60:g,86:_,100:C,102:E,103:N},{53:91,66:56,67:57,68:A,69:B,70:S,71:O,72:R,73:P,74:L},e(I,[2,54]),{67:92,73:P,74:L},e(V,[2,73],{66:93,68:A,69:B,70:S,71:O,72:R}),e(H,[2,74]),e(H,[2,75]),e(H,[2,76]),e(H,[2,77]),e(H,[2,78]),e(ae,[2,79]),e(ae,[2,80]),{8:[1,95],24:96,40:94,43:23,46:a},{16:97,60:g,86:_,100:C,102:E},{41:[1,99],45:98,51:re},{50:[1,101]},{13:[1,102]},{13:[1,103]},{79:[1,104],81:[1,105]},{22:oe,48:ue,59:106,60:W,82:ee,84:107,85:108,86:X,87:Z,88:J,89:he,90:K},{60:[1,118]},{13:F,55:119},e(I,[2,62]),e(I,[2,128]),{22:oe,48:ue,59:120,60:W,61:[1,121],82:ee,84:107,85:108,86:X,87:Z,88:J,89:he,90:K},e(me,[2,64]),{16:39,17:40,19:122,60:g,86:_,100:C,102:E,103:N},e(G,[2,16]),e(G,[2,17]),e(G,[2,18]),{39:[2,36]},{15:124,16:84,17:85,18:[1,123],39:[2,9],60:g,86:_,100:C,102:E,103:N},{39:[2,10]},e(Y,[2,45],{11:125,12:[1,126]}),e(M,[2,7]),{9:[1,127]},e(_e,[2,57]),{16:39,17:40,19:128,60:g,86:_,100:C,102:E,103:N},{13:[1,130],16:39,17:40,19:129,60:g,86:_,100:C,102:E,103:N},e(V,[2,72],{66:131,68:A,69:B,70:S,71:O,72:R}),e(V,[2,71]),{41:[1,132]},{24:96,40:133,43:23,46:a},{8:[1,134],41:[2,37]},e($,[2,41],{39:[1,135]}),{41:[1,136]},e($,[2,43]),{41:[2,51],45:137,51:re},{16:39,17:40,19:138,60:g,86:_,100:C,102:E,103:N},e(I,[2,81],{13:[1,139]}),e(I,[2,83],{13:[1,141],77:[1,140]}),e(I,[2,87],{13:[1,142],80:[1,143]}),{13:[1,144]},e(I,[2,95],{61:ce}),e(Ne,[2,97],{85:146,22:oe,48:ue,60:W,82:ee,86:X,87:Z,88:J,89:he,90:K}),e(Be,[2,99]),e(Be,[2,101]),e(Be,[2,102]),e(Be,[2,103]),e(Be,[2,104]),e(Be,[2,105]),e(Be,[2,106]),e(Be,[2,107]),e(Be,[2,108]),e(Be,[2,109]),e(I,[2,96]),e(I,[2,61]),e(I,[2,63],{61:ce}),{60:[1,147]},e(G,[2,14]),{15:148,16:84,17:85,60:g,86:_,100:C,102:E,103:N},{39:[2,12]},e(Y,[2,46]),{13:[1,149]},{1:[2,4]},e(_e,[2,59]),e(_e,[2,58]),{16:39,17:40,19:150,60:g,86:_,100:C,102:E,103:N},e(V,[2,70]),e(I,[2,34]),{41:[1,151]},{24:96,40:152,41:[2,38],43:23,46:a},{45:153,51:re},e($,[2,42]),{41:[2,52]},e(I,[2,50]),e(I,[2,82]),e(I,[2,84]),e(I,[2,85],{77:[1,154]}),e(I,[2,88]),e(I,[2,89],{13:[1,155]}),e(I,[2,91],{13:[1,157],77:[1,156]}),{22:oe,48:ue,60:W,82:ee,84:158,85:108,86:X,87:Z,88:J,89:he,90:K},e(Be,[2,100]),e(me,[2,65]),{39:[2,11]},{14:[1,159]},e(_e,[2,60]),e(I,[2,35]),{41:[2,39]},{41:[1,160]},e(I,[2,86]),e(I,[2,90]),e(I,[2,92]),e(I,[2,93],{77:[1,161]}),e(Ne,[2,98],{85:146,22:oe,48:ue,60:W,82:ee,86:X,87:Z,88:J,89:he,90:K}),e(Y,[2,8]),e($,[2,44]),e(I,[2,94])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,36],85:[2,10],124:[2,12],127:[2,4],137:[2,52],148:[2,11],152:[2,39]},parseError:l(function(Re,ve){if(ve.recoverable)this.trace(Re);else{var Fe=new Error(Re);throw Fe.hash=ve,Fe}},"parseError"),parse:l(function(Re){var ve=this,Fe=[0],de=[],Ve=[null],Q=[],Me=this.table,z="",te=0,se=0,pe=0,fe=2,we=1,Ce=Q.slice.call(arguments,1),Te=Object.create(this.lexer),ze={yy:{}};for(var He in this.yy)Object.prototype.hasOwnProperty.call(this.yy,He)&&(ze.yy[He]=this.yy[He]);Te.setInput(Re,ze.yy),ze.yy.lexer=Te,ze.yy.parser=this,typeof Te.yylloc>"u"&&(Te.yylloc={});var at=Te.yylloc;Q.push(at);var $e=Te.options&&Te.options.ranges;typeof ze.yy.parseError=="function"?this.parseError=ze.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ye(jt){Fe.length=Fe.length-2*jt,Ve.length=Ve.length-jt,Q.length=Q.length-jt}l(Ye,"popStack");function Ue(){var jt;return jt=de.pop()||Te.lex()||we,typeof jt!="number"&&(jt instanceof Array&&(de=jt,jt=de.pop()),jt=ve.symbols_[jt]||jt),jt}l(Ue,"lex");for(var Ge,Xe,kt,ct,ot,Et,tt={},ht,ft,Qe,Ze;;){if(kt=Fe[Fe.length-1],this.defaultActions[kt]?ct=this.defaultActions[kt]:((Ge===null||typeof Ge>"u")&&(Ge=Ue()),ct=Me[kt]&&Me[kt][Ge]),typeof ct>"u"||!ct.length||!ct[0]){var _t="";Ze=[];for(ht in Me[kt])this.terminals_[ht]&&ht>fe&&Ze.push("'"+this.terminals_[ht]+"'");Te.showPosition?_t="Parse error on line "+(te+1)+`:
`+Te.showPosition()+`
Expecting `+Ze.join(", ")+", got '"+(this.terminals_[Ge]||Ge)+"'":_t="Parse error on line "+(te+1)+": Unexpected "+(Ge==we?"end of input":"'"+(this.terminals_[Ge]||Ge)+"'"),this.parseError(_t,{text:Te.match,token:this.terminals_[Ge]||Ge,line:Te.yylineno,loc:at,expected:Ze})}if(ct[0]instanceof Array&&ct.length>1)throw new Error("Parse Error: multiple actions possible at state: "+kt+", token: "+Ge);switch(ct[0]){case 1:Fe.push(Ge),Ve.push(Te.yytext),Q.push(Te.yylloc),Fe.push(ct[1]),Ge=null,Xe?(Ge=Xe,Xe=null):(se=Te.yyleng,z=Te.yytext,te=Te.yylineno,at=Te.yylloc,pe>0&&pe--);break;case 2:if(ft=this.productions_[ct[1]][1],tt.$=Ve[Ve.length-ft],tt._$={first_line:Q[Q.length-(ft||1)].first_line,last_line:Q[Q.length-1].last_line,first_column:Q[Q.length-(ft||1)].first_column,last_column:Q[Q.length-1].last_column},$e&&(tt._$.range=[Q[Q.length-(ft||1)].range[0],Q[Q.length-1].range[1]]),Et=this.performAction.apply(tt,[z,se,te,ze.yy,ct[1],Ve,Q].concat(Ce)),typeof Et<"u")return Et;ft&&(Fe=Fe.slice(0,-1*ft*2),Ve=Ve.slice(0,-1*ft),Q=Q.slice(0,-1*ft)),Fe.push(this.productions_[ct[1]][0]),Ve.push(tt.$),Q.push(tt._$),Qe=Me[Fe[Fe.length-2]][Fe[Fe.length-1]],Fe.push(Qe);break;case 3:return!0}}return!0},"parse")},qe=function(){var Re={EOF:1,parseError:l(function(ve,Fe){if(this.yy.parser)this.yy.parser.parseError(ve,Fe);else throw new Error(ve)},"parseError"),setInput:l(function(ve,Fe){return this.yy=Fe||this.yy||{},this._input=ve,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var ve=this._input[0];this.yytext+=ve,this.yyleng++,this.offset++,this.match+=ve,this.matched+=ve;var Fe=ve.match(/(?:\r\n?|\n).*/g);return Fe?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ve},"input"),unput:l(function(ve){var Fe=ve.length,de=ve.split(/(?:\r\n?|\n)/g);this._input=ve+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Fe),this.offset-=Fe;var Ve=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),de.length-1&&(this.yylineno-=de.length-1);var Q=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:de?(de.length===Ve.length?this.yylloc.first_column:0)+Ve[Ve.length-de.length].length-de[0].length:this.yylloc.first_column-Fe},this.options.ranges&&(this.yylloc.range=[Q[0],Q[0]+this.yyleng-Fe]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(ve){this.unput(this.match.slice(ve))},"less"),pastInput:l(function(){var ve=this.matched.substr(0,this.matched.length-this.match.length);return(ve.length>20?"...":"")+ve.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var ve=this.match;return ve.length<20&&(ve+=this._input.substr(0,20-ve.length)),(ve.substr(0,20)+(ve.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var ve=this.pastInput(),Fe=new Array(ve.length+1).join("-");return ve+this.upcomingInput()+`
`+Fe+"^"},"showPosition"),test_match:l(function(ve,Fe){var de,Ve,Q;if(this.options.backtrack_lexer&&(Q={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Q.yylloc.range=this.yylloc.range.slice(0))),Ve=ve[0].match(/(?:\r\n?|\n).*/g),Ve&&(this.yylineno+=Ve.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ve?Ve[Ve.length-1].length-Ve[Ve.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ve[0].length},this.yytext+=ve[0],this.match+=ve[0],this.matches=ve,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ve[0].length),this.matched+=ve[0],de=this.performAction.call(this,this.yy,this,Fe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),de)return de;if(this._backtrack){for(var Me in Q)this[Me]=Q[Me];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ve,Fe,de,Ve;this._more||(this.yytext="",this.match="");for(var Q=this._currentRules(),Me=0;Me<Q.length;Me++)if(de=this._input.match(this.rules[Q[Me]]),de&&(!Fe||de[0].length>Fe[0].length)){if(Fe=de,Ve=Me,this.options.backtrack_lexer){if(ve=this.test_match(de,Q[Me]),ve!==!1)return ve;if(this._backtrack){Fe=!1;continue}else return!1}else if(!this.options.flex)break}return Fe?(ve=this.test_match(Fe,Q[Ve]),ve!==!1?ve:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var ve=this.next();return ve||this.lex()},"lex"),begin:l(function(ve){this.conditionStack.push(ve)},"begin"),popState:l(function(){var ve=this.conditionStack.length-1;return ve>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(ve){return ve=this.conditionStack.length-1-Math.abs(ve||0),ve>=0?this.conditionStack[ve]:"INITIAL"},"topState"),pushState:l(function(ve){this.begin(ve)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(ve,Fe,de,Ve){var Q=Ve;switch(de){case 0:return 62;case 1:return 63;case 2:return 64;case 3:return 65;case 4:break;case 5:break;case 6:return this.begin("acc_title"),33;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),35;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 79;case 22:this.popState();break;case 23:return 80;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 82;case 28:return 57;case 29:return this.begin("namespace"),42;case 30:return this.popState(),8;case 31:break;case 32:return this.begin("namespace-body"),39;case 33:return this.popState(),41;case 34:return"EOF_IN_STRUCT";case 35:return 8;case 36:break;case 37:return"EDGE_STATE";case 38:return this.begin("class"),46;case 39:return this.popState(),8;case 40:break;case 41:return this.popState(),this.popState(),41;case 42:return this.begin("class-body"),39;case 43:return this.popState(),41;case 44:return"EOF_IN_STRUCT";case 45:return"EDGE_STATE";case 46:return"OPEN_IN_STRUCT";case 47:break;case 48:return"MEMBER";case 49:return 83;case 50:return 75;case 51:return 76;case 52:return 78;case 53:return 54;case 54:return 56;case 55:return 49;case 56:return 50;case 57:return 81;case 58:this.popState();break;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 61:this.popState();break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:return 77;case 65:return 77;case 66:return 77;case 67:return 77;case 68:return 69;case 69:return 69;case 70:return 71;case 71:return 71;case 72:return 70;case 73:return 68;case 74:return 72;case 75:return 73;case 76:return 74;case 77:return 22;case 78:return 44;case 79:return 100;case 80:return 18;case 81:return"PLUS";case 82:return 87;case 83:return 61;case 84:return 89;case 85:return 89;case 86:return 90;case 87:return"EQUALS";case 88:return"EQUALS";case 89:return 60;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 86;case 94:return 102;case 95:return 48;case 96:return 48;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return Re}();je.lexer=qe;function Se(){this.yy={}}return l(Se,"Parser"),Se.prototype=je,je.Parser=Se,new Se}(),V7.parser=V7,mU=V7}),yU,vU,set=D(()=>{"use strict";Gt(),cr(),yU=["#","+","~","-",""],vU=class{static{l(this,"ClassMember")}constructor(e,t){this.memberType=t,this.visibility="",this.classifier="",this.text="";let r=wr(e,Ee());this.parseMember(r)}getDisplayDetails(){let e=this.visibility+Wl(this.id);this.memberType==="method"&&(e+=`(${Wl(this.parameters.trim())})`,this.returnType&&(e+=" : "+Wl(this.returnType))),e=e.trim();let t=this.parseClassifier();return{displayText:e,cssStyle:t}}parseMember(e){let t="";if(this.memberType==="method"){let i=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(e);if(i){let n=i[1]?i[1].trim():"";if(yU.includes(n)&&(this.visibility=n),this.id=i[2],this.parameters=i[3]?i[3].trim():"",t=i[4]?i[4].trim():"",this.returnType=i[5]?i[5].trim():"",t===""){let a=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(a)&&(t=a,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{let i=e.length,n=e.substring(0,1),a=e.substring(i-1);yU.includes(n)&&(this.visibility=n),/[$*]/.exec(a)&&(t=a),this.id=e.substring(this.visibility===""?0:1,t===""?i:i-1)}this.classifier=t,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();let r=`${this.visibility?"\\"+this.visibility:""}${Wl(this.id)}${this.memberType==="method"?`(${Wl(this.parameters)})${this.returnType?" : "+Wl(this.returnType):""}`:""}`;this.text=r.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}}}),_x,bU,kh,xU,KDe=D(()=>{"use strict";hr(),st(),Gt(),cr(),Zt(),Di(),set(),_x="classId-",bU=0,kh=l(e=>nt.sanitizeText(e,Ee()),"sanitizeText"),xU=class{constructor(){this.relations=[],this.classes=new Map,this.styleClasses=new Map,this.notes=[],this.interfaces=[],this.namespaces=new Map,this.namespaceCounter=0,this.functions=[],this.lineType={LINE:0,DOTTED_LINE:1},this.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},this.setupToolTips=l(e=>{let t=Ke(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=Ke("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Ke(e).select("svg").selectAll("g.node").on("mouseover",r=>{let i=Ke(r.currentTarget);if(i.attr("title")===null)return;let n=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(i.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",r=>{t.transition().duration(500).style("opacity",0),Ke(r.currentTarget).classed("hover",!1)})},"setupToolTips"),this.direction="TB",this.setAccTitle=Mi,this.getAccTitle=Gi,this.setAccDescription=Ui,this.getAccDescription=qi,this.setDiagramTitle=sn,this.getDiagramTitle=Ii,this.getConfig=l(()=>Ee().class,"getConfig"),this.functions.push(this.setupToolTips.bind(this)),this.clear(),this.addRelation=this.addRelation.bind(this),this.addClassesToNamespace=this.addClassesToNamespace.bind(this),this.addNamespace=this.addNamespace.bind(this),this.setCssClass=this.setCssClass.bind(this),this.addMembers=this.addMembers.bind(this),this.addClass=this.addClass.bind(this),this.setClassLabel=this.setClassLabel.bind(this),this.addAnnotation=this.addAnnotation.bind(this),this.addMember=this.addMember.bind(this),this.cleanupLabel=this.cleanupLabel.bind(this),this.addNote=this.addNote.bind(this),this.defineClass=this.defineClass.bind(this),this.setDirection=this.setDirection.bind(this),this.setLink=this.setLink.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.clear=this.clear.bind(this),this.setTooltip=this.setTooltip.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setCssStyle=this.setCssStyle.bind(this)}static{l(this,"ClassDB")}splitClassNameAndType(e){let t=nt.sanitizeText(e,Ee()),r="",i=t;if(t.indexOf("~")>0){let n=t.split("~");i=kh(n[0]),r=kh(n[1])}return{className:i,type:r}}setClassLabel(e,t){let r=nt.sanitizeText(e,Ee());t&&(t=kh(t));let{className:i}=this.splitClassNameAndType(r);this.classes.get(i).label=t,this.classes.get(i).text=`${t}${this.classes.get(i).type?`<${this.classes.get(i).type}>`:""}`}addClass(e){let t=nt.sanitizeText(e,Ee()),{className:r,type:i}=this.splitClassNameAndType(t);if(this.classes.has(r))return;let n=nt.sanitizeText(r,Ee());this.classes.set(n,{id:n,type:i,label:n,text:`${n}${i?`&lt;${i}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:_x+n+"-"+bU}),bU++}addInterface(e,t){let r={id:`interface${this.interfaces.length}`,label:e,classId:t};this.interfaces.push(r)}lookUpDomId(e){let t=nt.sanitizeText(e,Ee());if(this.classes.has(t))return this.classes.get(t).domId;throw new Error("Class not found: "+t)}clear(){this.relations=[],this.classes=new Map,this.notes=[],this.interfaces=[],this.functions=[],this.functions.push(this.setupToolTips.bind(this)),this.namespaces=new Map,this.namespaceCounter=0,this.direction="TB",Ni()}getClass(e){return this.classes.get(e)}getClasses(){return this.classes}getRelations(){return this.relations}getNotes(){return this.notes}addRelation(e){ne.debug("Adding relation: "+JSON.stringify(e));let t=[this.relationType.LOLLIPOP,this.relationType.AGGREGATION,this.relationType.COMPOSITION,this.relationType.DEPENDENCY,this.relationType.EXTENSION];e.relation.type1===this.relationType.LOLLIPOP&&!t.includes(e.relation.type2)?(this.addClass(e.id2),this.addInterface(e.id1,e.id2),e.id1=`interface${this.interfaces.length-1}`):e.relation.type2===this.relationType.LOLLIPOP&&!t.includes(e.relation.type1)?(this.addClass(e.id1),this.addInterface(e.id2,e.id1),e.id2=`interface${this.interfaces.length-1}`):(this.addClass(e.id1),this.addClass(e.id2)),e.id1=this.splitClassNameAndType(e.id1).className,e.id2=this.splitClassNameAndType(e.id2).className,e.relationTitle1=nt.sanitizeText(e.relationTitle1.trim(),Ee()),e.relationTitle2=nt.sanitizeText(e.relationTitle2.trim(),Ee()),this.relations.push(e)}addAnnotation(e,t){let r=this.splitClassNameAndType(e).className;this.classes.get(r).annotations.push(t)}addMember(e,t){this.addClass(e);let r=this.splitClassNameAndType(e).className,i=this.classes.get(r);if(typeof t=="string"){let n=t.trim();n.startsWith("<<")&&n.endsWith(">>")?i.annotations.push(kh(n.substring(2,n.length-2))):n.indexOf(")")>0?i.methods.push(new vU(n,"method")):n&&i.members.push(new vU(n,"attribute"))}}addMembers(e,t){Array.isArray(t)&&(t.reverse(),t.forEach(r=>this.addMember(e,r)))}addNote(e,t){let r={id:`note${this.notes.length}`,class:t,text:e};this.notes.push(r)}cleanupLabel(e){return e.startsWith(":")&&(e=e.substring(1)),kh(e.trim())}setCssClass(e,t){e.split(",").forEach(r=>{let i=r;/\d/.exec(r[0])&&(i=_x+i);let n=this.classes.get(i);n&&(n.cssClasses+=" "+t)})}defineClass(e,t){for(let r of e){let i=this.styleClasses.get(r);i===void 0&&(i={id:r,styles:[],textStyles:[]},this.styleClasses.set(r,i)),t&&t.forEach(n=>{if(/color/.exec(n)){let a=n.replace("fill","bgFill");i.textStyles.push(a)}i.styles.push(n)}),this.classes.forEach(n=>{n.cssClasses.includes(r)&&n.styles.push(...t.flatMap(a=>a.split(",")))})}}setTooltip(e,t){e.split(",").forEach(r=>{t!==void 0&&(this.classes.get(r).tooltip=kh(t))})}getTooltip(e,t){return t&&this.namespaces.has(t)?this.namespaces.get(t).classes.get(e).tooltip:this.classes.get(e).tooltip}setLink(e,t,r){let i=Ee();e.split(",").forEach(n=>{let a=n;/\d/.exec(n[0])&&(a=_x+a);let s=this.classes.get(a);s&&(s.link=or.formatUrl(t,i),i.securityLevel==="sandbox"?s.linkTarget="_top":typeof r=="string"?s.linkTarget=kh(r):s.linkTarget="_blank")}),this.setCssClass(e,"clickable")}setClickEvent(e,t,r){e.split(",").forEach(i=>{this.setClickFunc(i,t,r),this.classes.get(i).haveCallback=!0}),this.setCssClass(e,"clickable")}setClickFunc(e,t,r){let i=nt.sanitizeText(e,Ee());if(Ee().securityLevel!=="loose"||t===void 0)return;let n=i;if(this.classes.has(n)){let a=this.lookUpDomId(n),s=[];if(typeof r=="string"){s=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<s.length;o++){let u=s[o].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),s[o]=u}}s.length===0&&s.push(a),this.functions.push(()=>{let o=document.querySelector(`[id="${a}"]`);o!==null&&o.addEventListener("click",()=>{or.runFunc(t,...s)},!1)})}}bindFunctions(e){this.functions.forEach(t=>{t(e)})}getDirection(){return this.direction}setDirection(e){this.direction=e}addNamespace(e){this.namespaces.has(e)||(this.namespaces.set(e,{id:e,classes:new Map,children:{},domId:_x+e+"-"+this.namespaceCounter}),this.namespaceCounter++)}getNamespace(e){return this.namespaces.get(e)}getNamespaces(){return this.namespaces}addClassesToNamespace(e,t){if(this.namespaces.has(e))for(let r of t){let{className:i}=this.splitClassNameAndType(r);this.classes.get(i).parent=e,this.namespaces.get(e).classes.set(i,this.classes.get(i))}}setCssStyle(e,t){let r=this.classes.get(e);if(!(!t||!r))for(let i of t)i.includes(",")?r.styles.push(...i.split(",")):r.styles.push(i)}getArrowMarker(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}getData(){let e=[],t=[],r=Ee();for(let n of this.namespaces.keys()){let a=this.namespaces.get(n);if(a){let s={id:a.id,label:a.id,isGroup:!0,padding:r.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:r.look};e.push(s)}}for(let n of this.classes.keys()){let a=this.classes.get(n);if(a){let s=a;s.parentId=a.parent,s.look=r.look,e.push(s)}}let i=0;for(let n of this.notes){i++;let a={id:n.id,label:n.text,isGroup:!1,shape:"note",padding:r.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${r.themeVariables.noteBkgColor}`,`stroke: ${r.themeVariables.noteBorderColor}`],look:r.look};e.push(a);let s=this.classes.get(n.class)?.id??"";if(s){let o={id:`edgeNote${i}`,start:n.id,end:s,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:r.look};t.push(o)}}for(let n of this.interfaces){let a={id:n.id,label:n.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:r.look};e.push(a)}i=0;for(let n of this.relations){i++;let a={id:cd(n.id1,n.id2,{prefix:"id",counter:i}),start:n.id1,end:n.id2,type:"normal",label:n.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:this.getArrowMarker(n.relation.type1),arrowTypeEnd:this.getArrowMarker(n.relation.type2),startLabelRight:n.relationTitle1==="none"?"":n.relationTitle1,endLabelLeft:n.relationTitle2==="none"?"":n.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:n.style||"",pattern:n.relation.lineType==1?"dashed":"solid",look:r.look};t.push(a)}return{nodes:e,edges:t,other:{},config:r,direction:this.getDirection()}}}}),ZDe,wU,QDe=D(()=>{"use strict";Gv(),ZDe=l(e=>`g.classGroup text {
  fill: ${e.nodeBorder||e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}

.labelBkg {
  background: ${e.mainBkg};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
  ${R1()}
`,"getStyles"),wU=ZDe}),JDe,eRe,tRe,kU,rRe=D(()=>{"use strict";Gt(),st(),Fg(),Qd(),Jd(),Zt(),JDe=l((e,t="TB")=>{if(!e.doc)return t;let r=t;for(let i of e.doc)i.stmt==="dir"&&(r=i.value);return r},"getDir"),eRe=l(function(e,t){return t.db.getClasses()},"getClasses"),tRe=l(async function(e,t,r,i){ne.info("REF0:"),ne.info("Drawing class diagram (v3)",t);let{securityLevel:n,state:a,layout:s}=Ee(),o=i.db.getData(),u=bd(t,n);o.type=i.type,o.layoutAlgorithm=D1(s),o.nodeSpacing=a?.nodeSpacing||50,o.rankSpacing=a?.rankSpacing||50,o.markers=["aggregation","extension","composition","dependency","lollipop"],o.diagramId=t,await Zd(o,u),or.insertTitle(u,"classDiagramTitleText",a?.titleTopMargin??25,i.db.getDiagramTitle()),sh(u,8,"classDiagram",a?.useMaxWidth??!0)},"draw"),kU={getClasses:eRe,draw:tRe,getDir:JDe}}),iRe={};sr(iRe,{diagram:()=>nRe});var nRe,oet=D(()=>{"use strict";XDe(),KDe(),QDe(),rRe(),nRe={parser:mU,get db(){return new xU},renderer:kU,styles:wU,init:l(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}}),aRe={};sr(aRe,{diagram:()=>sRe});var sRe,cet=D(()=>{"use strict";XDe(),KDe(),QDe(),rRe(),sRe={parser:mU,get db(){return new xU},renderer:kU,styles:wU,init:l(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}}),Y7,TU,oRe=D(()=>{"use strict";Y7=function(){var e=l(function($,F,G,q){for(G=G||{},q=$.length;q--;G[$[q]]=F);return G},"o"),t=[1,2],r=[1,3],i=[1,4],n=[2,4],a=[1,9],s=[1,11],o=[1,16],u=[1,17],h=[1,18],d=[1,19],p=[1,33],g=[1,20],f=[1,21],m=[1,22],y=[1,23],b=[1,24],v=[1,26],x=[1,27],w=[1,28],k=[1,29],T=[1,30],_=[1,31],C=[1,32],E=[1,35],N=[1,36],M=[1,37],I=[1,38],A=[1,34],B=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],S=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,39,40,41,45,48,51,52,53,54,57],O=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],R={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,CLICK:38,STRING:39,HREF:40,classDef:41,CLASSDEF_ID:42,CLASSDEF_STYLEOPTS:43,DEFAULT:44,style:45,STYLE_IDS:46,STYLEDEF_STYLEOPTS:47,class:48,CLASSENTITY_IDS:49,STYLECLASS:50,direction_tb:51,direction_bt:52,direction_rl:53,direction_lr:54,eol:55,";":56,EDGE_STATE:57,STYLE_SEPARATOR:58,left_of:59,right_of:60,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"CLICK",39:"STRING",40:"HREF",41:"classDef",42:"CLASSDEF_ID",43:"CLASSDEF_STYLEOPTS",44:"DEFAULT",45:"style",46:"STYLE_IDS",47:"STYLEDEF_STYLEOPTS",48:"class",49:"CLASSENTITY_IDS",50:"STYLECLASS",51:"direction_tb",52:"direction_bt",53:"direction_rl",54:"direction_lr",56:";",57:"EDGE_STATE",58:"STYLE_SEPARATOR",59:"left_of",60:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[9,5],[9,5],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[55,1],[55,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:l(function($,F,G,q,V,H,ae){var re=H.length-1;switch(V){case 3:return q.setRootDoc(H[re]),H[re];case 4:this.$=[];break;case 5:H[re]!="nl"&&(H[re-1].push(H[re]),this.$=H[re-1]);break;case 6:case 7:this.$=H[re];break;case 8:this.$="nl";break;case 12:this.$=H[re];break;case 13:let ee=H[re-1];ee.description=q.trimColon(H[re]),this.$=ee;break;case 14:this.$={stmt:"relation",state1:H[re-2],state2:H[re]};break;case 15:let X=q.trimColon(H[re]);this.$={stmt:"relation",state1:H[re-3],state2:H[re-1],description:X};break;case 19:this.$={stmt:"state",id:H[re-3],type:"default",description:"",doc:H[re-1]};break;case 20:var oe=H[re],ue=H[re-2].trim();if(H[re].match(":")){var W=H[re].split(":");oe=W[0],ue=[ue,W[1]]}this.$={stmt:"state",id:oe,type:"default",description:ue};break;case 21:this.$={stmt:"state",id:H[re-3],type:"default",description:H[re-5],doc:H[re-1]};break;case 22:this.$={stmt:"state",id:H[re],type:"fork"};break;case 23:this.$={stmt:"state",id:H[re],type:"join"};break;case 24:this.$={stmt:"state",id:H[re],type:"choice"};break;case 25:this.$={stmt:"state",id:q.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:H[re-1].trim(),note:{position:H[re-2].trim(),text:H[re].trim()}};break;case 29:this.$=H[re].trim(),q.setAccTitle(this.$);break;case 30:case 31:this.$=H[re].trim(),q.setAccDescription(this.$);break;case 32:this.$={stmt:"click",id:H[re-3],url:H[re-2],tooltip:H[re-1]};break;case 33:this.$={stmt:"click",id:H[re-3],url:H[re-1],tooltip:""};break;case 34:case 35:this.$={stmt:"classDef",id:H[re-1].trim(),classes:H[re].trim()};break;case 36:this.$={stmt:"style",id:H[re-1].trim(),styleClass:H[re].trim()};break;case 37:this.$={stmt:"applyClass",id:H[re-1].trim(),styleClass:H[re].trim()};break;case 38:q.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:q.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:q.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:q.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:H[re].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:H[re-2].trim(),classes:[H[re].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:H[re-2].trim(),classes:[H[re].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:t,5:r,6:i},{1:[3]},{3:5,4:t,5:r,6:i},{3:6,4:t,5:r,6:i},e([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],n,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:u,19:h,22:d,24:p,25:g,26:f,27:m,28:y,29:b,32:25,33:v,35:x,37:w,38:k,41:T,45:_,48:C,51:E,52:N,53:M,54:I,57:A},e(B,[2,5]),{9:39,10:12,11:13,12:14,13:15,16:o,17:u,19:h,22:d,24:p,25:g,26:f,27:m,28:y,29:b,32:25,33:v,35:x,37:w,38:k,41:T,45:_,48:C,51:E,52:N,53:M,54:I,57:A},e(B,[2,7]),e(B,[2,8]),e(B,[2,9]),e(B,[2,10]),e(B,[2,11]),e(B,[2,12],{14:[1,40],15:[1,41]}),e(B,[2,16]),{18:[1,42]},e(B,[2,18],{20:[1,43]}),{23:[1,44]},e(B,[2,22]),e(B,[2,23]),e(B,[2,24]),e(B,[2,25]),{30:45,31:[1,46],59:[1,47],60:[1,48]},e(B,[2,28]),{34:[1,49]},{36:[1,50]},e(B,[2,31]),{13:51,24:p,57:A},{42:[1,52],44:[1,53]},{46:[1,54]},{49:[1,55]},e(S,[2,44],{58:[1,56]}),e(S,[2,45],{58:[1,57]}),e(B,[2,38]),e(B,[2,39]),e(B,[2,40]),e(B,[2,41]),e(B,[2,6]),e(B,[2,13]),{13:58,24:p,57:A},e(B,[2,17]),e(O,n,{7:59}),{24:[1,60]},{24:[1,61]},{23:[1,62]},{24:[2,48]},{24:[2,49]},e(B,[2,29]),e(B,[2,30]),{39:[1,63],40:[1,64]},{43:[1,65]},{43:[1,66]},{47:[1,67]},{50:[1,68]},{24:[1,69]},{24:[1,70]},e(B,[2,14],{14:[1,71]}),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:u,19:h,21:[1,72],22:d,24:p,25:g,26:f,27:m,28:y,29:b,32:25,33:v,35:x,37:w,38:k,41:T,45:_,48:C,51:E,52:N,53:M,54:I,57:A},e(B,[2,20],{20:[1,73]}),{31:[1,74]},{24:[1,75]},{39:[1,76]},{39:[1,77]},e(B,[2,34]),e(B,[2,35]),e(B,[2,36]),e(B,[2,37]),e(S,[2,46]),e(S,[2,47]),e(B,[2,15]),e(B,[2,19]),e(O,n,{7:78}),e(B,[2,26]),e(B,[2,27]),{5:[1,79]},{5:[1,80]},{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:u,19:h,21:[1,81],22:d,24:p,25:g,26:f,27:m,28:y,29:b,32:25,33:v,35:x,37:w,38:k,41:T,45:_,48:C,51:E,52:N,53:M,54:I,57:A},e(B,[2,32]),e(B,[2,33]),e(B,[2,21])],defaultActions:{5:[2,1],6:[2,2],47:[2,48],48:[2,49]},parseError:l(function($,F){if(F.recoverable)this.trace($);else{var G=new Error($);throw G.hash=F,G}},"parseError"),parse:l(function($){var F=this,G=[0],q=[],V=[null],H=[],ae=this.table,re="",oe=0,ue=0,W=0,ee=2,X=1,Z=H.slice.call(arguments,1),J=Object.create(this.lexer),he={yy:{}};for(var K in this.yy)Object.prototype.hasOwnProperty.call(this.yy,K)&&(he.yy[K]=this.yy[K]);J.setInput($,he.yy),he.yy.lexer=J,he.yy.parser=this,typeof J.yylloc>"u"&&(J.yylloc={});var me=J.yylloc;H.push(me);var Y=J.options&&J.options.ranges;typeof he.yy.parseError=="function"?this.parseError=he.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function _e(z){G.length=G.length-2*z,V.length=V.length-z,H.length=H.length-z}l(_e,"popStack");function ce(){var z;return z=q.pop()||J.lex()||X,typeof z!="number"&&(z instanceof Array&&(q=z,z=q.pop()),z=F.symbols_[z]||z),z}l(ce,"lex");for(var Ne,Be,je,qe,Se,Re,ve={},Fe,de,Ve,Q;;){if(je=G[G.length-1],this.defaultActions[je]?qe=this.defaultActions[je]:((Ne===null||typeof Ne>"u")&&(Ne=ce()),qe=ae[je]&&ae[je][Ne]),typeof qe>"u"||!qe.length||!qe[0]){var Me="";Q=[];for(Fe in ae[je])this.terminals_[Fe]&&Fe>ee&&Q.push("'"+this.terminals_[Fe]+"'");J.showPosition?Me="Parse error on line "+(oe+1)+`:
`+J.showPosition()+`
Expecting `+Q.join(", ")+", got '"+(this.terminals_[Ne]||Ne)+"'":Me="Parse error on line "+(oe+1)+": Unexpected "+(Ne==X?"end of input":"'"+(this.terminals_[Ne]||Ne)+"'"),this.parseError(Me,{text:J.match,token:this.terminals_[Ne]||Ne,line:J.yylineno,loc:me,expected:Q})}if(qe[0]instanceof Array&&qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+je+", token: "+Ne);switch(qe[0]){case 1:G.push(Ne),V.push(J.yytext),H.push(J.yylloc),G.push(qe[1]),Ne=null,Be?(Ne=Be,Be=null):(ue=J.yyleng,re=J.yytext,oe=J.yylineno,me=J.yylloc,W>0&&W--);break;case 2:if(de=this.productions_[qe[1]][1],ve.$=V[V.length-de],ve._$={first_line:H[H.length-(de||1)].first_line,last_line:H[H.length-1].last_line,first_column:H[H.length-(de||1)].first_column,last_column:H[H.length-1].last_column},Y&&(ve._$.range=[H[H.length-(de||1)].range[0],H[H.length-1].range[1]]),Re=this.performAction.apply(ve,[re,ue,oe,he.yy,qe[1],V,H].concat(Z)),typeof Re<"u")return Re;de&&(G=G.slice(0,-1*de*2),V=V.slice(0,-1*de),H=H.slice(0,-1*de)),G.push(this.productions_[qe[1]][0]),V.push(ve.$),H.push(ve._$),Ve=ae[G[G.length-2]][G[G.length-1]],G.push(Ve);break;case 3:return!0}}return!0},"parse")},P=function(){var $={EOF:1,parseError:l(function(F,G){if(this.yy.parser)this.yy.parser.parseError(F,G);else throw new Error(F)},"parseError"),setInput:l(function(F,G){return this.yy=G||this.yy||{},this._input=F,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var F=this._input[0];this.yytext+=F,this.yyleng++,this.offset++,this.match+=F,this.matched+=F;var G=F.match(/(?:\r\n?|\n).*/g);return G?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),F},"input"),unput:l(function(F){var G=F.length,q=F.split(/(?:\r\n?|\n)/g);this._input=F+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-G),this.offset-=G;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),q.length-1&&(this.yylineno-=q.length-1);var H=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:q?(q.length===V.length?this.yylloc.first_column:0)+V[V.length-q.length].length-q[0].length:this.yylloc.first_column-G},this.options.ranges&&(this.yylloc.range=[H[0],H[0]+this.yyleng-G]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(F){this.unput(this.match.slice(F))},"less"),pastInput:l(function(){var F=this.matched.substr(0,this.matched.length-this.match.length);return(F.length>20?"...":"")+F.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var F=this.match;return F.length<20&&(F+=this._input.substr(0,20-F.length)),(F.substr(0,20)+(F.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var F=this.pastInput(),G=new Array(F.length+1).join("-");return F+this.upcomingInput()+`
`+G+"^"},"showPosition"),test_match:l(function(F,G){var q,V,H;if(this.options.backtrack_lexer&&(H={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(H.yylloc.range=this.yylloc.range.slice(0))),V=F[0].match(/(?:\r\n?|\n).*/g),V&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+F[0].length},this.yytext+=F[0],this.match+=F[0],this.matches=F,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(F[0].length),this.matched+=F[0],q=this.performAction.call(this,this.yy,this,G,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),q)return q;if(this._backtrack){for(var ae in H)this[ae]=H[ae];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var F,G,q,V;this._more||(this.yytext="",this.match="");for(var H=this._currentRules(),ae=0;ae<H.length;ae++)if(q=this._input.match(this.rules[H[ae]]),q&&(!G||q[0].length>G[0].length)){if(G=q,V=ae,this.options.backtrack_lexer){if(F=this.test_match(q,H[ae]),F!==!1)return F;if(this._backtrack){G=!1;continue}else return!1}else if(!this.options.flex)break}return G?(F=this.test_match(G,H[V]),F!==!1?F:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var F=this.next();return F||this.lex()},"lex"),begin:l(function(F){this.conditionStack.push(F)},"begin"),popState:l(function(){var F=this.conditionStack.length-1;return F>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(F){return F=this.conditionStack.length-1-Math.abs(F||0),F>=0?this.conditionStack[F]:"INITIAL"},"topState"),pushState:l(function(F){this.begin(F)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(F,G,q,V){var H=V;switch(q){case 0:return 38;case 1:return 40;case 2:return 39;case 3:return 44;case 4:return 51;case 5:return 52;case 6:return 53;case 7:return 54;case 8:break;case 9:break;case 10:return 5;case 11:break;case 12:break;case 13:break;case 14:break;case 15:return this.pushState("SCALE"),17;case 16:return 18;case 17:this.popState();break;case 18:return this.begin("acc_title"),33;case 19:return this.popState(),"acc_title_value";case 20:return this.begin("acc_descr"),35;case 21:return this.popState(),"acc_descr_value";case 22:this.begin("acc_descr_multiline");break;case 23:this.popState();break;case 24:return"acc_descr_multiline_value";case 25:return this.pushState("CLASSDEF"),41;case 26:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 27:return this.popState(),this.pushState("CLASSDEFID"),42;case 28:return this.popState(),43;case 29:return this.pushState("CLASS"),48;case 30:return this.popState(),this.pushState("CLASS_STYLE"),49;case 31:return this.popState(),50;case 32:return this.pushState("STYLE"),45;case 33:return this.popState(),this.pushState("STYLEDEF_STYLES"),46;case 34:return this.popState(),47;case 35:return this.pushState("SCALE"),17;case 36:return 18;case 37:this.popState();break;case 38:this.pushState("STATE");break;case 39:return this.popState(),G.yytext=G.yytext.slice(0,-8).trim(),25;case 40:return this.popState(),G.yytext=G.yytext.slice(0,-8).trim(),26;case 41:return this.popState(),G.yytext=G.yytext.slice(0,-10).trim(),27;case 42:return this.popState(),G.yytext=G.yytext.slice(0,-8).trim(),25;case 43:return this.popState(),G.yytext=G.yytext.slice(0,-8).trim(),26;case 44:return this.popState(),G.yytext=G.yytext.slice(0,-10).trim(),27;case 45:return 51;case 46:return 52;case 47:return 53;case 48:return 54;case 49:this.pushState("STATE_STRING");break;case 50:return this.pushState("STATE_ID"),"AS";case 51:return this.popState(),"ID";case 52:this.popState();break;case 53:return"STATE_DESCR";case 54:return 19;case 55:this.popState();break;case 56:return this.popState(),this.pushState("struct"),20;case 57:break;case 58:return this.popState(),21;case 59:break;case 60:return this.begin("NOTE"),29;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:return this.popState(),this.pushState("NOTE_ID"),60;case 63:this.popState(),this.pushState("FLOATING_NOTE");break;case 64:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 65:break;case 66:return"NOTE_TEXT";case 67:return this.popState(),"ID";case 68:return this.popState(),this.pushState("NOTE_TEXT"),24;case 69:return this.popState(),G.yytext=G.yytext.substr(2).trim(),31;case 70:return this.popState(),G.yytext=G.yytext.slice(0,-8).trim(),31;case 71:return 6;case 72:return 6;case 73:return 16;case 74:return 57;case 75:return 24;case 76:return G.yytext=G.yytext.trim(),14;case 77:return 15;case 78:return 28;case 79:return 58;case 80:return 5;case 81:return"INVALID"}},"anonymous"),rules:[/^(?:click\b)/i,/^(?:href\b)/i,/^(?:"[^"]*")/i,/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[12,13],inclusive:!1},struct:{rules:[12,13,25,29,32,38,45,46,47,48,57,58,59,60,74,75,76,77,78],inclusive:!1},FLOATING_NOTE_ID:{rules:[67],inclusive:!1},FLOATING_NOTE:{rules:[64,65,66],inclusive:!1},NOTE_TEXT:{rules:[69,70],inclusive:!1},NOTE_ID:{rules:[68],inclusive:!1},NOTE:{rules:[61,62,63],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[34],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[33],inclusive:!1},CLASS_STYLE:{rules:[31],inclusive:!1},CLASS:{rules:[30],inclusive:!1},CLASSDEFID:{rules:[28],inclusive:!1},CLASSDEF:{rules:[26,27],inclusive:!1},acc_descr_multiline:{rules:[23,24],inclusive:!1},acc_descr:{rules:[21],inclusive:!1},acc_title:{rules:[19],inclusive:!1},SCALE:{rules:[16,17,36,37],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[51],inclusive:!1},STATE_STRING:{rules:[52,53],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[12,13,39,40,41,42,43,44,49,50,54,55,56],inclusive:!1},ID:{rules:[12,13],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,13,14,15,18,20,22,25,29,32,35,38,56,60,71,72,73,74,75,76,77,79,80,81],inclusive:!0}}};return $}();R.lexer=P;function L(){this.yy={}}return l(L,"Parser"),L.prototype=R,R.Parser=L,new L}(),Y7.parser=Y7,TU=Y7}),op,lp,W7,lRe,cRe,uRe,Sf,EU,CU,SU,_U,AU,X7,K7,hRe,dRe,LU,NU,pRe,gRe,_f,fRe,mRe,MU,yRe,vRe,bRe,xRe,wRe,kRe,TRe,ERe,IU,DU,CRe,Z7,SRe,RU,OU=D(()=>{"use strict";op="state",lp="root",W7="relation",lRe="classDef",cRe="style",uRe="applyClass",Sf="default",EU="divider",CU="fill:none",SU="fill: #333",_U="text",AU="normal",X7="rect",K7="rectWithTitle",hRe="stateStart",dRe="stateEnd",LU="divider",NU="roundedWithTitle",pRe="note",gRe="noteGroup",_f="statediagram",fRe="state",mRe=`${_f}-${fRe}`,MU="transition",yRe="note",vRe="note-edge",bRe=`${MU} ${vRe}`,xRe=`${_f}-${yRe}`,wRe="cluster",kRe=`${_f}-${wRe}`,TRe="cluster-alt",ERe=`${_f}-${TRe}`,IU="parent",DU="note",CRe="state",Z7="----",SRe=`${Z7}${DU}`,RU=`${Z7}${IU}`});function Q7(e="",t=0,r="",i=Z7){let n=r!==null&&r.length>0?`${i}${r}`:"";return`${CRe}-${e}${n}-${t}`}function Ax(e,t,r){if(!t.id||t.id==="</join></fork>"||t.id==="</choice>")return;t.cssClasses&&(Array.isArray(t.cssCompiledStyles)||(t.cssCompiledStyles=[]),t.cssClasses.split(" ").forEach(n=>{let a=r.get(n);a&&(t.cssCompiledStyles=[...t.cssCompiledStyles??[],...a.styles])}));let i=e.find(n=>n.id===t.id);i?Object.assign(i,t):e.push(t)}function _Re(e){return e?.classes?.join(" ")??""}function ARe(e){return e?.styles??[]}var Lx,eu,LRe,PU,Af,NRe,uet=D(()=>{"use strict";Gt(),st(),cr(),OU(),Lx=new Map,eu=0,l(Q7,"stateDomId"),LRe=l((e,t,r,i,n,a,s,o)=>{ne.trace("items",t),t.forEach(u=>{switch(u.stmt){case op:Af(e,u,r,i,n,a,s,o);break;case Sf:Af(e,u,r,i,n,a,s,o);break;case W7:{Af(e,u.state1,r,i,n,a,s,o),Af(e,u.state2,r,i,n,a,s,o);let h={id:"edge"+eu,start:u.state1.id,end:u.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:CU,labelStyle:"",label:nt.sanitizeText(u.description??"",Ee()),arrowheadStyle:SU,labelpos:"c",labelType:_U,thickness:AU,classes:MU,look:s};n.push(h),eu++}break}})},"setupDoc"),PU=l((e,t="TB")=>{let r=t;if(e.doc)for(let i of e.doc)i.stmt==="dir"&&(r=i.value);return r},"getDir"),l(Ax,"insertOrUpdateNode"),l(_Re,"getClassesFromDbInfo"),l(ARe,"getStylesFromDbInfo"),Af=l((e,t,r,i,n,a,s,o)=>{let u=t.id,h=r.get(u),d=_Re(h),p=ARe(h),g=Ee();if(ne.info("dataFetcher parsedItem",t,h,p),u!=="root"){let f=X7;t.start===!0?f=hRe:t.start===!1&&(f=dRe),t.type!==Sf&&(f=t.type),Lx.get(u)||Lx.set(u,{id:u,shape:f,description:nt.sanitizeText(u,g),cssClasses:`${d} ${mRe}`,cssStyles:p});let m=Lx.get(u);t.description&&(Array.isArray(m.description)?(m.shape=K7,m.description.push(t.description)):m.description?.length&&m.description.length>0?(m.shape=K7,m.description===u?m.description=[t.description]:m.description=[m.description,t.description]):(m.shape=X7,m.description=t.description),m.description=nt.sanitizeTextOrArray(m.description,g)),m.description?.length===1&&m.shape===K7&&(m.type==="group"?m.shape=NU:m.shape=X7),!m.type&&t.doc&&(ne.info("Setting cluster for XCX",u,PU(t)),m.type="group",m.isGroup=!0,m.dir=PU(t),m.shape=t.type===EU?LU:NU,m.cssClasses=`${m.cssClasses} ${kRe} ${a?ERe:""}`);let y={labelStyle:"",shape:m.shape,label:m.description,cssClasses:m.cssClasses,cssCompiledStyles:[],cssStyles:m.cssStyles,id:u,dir:m.dir,domId:Q7(u,eu),type:m.type,isGroup:m.type==="group",padding:8,rx:10,ry:10,look:s};if(y.shape===LU&&(y.label=""),e&&e.id!=="root"&&(ne.trace("Setting node ",u," to be child of its parent ",e.id),y.parentId=e.id),y.centerLabel=!0,t.note){let b={labelStyle:"",shape:pRe,label:t.note.text,cssClasses:xRe,cssStyles:[],cssCompiledStyles:[],id:u+SRe+"-"+eu,domId:Q7(u,eu,DU),type:m.type,isGroup:m.type==="group",padding:g.flowchart?.padding,look:s,position:t.note.position},v=u+RU,x={labelStyle:"",shape:gRe,label:t.note.text,cssClasses:m.cssClasses,cssStyles:[],id:u+RU,domId:Q7(u,eu,IU),type:"group",isGroup:!0,padding:16,look:s,position:t.note.position};eu++,x.id=v,b.parentId=v,Ax(i,x,o),Ax(i,b,o),Ax(i,y,o);let w=u,k=b.id;t.note.position==="left of"&&(w=b.id,k=u),n.push({id:w+"-"+k,start:w,end:k,arrowhead:"none",arrowTypeEnd:"",style:CU,labelStyle:"",classes:bRe,arrowheadStyle:SU,labelpos:"c",labelType:_U,thickness:AU,look:s})}else Ax(i,y,o)}t.doc&&(ne.trace("Adding nodes children "),LRe(t,t.doc,r,i,n,!a,s,o))},"dataFetcher"),NRe=l(()=>{Lx.clear(),eu=0},"reset")}),BU,MRe,IRe,DRe,RRe=D(()=>{"use strict";Gt(),st(),Fg(),Qd(),Jd(),Zt(),OU(),BU=l((e,t="TB")=>{if(!e.doc)return t;let r=t;for(let i of e.doc)i.stmt==="dir"&&(r=i.value);return r},"getDir"),MRe=l(function(e,t){return t.db.getClasses()},"getClasses"),IRe=l(async function(e,t,r,i){ne.info("REF0:"),ne.info("Drawing state diagram (v2)",t);let{securityLevel:n,state:a,layout:s}=Ee();i.db.extract(i.db.getRootDocV2());let o=i.db.getData(),u=bd(t,n);o.type=i.type,o.layoutAlgorithm=s,o.nodeSpacing=a?.nodeSpacing||50,o.rankSpacing=a?.rankSpacing||50,o.markers=["barb"],o.diagramId=t,await Zd(o,u);let h=8;try{(typeof i.db.getLinks=="function"?i.db.getLinks():new Map).forEach((d,p)=>{let g=typeof p=="string"?p:typeof p?.id=="string"?p.id:"";if(!g){ne.warn("\u26A0\uFE0F Invalid or missing stateId from key:",JSON.stringify(p));return}let f=u.node()?.querySelectorAll("g"),m;if(f?.forEach(x=>{x.textContent?.trim()===g&&(m=x)}),!m){ne.warn("\u26A0\uFE0F Could not find node matching text:",g);return}let y=m.parentNode;if(!y){ne.warn("\u26A0\uFE0F Node has no parent, cannot wrap:",g);return}let b=document.createElementNS("http://www.w3.org/2000/svg","a"),v=d.url.replace(/^"+|"+$/g,"");if(b.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v),b.setAttribute("target","_blank"),d.tooltip){let x=d.tooltip.replace(/^"+|"+$/g,"");b.setAttribute("title",x)}y.replaceChild(b,m),b.appendChild(m),ne.info("\u{1F517} Wrapped node in <a> tag for:",g,d.url)})}catch(d){ne.error("\u274C Error injecting clickable links:",d)}or.insertTitle(u,"statediagramTitleText",a?.titleTopMargin??25,i.db.getDiagramTitle()),sh(u,h,_f,a?.useMaxWidth??!0)},"draw"),DRe={getClasses:MRe,draw:IRe,getDir:BU}}),la,$U,FU,Nx,Th,zU=D(()=>{"use strict";Gt(),st(),Zt(),cr(),Di(),uet(),RRe(),OU(),la={START_NODE:"[*]",START_TYPE:"start",END_NODE:"[*]",END_TYPE:"end",COLOR_KEYWORD:"color",FILL_KEYWORD:"fill",BG_FILL:"bgFill",STYLECLASS_SEP:","},$U=l(()=>new Map,"newClassesList"),FU=l(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),Nx=l(e=>JSON.parse(JSON.stringify(e)),"clone"),Th=class{constructor(e){this.version=e,this.nodes=[],this.edges=[],this.rootDoc=[],this.classes=$U(),this.documents={root:FU()},this.currentDocument=this.documents.root,this.startEndCount=0,this.dividerCnt=0,this.links=new Map,this.getAccTitle=Gi,this.setAccTitle=Mi,this.getAccDescription=qi,this.setAccDescription=Ui,this.setDiagramTitle=sn,this.getDiagramTitle=Ii,this.clear(),this.setRootDoc=this.setRootDoc.bind(this),this.getDividerId=this.getDividerId.bind(this),this.setDirection=this.setDirection.bind(this),this.trimColon=this.trimColon.bind(this)}static{l(this,"StateDB")}static{this.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3}}extract(e){this.clear(!0);for(let i of Array.isArray(e)?e:e.doc)switch(i.stmt){case op:this.addState(i.id.trim(),i.type,i.doc,i.description,i.note);break;case W7:this.addRelation(i.state1,i.state2,i.description);break;case lRe:this.addStyleClass(i.id.trim(),i.classes);break;case cRe:this.handleStyleDef(i);break;case uRe:this.setCssClass(i.id.trim(),i.styleClass);break;case"click":this.addLink(i.id,i.url,i.tooltip);break}let t=this.getStates(),r=Ee();NRe(),Af(void 0,this.getRootDocV2(),t,this.nodes,this.edges,!0,r.look,this.classes);for(let i of this.nodes)if(Array.isArray(i.label)){if(i.description=i.label.slice(1),i.isGroup&&i.description.length>0)throw new Error(`Group nodes can only have label. Remove the additional description for node [${i.id}]`);i.label=i.label[0]}}handleStyleDef(e){let t=e.id.trim().split(","),r=e.styleClass.split(",");for(let i of t){let n=this.getState(i);if(!n){let a=i.trim();this.addState(a),n=this.getState(a)}n&&(n.styles=r.map(a=>a.replace(/;/g,"")?.trim()))}}setRootDoc(e){ne.info("Setting root doc",e),this.rootDoc=e,this.version===1?this.extract(e):this.extract(this.getRootDocV2())}docTranslator(e,t,r){if(t.stmt===W7){this.docTranslator(e,t.state1,!0),this.docTranslator(e,t.state2,!1);return}if(t.stmt===op&&(t.id===la.START_NODE?(t.id=e.id+(r?"_start":"_end"),t.start=r):t.id=t.id.trim()),t.stmt!==lp&&t.stmt!==op||!t.doc)return;let i=[],n=[];for(let a of t.doc)if(a.type===EU){let s=Nx(a);s.doc=Nx(n),i.push(s),n=[]}else n.push(a);if(i.length>0&&n.length>0){let a={stmt:op,id:O9(),type:"divider",doc:Nx(n)};i.push(Nx(a)),t.doc=i}t.doc.forEach(a=>this.docTranslator(t,a,!0))}getRootDocV2(){return this.docTranslator({id:lp,stmt:lp},{id:lp,stmt:lp,doc:this.rootDoc},!0),{id:lp,doc:this.rootDoc}}addState(e,t=Sf,r=void 0,i=void 0,n=void 0,a=void 0,s=void 0,o=void 0){let u=e?.trim();if(!this.currentDocument.states.has(u))ne.info("Adding state ",u,i),this.currentDocument.states.set(u,{stmt:op,id:u,descriptions:[],type:t,doc:r,note:n,classes:[],styles:[],textStyles:[]});else{let h=this.currentDocument.states.get(u);if(!h)throw new Error(`State not found: ${u}`);h.doc||(h.doc=r),h.type||(h.type=t)}if(i&&(ne.info("Setting state description",u,i),(Array.isArray(i)?i:[i]).forEach(h=>this.addDescription(u,h.trim()))),n){let h=this.currentDocument.states.get(u);if(!h)throw new Error(`State not found: ${u}`);h.note=n,h.note.text=nt.sanitizeText(h.note.text,Ee())}a&&(ne.info("Setting state classes",u,a),(Array.isArray(a)?a:[a]).forEach(h=>this.setCssClass(u,h.trim()))),s&&(ne.info("Setting state styles",u,s),(Array.isArray(s)?s:[s]).forEach(h=>this.setStyle(u,h.trim()))),o&&(ne.info("Setting state styles",u,s),(Array.isArray(o)?o:[o]).forEach(h=>this.setTextStyle(u,h.trim())))}clear(e){this.nodes=[],this.edges=[],this.documents={root:FU()},this.currentDocument=this.documents.root,this.startEndCount=0,this.classes=$U(),e||(this.links=new Map,Ni())}getState(e){return this.currentDocument.states.get(e)}getStates(){return this.currentDocument.states}logDocuments(){ne.info("Documents = ",this.documents)}getRelations(){return this.currentDocument.relations}addLink(e,t,r){this.links.set(e,{url:t,tooltip:r}),ne.warn("Adding link",e,t,r)}getLinks(){return this.links}startIdIfNeeded(e=""){return e===la.START_NODE?(this.startEndCount++,`${la.START_TYPE}${this.startEndCount}`):e}startTypeIfNeeded(e="",t=Sf){return e===la.START_NODE?la.START_TYPE:t}endIdIfNeeded(e=""){return e===la.END_NODE?(this.startEndCount++,`${la.END_TYPE}${this.startEndCount}`):e}endTypeIfNeeded(e="",t=Sf){return e===la.END_NODE?la.END_TYPE:t}addRelationObjs(e,t,r=""){let i=this.startIdIfNeeded(e.id.trim()),n=this.startTypeIfNeeded(e.id.trim(),e.type),a=this.startIdIfNeeded(t.id.trim()),s=this.startTypeIfNeeded(t.id.trim(),t.type);this.addState(i,n,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),this.addState(a,s,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),this.currentDocument.relations.push({id1:i,id2:a,relationTitle:nt.sanitizeText(r,Ee())})}addRelation(e,t,r){if(typeof e=="object"&&typeof t=="object")this.addRelationObjs(e,t,r);else if(typeof e=="string"&&typeof t=="string"){let i=this.startIdIfNeeded(e.trim()),n=this.startTypeIfNeeded(e),a=this.endIdIfNeeded(t.trim()),s=this.endTypeIfNeeded(t);this.addState(i,n),this.addState(a,s),this.currentDocument.relations.push({id1:i,id2:a,relationTitle:r?nt.sanitizeText(r,Ee()):void 0})}}addDescription(e,t){let r=this.currentDocument.states.get(e),i=t.startsWith(":")?t.replace(":","").trim():t;r?.descriptions?.push(nt.sanitizeText(i,Ee()))}cleanupLabel(e){return e.startsWith(":")?e.slice(2).trim():e.trim()}getDividerId(){return this.dividerCnt++,`divider-id-${this.dividerCnt}`}addStyleClass(e,t=""){this.classes.has(e)||this.classes.set(e,{id:e,styles:[],textStyles:[]});let r=this.classes.get(e);t&&r&&t.split(la.STYLECLASS_SEP).forEach(i=>{let n=i.replace(/([^;]*);/,"$1").trim();if(RegExp(la.COLOR_KEYWORD).exec(i)){let a=n.replace(la.FILL_KEYWORD,la.BG_FILL).replace(la.COLOR_KEYWORD,la.FILL_KEYWORD);r.textStyles.push(a)}r.styles.push(n)})}getClasses(){return this.classes}setCssClass(e,t){e.split(",").forEach(r=>{let i=this.getState(r);if(!i){let n=r.trim();this.addState(n),i=this.getState(n)}i?.classes?.push(t)})}setStyle(e,t){this.getState(e)?.styles?.push(t)}setTextStyle(e,t){this.getState(e)?.textStyles?.push(t)}getDirectionStatement(){return this.rootDoc.find(e=>e.stmt==="dir")}getDirection(){return this.getDirectionStatement()?.value??"TB"}setDirection(e){let t=this.getDirectionStatement();t?t.value=e:this.rootDoc.unshift({stmt:"dir",value:e})}trimColon(e){return e.startsWith(":")?e.slice(1).trim():e.trim()}getData(){let e=Ee();return{nodes:this.nodes,edges:this.edges,other:{},config:e,direction:BU(this.getRootDocV2())}}getConfig(){return Ee().state}}}),ORe,GU,PRe=D(()=>{"use strict";ORe=l(e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${e.edgeLabelBackground};
  p {
    background-color: ${e.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${e.edgeLabelBackground};
    fill: ${e.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),GU=ORe}),BRe,$Re,FRe,zRe,GRe,URe,qRe,jRe,HRe,UU,qU,VRe,het=D(()=>{"use strict";hr(),zU(),Zt(),cr(),Gt(),st(),BRe=l(e=>e.append("circle").attr("class","start-state").attr("r",Ee().state.sizeUnit).attr("cx",Ee().state.padding+Ee().state.sizeUnit).attr("cy",Ee().state.padding+Ee().state.sizeUnit),"drawStartState"),$Re=l(e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",Ee().state.textHeight).attr("class","divider").attr("x2",Ee().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),FRe=l((e,t)=>{let r=e.append("text").attr("x",2*Ee().state.padding).attr("y",Ee().state.textHeight+2*Ee().state.padding).attr("font-size",Ee().state.fontSize).attr("class","state-title").text(t.id),i=r.node().getBBox();return e.insert("rect",":first-child").attr("x",Ee().state.padding).attr("y",Ee().state.padding).attr("width",i.width+2*Ee().state.padding).attr("height",i.height+2*Ee().state.padding).attr("rx",Ee().state.radius),r},"drawSimpleState"),zRe=l((e,t)=>{let r=l(function(p,g,f){let m=p.append("tspan").attr("x",2*Ee().state.padding).text(g);f||m.attr("dy",Ee().state.textHeight)},"addTspan"),i=e.append("text").attr("x",2*Ee().state.padding).attr("y",Ee().state.textHeight+1.3*Ee().state.padding).attr("font-size",Ee().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),n=i.height,a=e.append("text").attr("x",Ee().state.padding).attr("y",n+Ee().state.padding*.4+Ee().state.dividerMargin+Ee().state.textHeight).attr("class","state-description"),s=!0,o=!0;t.descriptions.forEach(function(p){s||(r(a,p,o),o=!1),s=!1});let u=e.append("line").attr("x1",Ee().state.padding).attr("y1",Ee().state.padding+n+Ee().state.dividerMargin/2).attr("y2",Ee().state.padding+n+Ee().state.dividerMargin/2).attr("class","descr-divider"),h=a.node().getBBox(),d=Math.max(h.width,i.width);return u.attr("x2",d+3*Ee().state.padding),e.insert("rect",":first-child").attr("x",Ee().state.padding).attr("y",Ee().state.padding).attr("width",d+2*Ee().state.padding).attr("height",h.height+n+2*Ee().state.padding).attr("rx",Ee().state.radius),e},"drawDescrState"),GRe=l((e,t,r)=>{let i=Ee().state.padding,n=2*Ee().state.padding,a=e.node().getBBox(),s=a.width,o=a.x,u=e.append("text").attr("x",0).attr("y",Ee().state.titleShift).attr("font-size",Ee().state.fontSize).attr("class","state-title").text(t.id),h=u.node().getBBox().width+n,d=Math.max(h,s);d===s&&(d=d+n);let p,g=e.node().getBBox();t.doc,p=o-i,h>s&&(p=(s-d)/2+i),Math.abs(o-g.x)<i&&h>s&&(p=o-(h-s)/2);let f=1-Ee().state.textHeight;return e.insert("rect",":first-child").attr("x",p).attr("y",f).attr("class",r?"alt-composit":"composit").attr("width",d).attr("height",g.height+Ee().state.textHeight+Ee().state.titleShift+1).attr("rx","0"),u.attr("x",p+i),h<=s&&u.attr("x",o+(d-n)/2-h/2+i),e.insert("rect",":first-child").attr("x",p).attr("y",Ee().state.titleShift-Ee().state.textHeight-Ee().state.padding).attr("width",d).attr("height",Ee().state.textHeight*3).attr("rx",Ee().state.radius),e.insert("rect",":first-child").attr("x",p).attr("y",Ee().state.titleShift-Ee().state.textHeight-Ee().state.padding).attr("width",d).attr("height",g.height+3+2*Ee().state.textHeight).attr("rx",Ee().state.radius),e},"addTitleAndBox"),URe=l(e=>(e.append("circle").attr("class","end-state-outer").attr("r",Ee().state.sizeUnit+Ee().state.miniPadding).attr("cx",Ee().state.padding+Ee().state.sizeUnit+Ee().state.miniPadding).attr("cy",Ee().state.padding+Ee().state.sizeUnit+Ee().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",Ee().state.sizeUnit).attr("cx",Ee().state.padding+Ee().state.sizeUnit+2).attr("cy",Ee().state.padding+Ee().state.sizeUnit+2)),"drawEndState"),qRe=l((e,t)=>{let r=Ee().state.forkWidth,i=Ee().state.forkHeight;if(t.parentId){let n=r;r=i,i=n}return e.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",i).attr("x",Ee().state.padding).attr("y",Ee().state.padding)},"drawForkJoinState"),jRe=l((e,t,r,i)=>{let n=0,a=i.append("text");a.style("text-anchor","start"),a.attr("class","noteText");let s=e.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");let o=s.split(nt.lineBreakRegex),u=1.25*Ee().state.noteMargin;for(let h of o){let d=h.trim();if(d.length>0){let p=a.append("tspan");if(p.text(d),u===0){let g=p.node().getBBox();u+=g.height}n+=u,p.attr("x",t+Ee().state.noteMargin),p.attr("y",r+n+1.25*Ee().state.noteMargin)}}return{textWidth:a.node().getBBox().width,textHeight:n}},"_drawLongText"),HRe=l((e,t)=>{t.attr("class","state-note");let r=t.append("rect").attr("x",0).attr("y",Ee().state.padding),i=t.append("g"),{textWidth:n,textHeight:a}=jRe(e,0,0,i);return r.attr("height",a+2*Ee().state.noteMargin),r.attr("width",n+Ee().state.noteMargin*2),r},"drawNote"),UU=l(function(e,t){let r=t.id,i={id:r,label:t.id,width:0,height:0},n=e.append("g").attr("id",r).attr("class","stateGroup");t.type==="start"&&BRe(n),t.type==="end"&&URe(n),(t.type==="fork"||t.type==="join")&&qRe(n,t),t.type==="note"&&HRe(t.note.text,n),t.type==="divider"&&$Re(n),t.type==="default"&&t.descriptions.length===0&&FRe(n,t),t.type==="default"&&t.descriptions.length>0&&zRe(n,t);let a=n.node().getBBox();return i.width=a.width+2*Ee().state.padding,i.height=a.height+2*Ee().state.padding,i},"drawState"),qU=0,VRe=l(function(e,t,r){let i=l(function(u){switch(u){case Th.relationType.AGGREGATION:return"aggregation";case Th.relationType.EXTENSION:return"extension";case Th.relationType.COMPOSITION:return"composition";case Th.relationType.DEPENDENCY:return"dependency"}},"getRelationType");t.points=t.points.filter(u=>!Number.isNaN(u.y));let n=t.points,a=cg().x(function(u){return u.x}).y(function(u){return u.y}).curve(Xh),s=e.append("path").attr("d",a(n)).attr("id","edge"+qU).attr("class","transition"),o="";if(Ee().state.arrowMarkerAbsolute&&(o=_m(!0)),s.attr("marker-end","url("+o+"#"+i(Th.relationType.DEPENDENCY)+"End)"),r.title!==void 0){let u=e.append("g").attr("class","stateLabel"),{x:h,y:d}=or.calcLabelPosition(t.points),p=nt.getRows(r.title),g=0,f=[],m=0,y=0;for(let x=0;x<=p.length;x++){let w=u.append("text").attr("text-anchor","middle").text(p[x]).attr("x",h).attr("y",d+g),k=w.node().getBBox();m=Math.max(m,k.width),y=Math.min(y,k.x),ne.info(k.x,h,d+g),g===0&&(g=w.node().getBBox().height,ne.info("Title height",g,d)),f.push(w)}let b=g*p.length;if(p.length>1){let x=(p.length-1)*g*.5;f.forEach((w,k)=>w.attr("y",d+k*g-x)),b=g*p.length}let v=u.node().getBBox();u.insert("rect",":first-child").attr("class","box").attr("x",h-m/2-Ee().state.padding/2).attr("y",d-b/2-Ee().state.padding/2-3.5).attr("width",m+Ee().state.padding).attr("height",b+Ee().state.padding),ne.info(v)}qU++},"drawEdge")}),gs,J7,YRe,WRe,XRe,KRe,jU,ZRe,det=D(()=>{"use strict";hr(),Exe(),fo(),st(),cr(),het(),Gt(),an(),J7={},YRe=l(function(){},"setConf"),WRe=l(function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),XRe=l(function(e,t,r,i){gs=Ee().state;let n=Ee().securityLevel,a;n==="sandbox"&&(a=Ke("#i"+t));let s=Ke(n==="sandbox"?a.nodes()[0].contentDocument.body:"body"),o=n==="sandbox"?a.nodes()[0].contentDocument:document;ne.debug("Rendering diagram "+e);let u=s.select(`[id='${t}']`);WRe(u);let h=i.db.getRootDoc();jU(h,u,void 0,!1,s,o,i);let d=gs.padding,p=u.node().getBBox(),g=p.width+d*2,f=p.height+d*2,m=g*1.75;Wn(u,f,m,gs.useMaxWidth),u.attr("viewBox",`${p.x-gs.padding}  ${p.y-gs.padding} `+g+" "+f)},"draw"),KRe=l(e=>e?e.length*gs.fontSizeFactor:1,"getLabelWidth"),jU=l((e,t,r,i,n,a,s)=>{let o=new wa({compound:!0,multigraph:!0}),u,h=!0;for(u=0;u<e.length;u++)if(e[u].stmt==="relation"){h=!1;break}r?o.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:h?1:gs.edgeLengthFactor,nodeSep:h?1:50,isMultiGraph:!0}):o.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:h?1:gs.edgeLengthFactor,nodeSep:h?1:50,ranker:"tight-tree",isMultiGraph:!0}),o.setDefaultEdgeLabel(function(){return{}});let d=s.db.getStates(),p=s.db.getRelations(),g=Object.keys(d),f=!0;for(let x of g){let w=d[x];r&&(w.parentId=r);let k;if(w.doc){let T=t.append("g").attr("id",w.id).attr("class","stateGroup");if(k=jU(w.doc,T,w.id,!i,n,a,s),f){T=GRe(T,w,i);let _=T.node().getBBox();k.width=_.width,k.height=_.height+gs.padding/2,J7[w.id]={y:gs.compositTitleSize}}else{let _=T.node().getBBox();k.width=_.width,k.height=_.height}}else k=UU(t,w,o);if(w.note){let T={descriptions:[],id:w.id+"-note",note:w.note,type:"note"},_=UU(t,T,o);w.note.position==="left of"?(o.setNode(k.id+"-note",_),o.setNode(k.id,k)):(o.setNode(k.id,k),o.setNode(k.id+"-note",_)),o.setParent(k.id,k.id+"-group"),o.setParent(k.id+"-note",k.id+"-group")}else o.setNode(k.id,k)}ne.debug("Count=",o.nodeCount(),o);let m=0;p.forEach(function(x){m++,ne.debug("Setting edge",x),o.setEdge(x.id1,x.id2,{relation:x,width:KRe(x.title),height:gs.labelHeight*nt.getRows(x.title).length,labelpos:"c"},"id"+m)}),NI(o),ne.debug("Graph after layout",o.nodes());let y=t.node();o.nodes().forEach(function(x){x!==void 0&&o.node(x)!==void 0?(ne.warn("Node "+x+": "+JSON.stringify(o.node(x))),n.select("#"+y.id+" #"+x).attr("transform","translate("+(o.node(x).x-o.node(x).width/2)+","+(o.node(x).y+(J7[x]?J7[x].y:0)-o.node(x).height/2)+" )"),n.select("#"+y.id+" #"+x).attr("data-x-shift",o.node(x).x-o.node(x).width/2),a.querySelectorAll("#"+y.id+" #"+x+" .divider").forEach(w=>{let k=w.parentElement,T=0,_=0;k&&(k.parentElement&&(T=k.parentElement.getBBox().width),_=parseInt(k.getAttribute("data-x-shift"),10),Number.isNaN(_)&&(_=0)),w.setAttribute("x1",0-_+8),w.setAttribute("x2",T-_-8)})):ne.debug("No Node "+x+": "+JSON.stringify(o.node(x)))});let b=y.getBBox();o.edges().forEach(function(x){x!==void 0&&o.edge(x)!==void 0&&(ne.debug("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(o.edge(x))),VRe(t,o.edge(x),o.edge(x).relation))}),b=y.getBBox();let v={id:r||"root",label:r||"root",width:0,height:0};return v.width=b.width+2*gs.padding,v.height=b.height+2*gs.padding,ne.debug("Doc rendered",v,o),v},"renderDoc"),ZRe={setConf:YRe,draw:XRe}}),QRe={};sr(QRe,{diagram:()=>JRe});var JRe,pet=D(()=>{"use strict";oRe(),zU(),PRe(),det(),JRe={parser:TU,get db(){return new Th(1)},renderer:ZRe,styles:GU,init:l(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}}),eOe={};sr(eOe,{diagram:()=>tOe});var tOe,get=D(()=>{"use strict";oRe(),zU(),PRe(),RRe(),tOe={parser:TU,get db(){return new Th(2)},renderer:DRe,styles:GU,init:l(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}}),e8,rOe,fet=D(()=>{"use strict";e8=function(){var e=l(function(p,g,f,m){for(f=f||{},m=p.length;m--;f[p[m]]=g);return f},"o"),t=[6,8,10,11,12,14,16,17,18],r=[1,9],i=[1,10],n=[1,11],a=[1,12],s=[1,13],o=[1,14],u={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:l(function(p,g,f,m,y,b,v){var x=b.length-1;switch(y){case 1:return b[x-1];case 2:this.$=[];break;case 3:b[x-1].push(b[x]),this.$=b[x-1];break;case 4:case 5:this.$=b[x];break;case 6:case 7:this.$=[];break;case 8:m.setDiagramTitle(b[x].substr(6)),this.$=b[x].substr(6);break;case 9:this.$=b[x].trim(),m.setAccTitle(this.$);break;case 10:case 11:this.$=b[x].trim(),m.setAccDescription(this.$);break;case 12:m.addSection(b[x].substr(8)),this.$=b[x].substr(8);break;case 13:m.addTask(b[x-1],b[x]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:i,14:n,16:a,17:s,18:o},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:15,11:r,12:i,14:n,16:a,17:s,18:o},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,16]},{15:[1,17]},e(t,[2,11]),e(t,[2,12]),{19:[1,18]},e(t,[2,4]),e(t,[2,9]),e(t,[2,10]),e(t,[2,13])],defaultActions:{},parseError:l(function(p,g){if(g.recoverable)this.trace(p);else{var f=new Error(p);throw f.hash=g,f}},"parseError"),parse:l(function(p){var g=this,f=[0],m=[],y=[null],b=[],v=this.table,x="",w=0,k=0,T=0,_=2,C=1,E=b.slice.call(arguments,1),N=Object.create(this.lexer),M={yy:{}};for(var I in this.yy)Object.prototype.hasOwnProperty.call(this.yy,I)&&(M.yy[I]=this.yy[I]);N.setInput(p,M.yy),M.yy.lexer=N,M.yy.parser=this,typeof N.yylloc>"u"&&(N.yylloc={});var A=N.yylloc;b.push(A);var B=N.options&&N.options.ranges;typeof M.yy.parseError=="function"?this.parseError=M.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(ue){f.length=f.length-2*ue,y.length=y.length-ue,b.length=b.length-ue}l(S,"popStack");function O(){var ue;return ue=m.pop()||N.lex()||C,typeof ue!="number"&&(ue instanceof Array&&(m=ue,ue=m.pop()),ue=g.symbols_[ue]||ue),ue}l(O,"lex");for(var R,P,L,$,F,G,q={},V,H,ae,re;;){if(L=f[f.length-1],this.defaultActions[L]?$=this.defaultActions[L]:((R===null||typeof R>"u")&&(R=O()),$=v[L]&&v[L][R]),typeof $>"u"||!$.length||!$[0]){var oe="";re=[];for(V in v[L])this.terminals_[V]&&V>_&&re.push("'"+this.terminals_[V]+"'");N.showPosition?oe="Parse error on line "+(w+1)+`:
`+N.showPosition()+`
Expecting `+re.join(", ")+", got '"+(this.terminals_[R]||R)+"'":oe="Parse error on line "+(w+1)+": Unexpected "+(R==C?"end of input":"'"+(this.terminals_[R]||R)+"'"),this.parseError(oe,{text:N.match,token:this.terminals_[R]||R,line:N.yylineno,loc:A,expected:re})}if($[0]instanceof Array&&$.length>1)throw new Error("Parse Error: multiple actions possible at state: "+L+", token: "+R);switch($[0]){case 1:f.push(R),y.push(N.yytext),b.push(N.yylloc),f.push($[1]),R=null,P?(R=P,P=null):(k=N.yyleng,x=N.yytext,w=N.yylineno,A=N.yylloc,T>0&&T--);break;case 2:if(H=this.productions_[$[1]][1],q.$=y[y.length-H],q._$={first_line:b[b.length-(H||1)].first_line,last_line:b[b.length-1].last_line,first_column:b[b.length-(H||1)].first_column,last_column:b[b.length-1].last_column},B&&(q._$.range=[b[b.length-(H||1)].range[0],b[b.length-1].range[1]]),G=this.performAction.apply(q,[x,k,w,M.yy,$[1],y,b].concat(E)),typeof G<"u")return G;H&&(f=f.slice(0,-1*H*2),y=y.slice(0,-1*H),b=b.slice(0,-1*H)),f.push(this.productions_[$[1]][0]),y.push(q.$),b.push(q._$),ae=v[f[f.length-2]][f[f.length-1]],f.push(ae);break;case 3:return!0}}return!0},"parse")},h=function(){var p={EOF:1,parseError:l(function(g,f){if(this.yy.parser)this.yy.parser.parseError(g,f);else throw new Error(g)},"parseError"),setInput:l(function(g,f){return this.yy=f||this.yy||{},this._input=g,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var g=this._input[0];this.yytext+=g,this.yyleng++,this.offset++,this.match+=g,this.matched+=g;var f=g.match(/(?:\r\n?|\n).*/g);return f?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),g},"input"),unput:l(function(g){var f=g.length,m=g.split(/(?:\r\n?|\n)/g);this._input=g+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-f),this.offset-=f;var y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var b=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===y.length?this.yylloc.first_column:0)+y[y.length-m.length].length-m[0].length:this.yylloc.first_column-f},this.options.ranges&&(this.yylloc.range=[b[0],b[0]+this.yyleng-f]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(g){this.unput(this.match.slice(g))},"less"),pastInput:l(function(){var g=this.matched.substr(0,this.matched.length-this.match.length);return(g.length>20?"...":"")+g.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var g=this.match;return g.length<20&&(g+=this._input.substr(0,20-g.length)),(g.substr(0,20)+(g.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var g=this.pastInput(),f=new Array(g.length+1).join("-");return g+this.upcomingInput()+`
`+f+"^"},"showPosition"),test_match:l(function(g,f){var m,y,b;if(this.options.backtrack_lexer&&(b={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(b.yylloc.range=this.yylloc.range.slice(0))),y=g[0].match(/(?:\r\n?|\n).*/g),y&&(this.yylineno+=y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:y?y[y.length-1].length-y[y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+g[0].length},this.yytext+=g[0],this.match+=g[0],this.matches=g,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(g[0].length),this.matched+=g[0],m=this.performAction.call(this,this.yy,this,f,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var v in b)this[v]=b[v];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var g,f,m,y;this._more||(this.yytext="",this.match="");for(var b=this._currentRules(),v=0;v<b.length;v++)if(m=this._input.match(this.rules[b[v]]),m&&(!f||m[0].length>f[0].length)){if(f=m,y=v,this.options.backtrack_lexer){if(g=this.test_match(m,b[v]),g!==!1)return g;if(this._backtrack){f=!1;continue}else return!1}else if(!this.options.flex)break}return f?(g=this.test_match(f,b[y]),g!==!1?g:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var g=this.next();return g||this.lex()},"lex"),begin:l(function(g){this.conditionStack.push(g)},"begin"),popState:l(function(){var g=this.conditionStack.length-1;return g>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(g){return g=this.conditionStack.length-1-Math.abs(g||0),g>=0?this.conditionStack[g]:"INITIAL"},"topState"),pushState:l(function(g){this.begin(g)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(g,f,m,y){var b=y;switch(m){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return p}();u.lexer=h;function d(){this.yy={}}return l(d,"Parser"),d.prototype=u,u.Parser=d,new d}(),e8.parser=e8,rOe=e8}),cp,t8,Lf,Nf,iOe,nOe,aOe,sOe,oOe,lOe,cOe,HU,uOe,VU,met=D(()=>{"use strict";Gt(),Di(),cp="",t8=[],Lf=[],Nf=[],iOe=l(function(){t8.length=0,Lf.length=0,cp="",Nf.length=0,Ni()},"clear"),nOe=l(function(e){cp=e,t8.push(e)},"addSection"),aOe=l(function(){return t8},"getSections"),sOe=l(function(){let e=HU(),t=100,r=0;for(;!e&&r<t;)e=HU(),r++;return Lf.push(...Nf),Lf},"getTasks"),oOe=l(function(){let e=[];return Lf.forEach(t=>{t.people&&e.push(...t.people)}),[...new Set(e)].sort()},"updateActors"),lOe=l(function(e,t){let r=t.substr(1).split(":"),i=0,n=[];r.length===1?(i=Number(r[0]),n=[]):(i=Number(r[0]),n=r[1].split(","));let a=n.map(o=>o.trim()),s={section:cp,type:cp,people:a,task:e,score:i};Nf.push(s)},"addTask"),cOe=l(function(e){let t={section:cp,type:cp,description:e,task:e,classes:[]};Lf.push(t)},"addTaskOrg"),HU=l(function(){let e=l(function(r){return Nf[r].processed},"compileTask"),t=!0;for(let[r,i]of Nf.entries())e(r),t=t&&i.processed;return t},"compileTasks"),uOe=l(function(){return oOe()},"getActors"),VU={getConfig:l(()=>Ee().journey,"getConfig"),clear:iOe,setDiagramTitle:sn,getDiagramTitle:Ii,setAccTitle:Mi,getAccTitle:Gi,setAccDescription:Ui,getAccDescription:qi,addSection:nOe,getSections:aOe,getTasks:sOe,addTask:lOe,addTaskOrg:cOe,getActors:uOe}}),hOe,dOe,yet=D(()=>{"use strict";Gv(),hOe=l(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
    font-family: ${e.fontFamily};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
  ${R1()}
`,"getStyles"),dOe=hOe}),r8,pOe,YU,WU,gOe,fOe,XU,mOe,yOe,KU,vOe,Mf,vet=D(()=>{"use strict";hr(),E5(),r8=l(function(e,t){return wy(e,t)},"drawRect"),pOe=l(function(e,t){let r=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=e.append("g");i.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function n(o){let u=Wh().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);o.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}l(n,"smile");function a(o){let u=Wh().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);o.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}l(a,"sad");function s(o){o.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return l(s,"ambivalent"),t.score>3?n(i):t.score<3?a(i):s(i),r},"drawFace"),YU=l(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),WU=l(function(e,t){return Are(e,t)},"drawText"),gOe=l(function(e,t){function r(n,a,s,o,u){return n+","+a+" "+(n+s)+","+a+" "+(n+s)+","+(a+o-u)+" "+(n+s-u*1.2)+","+(a+o)+" "+n+","+(a+o)}l(r,"genPoints");let i=e.append("polygon");i.attr("points",r(t.x,t.y,50,20,7)),i.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,WU(e,t)},"drawLabel"),fOe=l(function(e,t,r){let i=e.append("g"),n=Pa();n.x=t.x,n.y=t.y,n.fill=t.fill,n.width=r.width*t.taskCount+r.diagramMarginX*(t.taskCount-1),n.height=r.height,n.class="journey-section section-type-"+t.num,n.rx=3,n.ry=3,r8(i,n),KU(r)(t.text,i,n.x,n.y,n.width,n.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),XU=-1,mOe=l(function(e,t,r){let i=t.x+r.width/2,n=e.append("g");XU++,n.append("line").attr("id","task"+XU).attr("x1",i).attr("y1",t.y).attr("x2",i).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),pOe(n,{cx:i,cy:300+(5-t.score)*30,score:t.score});let a=Pa();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=r.width,a.height=r.height,a.class="task task-type-"+t.num,a.rx=3,a.ry=3,r8(n,a);let s=t.x+14;t.people.forEach(o=>{let u=t.actors[o].color,h={cx:s,cy:t.y,r:7,fill:u,stroke:"#000",title:o,pos:t.actors[o].position};YU(n,h),s+=10}),KU(r)(t.task,n,a.x,a.y,a.width,a.height,{class:"task"},r,t.colour)},"drawTask"),yOe=l(function(e,t){qA(e,t)},"drawBackgroundRect"),KU=function(){function e(n,a,s,o,u,h,d,p){let g=a.append("text").attr("x",s+u/2).attr("y",o+h/2+5).style("font-color",p).style("text-anchor","middle").text(n);i(g,d)}l(e,"byText");function t(n,a,s,o,u,h,d,p,g){let{taskFontSize:f,taskFontFamily:m}=p,y=n.split(/<br\s*\/?>/gi);for(let b=0;b<y.length;b++){let v=b*f-f*(y.length-1)/2,x=a.append("text").attr("x",s+u/2).attr("y",o).attr("fill",g).style("text-anchor","middle").style("font-size",f).style("font-family",m);x.append("tspan").attr("x",s+u/2).attr("dy",v).text(y[b]),x.attr("y",o+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(x,d)}}l(t,"byTspan");function r(n,a,s,o,u,h,d,p){let g=a.append("switch"),f=g.append("foreignObject").attr("x",s).attr("y",o).attr("width",u).attr("height",h).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,g,s,o,u,h,d,p),i(f,d)}l(r,"byFo");function i(n,a){for(let s in a)s in a&&n.attr(s,a[s])}return l(i,"_setTextAttrs"),function(n){return n.textPlacement==="fo"?r:n.textPlacement==="old"?e:t}}(),vOe=l(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),Mf={drawRect:r8,drawCircle:YU,drawSection:fOe,drawText:WU,drawLabel:gOe,drawTask:mOe,drawBackgroundRect:yOe,initGraphics:vOe}});function bOe(e){let t=Ee().journey,r=t.maxLabelWidth;Mx=0;let i=60;Object.keys(Ol).forEach(n=>{let a=Ol[n].color,s={cx:20,cy:i,r:7,fill:a,stroke:"#000",pos:Ol[n].position};Mf.drawCircle(e,s);let o=e.append("text").attr("visibility","hidden").text(n),u=o.node().getBoundingClientRect().width;o.remove();let h=[];if(u<=r)h=[n];else{let d=n.split(" "),p="";o=e.append("text").attr("visibility","hidden"),d.forEach(g=>{let f=p?`${p} ${g}`:g;if(o.text(f),o.node().getBoundingClientRect().width>r){if(p&&h.push(p),p=g,o.text(g),o.node().getBoundingClientRect().width>r){let m="";for(let y of g)m+=y,o.text(m+"-"),o.node().getBoundingClientRect().width>r&&(h.push(m.slice(0,-1)+"-"),m=y);p=m}}else p=f}),p&&h.push(p),o.remove()}h.forEach((d,p)=>{let g={x:40,y:i+7+p*20,fill:"#666",text:d,textMargin:t.boxTextMargin??5},f=Mf.drawText(e,g).node().getBoundingClientRect().width;f>Mx&&f>t.leftMargin-f&&(Mx=f)}),i+=Math.max(20,h.length*20)})}var xOe,Ol,Mx,Gs,tu,wOe,fs,i8,ZU,kOe,QU,bet=D(()=>{"use strict";hr(),vet(),Gt(),an(),xOe=l(function(e){Object.keys(e).forEach(function(t){Gs[t]=e[t]})},"setConf"),Ol={},Mx=0,l(bOe,"drawActorLegend"),Gs=Ee().journey,tu=0,wOe=l(function(e,t,r,i){let n=Ee(),a=n.journey.titleColor,s=n.journey.titleFontSize,o=n.journey.titleFontFamily,u=n.securityLevel,h;u==="sandbox"&&(h=Ke("#i"+t));let d=Ke(u==="sandbox"?h.nodes()[0].contentDocument.body:"body");fs.init();let p=d.select("#"+t);Mf.initGraphics(p);let g=i.db.getTasks(),f=i.db.getDiagramTitle(),m=i.db.getActors();for(let k in Ol)delete Ol[k];let y=0;m.forEach(k=>{Ol[k]={color:Gs.actorColours[y%Gs.actorColours.length],position:y},y++}),bOe(p),tu=Gs.leftMargin+Mx,fs.insert(0,0,tu,Object.keys(Ol).length*50),kOe(p,g,0);let b=fs.getBounds();f&&p.append("text").text(f).attr("x",tu).attr("font-size",s).attr("font-weight","bold").attr("y",25).attr("fill",a).attr("font-family",o);let v=b.stopy-b.starty+2*Gs.diagramMarginY,x=tu+b.stopx+2*Gs.diagramMarginX;Wn(p,v,x,Gs.useMaxWidth),p.append("line").attr("x1",tu).attr("y1",Gs.height*4).attr("x2",x-tu-4).attr("y2",Gs.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");let w=f?70:0;p.attr("viewBox",`${b.startx} -25 ${x} ${v+w}`),p.attr("preserveAspectRatio","xMinYMin meet"),p.attr("height",v+w+25)},"draw"),fs={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:l(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:l(function(e,t,r,i){e[t]===void 0?e[t]=r:e[t]=i(r,e[t])},"updateVal"),updateBounds:l(function(e,t,r,i){let n=Ee().journey,a=this,s=0;function o(u){return l(function(h){s++;let d=a.sequenceItems.length-s+1;a.updateVal(h,"starty",t-d*n.boxMargin,Math.min),a.updateVal(h,"stopy",i+d*n.boxMargin,Math.max),a.updateVal(fs.data,"startx",e-d*n.boxMargin,Math.min),a.updateVal(fs.data,"stopx",r+d*n.boxMargin,Math.max),u!=="activation"&&(a.updateVal(h,"startx",e-d*n.boxMargin,Math.min),a.updateVal(h,"stopx",r+d*n.boxMargin,Math.max),a.updateVal(fs.data,"starty",t-d*n.boxMargin,Math.min),a.updateVal(fs.data,"stopy",i+d*n.boxMargin,Math.max))},"updateItemBounds")}l(o,"updateFn"),this.sequenceItems.forEach(o())},"updateBounds"),insert:l(function(e,t,r,i){let n=Math.min(e,r),a=Math.max(e,r),s=Math.min(t,i),o=Math.max(t,i);this.updateVal(fs.data,"startx",n,Math.min),this.updateVal(fs.data,"starty",s,Math.min),this.updateVal(fs.data,"stopx",a,Math.max),this.updateVal(fs.data,"stopy",o,Math.max),this.updateBounds(n,s,a,o)},"insert"),bumpVerticalPos:l(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:l(function(){return this.verticalPos},"getVerticalPos"),getBounds:l(function(){return this.data},"getBounds")},i8=Gs.sectionFills,ZU=Gs.sectionColours,kOe=l(function(e,t,r){let i=Ee().journey,n="",a=i.height*2+i.diagramMarginY,s=r+a,o=0,u="#CCC",h="black",d=0;for(let[p,g]of t.entries()){if(n!==g.section){u=i8[o%i8.length],d=o%i8.length,h=ZU[o%ZU.length];let m=0,y=g.section;for(let v=p;v<t.length&&t[v].section==y;v++)m=m+1;let b={x:p*i.taskMargin+p*i.width+tu,y:50,text:g.section,fill:u,num:d,colour:h,taskCount:m};Mf.drawSection(e,b,i),n=g.section,o++}let f=g.people.reduce((m,y)=>(Ol[y]&&(m[y]=Ol[y]),m),{});g.x=p*i.taskMargin+p*i.width+tu,g.y=s,g.width=i.diagramMarginX,g.height=i.diagramMarginY,g.colour=h,g.fill=u,g.num=d,g.actors=f,Mf.drawTask(e,g,i),fs.insert(g.x,g.y,g.x+g.width+i.taskMargin,450)}},"drawTasks"),QU={setConf:xOe,draw:wOe}}),TOe={};sr(TOe,{diagram:()=>EOe});var EOe,xet=D(()=>{"use strict";fet(),met(),yet(),bet(),EOe={parser:rOe,db:VU,renderer:QU,styles:dOe,init:l(e=>{QU.setConf(e.journey),VU.clear()},"init")}}),n8,COe,wet=D(()=>{"use strict";n8=function(){var e=l(function(g,f,m,y){for(m=m||{},y=g.length;y--;m[g[y]]=f);return m},"o"),t=[6,8,10,11,12,14,16,17,20,21],r=[1,9],i=[1,10],n=[1,11],a=[1,12],s=[1,13],o=[1,16],u=[1,17],h={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:l(function(g,f,m,y,b,v,x){var w=v.length-1;switch(b){case 1:return v[w-1];case 2:this.$=[];break;case 3:v[w-1].push(v[w]),this.$=v[w-1];break;case 4:case 5:this.$=v[w];break;case 6:case 7:this.$=[];break;case 8:y.getCommonDb().setDiagramTitle(v[w].substr(6)),this.$=v[w].substr(6);break;case 9:this.$=v[w].trim(),y.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=v[w].trim(),y.getCommonDb().setAccDescription(this.$);break;case 12:y.addSection(v[w].substr(8)),this.$=v[w].substr(8);break;case 15:y.addTask(v[w],0,""),this.$=v[w];break;case 16:y.addEvent(v[w].substr(2)),this.$=v[w];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:i,14:n,16:a,17:s,18:14,19:15,20:o,21:u},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:18,11:r,12:i,14:n,16:a,17:s,18:14,19:15,20:o,21:u},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,19]},{15:[1,20]},e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),e(t,[2,4]),e(t,[2,9]),e(t,[2,10])],defaultActions:{},parseError:l(function(g,f){if(f.recoverable)this.trace(g);else{var m=new Error(g);throw m.hash=f,m}},"parseError"),parse:l(function(g){var f=this,m=[0],y=[],b=[null],v=[],x=this.table,w="",k=0,T=0,_=0,C=2,E=1,N=v.slice.call(arguments,1),M=Object.create(this.lexer),I={yy:{}};for(var A in this.yy)Object.prototype.hasOwnProperty.call(this.yy,A)&&(I.yy[A]=this.yy[A]);M.setInput(g,I.yy),I.yy.lexer=M,I.yy.parser=this,typeof M.yylloc>"u"&&(M.yylloc={});var B=M.yylloc;v.push(B);var S=M.options&&M.options.ranges;typeof I.yy.parseError=="function"?this.parseError=I.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function O(W){m.length=m.length-2*W,b.length=b.length-W,v.length=v.length-W}l(O,"popStack");function R(){var W;return W=y.pop()||M.lex()||E,typeof W!="number"&&(W instanceof Array&&(y=W,W=y.pop()),W=f.symbols_[W]||W),W}l(R,"lex");for(var P,L,$,F,G,q,V={},H,ae,re,oe;;){if($=m[m.length-1],this.defaultActions[$]?F=this.defaultActions[$]:((P===null||typeof P>"u")&&(P=R()),F=x[$]&&x[$][P]),typeof F>"u"||!F.length||!F[0]){var ue="";oe=[];for(H in x[$])this.terminals_[H]&&H>C&&oe.push("'"+this.terminals_[H]+"'");M.showPosition?ue="Parse error on line "+(k+1)+`:
`+M.showPosition()+`
Expecting `+oe.join(", ")+", got '"+(this.terminals_[P]||P)+"'":ue="Parse error on line "+(k+1)+": Unexpected "+(P==E?"end of input":"'"+(this.terminals_[P]||P)+"'"),this.parseError(ue,{text:M.match,token:this.terminals_[P]||P,line:M.yylineno,loc:B,expected:oe})}if(F[0]instanceof Array&&F.length>1)throw new Error("Parse Error: multiple actions possible at state: "+$+", token: "+P);switch(F[0]){case 1:m.push(P),b.push(M.yytext),v.push(M.yylloc),m.push(F[1]),P=null,L?(P=L,L=null):(T=M.yyleng,w=M.yytext,k=M.yylineno,B=M.yylloc,_>0&&_--);break;case 2:if(ae=this.productions_[F[1]][1],V.$=b[b.length-ae],V._$={first_line:v[v.length-(ae||1)].first_line,last_line:v[v.length-1].last_line,first_column:v[v.length-(ae||1)].first_column,last_column:v[v.length-1].last_column},S&&(V._$.range=[v[v.length-(ae||1)].range[0],v[v.length-1].range[1]]),q=this.performAction.apply(V,[w,T,k,I.yy,F[1],b,v].concat(N)),typeof q<"u")return q;ae&&(m=m.slice(0,-1*ae*2),b=b.slice(0,-1*ae),v=v.slice(0,-1*ae)),m.push(this.productions_[F[1]][0]),b.push(V.$),v.push(V._$),re=x[m[m.length-2]][m[m.length-1]],m.push(re);break;case 3:return!0}}return!0},"parse")},d=function(){var g={EOF:1,parseError:l(function(f,m){if(this.yy.parser)this.yy.parser.parseError(f,m);else throw new Error(f)},"parseError"),setInput:l(function(f,m){return this.yy=m||this.yy||{},this._input=f,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var f=this._input[0];this.yytext+=f,this.yyleng++,this.offset++,this.match+=f,this.matched+=f;var m=f.match(/(?:\r\n?|\n).*/g);return m?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),f},"input"),unput:l(function(f){var m=f.length,y=f.split(/(?:\r\n?|\n)/g);this._input=f+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-m),this.offset-=m;var b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),y.length-1&&(this.yylineno-=y.length-1);var v=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:y?(y.length===b.length?this.yylloc.first_column:0)+b[b.length-y.length].length-y[0].length:this.yylloc.first_column-m},this.options.ranges&&(this.yylloc.range=[v[0],v[0]+this.yyleng-m]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(f){this.unput(this.match.slice(f))},"less"),pastInput:l(function(){var f=this.matched.substr(0,this.matched.length-this.match.length);return(f.length>20?"...":"")+f.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var f=this.match;return f.length<20&&(f+=this._input.substr(0,20-f.length)),(f.substr(0,20)+(f.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var f=this.pastInput(),m=new Array(f.length+1).join("-");return f+this.upcomingInput()+`
`+m+"^"},"showPosition"),test_match:l(function(f,m){var y,b,v;if(this.options.backtrack_lexer&&(v={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(v.yylloc.range=this.yylloc.range.slice(0))),b=f[0].match(/(?:\r\n?|\n).*/g),b&&(this.yylineno+=b.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+f[0].length},this.yytext+=f[0],this.match+=f[0],this.matches=f,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(f[0].length),this.matched+=f[0],y=this.performAction.call(this,this.yy,this,m,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),y)return y;if(this._backtrack){for(var x in v)this[x]=v[x];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var f,m,y,b;this._more||(this.yytext="",this.match="");for(var v=this._currentRules(),x=0;x<v.length;x++)if(y=this._input.match(this.rules[v[x]]),y&&(!m||y[0].length>m[0].length)){if(m=y,b=x,this.options.backtrack_lexer){if(f=this.test_match(y,v[x]),f!==!1)return f;if(this._backtrack){m=!1;continue}else return!1}else if(!this.options.flex)break}return m?(f=this.test_match(m,v[b]),f!==!1?f:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var f=this.next();return f||this.lex()},"lex"),begin:l(function(f){this.conditionStack.push(f)},"begin"),popState:l(function(){var f=this.conditionStack.length-1;return f>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(f){return f=this.conditionStack.length-1-Math.abs(f||0),f>=0?this.conditionStack[f]:"INITIAL"},"topState"),pushState:l(function(f){this.begin(f)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(f,m,y,b){var v=b;switch(y){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s(?:[^:\n]|:(?!\s))+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return g}();h.lexer=d;function p(){this.yy={}}return l(p,"Parser"),p.prototype=h,h.Parser=p,new p}(),n8.parser=n8,COe=n8}),SOe={};sr(SOe,{addEvent:()=>sq,addSection:()=>rq,addTask:()=>aq,addTaskOrg:()=>oq,clear:()=>tq,default:()=>_Oe,getCommonDb:()=>eq,getSections:()=>iq,getTasks:()=>nq});var up,JU,a8,Ix,hp,eq,tq,rq,iq,nq,aq,sq,oq,lq,_Oe,ket=D(()=>{"use strict";Di(),up="",JU=0,a8=[],Ix=[],hp=[],eq=l(()=>pS,"getCommonDb"),tq=l(function(){a8.length=0,Ix.length=0,up="",hp.length=0,Ni()},"clear"),rq=l(function(e){up=e,a8.push(e)},"addSection"),iq=l(function(){return a8},"getSections"),nq=l(function(){let e=lq(),t=100,r=0;for(;!e&&r<t;)e=lq(),r++;return Ix.push(...hp),Ix},"getTasks"),aq=l(function(e,t,r){let i={id:JU++,section:up,type:up,task:e,score:t||0,events:r?[r]:[]};hp.push(i)},"addTask"),sq=l(function(e){hp.find(t=>t.id===JU-1).events.push(e)},"addEvent"),oq=l(function(e){let t={section:up,type:up,description:e,task:e,classes:[]};Ix.push(t)},"addTaskOrg"),lq=l(function(){let e=l(function(r){return hp[r].processed},"compileTask"),t=!0;for(let[r,i]of hp.entries())e(r),t=t&&i.processed;return t},"compileTasks"),_Oe={clear:tq,getCommonDb:eq,addSection:rq,getSections:iq,getTasks:nq,addTask:aq,addTaskOrg:oq,addEvent:sq}});function cq(e,t){e.each(function(){var r=Ke(this),i=r.text().split(/(\s+|<br>)/).reverse(),n,a=[],s=1.1,o=r.attr("y"),u=parseFloat(r.attr("dy")),h=r.text(null).append("tspan").attr("x",0).attr("y",o).attr("dy",u+"em");for(let d=0;d<i.length;d++)n=i[i.length-1-d],a.push(n),h.text(a.join(" ").trim()),(h.node().getComputedTextLength()>t||n==="<br>")&&(a.pop(),h.text(a.join(" ").trim()),n==="<br>"?a=[""]:a=[n],h=r.append("tspan").attr("x",0).attr("y",o).attr("dy",s+"em").text(n))})}var AOe,Dx,LOe,NOe,uq,MOe,IOe,hq,DOe,ROe,OOe,s8,dq,POe,BOe,$Oe,FOe,Eh,Tet=D(()=>{"use strict";hr(),AOe=12,Dx=l(function(e,t){let r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),t.class!==void 0&&r.attr("class",t.class),r},"drawRect"),LOe=l(function(e,t){let r=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=e.append("g");i.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function n(o){let u=Wh().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);o.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}l(n,"smile");function a(o){let u=Wh().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);o.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}l(a,"sad");function s(o){o.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return l(s,"ambivalent"),t.score>3?n(i):t.score<3?a(i):s(i),r},"drawFace"),NOe=l(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),uq=l(function(e,t){let r=t.text.replace(/<br\s*\/?>/gi," "),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.attr("class","legend"),i.style("text-anchor",t.anchor),t.class!==void 0&&i.attr("class",t.class);let n=i.append("tspan");return n.attr("x",t.x+t.textMargin*2),n.text(r),i},"drawText"),MOe=l(function(e,t){function r(n,a,s,o,u){return n+","+a+" "+(n+s)+","+a+" "+(n+s)+","+(a+o-u)+" "+(n+s-u*1.2)+","+(a+o)+" "+n+","+(a+o)}l(r,"genPoints");let i=e.append("polygon");i.attr("points",r(t.x,t.y,50,20,7)),i.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,uq(e,t)},"drawLabel"),IOe=l(function(e,t,r){let i=e.append("g"),n=s8();n.x=t.x,n.y=t.y,n.fill=t.fill,n.width=r.width,n.height=r.height,n.class="journey-section section-type-"+t.num,n.rx=3,n.ry=3,Dx(i,n),dq(r)(t.text,i,n.x,n.y,n.width,n.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),hq=-1,DOe=l(function(e,t,r){let i=t.x+r.width/2,n=e.append("g");hq++,n.append("line").attr("id","task"+hq).attr("x1",i).attr("y1",t.y).attr("x2",i).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),LOe(n,{cx:i,cy:300+(5-t.score)*30,score:t.score});let a=s8();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=r.width,a.height=r.height,a.class="task task-type-"+t.num,a.rx=3,a.ry=3,Dx(n,a),dq(r)(t.task,n,a.x,a.y,a.width,a.height,{class:"task"},r,t.colour)},"drawTask"),ROe=l(function(e,t){Dx(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect"),OOe=l(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),s8=l(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),dq=function(){function e(n,a,s,o,u,h,d,p){let g=a.append("text").attr("x",s+u/2).attr("y",o+h/2+5).style("font-color",p).style("text-anchor","middle").text(n);i(g,d)}l(e,"byText");function t(n,a,s,o,u,h,d,p,g){let{taskFontSize:f,taskFontFamily:m}=p,y=n.split(/<br\s*\/?>/gi);for(let b=0;b<y.length;b++){let v=b*f-f*(y.length-1)/2,x=a.append("text").attr("x",s+u/2).attr("y",o).attr("fill",g).style("text-anchor","middle").style("font-size",f).style("font-family",m);x.append("tspan").attr("x",s+u/2).attr("dy",v).text(y[b]),x.attr("y",o+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(x,d)}}l(t,"byTspan");function r(n,a,s,o,u,h,d,p){let g=a.append("switch"),f=g.append("foreignObject").attr("x",s).attr("y",o).attr("width",u).attr("height",h).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,g,s,o,u,h,d,p),i(f,d)}l(r,"byFo");function i(n,a){for(let s in a)s in a&&n.attr(s,a[s])}return l(i,"_setTextAttrs"),function(n){return n.textPlacement==="fo"?r:n.textPlacement==="old"?e:t}}(),POe=l(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),l(cq,"wrap"),BOe=l(function(e,t,r,i){let n=r%AOe-1,a=e.append("g");t.section=n,a.attr("class",(t.class?t.class+" ":"")+"timeline-node "+("section-"+n));let s=a.append("g"),o=a.append("g"),u=o.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(cq,t.width).node().getBBox(),h=i.fontSize?.replace?i.fontSize.replace("px",""):i.fontSize;return t.height=u.height+h*1.1*.5+t.padding,t.height=Math.max(t.height,t.maxHeight),t.width=t.width+2*t.padding,o.attr("transform","translate("+t.width/2+", "+t.padding/2+")"),FOe(s,t,n,i),t},"drawNode"),$Oe=l(function(e,t,r){let i=e.append("g"),n=i.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(cq,t.width).node().getBBox(),a=r.fontSize?.replace?r.fontSize.replace("px",""):r.fontSize;return i.remove(),n.height+a*1.1*.5+t.padding},"getVirtualNodeHeight"),FOe=l(function(e,t,r){e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("d",`M0 ${t.height-5} v${-t.height+10} q0,-5 5,-5 h${t.width-10} q5,0 5,5 v${t.height-5} H0 Z`),e.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",t.height).attr("x2",t.width).attr("y2",t.height)},"defaultBkg"),Eh={drawRect:Dx,drawCircle:NOe,drawSection:IOe,drawText:uq,drawLabel:MOe,drawTask:DOe,drawBackgroundRect:ROe,getTextObj:OOe,getNoteRect:s8,initGraphics:POe,drawNode:BOe,getVirtualNodeHeight:$Oe}}),zOe,pq,GOe,UOe,Eet=D(()=>{"use strict";hr(),Tet(),st(),Gt(),an(),zOe=l(function(e,t,r,i){let n=Ee(),a=n.timeline?.leftMargin??50;ne.debug("timeline",i.db);let s=n.securityLevel,o;s==="sandbox"&&(o=Ke("#i"+t));let u=Ke(s==="sandbox"?o.nodes()[0].contentDocument.body:"body").select("#"+t);u.append("g");let h=i.db.getTasks(),d=i.db.getCommonDb().getDiagramTitle();ne.debug("task",h),Eh.initGraphics(u);let p=i.db.getSections();ne.debug("sections",p);let g=0,f=0,m=0,y=0,b=50+a,v=50;y=50;let x=0,w=!0;p.forEach(function(C){let E={number:x,descr:C,section:x,width:150,padding:20,maxHeight:g},N=Eh.getVirtualNodeHeight(u,E,n);ne.debug("sectionHeight before draw",N),g=Math.max(g,N+20)});let k=0,T=0;ne.debug("tasks.length",h.length);for(let[C,E]of h.entries()){let N={number:C,descr:E,section:E.section,width:150,padding:20,maxHeight:f},M=Eh.getVirtualNodeHeight(u,N,n);ne.debug("taskHeight before draw",M),f=Math.max(f,M+20),k=Math.max(k,E.events.length);let I=0;for(let A of E.events){let B={descr:A,section:E.section,number:E.section,width:150,padding:20,maxHeight:50};I+=Eh.getVirtualNodeHeight(u,B,n)}E.events.length>0&&(I+=(E.events.length-1)*10),T=Math.max(T,I)}ne.debug("maxSectionHeight before draw",g),ne.debug("maxTaskHeight before draw",f),p&&p.length>0?p.forEach(C=>{let E=h.filter(A=>A.section===C),N={number:x,descr:C,section:x,width:200*Math.max(E.length,1)-50,padding:20,maxHeight:g};ne.debug("sectionNode",N);let M=u.append("g"),I=Eh.drawNode(M,N,x,n);ne.debug("sectionNode output",I),M.attr("transform",`translate(${b}, ${y})`),v+=g+50,E.length>0&&pq(u,E,x,b,v,f,n,k,T,g,!1),b+=200*Math.max(E.length,1),v=y,x++}):(w=!1,pq(u,h,x,b,v,f,n,k,T,g,!0));let _=u.node().getBBox();ne.debug("bounds",_),d&&u.append("text").text(d).attr("x",_.width/2-a).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),m=w?g+f+150:f+100,u.append("g").attr("class","lineWrapper").append("line").attr("x1",a).attr("y1",m).attr("x2",_.width+3*a).attr("y2",m).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),Gp(void 0,u,n.timeline?.padding??50,n.timeline?.useMaxWidth??!1)},"draw"),pq=l(function(e,t,r,i,n,a,s,o,u,h,d){for(let p of t){let g={descr:p.task,section:r,number:r,width:150,padding:20,maxHeight:a};ne.debug("taskNode",g);let f=e.append("g").attr("class","taskWrapper"),m=Eh.drawNode(f,g,r,s).height;if(ne.debug("taskHeight after draw",m),f.attr("transform",`translate(${i}, ${n})`),a=Math.max(a,m),p.events){let y=e.append("g").attr("class","lineWrapper"),b=a;n+=100,b=b+GOe(e,p.events,r,i,n,s),n-=100,y.append("line").attr("x1",i+190/2).attr("y1",n+a).attr("x2",i+190/2).attr("y2",n+a+100+u+100).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}i=i+200,d&&!s.timeline?.disableMulticolor&&r++}n=n-10},"drawTasks"),GOe=l(function(e,t,r,i,n,a){let s=0,o=n;n=n+100;for(let u of t){let h={descr:u,section:r,number:r,width:150,padding:20,maxHeight:50};ne.debug("eventNode",h);let d=e.append("g").attr("class","eventWrapper"),p=Eh.drawNode(d,h,r,a).height;s=s+p,d.attr("transform",`translate(${i}, ${n})`),n=n+10+p}return n=o,s},"drawEvents"),UOe={setConf:l(()=>{},"setConf"),draw:zOe}}),qOe,jOe,HOe,Cet=D(()=>{"use strict";xs(),qOe=l(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],zl(e["lineColor"+r])?e["lineColor"+r]=At(e["lineColor"+r],20):e["lineColor"+r]=Ft(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){let i=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${i};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${e["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),jOe=l(e=>`
  .edge {
    stroke-width: 3;
  }
  ${qOe(e)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),HOe=jOe}),VOe={};sr(VOe,{diagram:()=>YOe});var YOe,_et=D(()=>{"use strict";wet(),ket(),Eet(),Cet(),YOe={db:SOe,renderer:UOe,parser:COe,styles:HOe}}),o8,WOe,Aet=D(()=>{"use strict";o8=function(){var e=l(function(k,T,_,C){for(_=_||{},C=k.length;C--;_[k[C]]=T);return _},"o"),t=[1,4],r=[1,13],i=[1,12],n=[1,15],a=[1,16],s=[1,20],o=[1,19],u=[6,7,8],h=[1,26],d=[1,24],p=[1,25],g=[6,7,11],f=[1,6,13,15,16,19,22],m=[1,33],y=[1,34],b=[1,6,7,11,13,15,16,19,22],v={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:l(function(k,T,_,C,E,N,M){var I=N.length-1;switch(E){case 6:case 7:return C;case 8:C.getLogger().trace("Stop NL ");break;case 9:C.getLogger().trace("Stop EOF ");break;case 11:C.getLogger().trace("Stop NL2 ");break;case 12:C.getLogger().trace("Stop EOF2 ");break;case 15:C.getLogger().info("Node: ",N[I].id),C.addNode(N[I-1].length,N[I].id,N[I].descr,N[I].type);break;case 16:C.getLogger().trace("Icon: ",N[I]),C.decorateNode({icon:N[I]});break;case 17:case 21:C.decorateNode({class:N[I]});break;case 18:C.getLogger().trace("SPACELIST");break;case 19:C.getLogger().trace("Node: ",N[I].id),C.addNode(0,N[I].id,N[I].descr,N[I].type);break;case 20:C.decorateNode({icon:N[I]});break;case 25:C.getLogger().trace("node found ..",N[I-2]),this.$={id:N[I-1],descr:N[I-1],type:C.getType(N[I-2],N[I])};break;case 26:this.$={id:N[I],descr:N[I],type:C.nodeType.DEFAULT};break;case 27:C.getLogger().trace("node found ..",N[I-3]),this.$={id:N[I-3],descr:N[I-1],type:C.getType(N[I-2],N[I])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:i,14:14,15:n,16:a,17:17,18:18,19:s,22:o},e(u,[2,3]),{1:[2,2]},e(u,[2,4]),e(u,[2,5]),{1:[2,6],6:r,12:21,13:i,14:14,15:n,16:a,17:17,18:18,19:s,22:o},{6:r,9:22,12:11,13:i,14:14,15:n,16:a,17:17,18:18,19:s,22:o},{6:h,7:d,10:23,11:p},e(g,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:s,22:o}),e(g,[2,18]),e(g,[2,19]),e(g,[2,20]),e(g,[2,21]),e(g,[2,23]),e(g,[2,24]),e(g,[2,26],{19:[1,30]}),{20:[1,31]},{6:h,7:d,10:32,11:p},{1:[2,7],6:r,12:21,13:i,14:14,15:n,16:a,17:17,18:18,19:s,22:o},e(f,[2,14],{7:m,11:y}),e(b,[2,8]),e(b,[2,9]),e(b,[2,10]),e(g,[2,15]),e(g,[2,16]),e(g,[2,17]),{20:[1,35]},{21:[1,36]},e(f,[2,13],{7:m,11:y}),e(b,[2,11]),e(b,[2,12]),{21:[1,37]},e(g,[2,25]),e(g,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:l(function(k,T){if(T.recoverable)this.trace(k);else{var _=new Error(k);throw _.hash=T,_}},"parseError"),parse:l(function(k){var T=this,_=[0],C=[],E=[null],N=[],M=this.table,I="",A=0,B=0,S=0,O=2,R=1,P=N.slice.call(arguments,1),L=Object.create(this.lexer),$={yy:{}};for(var F in this.yy)Object.prototype.hasOwnProperty.call(this.yy,F)&&($.yy[F]=this.yy[F]);L.setInput(k,$.yy),$.yy.lexer=L,$.yy.parser=this,typeof L.yylloc>"u"&&(L.yylloc={});var G=L.yylloc;N.push(G);var q=L.options&&L.options.ranges;typeof $.yy.parseError=="function"?this.parseError=$.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function V(Y){_.length=_.length-2*Y,E.length=E.length-Y,N.length=N.length-Y}l(V,"popStack");function H(){var Y;return Y=C.pop()||L.lex()||R,typeof Y!="number"&&(Y instanceof Array&&(C=Y,Y=C.pop()),Y=T.symbols_[Y]||Y),Y}l(H,"lex");for(var ae,re,oe,ue,W,ee,X={},Z,J,he,K;;){if(oe=_[_.length-1],this.defaultActions[oe]?ue=this.defaultActions[oe]:((ae===null||typeof ae>"u")&&(ae=H()),ue=M[oe]&&M[oe][ae]),typeof ue>"u"||!ue.length||!ue[0]){var me="";K=[];for(Z in M[oe])this.terminals_[Z]&&Z>O&&K.push("'"+this.terminals_[Z]+"'");L.showPosition?me="Parse error on line "+(A+1)+`:
`+L.showPosition()+`
Expecting `+K.join(", ")+", got '"+(this.terminals_[ae]||ae)+"'":me="Parse error on line "+(A+1)+": Unexpected "+(ae==R?"end of input":"'"+(this.terminals_[ae]||ae)+"'"),this.parseError(me,{text:L.match,token:this.terminals_[ae]||ae,line:L.yylineno,loc:G,expected:K})}if(ue[0]instanceof Array&&ue.length>1)throw new Error("Parse Error: multiple actions possible at state: "+oe+", token: "+ae);switch(ue[0]){case 1:_.push(ae),E.push(L.yytext),N.push(L.yylloc),_.push(ue[1]),ae=null,re?(ae=re,re=null):(B=L.yyleng,I=L.yytext,A=L.yylineno,G=L.yylloc,S>0&&S--);break;case 2:if(J=this.productions_[ue[1]][1],X.$=E[E.length-J],X._$={first_line:N[N.length-(J||1)].first_line,last_line:N[N.length-1].last_line,first_column:N[N.length-(J||1)].first_column,last_column:N[N.length-1].last_column},q&&(X._$.range=[N[N.length-(J||1)].range[0],N[N.length-1].range[1]]),ee=this.performAction.apply(X,[I,B,A,$.yy,ue[1],E,N].concat(P)),typeof ee<"u")return ee;J&&(_=_.slice(0,-1*J*2),E=E.slice(0,-1*J),N=N.slice(0,-1*J)),_.push(this.productions_[ue[1]][0]),E.push(X.$),N.push(X._$),he=M[_[_.length-2]][_[_.length-1]],_.push(he);break;case 3:return!0}}return!0},"parse")},x=function(){var k={EOF:1,parseError:l(function(T,_){if(this.yy.parser)this.yy.parser.parseError(T,_);else throw new Error(T)},"parseError"),setInput:l(function(T,_){return this.yy=_||this.yy||{},this._input=T,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var T=this._input[0];this.yytext+=T,this.yyleng++,this.offset++,this.match+=T,this.matched+=T;var _=T.match(/(?:\r\n?|\n).*/g);return _?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),T},"input"),unput:l(function(T){var _=T.length,C=T.split(/(?:\r\n?|\n)/g);this._input=T+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-_),this.offset-=_;var E=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),C.length-1&&(this.yylineno-=C.length-1);var N=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:C?(C.length===E.length?this.yylloc.first_column:0)+E[E.length-C.length].length-C[0].length:this.yylloc.first_column-_},this.options.ranges&&(this.yylloc.range=[N[0],N[0]+this.yyleng-_]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(T){this.unput(this.match.slice(T))},"less"),pastInput:l(function(){var T=this.matched.substr(0,this.matched.length-this.match.length);return(T.length>20?"...":"")+T.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var T=this.match;return T.length<20&&(T+=this._input.substr(0,20-T.length)),(T.substr(0,20)+(T.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var T=this.pastInput(),_=new Array(T.length+1).join("-");return T+this.upcomingInput()+`
`+_+"^"},"showPosition"),test_match:l(function(T,_){var C,E,N;if(this.options.backtrack_lexer&&(N={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(N.yylloc.range=this.yylloc.range.slice(0))),E=T[0].match(/(?:\r\n?|\n).*/g),E&&(this.yylineno+=E.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:E?E[E.length-1].length-E[E.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+T[0].length},this.yytext+=T[0],this.match+=T[0],this.matches=T,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(T[0].length),this.matched+=T[0],C=this.performAction.call(this,this.yy,this,_,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),C)return C;if(this._backtrack){for(var M in N)this[M]=N[M];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var T,_,C,E;this._more||(this.yytext="",this.match="");for(var N=this._currentRules(),M=0;M<N.length;M++)if(C=this._input.match(this.rules[N[M]]),C&&(!_||C[0].length>_[0].length)){if(_=C,E=M,this.options.backtrack_lexer){if(T=this.test_match(C,N[M]),T!==!1)return T;if(this._backtrack){_=!1;continue}else return!1}else if(!this.options.flex)break}return _?(T=this.test_match(_,N[E]),T!==!1?T:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var T=this.next();return T||this.lex()},"lex"),begin:l(function(T){this.conditionStack.push(T)},"begin"),popState:l(function(){var T=this.conditionStack.length-1;return T>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(T){return T=this.conditionStack.length-1-Math.abs(T||0),T>=0?this.conditionStack[T]:"INITIAL"},"topState"),pushState:l(function(T){this.begin(T)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(T,_,C,E){var N=E;switch(C){case 0:return T.getLogger().trace("Found comment",_.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:this.popState();break;case 5:T.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return T.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:T.getLogger().trace("end icon"),this.popState();break;case 10:return T.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return T.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return T.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return T.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:return this.begin("NODE"),19;case 15:return this.begin("NODE"),19;case 16:return this.begin("NODE"),19;case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:T.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return T.getLogger().trace("description:",_.yytext),"NODE_DESCR";case 26:this.popState();break;case 27:return this.popState(),T.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),T.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),T.getLogger().trace("node end ...",_.yytext),"NODE_DEND";case 30:return this.popState(),T.getLogger().trace("node end (("),"NODE_DEND";case 31:return this.popState(),T.getLogger().trace("node end (-"),"NODE_DEND";case 32:return this.popState(),T.getLogger().trace("node end (-"),"NODE_DEND";case 33:return this.popState(),T.getLogger().trace("node end (("),"NODE_DEND";case 34:return this.popState(),T.getLogger().trace("node end (("),"NODE_DEND";case 35:return T.getLogger().trace("Long description:",_.yytext),20;case 36:return T.getLogger().trace("Long description:",_.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return k}();v.lexer=x;function w(){this.yy={}}return l(w,"Parser"),w.prototype=v,v.Parser=w,new w}(),o8.parser=o8,WOe=o8});function XOe(e,t=0){return(En[e[t+0]]+En[e[t+1]]+En[e[t+2]]+En[e[t+3]]+"-"+En[e[t+4]]+En[e[t+5]]+"-"+En[e[t+6]]+En[e[t+7]]+"-"+En[e[t+8]]+En[e[t+9]]+"-"+En[e[t+10]]+En[e[t+11]]+En[e[t+12]]+En[e[t+13]]+En[e[t+14]]+En[e[t+15]]).toLowerCase()}var En,Let=D(()=>{"use strict";En=[];for(let e=0;e<256;++e)En.push((e+256).toString(16).slice(1));l(XOe,"unsafeStringify")});function KOe(){if(!gq){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");gq=crypto.getRandomValues.bind(crypto)}return gq(ZOe)}var gq,ZOe,Net=D(()=>{"use strict";ZOe=new Uint8Array(16),l(KOe,"rng")}),QOe,fq,Met=D(()=>{"use strict";QOe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fq={randomUUID:QOe}});function JOe(e,t,r){if(fq.randomUUID&&!t&&!e)return fq.randomUUID();e=e||{};let i=e.random??e.rng?.()??KOe();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let n=0;n<16;++n)t[r+n]=i[n];return t}return XOe(i)}var ePe,Iet=D(()=>{"use strict";Met(),Net(),Let(),l(JOe,"v4"),ePe=JOe}),Det=D(()=>{"use strict";Iet()}),Pl,tPe,Ret=D(()=>{"use strict";Gt(),Det(),cr(),st(),ua(),pi(),Pl={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},tPe=class{constructor(){this.nodes=[],this.count=0,this.elements={},this.getLogger=this.getLogger.bind(this),this.nodeType=Pl,this.clear(),this.getType=this.getType.bind(this),this.getElementById=this.getElementById.bind(this),this.getParent=this.getParent.bind(this),this.getMindmap=this.getMindmap.bind(this),this.addNode=this.addNode.bind(this),this.decorateNode=this.decorateNode.bind(this)}static{l(this,"MindmapDB")}clear(){this.nodes=[],this.count=0,this.elements={},this.baseLevel=void 0}getParent(e){for(let t=this.nodes.length-1;t>=0;t--)if(this.nodes[t].level<e)return this.nodes[t];return null}getMindmap(){return this.nodes.length>0?this.nodes[0]:null}addNode(e,t,r,i){ne.info("addNode",e,t,r,i);let n=!1;this.nodes.length===0?(this.baseLevel=e,e=0,n=!0):this.baseLevel!==void 0&&(e=e-this.baseLevel,n=!1);let a=Ee(),s=a.mindmap?.padding??xr.mindmap.padding;switch(i){case this.nodeType.ROUNDED_RECT:case this.nodeType.RECT:case this.nodeType.HEXAGON:s*=2;break}let o={id:this.count++,nodeId:wr(t,a),level:e,descr:wr(r,a),type:i,children:[],width:a.mindmap?.maxNodeWidth??xr.mindmap.maxNodeWidth,padding:s,isRoot:n},u=this.getParent(e);if(u)u.children.push(o),this.nodes.push(o);else if(n)this.nodes.push(o);else throw new Error(`There can be only one root. No parent could be found for ("${o.descr}")`)}getType(e,t){switch(ne.debug("In get type",e,t),e){case"[":return this.nodeType.RECT;case"(":return t===")"?this.nodeType.ROUNDED_RECT:this.nodeType.CLOUD;case"((":return this.nodeType.CIRCLE;case")":return this.nodeType.CLOUD;case"))":return this.nodeType.BANG;case"{{":return this.nodeType.HEXAGON;default:return this.nodeType.DEFAULT}}setElementForId(e,t){this.elements[e]=t}getElementById(e){return this.elements[e]}decorateNode(e){if(!e)return;let t=Ee(),r=this.nodes[this.nodes.length-1];e.icon&&(r.icon=wr(e.icon,t)),e.class&&(r.class=wr(e.class,t))}type2Str(e){switch(e){case this.nodeType.DEFAULT:return"no-border";case this.nodeType.RECT:return"rect";case this.nodeType.ROUNDED_RECT:return"rounded-rect";case this.nodeType.CIRCLE:return"circle";case this.nodeType.CLOUD:return"cloud";case this.nodeType.BANG:return"bang";case this.nodeType.HEXAGON:return"hexgon";default:return"no-border"}}assignSections(e,t){if(e.level===0?e.section=void 0:e.section=t,e.children)for(let[r,i]of e.children.entries()){let n=e.level===0?r:t;this.assignSections(i,n)}}flattenNodes(e,t){let r=["mindmap-node"];e.isRoot===!0?r.push("section-root","section--1"):e.section!==void 0&&r.push(`section-${e.section}`),e.class&&r.push(e.class);let i=r.join(" "),n=l(s=>{switch(s){case Pl.CIRCLE:return"mindmapCircle";case Pl.RECT:return"rect";case Pl.ROUNDED_RECT:return"rounded";case Pl.CLOUD:return"cloud";case Pl.BANG:return"bang";case Pl.HEXAGON:return"hexagon";case Pl.DEFAULT:return"defaultMindmapNode";case Pl.NO_BORDER:default:return"rect"}},"getShapeFromType"),a={id:e.id.toString(),domId:"node_"+e.id.toString(),label:e.descr,isGroup:!1,shape:n(e.type),width:e.width,height:e.height??0,padding:e.padding,cssClasses:i,cssStyles:[],look:"default",icon:e.icon,x:e.x,y:e.y,level:e.level,nodeId:e.nodeId,type:e.type,section:e.section};if(t.push(a),e.children)for(let s of e.children)this.flattenNodes(s,t)}generateEdges(e,t){if(e.children)for(let r of e.children){let i="edge";r.section!==void 0&&(i+=` section-edge-${r.section}`);let n=e.level+1;i+=` edge-depth-${n}`;let a={id:`edge_${e.id}_${r.id}`,start:e.id.toString(),end:r.id.toString(),type:"normal",curve:"basis",thickness:"normal",look:"default",classes:i,depth:e.level,section:r.section};t.push(a),this.generateEdges(r,t)}}getData(){let e=this.getMindmap(),t=Ee(),r=FH().layout!==void 0,i=t;if(r||(i.layout="cose-bilkent"),!e)return{nodes:[],edges:[],config:i};ne.debug("getData: mindmapRoot",e,t),this.assignSections(e);let n=[],a=[];this.flattenNodes(e,n),this.generateEdges(e,a),ne.debug(`getData: processed ${n.length} nodes and ${a.length} edges`);let s=new Map;for(let o of n)s.set(o.id,{shape:o.shape,width:o.width,height:o.height,padding:o.padding});return{nodes:n,edges:a,config:i,rootNode:e,markers:["point"],direction:"TB",nodeSpacing:50,rankSpacing:50,shapes:Object.fromEntries(s),type:"mindmap",diagramId:"mindmap-"+ePe()}}getLogger(){return ne}}}),rPe,iPe,Oet=D(()=>{"use strict";st(),Fg(),Qd(),Jd(),ua(),rPe=l(async(e,t,r,i)=>{ne.debug(`Rendering mindmap diagram
`+e);let n=i.db,a=n.getData(),s=bd(t,a.config.securityLevel);a.type=i.type,a.layoutAlgorithm=D1(a.config.layout,{fallback:"cose-bilkent"}),a.diagramId=t,n.getMindmap()&&(a.nodes.forEach(o=>{o.shape==="rounded"?(o.radius=15,o.taper=15,o.stroke="none",o.width=0,o.padding=15):o.shape==="circle"?o.padding=10:o.shape==="rect"&&(o.width=0,o.padding=10)}),await Zd(a,s),sh(s,a.config.mindmap?.padding??xr.mindmap.padding,"mindmapDiagram",a.config.mindmap?.useMaxWidth??xr.mindmap.useMaxWidth))},"draw"),iPe={draw:rPe}}),nPe,aPe,sPe,Pet=D(()=>{"use strict";xs(),nPe=l(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],zl(e["lineColor"+r])?e["lineColor"+r]=At(e["lineColor"+r],20):e["lineColor"+r]=Ft(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){let i=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${i};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),aPe=l(e=>`
  .edge {
    stroke-width: 3;
  }
  ${nPe(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .section-root span {
    color: ${e.gitBranchLabel0};
  }
  .section-2 span {
    color: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),sPe=aPe}),oPe={};sr(oPe,{diagram:()=>lPe});var lPe,Bet=D(()=>{"use strict";Aet(),Ret(),Oet(),Pet(),lPe={get db(){return new tPe},renderer:iPe,parser:WOe,styles:sPe}}),l8,cPe,$et=D(()=>{"use strict";l8=function(){var e=l(function(C,E,N,M){for(N=N||{},M=C.length;M--;N[C[M]]=E);return N},"o"),t=[1,4],r=[1,13],i=[1,12],n=[1,15],a=[1,16],s=[1,20],o=[1,19],u=[6,7,8],h=[1,26],d=[1,24],p=[1,25],g=[6,7,11],f=[1,31],m=[6,7,11,24],y=[1,6,13,16,17,20,23],b=[1,35],v=[1,36],x=[1,6,7,11,13,16,17,20,23],w=[1,38],k={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:l(function(C,E,N,M,I,A,B){var S=A.length-1;switch(I){case 6:case 7:return M;case 8:M.getLogger().trace("Stop NL ");break;case 9:M.getLogger().trace("Stop EOF ");break;case 11:M.getLogger().trace("Stop NL2 ");break;case 12:M.getLogger().trace("Stop EOF2 ");break;case 15:M.getLogger().info("Node: ",A[S-1].id),M.addNode(A[S-2].length,A[S-1].id,A[S-1].descr,A[S-1].type,A[S]);break;case 16:M.getLogger().info("Node: ",A[S].id),M.addNode(A[S-1].length,A[S].id,A[S].descr,A[S].type);break;case 17:M.getLogger().trace("Icon: ",A[S]),M.decorateNode({icon:A[S]});break;case 18:case 23:M.decorateNode({class:A[S]});break;case 19:M.getLogger().trace("SPACELIST");break;case 20:M.getLogger().trace("Node: ",A[S-1].id),M.addNode(0,A[S-1].id,A[S-1].descr,A[S-1].type,A[S]);break;case 21:M.getLogger().trace("Node: ",A[S].id),M.addNode(0,A[S].id,A[S].descr,A[S].type);break;case 22:M.decorateNode({icon:A[S]});break;case 27:M.getLogger().trace("node found ..",A[S-2]),this.$={id:A[S-1],descr:A[S-1],type:M.getType(A[S-2],A[S])};break;case 28:this.$={id:A[S],descr:A[S],type:0};break;case 29:M.getLogger().trace("node found ..",A[S-3]),this.$={id:A[S-3],descr:A[S-1],type:M.getType(A[S-2],A[S])};break;case 30:this.$=A[S-1]+A[S];break;case 31:this.$=A[S];break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:i,14:14,16:n,17:a,18:17,19:18,20:s,23:o},e(u,[2,3]),{1:[2,2]},e(u,[2,4]),e(u,[2,5]),{1:[2,6],6:r,12:21,13:i,14:14,16:n,17:a,18:17,19:18,20:s,23:o},{6:r,9:22,12:11,13:i,14:14,16:n,17:a,18:17,19:18,20:s,23:o},{6:h,7:d,10:23,11:p},e(g,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:s,23:o}),e(g,[2,19]),e(g,[2,21],{15:30,24:f}),e(g,[2,22]),e(g,[2,23]),e(m,[2,25]),e(m,[2,26]),e(m,[2,28],{20:[1,32]}),{21:[1,33]},{6:h,7:d,10:34,11:p},{1:[2,7],6:r,12:21,13:i,14:14,16:n,17:a,18:17,19:18,20:s,23:o},e(y,[2,14],{7:b,11:v}),e(x,[2,8]),e(x,[2,9]),e(x,[2,10]),e(g,[2,16],{15:37,24:f}),e(g,[2,17]),e(g,[2,18]),e(g,[2,20],{24:w}),e(m,[2,31]),{21:[1,39]},{22:[1,40]},e(y,[2,13],{7:b,11:v}),e(x,[2,11]),e(x,[2,12]),e(g,[2,15],{24:w}),e(m,[2,30]),{22:[1,41]},e(m,[2,27]),e(m,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:l(function(C,E){if(E.recoverable)this.trace(C);else{var N=new Error(C);throw N.hash=E,N}},"parseError"),parse:l(function(C){var E=this,N=[0],M=[],I=[null],A=[],B=this.table,S="",O=0,R=0,P=0,L=2,$=1,F=A.slice.call(arguments,1),G=Object.create(this.lexer),q={yy:{}};for(var V in this.yy)Object.prototype.hasOwnProperty.call(this.yy,V)&&(q.yy[V]=this.yy[V]);G.setInput(C,q.yy),q.yy.lexer=G,q.yy.parser=this,typeof G.yylloc>"u"&&(G.yylloc={});var H=G.yylloc;A.push(H);var ae=G.options&&G.options.ranges;typeof q.yy.parseError=="function"?this.parseError=q.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function re(Ne){N.length=N.length-2*Ne,I.length=I.length-Ne,A.length=A.length-Ne}l(re,"popStack");function oe(){var Ne;return Ne=M.pop()||G.lex()||$,typeof Ne!="number"&&(Ne instanceof Array&&(M=Ne,Ne=M.pop()),Ne=E.symbols_[Ne]||Ne),Ne}l(oe,"lex");for(var ue,W,ee,X,Z,J,he={},K,me,Y,_e;;){if(ee=N[N.length-1],this.defaultActions[ee]?X=this.defaultActions[ee]:((ue===null||typeof ue>"u")&&(ue=oe()),X=B[ee]&&B[ee][ue]),typeof X>"u"||!X.length||!X[0]){var ce="";_e=[];for(K in B[ee])this.terminals_[K]&&K>L&&_e.push("'"+this.terminals_[K]+"'");G.showPosition?ce="Parse error on line "+(O+1)+`:
`+G.showPosition()+`
Expecting `+_e.join(", ")+", got '"+(this.terminals_[ue]||ue)+"'":ce="Parse error on line "+(O+1)+": Unexpected "+(ue==$?"end of input":"'"+(this.terminals_[ue]||ue)+"'"),this.parseError(ce,{text:G.match,token:this.terminals_[ue]||ue,line:G.yylineno,loc:H,expected:_e})}if(X[0]instanceof Array&&X.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ee+", token: "+ue);switch(X[0]){case 1:N.push(ue),I.push(G.yytext),A.push(G.yylloc),N.push(X[1]),ue=null,W?(ue=W,W=null):(R=G.yyleng,S=G.yytext,O=G.yylineno,H=G.yylloc,P>0&&P--);break;case 2:if(me=this.productions_[X[1]][1],he.$=I[I.length-me],he._$={first_line:A[A.length-(me||1)].first_line,last_line:A[A.length-1].last_line,first_column:A[A.length-(me||1)].first_column,last_column:A[A.length-1].last_column},ae&&(he._$.range=[A[A.length-(me||1)].range[0],A[A.length-1].range[1]]),J=this.performAction.apply(he,[S,R,O,q.yy,X[1],I,A].concat(F)),typeof J<"u")return J;me&&(N=N.slice(0,-1*me*2),I=I.slice(0,-1*me),A=A.slice(0,-1*me)),N.push(this.productions_[X[1]][0]),I.push(he.$),A.push(he._$),Y=B[N[N.length-2]][N[N.length-1]],N.push(Y);break;case 3:return!0}}return!0},"parse")},T=function(){var C={EOF:1,parseError:l(function(E,N){if(this.yy.parser)this.yy.parser.parseError(E,N);else throw new Error(E)},"parseError"),setInput:l(function(E,N){return this.yy=N||this.yy||{},this._input=E,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var E=this._input[0];this.yytext+=E,this.yyleng++,this.offset++,this.match+=E,this.matched+=E;var N=E.match(/(?:\r\n?|\n).*/g);return N?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),E},"input"),unput:l(function(E){var N=E.length,M=E.split(/(?:\r\n?|\n)/g);this._input=E+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-N),this.offset-=N;var I=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),M.length-1&&(this.yylineno-=M.length-1);var A=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:M?(M.length===I.length?this.yylloc.first_column:0)+I[I.length-M.length].length-M[0].length:this.yylloc.first_column-N},this.options.ranges&&(this.yylloc.range=[A[0],A[0]+this.yyleng-N]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(E){this.unput(this.match.slice(E))},"less"),pastInput:l(function(){var E=this.matched.substr(0,this.matched.length-this.match.length);return(E.length>20?"...":"")+E.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var E=this.match;return E.length<20&&(E+=this._input.substr(0,20-E.length)),(E.substr(0,20)+(E.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var E=this.pastInput(),N=new Array(E.length+1).join("-");return E+this.upcomingInput()+`
`+N+"^"},"showPosition"),test_match:l(function(E,N){var M,I,A;if(this.options.backtrack_lexer&&(A={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(A.yylloc.range=this.yylloc.range.slice(0))),I=E[0].match(/(?:\r\n?|\n).*/g),I&&(this.yylineno+=I.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:I?I[I.length-1].length-I[I.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+E[0].length},this.yytext+=E[0],this.match+=E[0],this.matches=E,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(E[0].length),this.matched+=E[0],M=this.performAction.call(this,this.yy,this,N,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),M)return M;if(this._backtrack){for(var B in A)this[B]=A[B];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var E,N,M,I;this._more||(this.yytext="",this.match="");for(var A=this._currentRules(),B=0;B<A.length;B++)if(M=this._input.match(this.rules[A[B]]),M&&(!N||M[0].length>N[0].length)){if(N=M,I=B,this.options.backtrack_lexer){if(E=this.test_match(M,A[B]),E!==!1)return E;if(this._backtrack){N=!1;continue}else return!1}else if(!this.options.flex)break}return N?(E=this.test_match(N,A[I]),E!==!1?E:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var E=this.next();return E||this.lex()},"lex"),begin:l(function(E){this.conditionStack.push(E)},"begin"),popState:l(function(){var E=this.conditionStack.length-1;return E>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(E){return E=this.conditionStack.length-1-Math.abs(E||0),E>=0?this.conditionStack[E]:"INITIAL"},"topState"),pushState:l(function(E){this.begin(E)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(E,N,M,I){var A=I;switch(M){case 0:return this.pushState("shapeData"),N.yytext="",24;case 1:return this.pushState("shapeDataStr"),24;case 2:return this.popState(),24;case 3:let B=/\n\s*/g;return N.yytext=N.yytext.replace(B,"<br/>"),24;case 4:return 24;case 5:this.popState();break;case 6:return E.getLogger().trace("Found comment",N.yytext),6;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;case 10:this.popState();break;case 11:E.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return E.getLogger().trace("SPACELINE"),6;case 13:return 7;case 14:return 16;case 15:E.getLogger().trace("end icon"),this.popState();break;case 16:return E.getLogger().trace("Exploding node"),this.begin("NODE"),20;case 17:return E.getLogger().trace("Cloud"),this.begin("NODE"),20;case 18:return E.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;case 19:return E.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;case 20:return this.begin("NODE"),20;case 21:return this.begin("NODE"),20;case 22:return this.begin("NODE"),20;case 23:return this.begin("NODE"),20;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 29:this.popState();break;case 30:E.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return E.getLogger().trace("description:",N.yytext),"NODE_DESCR";case 32:this.popState();break;case 33:return this.popState(),E.getLogger().trace("node end ))"),"NODE_DEND";case 34:return this.popState(),E.getLogger().trace("node end )"),"NODE_DEND";case 35:return this.popState(),E.getLogger().trace("node end ...",N.yytext),"NODE_DEND";case 36:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";case 37:return this.popState(),E.getLogger().trace("node end (-"),"NODE_DEND";case 38:return this.popState(),E.getLogger().trace("node end (-"),"NODE_DEND";case 39:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";case 40:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";case 41:return E.getLogger().trace("Long description:",N.yytext),21;case 42:return E.getLogger().trace("Long description:",N.yytext),21}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return C}();k.lexer=T;function _(){this.yy={}}return l(_,"Parser"),_.prototype=k,k.Parser=_,new _}(),l8.parser=l8,cPe=l8}),ms,c8,u8,h8,uPe,hPe,mq,dPe,pPe,tn,gPe,fPe,mPe,yPe,vPe,bPe,xPe,wPe,Fet=D(()=>{"use strict";Gt(),cr(),st(),ua(),c6(),ms=[],c8=[],u8=0,h8={},uPe=l(()=>{ms=[],c8=[],u8=0,h8={}},"clear"),hPe=l(e=>{if(ms.length===0)return null;let t=ms[0].level,r=null;for(let i=ms.length-1;i>=0;i--)if(ms[i].level===t&&!r&&(r=ms[i]),ms[i].level<t)throw new Error('Items without section detected, found section ("'+ms[i].label+'")');return e===r?.level?null:r},"getSection"),mq=l(function(){return c8},"getSections"),dPe=l(function(){let e=[],t=[],r=mq(),i=Ee();for(let n of r){let a={id:n.id,label:wr(n.label??"",i),isGroup:!0,ticket:n.ticket,shape:"kanbanSection",level:n.level,look:i.look};t.push(a);let s=ms.filter(o=>o.parentId===n.id);for(let o of s){let u={id:o.id,parentId:n.id,label:wr(o.label??"",i),isGroup:!1,ticket:o?.ticket,priority:o?.priority,assigned:o?.assigned,icon:o?.icon,shape:"kanbanItem",level:o.level,rx:5,ry:5,cssStyles:["text-align: left"]};t.push(u)}}return{nodes:t,edges:e,other:{},config:Ee()}},"getData"),pPe=l((e,t,r,i,n)=>{let a=Ee(),s=a.mindmap?.padding??xr.mindmap.padding;switch(i){case tn.ROUNDED_RECT:case tn.RECT:case tn.HEXAGON:s*=2}let o={id:wr(t,a)||"kbn"+u8++,level:e,label:wr(r,a),width:a.mindmap?.maxNodeWidth??xr.mindmap.maxNodeWidth,padding:s,isGroup:!1};if(n!==void 0){let h;n.includes(`
`)?h=n+`
`:h=`{
`+n+`
}`;let d=Xy(h,{schema:Wy});if(d.shape&&(d.shape!==d.shape.toLowerCase()||d.shape.includes("_")))throw new Error(`No such shape: ${d.shape}. Shape names should be lowercase.`);d?.shape&&d.shape==="kanbanItem"&&(o.shape=d?.shape),d?.label&&(o.label=d?.label),d?.icon&&(o.icon=d?.icon.toString()),d?.assigned&&(o.assigned=d?.assigned.toString()),d?.ticket&&(o.ticket=d?.ticket.toString()),d?.priority&&(o.priority=d?.priority)}let u=hPe(e);u?o.parentId=u.id||"kbn"+u8++:c8.push(o),ms.push(o)},"addNode"),tn={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},gPe=l((e,t)=>{switch(ne.debug("In get type",e,t),e){case"[":return tn.RECT;case"(":return t===")"?tn.ROUNDED_RECT:tn.CLOUD;case"((":return tn.CIRCLE;case")":return tn.CLOUD;case"))":return tn.BANG;case"{{":return tn.HEXAGON;default:return tn.DEFAULT}},"getType"),fPe=l((e,t)=>{h8[e]=t},"setElementForId"),mPe=l(e=>{if(!e)return;let t=Ee(),r=ms[ms.length-1];e.icon&&(r.icon=wr(e.icon,t)),e.class&&(r.cssClasses=wr(e.class,t))},"decorateNode"),yPe=l(e=>{switch(e){case tn.DEFAULT:return"no-border";case tn.RECT:return"rect";case tn.ROUNDED_RECT:return"rounded-rect";case tn.CIRCLE:return"circle";case tn.CLOUD:return"cloud";case tn.BANG:return"bang";case tn.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),vPe=l(()=>ne,"getLogger"),bPe=l(e=>h8[e],"getElementById"),xPe={clear:uPe,addNode:pPe,getSections:mq,getData:dPe,nodeType:tn,getType:gPe,setElementForId:fPe,decorateNode:mPe,type2Str:yPe,getLogger:vPe,getElementById:bPe},wPe=xPe}),kPe,TPe,zet=D(()=>{"use strict";Gt(),st(),Kc(),an(),ua(),xN(),MN(),kPe=l(async(e,t,r,i)=>{ne.debug(`Rendering kanban diagram
`+e);let n=i.db.getData(),a=Ee();a.htmlLabels=!1;let s=Il(t),o=s.append("g");o.attr("class","sections");let u=s.append("g");u.attr("class","items");let h=n.nodes.filter(y=>y.isGroup),d=0,p=10,g=[],f=25;for(let y of h){let b=a?.kanban?.sectionWidth||200;d=d+1,y.x=b*d+(d-1)*p/2,y.width=b,y.y=0,y.height=b*3,y.rx=5,y.ry=5,y.cssClasses=y.cssClasses+" section-"+d;let v=await $6(o,y);f=Math.max(f,v?.labelBBox?.height),g.push(v)}let m=0;for(let y of h){let b=g[m];m=m+1;let v=a?.kanban?.sectionWidth||200,x=-v*3/2+f,w=x,k=n.nodes.filter(C=>C.parentId===y.id);for(let C of k){if(C.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");C.x=y.x,C.width=v-1.5*p;let E=(await F6(u,C,{config:a})).node().getBBox();C.y=w+E.height/2,await z6(C),w=C.y+E.height/2+p/2}let T=b.cluster.select("rect"),_=Math.max(w-x+3*p,50)+(f-25);T.attr("height",_)}Gp(void 0,s,a.mindmap?.padding??xr.kanban.padding,a.mindmap?.useMaxWidth??xr.kanban.useMaxWidth)},"draw"),TPe={draw:kPe}}),EPe,CPe,SPe,Get=D(()=>{"use strict";xs(),Gv(),EPe=l(e=>{let t="";for(let i=0;i<e.THEME_COLOR_LIMIT;i++)e["lineColor"+i]=e["lineColor"+i]||e["cScaleInv"+i],zl(e["lineColor"+i])?e["lineColor"+i]=At(e["lineColor"+i],20):e["lineColor"+i]=Ft(e["lineColor"+i],20);let r=l((i,n)=>e.darkMode?Ft(i,n):At(i,n),"adjuster");for(let i=0;i<e.THEME_COLOR_LIMIT;i++){let n=""+(17-3*i);t+=`
    .section-${i-1} rect, .section-${i-1} path, .section-${i-1} circle, .section-${i-1} polygon, .section-${i-1} path  {
      fill: ${r(e["cScale"+i],10)};
      stroke: ${r(e["cScale"+i],10)};

    }
    .section-${i-1} text {
     fill: ${e["cScaleLabel"+i]};
    }
    .node-icon-${i-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+i]};
    }
    .section-edge-${i-1}{
      stroke: ${e["cScale"+i]};
    }
    .edge-depth-${i-1}{
      stroke-width: ${n};
    }
    .section-${i-1} line {
      stroke: ${e["cScaleInv"+i]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    text-decoration: underline;
  }
    `}return t},"genSections"),CPe=l(e=>`
  .edge {
    stroke-width: 3;
  }
  ${EPe(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${e.textColor};
    fill: ${e.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
    ${R1()}
`,"getStyles"),SPe=CPe}),_Pe={};sr(_Pe,{diagram:()=>APe});var APe,Uet=D(()=>{"use strict";$et(),Fet(),zet(),Get(),APe={db:wPe,renderer:TPe,parser:cPe,styles:SPe}}),d8,Rx,qet=D(()=>{"use strict";d8=function(){var e=l(function(o,u,h,d){for(h=h||{},d=o.length;d--;h[o[d]]=u);return h},"o"),t=[1,9],r=[1,10],i=[1,5,10,12],n={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:l(function(o,u,h,d,p,g,f){var m=g.length-1;switch(p){case 7:let y=d.findOrCreateNode(g[m-4].trim().replaceAll('""','"')),b=d.findOrCreateNode(g[m-2].trim().replaceAll('""','"')),v=parseFloat(g[m].trim());d.addLink(y,b,v);break;case 8:case 9:case 11:this.$=g[m];break;case 10:this.$=g[m-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:t,20:r},{1:[2,6],7:11,10:[1,12]},e(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},e(i,[2,8]),e(i,[2,9]),{19:[1,16]},e(i,[2,11]),{1:[2,1]},{1:[2,5]},e(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:t,20:r},{15:18,16:7,17:8,18:t,20:r},{18:[1,19]},e(r,[2,3]),{12:[1,20]},e(i,[2,10]),{15:21,16:7,17:8,18:t,20:r},e([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:l(function(o,u){if(u.recoverable)this.trace(o);else{var h=new Error(o);throw h.hash=u,h}},"parseError"),parse:l(function(o){var u=this,h=[0],d=[],p=[null],g=[],f=this.table,m="",y=0,b=0,v=0,x=2,w=1,k=g.slice.call(arguments,1),T=Object.create(this.lexer),_={yy:{}};for(var C in this.yy)Object.prototype.hasOwnProperty.call(this.yy,C)&&(_.yy[C]=this.yy[C]);T.setInput(o,_.yy),_.yy.lexer=T,_.yy.parser=this,typeof T.yylloc>"u"&&(T.yylloc={});var E=T.yylloc;g.push(E);var N=T.options&&T.options.ranges;typeof _.yy.parseError=="function"?this.parseError=_.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function M(H){h.length=h.length-2*H,p.length=p.length-H,g.length=g.length-H}l(M,"popStack");function I(){var H;return H=d.pop()||T.lex()||w,typeof H!="number"&&(H instanceof Array&&(d=H,H=d.pop()),H=u.symbols_[H]||H),H}l(I,"lex");for(var A,B,S,O,R,P,L={},$,F,G,q;;){if(S=h[h.length-1],this.defaultActions[S]?O=this.defaultActions[S]:((A===null||typeof A>"u")&&(A=I()),O=f[S]&&f[S][A]),typeof O>"u"||!O.length||!O[0]){var V="";q=[];for($ in f[S])this.terminals_[$]&&$>x&&q.push("'"+this.terminals_[$]+"'");T.showPosition?V="Parse error on line "+(y+1)+`:
`+T.showPosition()+`
Expecting `+q.join(", ")+", got '"+(this.terminals_[A]||A)+"'":V="Parse error on line "+(y+1)+": Unexpected "+(A==w?"end of input":"'"+(this.terminals_[A]||A)+"'"),this.parseError(V,{text:T.match,token:this.terminals_[A]||A,line:T.yylineno,loc:E,expected:q})}if(O[0]instanceof Array&&O.length>1)throw new Error("Parse Error: multiple actions possible at state: "+S+", token: "+A);switch(O[0]){case 1:h.push(A),p.push(T.yytext),g.push(T.yylloc),h.push(O[1]),A=null,B?(A=B,B=null):(b=T.yyleng,m=T.yytext,y=T.yylineno,E=T.yylloc,v>0&&v--);break;case 2:if(F=this.productions_[O[1]][1],L.$=p[p.length-F],L._$={first_line:g[g.length-(F||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(F||1)].first_column,last_column:g[g.length-1].last_column},N&&(L._$.range=[g[g.length-(F||1)].range[0],g[g.length-1].range[1]]),P=this.performAction.apply(L,[m,b,y,_.yy,O[1],p,g].concat(k)),typeof P<"u")return P;F&&(h=h.slice(0,-1*F*2),p=p.slice(0,-1*F),g=g.slice(0,-1*F)),h.push(this.productions_[O[1]][0]),p.push(L.$),g.push(L._$),G=f[h[h.length-2]][h[h.length-1]],h.push(G);break;case 3:return!0}}return!0},"parse")},a=function(){var o={EOF:1,parseError:l(function(u,h){if(this.yy.parser)this.yy.parser.parseError(u,h);else throw new Error(u)},"parseError"),setInput:l(function(u,h){return this.yy=h||this.yy||{},this._input=u,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var u=this._input[0];this.yytext+=u,this.yyleng++,this.offset++,this.match+=u,this.matched+=u;var h=u.match(/(?:\r\n?|\n).*/g);return h?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),u},"input"),unput:l(function(u){var h=u.length,d=u.split(/(?:\r\n?|\n)/g);this._input=u+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-h),this.offset-=h;var p=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),d.length-1&&(this.yylineno-=d.length-1);var g=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:d?(d.length===p.length?this.yylloc.first_column:0)+p[p.length-d.length].length-d[0].length:this.yylloc.first_column-h},this.options.ranges&&(this.yylloc.range=[g[0],g[0]+this.yyleng-h]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(u){this.unput(this.match.slice(u))},"less"),pastInput:l(function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var u=this.match;return u.length<20&&(u+=this._input.substr(0,20-u.length)),(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var u=this.pastInput(),h=new Array(u.length+1).join("-");return u+this.upcomingInput()+`
`+h+"^"},"showPosition"),test_match:l(function(u,h){var d,p,g;if(this.options.backtrack_lexer&&(g={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(g.yylloc.range=this.yylloc.range.slice(0))),p=u[0].match(/(?:\r\n?|\n).*/g),p&&(this.yylineno+=p.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:p?p[p.length-1].length-p[p.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],d=this.performAction.call(this,this.yy,this,h,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),d)return d;if(this._backtrack){for(var f in g)this[f]=g[f];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var u,h,d,p;this._more||(this.yytext="",this.match="");for(var g=this._currentRules(),f=0;f<g.length;f++)if(d=this._input.match(this.rules[g[f]]),d&&(!h||d[0].length>h[0].length)){if(h=d,p=f,this.options.backtrack_lexer){if(u=this.test_match(d,g[f]),u!==!1)return u;if(this._backtrack){h=!1;continue}else return!1}else if(!this.options.flex)break}return h?(u=this.test_match(h,g[p]),u!==!1?u:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var u=this.next();return u||this.lex()},"lex"),begin:l(function(u){this.conditionStack.push(u)},"begin"),popState:l(function(){var u=this.conditionStack.length-1;return u>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(u){return u=this.conditionStack.length-1-Math.abs(u||0),u>=0?this.conditionStack[u]:"INITIAL"},"topState"),pushState:l(function(u){this.begin(u)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(u,h,d,p){var g=p;switch(d){case 0:return this.pushState("csv"),4;case 1:return this.pushState("csv"),4;case 2:return 10;case 3:return 5;case 4:return 12;case 5:return this.pushState("escaped_text"),18;case 6:return 20;case 7:return this.popState("escaped_text"),18;case 8:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:sankey\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[2,3,4,5,6,7,8],inclusive:!1},escaped_text:{rules:[7,8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8],inclusive:!0}}};return o}();n.lexer=a;function s(){this.yy={}}return l(s,"Parser"),s.prototype=n,n.Parser=s,new s}(),d8.parser=d8,Rx=d8}),Ox,Px,Bx,LPe,NPe,MPe,IPe,DPe,RPe,OPe,PPe,BPe,jet=D(()=>{"use strict";Gt(),cr(),Di(),Ox=[],Px=[],Bx=new Map,LPe=l(()=>{Ox=[],Px=[],Bx=new Map,Ni()},"clear"),NPe=class{constructor(e,t,r=0){this.source=e,this.target=t,this.value=r}static{l(this,"SankeyLink")}},MPe=l((e,t,r)=>{Ox.push(new NPe(e,t,r))},"addLink"),IPe=class{constructor(e){this.ID=e}static{l(this,"SankeyNode")}},DPe=l(e=>{e=nt.sanitizeText(e,Ee());let t=Bx.get(e);return t===void 0&&(t=new IPe(e),Bx.set(e,t),Px.push(t)),t},"findOrCreateNode"),RPe=l(()=>Px,"getNodes"),OPe=l(()=>Ox,"getLinks"),PPe=l(()=>({nodes:Px.map(e=>({id:e.ID})),links:Ox.map(e=>({source:e.source.ID,target:e.target.ID,value:e.value}))}),"getGraph"),BPe={nodesMap:Bx,getConfig:l(()=>Ee().sankey,"getConfig"),getNodes:RPe,getLinks:OPe,getGraph:PPe,addLink:MPe,findOrCreateNode:DPe,getAccTitle:Gi,setAccTitle:Mi,getAccDescription:qi,setAccDescription:Ui,getDiagramTitle:Ii,setDiagramTitle:sn,clear:LPe}});function yq(e,t){let r;if(t===void 0)for(let i of e)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let n of e)(n=t(n,++i,e))!=null&&(r<n||r===void 0&&n>=n)&&(r=n)}return r}var Het=D(()=>{"use strict";l(yq,"max")});function vq(e,t){let r;if(t===void 0)for(let i of e)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let n of e)(n=t(n,++i,e))!=null&&(r>n||r===void 0&&n>=n)&&(r=n)}return r}var Vet=D(()=>{"use strict";l(vq,"min")});function p8(e,t){let r=0;if(t===void 0)for(let i of e)(i=+i)&&(r+=i);else{let i=-1;for(let n of e)(n=+t(n,++i,e))&&(r+=n)}return r}var Yet=D(()=>{"use strict";l(p8,"sum")}),$Pe=D(()=>{"use strict";Het(),Vet(),Yet()});function FPe(e){return e.target.depth}function zPe(e){return e.depth}function GPe(e,t){return t-1-e.height}function bq(e,t){return e.sourceLinks.length?e.depth:t-1}function UPe(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?vq(e.sourceLinks,FPe)-1:0}var qPe=D(()=>{"use strict";$Pe(),l(FPe,"targetDepth"),l(zPe,"left"),l(GPe,"right"),l(bq,"justify"),l(UPe,"center")});function $x(e){return function(){return e}}var Wet=D(()=>{"use strict";l($x,"constant")});function xq(e,t){return Fx(e.source,t.source)||e.index-t.index}function wq(e,t){return Fx(e.target,t.target)||e.index-t.index}function Fx(e,t){return e.y0-t.y0}function g8(e){return e.value}function jPe(e){return e.index}function HPe(e){return e.nodes}function VPe(e){return e.links}function kq(e,t){let r=e.get(t);if(!r)throw new Error("missing: "+t);return r}function Tq({nodes:e}){for(let t of e){let r=t.y0,i=r;for(let n of t.sourceLinks)n.y0=r+n.width/2,r+=n.width;for(let n of t.targetLinks)n.y1=i+n.width/2,i+=n.width}}function YPe(){let e=0,t=0,r=1,i=1,n=24,a=8,s,o=jPe,u=bq,h,d,p=HPe,g=VPe,f=6;function m(){let O={nodes:p.apply(null,arguments),links:g.apply(null,arguments)};return y(O),b(O),v(O),x(O),T(O),Tq(O),O}l(m,"sankey"),m.update=function(O){return Tq(O),O},m.nodeId=function(O){return arguments.length?(o=typeof O=="function"?O:$x(O),m):o},m.nodeAlign=function(O){return arguments.length?(u=typeof O=="function"?O:$x(O),m):u},m.nodeSort=function(O){return arguments.length?(h=O,m):h},m.nodeWidth=function(O){return arguments.length?(n=+O,m):n},m.nodePadding=function(O){return arguments.length?(a=s=+O,m):a},m.nodes=function(O){return arguments.length?(p=typeof O=="function"?O:$x(O),m):p},m.links=function(O){return arguments.length?(g=typeof O=="function"?O:$x(O),m):g},m.linkSort=function(O){return arguments.length?(d=O,m):d},m.size=function(O){return arguments.length?(e=t=0,r=+O[0],i=+O[1],m):[r-e,i-t]},m.extent=function(O){return arguments.length?(e=+O[0][0],r=+O[1][0],t=+O[0][1],i=+O[1][1],m):[[e,t],[r,i]]},m.iterations=function(O){return arguments.length?(f=+O,m):f};function y({nodes:O,links:R}){for(let[L,$]of O.entries())$.index=L,$.sourceLinks=[],$.targetLinks=[];let P=new Map(O.map((L,$)=>[o(L,$,O),L]));for(let[L,$]of R.entries()){$.index=L;let{source:F,target:G}=$;typeof F!="object"&&(F=$.source=kq(P,F)),typeof G!="object"&&(G=$.target=kq(P,G)),F.sourceLinks.push($),G.targetLinks.push($)}if(d!=null)for(let{sourceLinks:L,targetLinks:$}of O)L.sort(d),$.sort(d)}l(y,"computeNodeLinks");function b({nodes:O}){for(let R of O)R.value=R.fixedValue===void 0?Math.max(p8(R.sourceLinks,g8),p8(R.targetLinks,g8)):R.fixedValue}l(b,"computeNodeValues");function v({nodes:O}){let R=O.length,P=new Set(O),L=new Set,$=0;for(;P.size;){for(let F of P){F.depth=$;for(let{target:G}of F.sourceLinks)L.add(G)}if(++$>R)throw new Error("circular link");P=L,L=new Set}}l(v,"computeNodeDepths");function x({nodes:O}){let R=O.length,P=new Set(O),L=new Set,$=0;for(;P.size;){for(let F of P){F.height=$;for(let{source:G}of F.targetLinks)L.add(G)}if(++$>R)throw new Error("circular link");P=L,L=new Set}}l(x,"computeNodeHeights");function w({nodes:O}){let R=yq(O,$=>$.depth)+1,P=(r-e-n)/(R-1),L=new Array(R);for(let $ of O){let F=Math.max(0,Math.min(R-1,Math.floor(u.call(null,$,R))));$.layer=F,$.x0=e+F*P,$.x1=$.x0+n,L[F]?L[F].push($):L[F]=[$]}if(h)for(let $ of L)$.sort(h);return L}l(w,"computeNodeLayers");function k(O){let R=vq(O,P=>(i-t-(P.length-1)*s)/p8(P,g8));for(let P of O){let L=t;for(let $ of P){$.y0=L,$.y1=L+$.value*R,L=$.y1+s;for(let F of $.sourceLinks)F.width=F.value*R}L=(i-L+s)/(P.length+1);for(let $=0;$<P.length;++$){let F=P[$];F.y0+=L*($+1),F.y1+=L*($+1)}A(P)}}l(k,"initializeNodeBreadths");function T(O){let R=w(O);s=Math.min(a,(i-t)/(yq(R,P=>P.length)-1)),k(R);for(let P=0;P<f;++P){let L=Math.pow(.99,P),$=Math.max(1-L,(P+1)/f);C(R,L,$),_(R,L,$)}}l(T,"computeNodeBreadths");function _(O,R,P){for(let L=1,$=O.length;L<$;++L){let F=O[L];for(let G of F){let q=0,V=0;for(let{source:ae,value:re}of G.targetLinks){let oe=re*(G.layer-ae.layer);q+=B(ae,G)*oe,V+=oe}if(!(V>0))continue;let H=(q/V-G.y0)*R;G.y0+=H,G.y1+=H,I(G)}h===void 0&&F.sort(Fx),E(F,P)}}l(_,"relaxLeftToRight");function C(O,R,P){for(let L=O.length,$=L-2;$>=0;--$){let F=O[$];for(let G of F){let q=0,V=0;for(let{target:ae,value:re}of G.sourceLinks){let oe=re*(ae.layer-G.layer);q+=S(G,ae)*oe,V+=oe}if(!(V>0))continue;let H=(q/V-G.y0)*R;G.y0+=H,G.y1+=H,I(G)}h===void 0&&F.sort(Fx),E(F,P)}}l(C,"relaxRightToLeft");function E(O,R){let P=O.length>>1,L=O[P];M(O,L.y0-s,P-1,R),N(O,L.y1+s,P+1,R),M(O,i,O.length-1,R),N(O,t,0,R)}l(E,"resolveCollisions");function N(O,R,P,L){for(;P<O.length;++P){let $=O[P],F=(R-$.y0)*L;F>1e-6&&($.y0+=F,$.y1+=F),R=$.y1+s}}l(N,"resolveCollisionsTopToBottom");function M(O,R,P,L){for(;P>=0;--P){let $=O[P],F=($.y1-R)*L;F>1e-6&&($.y0-=F,$.y1-=F),R=$.y0-s}}l(M,"resolveCollisionsBottomToTop");function I({sourceLinks:O,targetLinks:R}){if(d===void 0){for(let{source:{sourceLinks:P}}of R)P.sort(wq);for(let{target:{targetLinks:P}}of O)P.sort(xq)}}l(I,"reorderNodeLinks");function A(O){if(d===void 0)for(let{sourceLinks:R,targetLinks:P}of O)R.sort(wq),P.sort(xq)}l(A,"reorderLinks");function B(O,R){let P=O.y0-(O.sourceLinks.length-1)*s/2;for(let{target:L,width:$}of O.sourceLinks){if(L===R)break;P+=$+s}for(let{source:L,width:$}of R.targetLinks){if(L===O)break;P-=$}return P}l(B,"targetTop");function S(O,R){let P=R.y0-(R.targetLinks.length-1)*s/2;for(let{source:L,width:$}of R.targetLinks){if(L===O)break;P+=$+s}for(let{target:L,width:$}of O.sourceLinks){if(L===R)break;P-=$}return P}return l(S,"sourceTop"),m}var Xet=D(()=>{"use strict";$Pe(),qPe(),Wet(),l(xq,"ascendingSourceBreadth"),l(wq,"ascendingTargetBreadth"),l(Fx,"ascendingBreadth"),l(g8,"value"),l(jPe,"defaultId"),l(HPe,"defaultNodes"),l(VPe,"defaultLinks"),l(kq,"find"),l(Tq,"computeLinkBreadths"),l(YPe,"Sankey")});function f8(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Eq(){return new f8}var m8,y8,Ch,WPe,XPe,Ket=D(()=>{"use strict";m8=Math.PI,y8=2*m8,Ch=1e-6,WPe=y8-Ch,l(f8,"Path"),l(Eq,"path"),f8.prototype=Eq.prototype={constructor:f8,moveTo:l(function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},"moveTo"),closePath:l(function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},"closePath"),lineTo:l(function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},"lineTo"),quadraticCurveTo:l(function(e,t,r,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+i)},"quadraticCurveTo"),bezierCurveTo:l(function(e,t,r,i,n,a){this._+="C"+ +e+","+ +t+","+ +r+","+ +i+","+(this._x1=+n)+","+(this._y1=+a)},"bezierCurveTo"),arcTo:l(function(e,t,r,i,n){e=+e,t=+t,r=+r,i=+i,n=+n;var a=this._x1,s=this._y1,o=r-e,u=i-t,h=a-e,d=s-t,p=h*h+d*d;if(n<0)throw new Error("negative radius: "+n);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>Ch)if(!(Math.abs(d*o-u*h)>Ch)||!n)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var g=r-a,f=i-s,m=o*o+u*u,y=g*g+f*f,b=Math.sqrt(m),v=Math.sqrt(p),x=n*Math.tan((m8-Math.acos((m+p-y)/(2*b*v)))/2),w=x/v,k=x/b;Math.abs(w-1)>Ch&&(this._+="L"+(e+w*h)+","+(t+w*d)),this._+="A"+n+","+n+",0,0,"+ +(d*g>h*f)+","+(this._x1=e+k*o)+","+(this._y1=t+k*u)}},"arcTo"),arc:l(function(e,t,r,i,n,a){e=+e,t=+t,r=+r,a=!!a;var s=r*Math.cos(i),o=r*Math.sin(i),u=e+s,h=t+o,d=1^a,p=a?i-n:n-i;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+u+","+h:(Math.abs(this._x1-u)>Ch||Math.abs(this._y1-h)>Ch)&&(this._+="L"+u+","+h),r&&(p<0&&(p=p%y8+y8),p>WPe?this._+="A"+r+","+r+",0,1,"+d+","+(e-s)+","+(t-o)+"A"+r+","+r+",0,1,"+d+","+(this._x1=u)+","+(this._y1=h):p>Ch&&(this._+="A"+r+","+r+",0,"+ +(p>=m8)+","+d+","+(this._x1=e+r*Math.cos(n))+","+(this._y1=t+r*Math.sin(n))))},"arc"),rect:l(function(e,t,r,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +i+"h"+-r+"Z"},"rect"),toString:l(function(){return this._},"toString")},XPe=Eq}),Zet=D(()=>{"use strict";Ket()});function Cq(e){return l(function(){return e},"constant")}var Qet=D(()=>{"use strict";l(Cq,"default")});function KPe(e){return e[0]}function ZPe(e){return e[1]}var Jet=D(()=>{"use strict";l(KPe,"x"),l(ZPe,"y")}),QPe,ett=D(()=>{"use strict";QPe=Array.prototype.slice});function JPe(e){return e.source}function eBe(e){return e.target}function tBe(e){var t=JPe,r=eBe,i=KPe,n=ZPe,a=null;function s(){var o,u=QPe.call(arguments),h=t.apply(this,u),d=r.apply(this,u);if(a||(a=o=XPe()),e(a,+i.apply(this,(u[0]=h,u)),+n.apply(this,u),+i.apply(this,(u[0]=d,u)),+n.apply(this,u)),o)return a=null,o+""||null}return l(s,"link"),s.source=function(o){return arguments.length?(t=o,s):t},s.target=function(o){return arguments.length?(r=o,s):r},s.x=function(o){return arguments.length?(i=typeof o=="function"?o:Cq(+o),s):i},s.y=function(o){return arguments.length?(n=typeof o=="function"?o:Cq(+o),s):n},s.context=function(o){return arguments.length?(a=o??null,s):a},s}function rBe(e,t,r,i,n){e.moveTo(t,r),e.bezierCurveTo(t=(t+i)/2,r,t,n,i,n)}function iBe(){return tBe(rBe)}var ttt=D(()=>{"use strict";Zet(),ett(),Qet(),Jet(),l(JPe,"linkSource"),l(eBe,"linkTarget"),l(tBe,"link"),l(rBe,"curveHorizontal"),l(iBe,"linkHorizontal")}),rtt=D(()=>{"use strict";ttt()});function nBe(e){return[e.source.x1,e.y0]}function aBe(e){return[e.target.x0,e.y1]}function sBe(){return iBe().source(nBe).target(aBe)}var itt=D(()=>{"use strict";rtt(),l(nBe,"horizontalSource"),l(aBe,"horizontalTarget"),l(sBe,"default")}),ntt=D(()=>{"use strict";Xet(),qPe(),itt()}),Sq,att=D(()=>{"use strict";Sq=class kj{static{l(this,"Uid")}static{this.count=0}static next(t){return new kj(t+ ++kj.count)}constructor(t){this.id=t,this.href=`#${t}`}toString(){return"url("+this.href+")"}}}),oBe,lBe,cBe,stt=D(()=>{"use strict";Gt(),hr(),ntt(),an(),att(),oBe={left:zPe,right:GPe,center:UPe,justify:bq},lBe=l(function(e,t,r,i){let{securityLevel:n,sankey:a}=Ee(),s=fS.sankey,o;n==="sandbox"&&(o=Ke("#i"+t));let u=Ke(n==="sandbox"?o.nodes()[0].contentDocument.body:"body"),h=n==="sandbox"?u.select(`[id="${t}"]`):Ke(`[id="${t}"]`),d=a?.width??s.width,p=a?.height??s.width,g=a?.useMaxWidth??s.useMaxWidth,f=a?.nodeAlignment??s.nodeAlignment,m=a?.prefix??s.prefix,y=a?.suffix??s.suffix,b=a?.showValues??s.showValues,v=i.db.getGraph(),x=oBe[f];YPe().nodeId(E=>E.id).nodeWidth(10).nodePadding(10+(b?15:0)).nodeAlign(x).extent([[0,0],[d,p]])(v);let w=bu(Qte);h.append("g").attr("class","nodes").selectAll(".node").data(v.nodes).join("g").attr("class","node").attr("id",E=>(E.uid=Sq.next("node-")).id).attr("transform",function(E){return"translate("+E.x0+","+E.y0+")"}).attr("x",E=>E.x0).attr("y",E=>E.y0).append("rect").attr("height",E=>E.y1-E.y0).attr("width",E=>E.x1-E.x0).attr("fill",E=>w(E.id));let k=l(({id:E,value:N})=>b?`${E}
${m}${Math.round(N*100)/100}${y}`:E,"getText");h.append("g").attr("class","node-labels").attr("font-size",14).selectAll("text").data(v.nodes).join("text").attr("x",E=>E.x0<d/2?E.x1+6:E.x0-6).attr("y",E=>(E.y1+E.y0)/2).attr("dy",`${b?"0":"0.35"}em`).attr("text-anchor",E=>E.x0<d/2?"start":"end").text(k);let T=h.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(v.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),_=a?.linkColor??"gradient";if(_==="gradient"){let E=T.append("linearGradient").attr("id",N=>(N.uid=Sq.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",N=>N.source.x1).attr("x2",N=>N.target.x0);E.append("stop").attr("offset","0%").attr("stop-color",N=>w(N.source.id)),E.append("stop").attr("offset","100%").attr("stop-color",N=>w(N.target.id))}let C;switch(_){case"gradient":C=l(E=>E.uid,"coloring");break;case"source":C=l(E=>w(E.source.id),"coloring");break;case"target":C=l(E=>w(E.target.id),"coloring");break;default:C=_}T.append("path").attr("d",sBe()).attr("stroke",C).attr("stroke-width",E=>Math.max(1,E.width)),Gp(void 0,h,0,g)},"draw"),cBe={draw:lBe}}),uBe,ott=D(()=>{"use strict";uBe=l(e=>e.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing")}),hBe,dBe,ltt=D(()=>{"use strict";hBe=l(e=>`.label {
      font-family: ${e.fontFamily};
    }`,"getStyles"),dBe=hBe}),pBe={};sr(pBe,{diagram:()=>fBe});var gBe,fBe,ctt=D(()=>{"use strict";qet(),jet(),stt(),ott(),ltt(),gBe=Rx.parse.bind(Rx),Rx.parse=e=>gBe(uBe(e)),fBe={styles:dBe,parser:Rx,db:BPe,renderer:cBe}}),mBe,_q,yBe=D(()=>{"use strict";pi(),ua(),Zt(),Di(),mBe=xr.packet,_q=class{constructor(){this.packet=[],this.setAccTitle=Mi,this.getAccTitle=Gi,this.setDiagramTitle=sn,this.getDiagramTitle=Ii,this.getAccDescription=qi,this.setAccDescription=Ui}static{l(this,"PacketDB")}getConfig(){let e=ma({...mBe,...Tr().packet});return e.showBits&&(e.paddingY+=10),e}getPacket(){return this.packet}pushWord(e){e.length>0&&this.packet.push(e)}clear(){Ni(),this.packet=[]}}}),vBe,bBe,xBe,Aq,utt=D(()=>{"use strict";tp(),st(),gf(),yBe(),vBe=1e4,bBe=l((e,t)=>{rp(e,t);let r=-1,i=[],n=1,{bitsPerRow:a}=t.getConfig();for(let{start:s,end:o,bits:u,label:h}of e.blocks){if(s!==void 0&&o!==void 0&&o<s)throw new Error(`Packet block ${s} - ${o} is invalid. End must be greater than start.`);if(s??=r+1,s!==r+1)throw new Error(`Packet block ${s} - ${o??s} is not contiguous. It should start from ${r+1}.`);if(u===0)throw new Error(`Packet block ${s} is invalid. Cannot have a zero bit field.`);for(o??=s+(u??1)-1,u??=o-s+1,r=o,ne.debug(`Packet block ${s} - ${r} with label ${h}`);i.length<=a+1&&t.getPacket().length<vBe;){let[d,p]=xBe({start:s,end:o,bits:u,label:h},n,a);if(i.push(d),d.end+1===n*a&&(t.pushWord(i),i=[],n++),!p)break;({start:s,end:o,bits:u,label:h}=p)}}t.pushWord(i)},"populate"),xBe=l((e,t,r)=>{if(e.start===void 0)throw new Error("start should have been set during first phase");if(e.end===void 0)throw new Error("end should have been set during first phase");if(e.start>e.end)throw new Error(`Block start ${e.start} is greater than block end ${e.end}.`);if(e.end+1<=t*r)return[e,void 0];let i=t*r-1,n=t*r;return[{start:e.start,end:i,label:e.label,bits:i-e.start},{start:n,end:e.end,label:e.label,bits:e.end-n}]},"getNextFittingBlock"),Aq={parser:{yy:void 0},parse:l(async e=>{let t=await Hc("packet",e),r=Aq.parser?.yy;if(!(r instanceof _q))throw new Error("parser.parser?.yy was not a PacketDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");ne.debug(t),bBe(t,r)},"parse")}}),wBe,kBe,TBe,htt=D(()=>{"use strict";Kc(),an(),wBe=l((e,t,r,i)=>{let n=i.db,a=n.getConfig(),{rowHeight:s,paddingY:o,bitWidth:u,bitsPerRow:h}=a,d=n.getPacket(),p=n.getDiagramTitle(),g=s+o,f=g*(d.length+1)-(p?0:s),m=u*h+2,y=Il(t);y.attr("viewbox",`0 0 ${m} ${f}`),Wn(y,f,m,a.useMaxWidth);for(let[b,v]of d.entries())kBe(y,v,b,a);y.append("text").text(p).attr("x",m/2).attr("y",f-g/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),kBe=l((e,t,r,{rowHeight:i,paddingX:n,paddingY:a,bitWidth:s,bitsPerRow:o,showBits:u})=>{let h=e.append("g"),d=r*(i+a)+a;for(let p of t){let g=p.start%o*s+1,f=(p.end-p.start+1)*s-n;if(h.append("rect").attr("x",g).attr("y",d).attr("width",f).attr("height",i).attr("class","packetBlock"),h.append("text").attr("x",g+f/2).attr("y",d+i/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(p.label),!u)continue;let m=p.end===p.start,y=d-2;h.append("text").attr("x",g+(m?f/2:0)).attr("y",y).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",m?"middle":"start").text(p.start),m||h.append("text").attr("x",g+f).attr("y",y).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(p.end)}},"drawWord"),TBe={draw:wBe}}),EBe,CBe,dtt=D(()=>{"use strict";Zt(),EBe={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},CBe=l(({packet:e}={})=>{let t=ma(EBe,e);return`
	.packetByte {
		font-size: ${t.byteFontSize};
	}
	.packetByte.start {
		fill: ${t.startByteColor};
	}
	.packetByte.end {
		fill: ${t.endByteColor};
	}
	.packetLabel {
		fill: ${t.labelColor};
		font-size: ${t.labelFontSize};
	}
	.packetTitle {
		fill: ${t.titleColor};
		font-size: ${t.titleFontSize};
	}
	.packetBlock {
		stroke: ${t.blockStrokeColor};
		stroke-width: ${t.blockStrokeWidth};
		fill: ${t.blockFillColor};
	}
	`},"styles")}),SBe={};sr(SBe,{diagram:()=>_Be});var _Be,ptt=D(()=>{"use strict";yBe(),utt(),htt(),dtt(),_Be={parser:Aq,get db(){return new _q},renderer:TBe,styles:CBe}}),dp,Lq,Sh,ABe,LBe,Nq,NBe,MBe,IBe,DBe,RBe,OBe,PBe,If,BBe=D(()=>{"use strict";pi(),ua(),Zt(),Di(),dp={showLegend:!0,ticks:5,max:null,min:0,graticule:"circle"},Lq={axes:[],curves:[],options:dp},Sh=structuredClone(Lq),ABe=xr.radar,LBe=l(()=>ma({...ABe,...Tr().radar}),"getConfig"),Nq=l(()=>Sh.axes,"getAxes"),NBe=l(()=>Sh.curves,"getCurves"),MBe=l(()=>Sh.options,"getOptions"),IBe=l(e=>{Sh.axes=e.map(t=>({name:t.name,label:t.label??t.name}))},"setAxes"),DBe=l(e=>{Sh.curves=e.map(t=>({name:t.name,label:t.label??t.name,entries:RBe(t.entries)}))},"setCurves"),RBe=l(e=>{if(e[0].axis==null)return e.map(r=>r.value);let t=Nq();if(t.length===0)throw new Error("Axes must be populated before curves for reference entries");return t.map(r=>{let i=e.find(n=>n.axis?.$refText===r.name);if(i===void 0)throw new Error("Missing entry for axis "+r.label);return i.value})},"computeCurveEntries"),OBe=l(e=>{let t=e.reduce((r,i)=>(r[i.name]=i,r),{});Sh.options={showLegend:t.showLegend?.value??dp.showLegend,ticks:t.ticks?.value??dp.ticks,max:t.max?.value??dp.max,min:t.min?.value??dp.min,graticule:t.graticule?.value??dp.graticule}},"setOptions"),PBe=l(()=>{Ni(),Sh=structuredClone(Lq)},"clear"),If={getAxes:Nq,getCurves:NBe,getOptions:MBe,setAxes:IBe,setCurves:DBe,setOptions:OBe,getConfig:LBe,clear:PBe,setAccTitle:Mi,getAccTitle:Gi,setDiagramTitle:sn,getDiagramTitle:Ii,getAccDescription:qi,setAccDescription:Ui}}),$Be,FBe,gtt=D(()=>{"use strict";tp(),st(),gf(),BBe(),$Be=l(e=>{rp(e,If);let{axes:t,curves:r,options:i}=e;If.setAxes(t),If.setCurves(r),If.setOptions(i)},"populate"),FBe={parse:l(async e=>{let t=await Hc("radar",e);ne.debug(t),$Be(t)},"parse")}});function zBe(e,t,r,i,n,a,s){let o=t.length,u=Math.min(s.width,s.height)/2;r.forEach((h,d)=>{if(h.entries.length!==o)return;let p=h.entries.map((g,f)=>{let m=2*Math.PI*f/o-Math.PI/2,y=GBe(g,i,n,u),b=y*Math.cos(m),v=y*Math.sin(m);return{x:b,y:v}});a==="circle"?e.append("path").attr("d",UBe(p,s.curveTension)).attr("class",`radarCurve-${d}`):a==="polygon"&&e.append("polygon").attr("points",p.map(g=>`${g.x},${g.y}`).join(" ")).attr("class",`radarCurve-${d}`)})}function GBe(e,t,r,i){let n=Math.min(Math.max(e,t),r);return i*(n-t)/(r-t)}function UBe(e,t){let r=e.length,i=`M${e[0].x},${e[0].y}`;for(let n=0;n<r;n++){let a=e[(n-1+r)%r],s=e[n],o=e[(n+1)%r],u=e[(n+2)%r],h={x:s.x+(o.x-a.x)*t,y:s.y+(o.y-a.y)*t},d={x:o.x-(u.x-s.x)*t,y:o.y-(u.y-s.y)*t};i+=` C${h.x},${h.y} ${d.x},${d.y} ${o.x},${o.y}`}return`${i} Z`}function qBe(e,t,r,i){if(!r)return;let n=(i.width/2+i.marginRight)*3/4,a=-(i.height/2+i.marginTop)*3/4,s=20;t.forEach((o,u)=>{let h=e.append("g").attr("transform",`translate(${n}, ${a+u*s})`);h.append("rect").attr("width",12).attr("height",12).attr("class",`radarLegendBox-${u}`),h.append("text").attr("x",16).attr("y",0).attr("class","radarLegendText").text(o.label)})}var jBe,HBe,VBe,YBe,WBe,ftt=D(()=>{"use strict";Kc(),jBe=l((e,t,r,i)=>{let n=i.db,a=n.getAxes(),s=n.getCurves(),o=n.getOptions(),u=n.getConfig(),h=n.getDiagramTitle(),d=Il(t),p=HBe(d,u),g=o.max??Math.max(...s.map(y=>Math.max(...y.entries))),f=o.min,m=Math.min(u.width,u.height)/2;VBe(p,a,m,o.ticks,o.graticule),YBe(p,a,m,u),zBe(p,a,s,f,g,o.graticule,u),qBe(p,s,o.showLegend,u),p.append("text").attr("class","radarTitle").text(h).attr("x",0).attr("y",-u.height/2-u.marginTop)},"draw"),HBe=l((e,t)=>{let r=t.width+t.marginLeft+t.marginRight,i=t.height+t.marginTop+t.marginBottom,n={x:t.marginLeft+t.width/2,y:t.marginTop+t.height/2};return e.attr("viewbox",`0 0 ${r} ${i}`).attr("width",r).attr("height",i),e.append("g").attr("transform",`translate(${n.x}, ${n.y})`)},"drawFrame"),VBe=l((e,t,r,i,n)=>{if(n==="circle")for(let a=0;a<i;a++){let s=r*(a+1)/i;e.append("circle").attr("r",s).attr("class","radarGraticule")}else if(n==="polygon"){let a=t.length;for(let s=0;s<i;s++){let o=r*(s+1)/i,u=t.map((h,d)=>{let p=2*d*Math.PI/a-Math.PI/2,g=o*Math.cos(p),f=o*Math.sin(p);return`${g},${f}`}).join(" ");e.append("polygon").attr("points",u).attr("class","radarGraticule")}}},"drawGraticule"),YBe=l((e,t,r,i)=>{let n=t.length;for(let a=0;a<n;a++){let s=t[a].label,o=2*a*Math.PI/n-Math.PI/2;e.append("line").attr("x1",0).attr("y1",0).attr("x2",r*i.axisScaleFactor*Math.cos(o)).attr("y2",r*i.axisScaleFactor*Math.sin(o)).attr("class","radarAxisLine"),e.append("text").text(s).attr("x",r*i.axisLabelFactor*Math.cos(o)).attr("y",r*i.axisLabelFactor*Math.sin(o)).attr("class","radarAxisLabel")}},"drawAxes"),l(zBe,"drawCurves"),l(GBe,"relativeRadius"),l(UBe,"closedRoundCurve"),l(qBe,"drawLegend"),WBe={draw:jBe}}),XBe,KBe,ZBe,mtt=D(()=>{"use strict";Zt(),a4(),pi(),XBe=l((e,t)=>{let r="";for(let i=0;i<e.THEME_COLOR_LIMIT;i++){let n=e[`cScale${i}`];r+=`
		.radarCurve-${i} {
			color: ${n};
			fill: ${n};
			fill-opacity: ${t.curveOpacity};
			stroke: ${n};
			stroke-width: ${t.curveStrokeWidth};
		}
		.radarLegendBox-${i} {
			fill: ${n};
			fill-opacity: ${t.curveOpacity};
			stroke: ${n};
		}
		`}return r},"genIndexStyles"),KBe=l(e=>{let t=Qf(),r=Tr(),i=ma(t,r.themeVariables),n=ma(i.radar,e);return{themeVariables:i,radarOptions:n}},"buildRadarStyleOptions"),ZBe=l(({radar:e}={})=>{let{themeVariables:t,radarOptions:r}=KBe(e);return`
	.radarTitle {
		font-size: ${t.fontSize};
		color: ${t.titleColor};
		dominant-baseline: hanging;
		text-anchor: middle;
	}
	.radarAxisLine {
		stroke: ${r.axisColor};
		stroke-width: ${r.axisStrokeWidth};
	}
	.radarAxisLabel {
		dominant-baseline: middle;
		text-anchor: middle;
		font-size: ${r.axisLabelFontSize}px;
		color: ${r.axisColor};
	}
	.radarGraticule {
		fill: ${r.graticuleColor};
		fill-opacity: ${r.graticuleOpacity};
		stroke: ${r.graticuleColor};
		stroke-width: ${r.graticuleStrokeWidth};
	}
	.radarLegendText {
		text-anchor: start;
		font-size: ${r.legendFontSize}px;
		dominant-baseline: hanging;
	}
	${XBe(t,r)}
	`},"styles")}),QBe={};sr(QBe,{diagram:()=>JBe});var JBe,ytt=D(()=>{"use strict";BBe(),gtt(),ftt(),mtt(),JBe={parser:FBe,db:If,renderer:WBe,styles:ZBe}}),v8,e$e,vtt=D(()=>{"use strict";v8=function(){var e=l(function(w,k,T,_){for(T=T||{},_=w.length;_--;T[w[_]]=k);return T},"o"),t=[1,15],r=[1,7],i=[1,13],n=[1,14],a=[1,19],s=[1,16],o=[1,17],u=[1,18],h=[8,30],d=[8,10,21,28,29,30,31,39,43,46],p=[1,23],g=[1,24],f=[8,10,15,16,21,28,29,30,31,39,43,46],m=[8,10,15,16,21,27,28,29,30,31,39,43,46],y=[1,49],b={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,NODE_ID:31,nodeShapeNLabel:32,dirList:33,DIR:34,NODE_DSTART:35,NODE_DEND:36,BLOCK_ARROW_START:37,BLOCK_ARROW_END:38,classDef:39,CLASSDEF_ID:40,CLASSDEF_STYLEOPTS:41,DEFAULT:42,class:43,CLASSENTITY_IDS:44,STYLECLASS:45,style:46,STYLE_ENTITY_IDS:47,STYLE_DEFINITION_DATA:48,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"NODE_ID",34:"DIR",35:"NODE_DSTART",36:"NODE_DEND",37:"BLOCK_ARROW_START",38:"BLOCK_ARROW_END",39:"classDef",40:"CLASSDEF_ID",41:"CLASSDEF_STYLEOPTS",42:"DEFAULT",43:"class",44:"CLASSENTITY_IDS",45:"STYLECLASS",46:"style",47:"STYLE_ENTITY_IDS",48:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[33,1],[33,2],[32,3],[32,4],[23,3],[23,3],[24,3],[25,3]],performAction:l(function(w,k,T,_,C,E,N){var M=E.length-1;switch(C){case 4:_.getLogger().debug("Rule: separator (NL) ");break;case 5:_.getLogger().debug("Rule: separator (Space) ");break;case 6:_.getLogger().debug("Rule: separator (EOF) ");break;case 7:_.getLogger().debug("Rule: hierarchy: ",E[M-1]),_.setHierarchy(E[M-1]);break;case 8:_.getLogger().debug("Stop NL ");break;case 9:_.getLogger().debug("Stop EOF ");break;case 10:_.getLogger().debug("Stop NL2 ");break;case 11:_.getLogger().debug("Stop EOF2 ");break;case 12:_.getLogger().debug("Rule: statement: ",E[M]),typeof E[M].length=="number"?this.$=E[M]:this.$=[E[M]];break;case 13:_.getLogger().debug("Rule: statement #2: ",E[M-1]),this.$=[E[M-1]].concat(E[M]);break;case 14:_.getLogger().debug("Rule: link: ",E[M],w),this.$={edgeTypeStr:E[M],label:""};break;case 15:_.getLogger().debug("Rule: LABEL link: ",E[M-3],E[M-1],E[M]),this.$={edgeTypeStr:E[M],label:E[M-1]};break;case 18:let I=parseInt(E[M]),A=_.generateId();this.$={id:A,type:"space",label:"",width:I,children:[]};break;case 23:_.getLogger().debug("Rule: (nodeStatement link node) ",E[M-2],E[M-1],E[M]," typestr: ",E[M-1].edgeTypeStr);let B=_.edgeStrToEdgeData(E[M-1].edgeTypeStr);this.$=[{id:E[M-2].id,label:E[M-2].label,type:E[M-2].type,directions:E[M-2].directions},{id:E[M-2].id+"-"+E[M].id,start:E[M-2].id,end:E[M].id,label:E[M-1].label,type:"edge",directions:E[M].directions,arrowTypeEnd:B,arrowTypeStart:"arrow_open"},{id:E[M].id,label:E[M].label,type:_.typeStr2Type(E[M].typeStr),directions:E[M].directions}];break;case 24:_.getLogger().debug("Rule: nodeStatement (abc88 node size) ",E[M-1],E[M]),this.$={id:E[M-1].id,label:E[M-1].label,type:_.typeStr2Type(E[M-1].typeStr),directions:E[M-1].directions,widthInColumns:parseInt(E[M],10)};break;case 25:_.getLogger().debug("Rule: nodeStatement (node) ",E[M]),this.$={id:E[M].id,label:E[M].label,type:_.typeStr2Type(E[M].typeStr),directions:E[M].directions,widthInColumns:1};break;case 26:_.getLogger().debug("APA123",this?this:"na"),_.getLogger().debug("COLUMNS: ",E[M]),this.$={type:"column-setting",columns:E[M]==="auto"?-1:parseInt(E[M])};break;case 27:_.getLogger().debug("Rule: id-block statement : ",E[M-2],E[M-1]);let S=_.generateId();this.$={...E[M-2],type:"composite",children:E[M-1]};break;case 28:_.getLogger().debug("Rule: blockStatement : ",E[M-2],E[M-1],E[M]);let O=_.generateId();this.$={id:O,type:"composite",label:"",children:E[M-1]};break;case 29:_.getLogger().debug("Rule: node (NODE_ID separator): ",E[M]),this.$={id:E[M]};break;case 30:_.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",E[M-1],E[M]),this.$={id:E[M-1],label:E[M].label,typeStr:E[M].typeStr,directions:E[M].directions};break;case 31:_.getLogger().debug("Rule: dirList: ",E[M]),this.$=[E[M]];break;case 32:_.getLogger().debug("Rule: dirList: ",E[M-1],E[M]),this.$=[E[M-1]].concat(E[M]);break;case 33:_.getLogger().debug("Rule: nodeShapeNLabel: ",E[M-2],E[M-1],E[M]),this.$={typeStr:E[M-2]+E[M],label:E[M-1]};break;case 34:_.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",E[M-3],E[M-2]," #3:",E[M-1],E[M]),this.$={typeStr:E[M-3]+E[M],label:E[M-2],directions:E[M-1]};break;case 35:case 36:this.$={type:"classDef",id:E[M-1].trim(),css:E[M].trim()};break;case 37:this.$={type:"applyClass",id:E[M-1].trim(),styleClass:E[M].trim()};break;case 38:this.$={type:"applyStyles",id:E[M-1].trim(),stylesStr:E[M].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{10:t,11:3,13:4,19:5,20:6,21:r,22:8,23:9,24:10,25:11,26:12,28:i,29:n,31:a,39:s,43:o,46:u},{8:[1,20]},e(h,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,10:t,21:r,28:i,29:n,31:a,39:s,43:o,46:u}),e(d,[2,16],{14:22,15:p,16:g}),e(d,[2,17]),e(d,[2,18]),e(d,[2,19]),e(d,[2,20]),e(d,[2,21]),e(d,[2,22]),e(f,[2,25],{27:[1,25]}),e(d,[2,26]),{19:26,26:12,31:a},{10:t,11:27,13:4,19:5,20:6,21:r,22:8,23:9,24:10,25:11,26:12,28:i,29:n,31:a,39:s,43:o,46:u},{40:[1,28],42:[1,29]},{44:[1,30]},{47:[1,31]},e(m,[2,29],{32:32,35:[1,33],37:[1,34]}),{1:[2,7]},e(h,[2,13]),{26:35,31:a},{31:[2,14]},{17:[1,36]},e(f,[2,24]),{10:t,11:37,13:4,14:22,15:p,16:g,19:5,20:6,21:r,22:8,23:9,24:10,25:11,26:12,28:i,29:n,31:a,39:s,43:o,46:u},{30:[1,38]},{41:[1,39]},{41:[1,40]},{45:[1,41]},{48:[1,42]},e(m,[2,30]),{18:[1,43]},{18:[1,44]},e(f,[2,23]),{18:[1,45]},{30:[1,46]},e(d,[2,28]),e(d,[2,35]),e(d,[2,36]),e(d,[2,37]),e(d,[2,38]),{36:[1,47]},{33:48,34:y},{15:[1,50]},e(d,[2,27]),e(m,[2,33]),{38:[1,51]},{33:52,34:y,38:[2,31]},{31:[2,15]},e(m,[2,34]),{38:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:l(function(w,k){if(k.recoverable)this.trace(w);else{var T=new Error(w);throw T.hash=k,T}},"parseError"),parse:l(function(w){var k=this,T=[0],_=[],C=[null],E=[],N=this.table,M="",I=0,A=0,B=0,S=2,O=1,R=E.slice.call(arguments,1),P=Object.create(this.lexer),L={yy:{}};for(var $ in this.yy)Object.prototype.hasOwnProperty.call(this.yy,$)&&(L.yy[$]=this.yy[$]);P.setInput(w,L.yy),L.yy.lexer=P,L.yy.parser=this,typeof P.yylloc>"u"&&(P.yylloc={});var F=P.yylloc;E.push(F);var G=P.options&&P.options.ranges;typeof L.yy.parseError=="function"?this.parseError=L.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function q(me){T.length=T.length-2*me,C.length=C.length-me,E.length=E.length-me}l(q,"popStack");function V(){var me;return me=_.pop()||P.lex()||O,typeof me!="number"&&(me instanceof Array&&(_=me,me=_.pop()),me=k.symbols_[me]||me),me}l(V,"lex");for(var H,ae,re,oe,ue,W,ee={},X,Z,J,he;;){if(re=T[T.length-1],this.defaultActions[re]?oe=this.defaultActions[re]:((H===null||typeof H>"u")&&(H=V()),oe=N[re]&&N[re][H]),typeof oe>"u"||!oe.length||!oe[0]){var K="";he=[];for(X in N[re])this.terminals_[X]&&X>S&&he.push("'"+this.terminals_[X]+"'");P.showPosition?K="Parse error on line "+(I+1)+`:
`+P.showPosition()+`
Expecting `+he.join(", ")+", got '"+(this.terminals_[H]||H)+"'":K="Parse error on line "+(I+1)+": Unexpected "+(H==O?"end of input":"'"+(this.terminals_[H]||H)+"'"),this.parseError(K,{text:P.match,token:this.terminals_[H]||H,line:P.yylineno,loc:F,expected:he})}if(oe[0]instanceof Array&&oe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+re+", token: "+H);switch(oe[0]){case 1:T.push(H),C.push(P.yytext),E.push(P.yylloc),T.push(oe[1]),H=null,ae?(H=ae,ae=null):(A=P.yyleng,M=P.yytext,I=P.yylineno,F=P.yylloc,B>0&&B--);break;case 2:if(Z=this.productions_[oe[1]][1],ee.$=C[C.length-Z],ee._$={first_line:E[E.length-(Z||1)].first_line,last_line:E[E.length-1].last_line,first_column:E[E.length-(Z||1)].first_column,last_column:E[E.length-1].last_column},G&&(ee._$.range=[E[E.length-(Z||1)].range[0],E[E.length-1].range[1]]),W=this.performAction.apply(ee,[M,A,I,L.yy,oe[1],C,E].concat(R)),typeof W<"u")return W;Z&&(T=T.slice(0,-1*Z*2),C=C.slice(0,-1*Z),E=E.slice(0,-1*Z)),T.push(this.productions_[oe[1]][0]),C.push(ee.$),E.push(ee._$),J=N[T[T.length-2]][T[T.length-1]],T.push(J);break;case 3:return!0}}return!0},"parse")},v=function(){var w={EOF:1,parseError:l(function(k,T){if(this.yy.parser)this.yy.parser.parseError(k,T);else throw new Error(k)},"parseError"),setInput:l(function(k,T){return this.yy=T||this.yy||{},this._input=k,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var k=this._input[0];this.yytext+=k,this.yyleng++,this.offset++,this.match+=k,this.matched+=k;var T=k.match(/(?:\r\n?|\n).*/g);return T?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),k},"input"),unput:l(function(k){var T=k.length,_=k.split(/(?:\r\n?|\n)/g);this._input=k+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-T),this.offset-=T;var C=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),_.length-1&&(this.yylineno-=_.length-1);var E=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:_?(_.length===C.length?this.yylloc.first_column:0)+C[C.length-_.length].length-_[0].length:this.yylloc.first_column-T},this.options.ranges&&(this.yylloc.range=[E[0],E[0]+this.yyleng-T]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(k){this.unput(this.match.slice(k))},"less"),pastInput:l(function(){var k=this.matched.substr(0,this.matched.length-this.match.length);return(k.length>20?"...":"")+k.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var k=this.match;return k.length<20&&(k+=this._input.substr(0,20-k.length)),(k.substr(0,20)+(k.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var k=this.pastInput(),T=new Array(k.length+1).join("-");return k+this.upcomingInput()+`
`+T+"^"},"showPosition"),test_match:l(function(k,T){var _,C,E;if(this.options.backtrack_lexer&&(E={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(E.yylloc.range=this.yylloc.range.slice(0))),C=k[0].match(/(?:\r\n?|\n).*/g),C&&(this.yylineno+=C.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:C?C[C.length-1].length-C[C.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+k[0].length},this.yytext+=k[0],this.match+=k[0],this.matches=k,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(k[0].length),this.matched+=k[0],_=this.performAction.call(this,this.yy,this,T,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),_)return _;if(this._backtrack){for(var N in E)this[N]=E[N];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var k,T,_,C;this._more||(this.yytext="",this.match="");for(var E=this._currentRules(),N=0;N<E.length;N++)if(_=this._input.match(this.rules[E[N]]),_&&(!T||_[0].length>T[0].length)){if(T=_,C=N,this.options.backtrack_lexer){if(k=this.test_match(_,E[N]),k!==!1)return k;if(this._backtrack){T=!1;continue}else return!1}else if(!this.options.flex)break}return T?(k=this.test_match(T,E[C]),k!==!1?k:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var k=this.next();return k||this.lex()},"lex"),begin:l(function(k){this.conditionStack.push(k)},"begin"),popState:l(function(){var k=this.conditionStack.length-1;return k>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(k){return k=this.conditionStack.length-1-Math.abs(k||0),k>=0?this.conditionStack[k]:"INITIAL"},"topState"),pushState:l(function(k){this.begin(k)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(k,T,_,C){var E=C;switch(_){case 0:return k.getLogger().debug("Found block-beta"),10;case 1:return k.getLogger().debug("Found id-block"),29;case 2:return k.getLogger().debug("Found block"),10;case 3:k.getLogger().debug(".",T.yytext);break;case 4:k.getLogger().debug("_",T.yytext);break;case 5:return 5;case 6:return T.yytext=-1,28;case 7:return T.yytext=T.yytext.replace(/columns\s+/,""),k.getLogger().debug("COLUMNS (LEX)",T.yytext),28;case 8:this.pushState("md_string");break;case 9:return"MD_STR";case 10:this.popState();break;case 11:this.pushState("string");break;case 12:k.getLogger().debug("LEX: POPPING STR:",T.yytext),this.popState();break;case 13:return k.getLogger().debug("LEX: STR end:",T.yytext),"STR";case 14:return T.yytext=T.yytext.replace(/space\:/,""),k.getLogger().debug("SPACE NUM (LEX)",T.yytext),21;case 15:return T.yytext="1",k.getLogger().debug("COLUMNS (LEX)",T.yytext),21;case 16:return 42;case 17:return"LINKSTYLE";case 18:return"INTERPOLATE";case 19:return this.pushState("CLASSDEF"),39;case 20:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 21:return this.popState(),this.pushState("CLASSDEFID"),40;case 22:return this.popState(),41;case 23:return this.pushState("CLASS"),43;case 24:return this.popState(),this.pushState("CLASS_STYLE"),44;case 25:return this.popState(),45;case 26:return this.pushState("STYLE_STMNT"),46;case 27:return this.popState(),this.pushState("STYLE_DEFINITION"),47;case 28:return this.popState(),48;case 29:return this.pushState("acc_title"),"acc_title";case 30:return this.popState(),"acc_title_value";case 31:return this.pushState("acc_descr"),"acc_descr";case 32:return this.popState(),"acc_descr_value";case 33:this.pushState("acc_descr_multiline");break;case 34:this.popState();break;case 35:return"acc_descr_multiline_value";case 36:return 30;case 37:return this.popState(),k.getLogger().debug("Lex: (("),"NODE_DEND";case 38:return this.popState(),k.getLogger().debug("Lex: (("),"NODE_DEND";case 39:return this.popState(),k.getLogger().debug("Lex: ))"),"NODE_DEND";case 40:return this.popState(),k.getLogger().debug("Lex: (("),"NODE_DEND";case 41:return this.popState(),k.getLogger().debug("Lex: (("),"NODE_DEND";case 42:return this.popState(),k.getLogger().debug("Lex: (-"),"NODE_DEND";case 43:return this.popState(),k.getLogger().debug("Lex: -)"),"NODE_DEND";case 44:return this.popState(),k.getLogger().debug("Lex: (("),"NODE_DEND";case 45:return this.popState(),k.getLogger().debug("Lex: ]]"),"NODE_DEND";case 46:return this.popState(),k.getLogger().debug("Lex: ("),"NODE_DEND";case 47:return this.popState(),k.getLogger().debug("Lex: ])"),"NODE_DEND";case 48:return this.popState(),k.getLogger().debug("Lex: /]"),"NODE_DEND";case 49:return this.popState(),k.getLogger().debug("Lex: /]"),"NODE_DEND";case 50:return this.popState(),k.getLogger().debug("Lex: )]"),"NODE_DEND";case 51:return this.popState(),k.getLogger().debug("Lex: )"),"NODE_DEND";case 52:return this.popState(),k.getLogger().debug("Lex: ]>"),"NODE_DEND";case 53:return this.popState(),k.getLogger().debug("Lex: ]"),"NODE_DEND";case 54:return k.getLogger().debug("Lexa: -)"),this.pushState("NODE"),35;case 55:return k.getLogger().debug("Lexa: (-"),this.pushState("NODE"),35;case 56:return k.getLogger().debug("Lexa: ))"),this.pushState("NODE"),35;case 57:return k.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 58:return k.getLogger().debug("Lex: ((("),this.pushState("NODE"),35;case 59:return k.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 60:return k.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 61:return k.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 62:return k.getLogger().debug("Lexc: >"),this.pushState("NODE"),35;case 63:return k.getLogger().debug("Lexa: (["),this.pushState("NODE"),35;case 64:return k.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 65:return this.pushState("NODE"),35;case 66:return this.pushState("NODE"),35;case 67:return this.pushState("NODE"),35;case 68:return this.pushState("NODE"),35;case 69:return this.pushState("NODE"),35;case 70:return this.pushState("NODE"),35;case 71:return this.pushState("NODE"),35;case 72:return k.getLogger().debug("Lexa: ["),this.pushState("NODE"),35;case 73:return this.pushState("BLOCK_ARROW"),k.getLogger().debug("LEX ARR START"),37;case 74:return k.getLogger().debug("Lex: NODE_ID",T.yytext),31;case 75:return k.getLogger().debug("Lex: EOF",T.yytext),8;case 76:this.pushState("md_string");break;case 77:this.pushState("md_string");break;case 78:return"NODE_DESCR";case 79:this.popState();break;case 80:k.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 81:k.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 82:return k.getLogger().debug("LEX: NODE_DESCR:",T.yytext),"NODE_DESCR";case 83:k.getLogger().debug("LEX POPPING"),this.popState();break;case 84:k.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 85:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (right): dir:",T.yytext),"DIR";case 86:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (left):",T.yytext),"DIR";case 87:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (x):",T.yytext),"DIR";case 88:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (y):",T.yytext),"DIR";case 89:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (up):",T.yytext),"DIR";case 90:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (down):",T.yytext),"DIR";case 91:return T.yytext="]>",k.getLogger().debug("Lex (ARROW_DIR end):",T.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 92:return k.getLogger().debug("Lex: LINK","#"+T.yytext+"#"),15;case 93:return k.getLogger().debug("Lex: LINK",T.yytext),15;case 94:return k.getLogger().debug("Lex: LINK",T.yytext),15;case 95:return k.getLogger().debug("Lex: LINK",T.yytext),15;case 96:return k.getLogger().debug("Lex: START_LINK",T.yytext),this.pushState("LLABEL"),16;case 97:return k.getLogger().debug("Lex: START_LINK",T.yytext),this.pushState("LLABEL"),16;case 98:return k.getLogger().debug("Lex: START_LINK",T.yytext),this.pushState("LLABEL"),16;case 99:this.pushState("md_string");break;case 100:return k.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 101:return this.popState(),k.getLogger().debug("Lex: LINK","#"+T.yytext+"#"),15;case 102:return this.popState(),k.getLogger().debug("Lex: LINK",T.yytext),15;case 103:return this.popState(),k.getLogger().debug("Lex: LINK",T.yytext),15;case 104:return k.getLogger().debug("Lex: COLON",T.yytext),T.yytext=T.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block:)/,/^(?:block\b)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[28],inclusive:!1},STYLE_STMNT:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[22],inclusive:!1},CLASSDEF:{rules:[20,21],inclusive:!1},CLASS_STYLE:{rules:[25],inclusive:!1},CLASS:{rules:[24],inclusive:!1},LLABEL:{rules:[99,100,101,102,103],inclusive:!1},ARROW_DIR:{rules:[85,86,87,88,89,90,91],inclusive:!1},BLOCK_ARROW:{rules:[76,81,84],inclusive:!1},NODE:{rules:[37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,77,80],inclusive:!1},md_string:{rules:[9,10,78,79],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[12,13,82,83],inclusive:!1},acc_descr_multiline:{rules:[34,35],inclusive:!1},acc_descr:{rules:[32],inclusive:!1},acc_title:{rules:[30],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,11,14,15,16,17,18,19,23,26,29,31,33,36,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,92,93,94,95,96,97,98,104],inclusive:!0}}};return w}();b.lexer=v;function x(){this.yy={}}return l(x,"Parser"),x.prototype=b,b.Parser=x,new x}(),v8.parser=v8,e$e=v8});function t$e(e){switch(ne.debug("typeStr2Type",e),e){case"[]":return"square";case"()":return ne.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function r$e(e){switch(ne.debug("typeStr2Type",e),e){case"==":return"thick";default:return"normal"}}function i$e(e){switch(e.replace(/^[\s-]+|[\s-]+$/g,"")){case"x":return"arrow_cross";case"o":return"arrow_circle";case">":return"arrow_point";default:return""}}var Us,b8,x8,Mq,Iq,n$e,Dq,a$e,zx,s$e,o$e,l$e,c$e,Rq,w8,Df,u$e,Oq,h$e,d$e,p$e,g$e,f$e,m$e,y$e,v$e,b$e,x$e,w$e,k$e,btt=D(()=>{"use strict";sfe(),pi(),Gt(),st(),cr(),Di(),Us=new Map,b8=[],x8=new Map,Mq="color",Iq="fill",n$e="bgFill",Dq=",",a$e=Ee(),zx=new Map,s$e=l(e=>nt.sanitizeText(e,a$e),"sanitizeText"),o$e=l(function(e,t=""){let r=zx.get(e);r||(r={id:e,styles:[],textStyles:[]},zx.set(e,r)),t?.split(Dq).forEach(i=>{let n=i.replace(/([^;]*);/,"$1").trim();if(RegExp(Mq).exec(i)){let a=n.replace(Iq,n$e).replace(Mq,Iq);r.textStyles.push(a)}r.styles.push(n)})},"addStyleClass"),l$e=l(function(e,t=""){let r=Us.get(e);t!=null&&(r.styles=t.split(Dq))},"addStyle2Node"),c$e=l(function(e,t){e.split(",").forEach(function(r){let i=Us.get(r);if(i===void 0){let n=r.trim();i={id:n,type:"na",children:[]},Us.set(n,i)}i.classes||(i.classes=[]),i.classes.push(t)})},"setCssClass"),Rq=l((e,t)=>{let r=e.flat(),i=[],n=r.find(a=>a?.type==="column-setting")?.columns??-1;for(let a of r){if(typeof n=="number"&&n>0&&a.type!=="column-setting"&&typeof a.widthInColumns=="number"&&a.widthInColumns>n&&ne.warn(`Block ${a.id} width ${a.widthInColumns} exceeds configured column width ${n}`),a.label&&(a.label=s$e(a.label)),a.type==="classDef"){o$e(a.id,a.css);continue}if(a.type==="applyClass"){c$e(a.id,a?.styleClass??"");continue}if(a.type==="applyStyles"){a?.stylesStr&&l$e(a.id,a?.stylesStr);continue}if(a.type==="column-setting")t.columns=a.columns??-1;else if(a.type==="edge"){let s=(x8.get(a.id)??0)+1;x8.set(a.id,s),a.id=s+"-"+a.id,b8.push(a)}else{a.label||(a.type==="composite"?a.label="":a.label=a.id);let s=Us.get(a.id);if(s===void 0?Us.set(a.id,a):(a.type!=="na"&&(s.type=a.type),a.label!==a.id&&(s.label=a.label)),a.children&&Rq(a.children,a),a.type==="space"){let o=a.width??1;for(let u=0;u<o;u++){let h=Wi(a);h.id=h.id+"-"+u,Us.set(h.id,h),i.push(h)}}else s===void 0&&i.push(a)}}t.children=i},"populateBlockDatabase"),w8=[],Df={id:"root",type:"composite",children:[],columns:-1},u$e=l(()=>{ne.debug("Clear called"),Ni(),Df={id:"root",type:"composite",children:[],columns:-1},Us=new Map([["root",Df]]),w8=[],zx=new Map,b8=[],x8=new Map},"clear"),l(t$e,"typeStr2Type"),l(r$e,"edgeTypeStr2Type"),l(i$e,"edgeStrToEdgeData"),Oq=0,h$e=l(()=>(Oq++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Oq),"generateId"),d$e=l(e=>{Df.children=e,Rq(e,Df),w8=Df.children},"setHierarchy"),p$e=l(e=>{let t=Us.get(e);return t?t.columns?t.columns:t.children?t.children.length:-1:-1},"getColumns"),g$e=l(()=>[...Us.values()],"getBlocksFlat"),f$e=l(()=>w8||[],"getBlocks"),m$e=l(()=>b8,"getEdges"),y$e=l(e=>Us.get(e),"getBlock"),v$e=l(e=>{Us.set(e.id,e)},"setBlock"),b$e=l(()=>ne,"getLogger"),x$e=l(function(){return zx},"getClasses"),w$e={getConfig:l(()=>Tr().block,"getConfig"),typeStr2Type:t$e,edgeTypeStr2Type:r$e,edgeStrToEdgeData:i$e,getLogger:b$e,getBlocksFlat:g$e,getBlocks:f$e,getEdges:m$e,setHierarchy:d$e,getBlock:y$e,setBlock:v$e,getColumns:p$e,getClasses:x$e,clear:u$e,generateId:h$e},k$e=w$e}),Gx,T$e,E$e,xtt=D(()=>{"use strict";xs(),Gv(),Gx=l((e,t)=>{let r=i4,i=r(e,"r"),n=r(e,"g"),a=r(e,"b");return Fl(i,n,a,t)},"fade"),T$e=l(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span,p {
    color: ${e.titleColor};
  }



  .label text,span,p {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${Gx(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${Gx(e.mainBkg,.5)};
    fill: ${Gx(e.clusterBkg,.5)};
    stroke: ${Gx(e.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span,p {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
  ${R1()}
`,"getStyles"),E$e=T$e}),C$e,S$e,_$e,A$e,L$e,N$e,M$e,I$e,D$e,R$e,O$e,P$e,wtt=D(()=>{"use strict";st(),C$e=l((e,t,r,i)=>{t.forEach(n=>{O$e[n](e,r,i)})},"insertMarkers"),S$e=l((e,t,r)=>{ne.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),_$e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),A$e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),L$e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),N$e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),M$e=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),I$e=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),D$e=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),R$e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),O$e={extension:S$e,composition:_$e,aggregation:A$e,dependency:L$e,lollipop:N$e,point:M$e,circle:I$e,cross:D$e,barb:R$e},P$e=C$e});function B$e(e,t){if(e===0||!Number.isInteger(e))throw new Error("Columns must be an integer !== 0.");if(t<0||!Number.isInteger(t))throw new Error("Position must be a non-negative integer."+t);if(e<0)return{px:t,py:0};if(e===1)return{px:0,py:t};let r=t%e,i=Math.floor(t/e);return{px:r,py:i}}function k8(e,t,r=0,i=0){ne.debug("setBlockSizes abc95 (start)",e.id,e?.size?.x,"block width =",e?.size,"siblingWidth",r),e?.size?.width||(e.size={width:r,height:i,x:0,y:0});let n=0,a=0;if(e.children?.length>0){for(let f of e.children)k8(f,t);let s=F$e(e);n=s.width,a=s.height,ne.debug("setBlockSizes abc95 maxWidth of",e.id,":s children is ",n,a);for(let f of e.children)f.size&&(ne.debug(`abc95 Setting size of children of ${e.id} id=${f.id} ${n} ${a} ${JSON.stringify(f.size)}`),f.size.width=n*(f.widthInColumns??1)+_i*((f.widthInColumns??1)-1),f.size.height=a,f.size.x=0,f.size.y=0,ne.debug(`abc95 updating size of ${e.id} children child:${f.id} maxWidth:${n} maxHeight:${a}`));for(let f of e.children)k8(f,t,n,a);let o=e.columns??-1,u=0;for(let f of e.children)u+=f.widthInColumns??1;let h=e.children.length;o>0&&o<u&&(h=o);let d=Math.ceil(u/h),p=h*(n+_i)+_i,g=d*(a+_i)+_i;if(p<r){ne.debug(`Detected to small sibling: abc95 ${e.id} siblingWidth ${r} siblingHeight ${i} width ${p}`),p=r,g=i;let f=(r-h*_i-_i)/h,m=(i-d*_i-_i)/d;ne.debug("Size indata abc88",e.id,"childWidth",f,"maxWidth",n),ne.debug("Size indata abc88",e.id,"childHeight",m,"maxHeight",a),ne.debug("Size indata abc88 xSize",h,"padding",_i);for(let y of e.children)y.size&&(y.size.width=f,y.size.height=m,y.size.x=0,y.size.y=0)}if(ne.debug(`abc95 (finale calc) ${e.id} xSize ${h} ySize ${d} columns ${o}${e.children.length} width=${Math.max(p,e.size?.width||0)}`),p<(e?.size?.width||0)){p=e?.size?.width||0;let f=o>0?Math.min(e.children.length,o):e.children.length;if(f>0){let m=(p-f*_i-_i)/f;ne.debug("abc95 (growing to fit) width",e.id,p,e.size?.width,m);for(let y of e.children)y.size&&(y.size.width=m)}}e.size={width:p,height:g,x:0,y:0}}ne.debug("setBlockSizes abc94 (done)",e.id,e?.size?.x,e?.size?.width,e?.size?.y,e?.size?.height)}function Pq(e,t){ne.debug(`abc85 layout blocks (=>layoutBlocks) ${e.id} x: ${e?.size?.x} y: ${e?.size?.y} width: ${e?.size?.width}`);let r=e.columns??-1;if(ne.debug("layoutBlocks columns abc95",e.id,"=>",r,e),e.children&&e.children.length>0){let i=e?.children[0]?.size?.width??0,n=e.children.length*i+(e.children.length-1)*_i;ne.debug("widthOfChildren 88",n,"posX");let a=0;ne.debug("abc91 block?.size?.x",e.id,e?.size?.x);let s=e?.size?.x?e?.size?.x+(-e?.size?.width/2||0):-_i,o=0;for(let u of e.children){let h=e;if(!u.size)continue;let{width:d,height:p}=u.size,{px:g,py:f}=B$e(r,a);if(f!=o&&(o=f,s=e?.size?.x?e?.size?.x+(-e?.size?.width/2||0):-_i,ne.debug("New row in layout for block",e.id," and child ",u.id,o)),ne.debug(`abc89 layout blocks (child) id: ${u.id} Pos: ${a} (px, py) ${g},${f} (${h?.size?.x},${h?.size?.y}) parent: ${h.id} width: ${d}${_i}`),h.size){let y=d/2;u.size.x=s+_i+y,ne.debug(`abc91 layout blocks (calc) px, pyid:${u.id} startingPos=X${s} new startingPosX${u.size.x} ${y} padding=${_i} width=${d} halfWidth=${y} => x:${u.size.x} y:${u.size.y} ${u.widthInColumns} (width * (child?.w || 1)) / 2 ${d*(u?.widthInColumns??1)/2}`),s=u.size.x+y,u.size.y=h.size.y-h.size.height/2+f*(p+_i)+p/2+_i,ne.debug(`abc88 layout blocks (calc) px, pyid:${u.id}startingPosX${s}${_i}${y}=>x:${u.size.x}y:${u.size.y}${u.widthInColumns}(width * (child?.w || 1)) / 2${d*(u?.widthInColumns??1)/2}`)}u.children&&Pq(u,t);let m=u?.widthInColumns??1;r>0&&(m=Math.min(m,r-a%r)),a+=m,ne.debug("abc88 columnsPos",u,a)}}ne.debug(`layout blocks (<==layoutBlocks) ${e.id} x: ${e?.size?.x} y: ${e?.size?.y} width: ${e?.size?.width}`)}function Bq(e,{minX:t,minY:r,maxX:i,maxY:n}={minX:0,minY:0,maxX:0,maxY:0}){if(e.size&&e.id!=="root"){let{x:a,y:s,width:o,height:u}=e.size;a-o/2<t&&(t=a-o/2),s-u/2<r&&(r=s-u/2),a+o/2>i&&(i=a+o/2),s+u/2>n&&(n=s+u/2)}if(e.children)for(let a of e.children)({minX:t,minY:r,maxX:i,maxY:n}=Bq(a,{minX:t,minY:r,maxX:i,maxY:n}));return{minX:t,minY:r,maxX:i,maxY:n}}function $$e(e){let t=e.getBlock("root");if(!t)return;k8(t,e,0,0),Pq(t,e),ne.debug("getBlocks",JSON.stringify(t,null,2));let{minX:r,minY:i,maxX:n,maxY:a}=Bq(t),s=a-i,o=n-r;return{x:r,y:i,width:o,height:s}}var _i,F$e,ktt=D(()=>{"use strict";st(),Gt(),_i=Ee()?.block?.padding??8,l(B$e,"calculateBlockPosition"),F$e=l(e=>{let t=0,r=0;for(let i of e.children){let{width:n,height:a,x:s,y:o}=i.size??{width:0,height:0,x:0,y:0};ne.debug("getMaxChildSize abc95 child:",i.id,"width:",n,"height:",a,"x:",s,"y:",o,i.type),i.type!=="space"&&(n>t&&(t=n/(e.widthInColumns??1)),a>r&&(r=a))}return{width:t,height:r}},"getMaxChildSize"),l(k8,"setBlockSizes"),l(Pq,"layoutBlocks"),l(Bq,"findBounds"),l($$e,"layout")});function $q(e,t){t&&e.attr("style",t)}function z$e(e,t){let r=Ke(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),i=r.append("xhtml:div"),n=e.label,a=e.isNode?"nodeLabel":"edgeLabel",s=i.append("span");return s.html(wr(n,t)),$q(s,e.labelStyle),s.attr("class",a),$q(i,e.labelStyle),i.style("display","inline-block"),i.style("white-space","nowrap"),i.attr("xmlns","http://www.w3.org/1999/xhtml"),r.node()}var G$e,ys,Fq=D(()=>{"use strict";hr(),Gt(),cr(),st(),po(),Zt(),l($q,"applyStyle"),l(z$e,"addHtmlLabel"),G$e=l(async(e,t,r,i)=>{let n=e||"";typeof n=="object"&&(n=n[0]);let a=Ee();if(Gr(a.flowchart.htmlLabels)){n=n.replace(/\\n|\n/g,"<br />"),ne.debug("vertexText"+n);let s=await KL(co(n)),o={isNode:i,label:s,labelStyle:t.replace("fill:","color:")};return z$e(o,a)}else{let s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let o=[];typeof n=="string"?o=n.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(n)?o=n:o=[];for(let u of o){let h=document.createElementNS("http://www.w3.org/2000/svg","tspan");h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),h.setAttribute("dy","1em"),h.setAttribute("x","0"),r?h.setAttribute("class","title-row"):h.setAttribute("class","row"),h.textContent=u.trim(),s.appendChild(h)}return s}},"createLabel"),ys=G$e}),U$e,q$e,zq,Ttt=D(()=>{"use strict";st(),U$e=l((e,t,r,i,n)=>{t.arrowTypeStart&&zq(e,"start",t.arrowTypeStart,r,i,n),t.arrowTypeEnd&&zq(e,"end",t.arrowTypeEnd,r,i,n)},"addEdgeMarkers"),q$e={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},zq=l((e,t,r,i,n,a)=>{let s=q$e[r];if(!s){ne.warn(`Unknown arrow type: ${r}`);return}let o=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${i}#${n}_${a}-${s}${o})`)},"addEdgeMarker")});function Ux(e,t){Ee().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}var T8,Fn,j$e,H$e,V$e,Y$e,Gq,W$e,Ett=D(()=>{"use strict";st(),Fq(),po(),hr(),Gt(),Zt(),cr(),i0e(),B6(),Ttt(),T8={},Fn={},j$e=l(async(e,t)=>{let r=Ee(),i=Gr(r.flowchart.htmlLabels),n=t.labelType==="markdown"?Ba(e,t.label,{style:t.labelStyle,useHtmlLabels:i,addSvgBackground:!0},r):await ys(t.label,t.labelStyle),a=e.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label");s.node().appendChild(n);let o=n.getBBox();if(i){let h=n.children[0],d=Ke(n);o=h.getBoundingClientRect(),d.attr("width",o.width),d.attr("height",o.height)}s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),T8[t.id]=a,t.width=o.width,t.height=o.height;let u;if(t.startLabelLeft){let h=await ys(t.startLabelLeft,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),Fn[t.id]||(Fn[t.id]={}),Fn[t.id].startLeft=d,Ux(u,t.startLabelLeft)}if(t.startLabelRight){let h=await ys(t.startLabelRight,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=d.node().appendChild(h),p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),Fn[t.id]||(Fn[t.id]={}),Fn[t.id].startRight=d,Ux(u,t.startLabelRight)}if(t.endLabelLeft){let h=await ys(t.endLabelLeft,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(h),Fn[t.id]||(Fn[t.id]={}),Fn[t.id].endLeft=d,Ux(u,t.endLabelLeft)}if(t.endLabelRight){let h=await ys(t.endLabelRight,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(h),Fn[t.id]||(Fn[t.id]={}),Fn[t.id].endRight=d,Ux(u,t.endLabelRight)}return n},"insertEdgeLabel"),l(Ux,"setTerminalWidth"),H$e=l((e,t)=>{ne.debug("Moving label abc88 ",e.id,e.label,T8[e.id],t);let r=t.updatedPath?t.updatedPath:t.originalPath,i=Ee(),{subGraphTitleTotalMargin:n}=zg(i);if(e.label){let a=T8[e.id],s=e.x,o=e.y;if(r){let u=or.calcLabelPosition(r);ne.debug("Moving label "+e.label+" from (",s,",",o,") to (",u.x,",",u.y,") abc88"),t.updatedPath&&(s=u.x,o=u.y)}a.attr("transform",`translate(${s}, ${o+n/2})`)}if(e.startLabelLeft){let a=Fn[e.id].startLeft,s=e.x,o=e.y;if(r){let u=or.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.startLabelRight){let a=Fn[e.id].startRight,s=e.x,o=e.y;if(r){let u=or.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.endLabelLeft){let a=Fn[e.id].endLeft,s=e.x,o=e.y;if(r){let u=or.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.endLabelRight){let a=Fn[e.id].endRight,s=e.x,o=e.y;if(r){let u=or.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),V$e=l((e,t)=>{let r=e.x,i=e.y,n=Math.abs(t.x-r),a=Math.abs(t.y-i),s=e.width/2,o=e.height/2;return n>=s||a>=o},"outsideNode"),Y$e=l((e,t,r)=>{ne.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let i=e.x,n=e.y,a=Math.abs(i-r.x),s=e.width/2,o=r.x<t.x?s-a:s+a,u=e.height/2,h=Math.abs(t.y-r.y),d=Math.abs(t.x-r.x);if(Math.abs(n-t.y)*s>Math.abs(i-t.x)*u){let p=r.y<t.y?t.y-u-n:n-u-t.y;o=d*p/h;let g={x:r.x<t.x?r.x+o:r.x-d+o,y:r.y<t.y?r.y+h-p:r.y-h+p};return o===0&&(g.x=t.x,g.y=t.y),d===0&&(g.x=t.x),h===0&&(g.y=t.y),ne.debug(`abc89 topp/bott calc, Q ${h}, q ${p}, R ${d}, r ${o}`,g),g}else{r.x<t.x?o=t.x-s-i:o=i-s-t.x;let p=h*o/d,g=r.x<t.x?r.x+d-o:r.x-d+o,f=r.y<t.y?r.y+p:r.y-p;return ne.debug(`sides calc abc89, Q ${h}, q ${p}, R ${d}, r ${o}`,{_x:g,_y:f}),o===0&&(g=t.x,f=t.y),d===0&&(g=t.x),h===0&&(f=t.y),{x:g,y:f}}},"intersection"),Gq=l((e,t)=>{ne.debug("abc88 cutPathAtIntersect",e,t);let r=[],i=e[0],n=!1;return e.forEach(a=>{if(!V$e(t,a)&&!n){let s=Y$e(t,i,a),o=!1;r.forEach(u=>{o=o||u.x===s.x&&u.y===s.y}),r.some(u=>u.x===s.x&&u.y===s.y)||r.push(s),n=!0}else i=a,n||r.push(a)}),r},"cutPathAtIntersect"),W$e=l(function(e,t,r,i,n,a,s){let o=r.points;ne.debug("abc88 InsertEdge: edge=",r,"e=",t);let u=!1,h=a.node(t.v);var d=a.node(t.w);d?.intersect&&h?.intersect&&(o=o.slice(1,r.points.length-1),o.unshift(h.intersect(o[0])),o.push(d.intersect(o[o.length-1]))),r.toCluster&&(ne.debug("to cluster abc88",i[r.toCluster]),o=Gq(r.points,i[r.toCluster].node),u=!0),r.fromCluster&&(ne.debug("from cluster abc88",i[r.fromCluster]),o=Gq(o.reverse(),i[r.fromCluster].node).reverse(),u=!0);let p=o.filter(k=>!Number.isNaN(k.y)),g=Xh;r.curve&&(n==="graph"||n==="flowchart")&&(g=r.curve);let{x:f,y:m}=kN(r),y=cg().x(f).y(m).curve(g),b;switch(r.thickness){case"normal":b="edge-thickness-normal";break;case"thick":b="edge-thickness-thick";break;case"invisible":b="edge-thickness-thick";break;default:b=""}switch(r.pattern){case"solid":b+=" edge-pattern-solid";break;case"dotted":b+=" edge-pattern-dotted";break;case"dashed":b+=" edge-pattern-dashed";break}let v=e.append("path").attr("d",y(p)).attr("id",r.id).attr("class"," "+b+(r.classes?" "+r.classes:"")).attr("style",r.style),x="";(Ee().flowchart.arrowMarkerAbsolute||Ee().state.arrowMarkerAbsolute)&&(x=_m(!0)),U$e(v,r,x,s,n);let w={};return u&&(w.updatedPath=o),w.originalPath=r.points,w},"insertEdge")}),X$e,K$e,Ctt=D(()=>{"use strict";X$e=l(e=>{let t=new Set;for(let r of e)switch(r){case"x":t.add("right"),t.add("left");break;case"y":t.add("up"),t.add("down");break;default:t.add(r);break}return t},"expandAndDeduplicateDirections"),K$e=l((e,t,r)=>{let i=X$e(e),n=2,a=t.height+2*r.padding,s=a/n,o=t.width+2*s+r.padding,u=r.padding/2;return i.has("right")&&i.has("left")&&i.has("up")&&i.has("down")?[{x:0,y:0},{x:s,y:0},{x:o/2,y:2*u},{x:o-s,y:0},{x:o,y:0},{x:o,y:-a/3},{x:o+2*u,y:-a/2},{x:o,y:-2*a/3},{x:o,y:-a},{x:o-s,y:-a},{x:o/2,y:-a-2*u},{x:s,y:-a},{x:0,y:-a},{x:0,y:-2*a/3},{x:-2*u,y:-a/2},{x:0,y:-a/3}]:i.has("right")&&i.has("left")&&i.has("up")?[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}]:i.has("right")&&i.has("left")&&i.has("down")?[{x:0,y:0},{x:s,y:-a},{x:o-s,y:-a},{x:o,y:0}]:i.has("right")&&i.has("up")&&i.has("down")?[{x:0,y:0},{x:o,y:-s},{x:o,y:-a+s},{x:0,y:-a}]:i.has("left")&&i.has("up")&&i.has("down")?[{x:o,y:0},{x:0,y:-s},{x:0,y:-a+s},{x:o,y:-a}]:i.has("right")&&i.has("left")?[{x:s,y:0},{x:s,y:-u},{x:o-s,y:-u},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:o-s,y:-a+u},{x:s,y:-a+u},{x:s,y:-a},{x:0,y:-a/2}]:i.has("up")&&i.has("down")?[{x:o/2,y:0},{x:0,y:-u},{x:s,y:-u},{x:s,y:-a+u},{x:0,y:-a+u},{x:o/2,y:-a},{x:o,y:-a+u},{x:o-s,y:-a+u},{x:o-s,y:-u},{x:o,y:-u}]:i.has("right")&&i.has("up")?[{x:0,y:0},{x:o,y:-s},{x:0,y:-a}]:i.has("right")&&i.has("down")?[{x:0,y:0},{x:o,y:0},{x:0,y:-a}]:i.has("left")&&i.has("up")?[{x:o,y:0},{x:0,y:-s},{x:o,y:-a}]:i.has("left")&&i.has("down")?[{x:o,y:0},{x:0,y:0},{x:o,y:-a}]:i.has("right")?[{x:s,y:-u},{x:s,y:-u},{x:o-s,y:-u},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:o-s,y:-a+u},{x:s,y:-a+u},{x:s,y:-a+u}]:i.has("left")?[{x:s,y:0},{x:s,y:-u},{x:o-s,y:-u},{x:o-s,y:-a+u},{x:s,y:-a+u},{x:s,y:-a},{x:0,y:-a/2}]:i.has("up")?[{x:s,y:-u},{x:s,y:-a+u},{x:0,y:-a+u},{x:o/2,y:-a},{x:o,y:-a+u},{x:o-s,y:-a+u},{x:o-s,y:-u}]:i.has("down")?[{x:o/2,y:0},{x:0,y:-u},{x:s,y:-u},{x:s,y:-a+u},{x:o-s,y:-a+u},{x:o-s,y:-u},{x:o,y:-u}]:[{x:0,y:0}]},"getArrowPoints")});function Z$e(e,t){return e.intersect(t)}var Q$e,Stt=D(()=>{"use strict";l(Z$e,"intersectNode"),Q$e=Z$e});function J$e(e,t,r,i){var n=e.x,a=e.y,s=n-i.x,o=a-i.y,u=Math.sqrt(t*t*o*o+r*r*s*s),h=Math.abs(t*r*s/u);i.x<n&&(h=-h);var d=Math.abs(t*r*o/u);return i.y<a&&(d=-d),{x:n+h,y:a+d}}var Uq,eFe=D(()=>{"use strict";l(J$e,"intersectEllipse"),Uq=J$e});function tFe(e,t,r){return Uq(e,t,t,r)}var rFe,_tt=D(()=>{"use strict";eFe(),l(tFe,"intersectCircle"),rFe=tFe});function iFe(e,t,r,i){var n,a,s,o,u,h,d,p,g,f,m,y,b,v,x;if(n=t.y-e.y,s=e.x-t.x,u=t.x*e.y-e.x*t.y,g=n*r.x+s*r.y+u,f=n*i.x+s*i.y+u,!(g!==0&&f!==0&&qq(g,f))&&(a=i.y-r.y,o=r.x-i.x,h=i.x*r.y-r.x*i.y,d=a*e.x+o*e.y+h,p=a*t.x+o*t.y+h,!(d!==0&&p!==0&&qq(d,p))&&(m=n*o-a*s,m!==0)))return y=Math.abs(m/2),b=s*h-o*u,v=b<0?(b-y)/m:(b+y)/m,b=a*u-n*h,x=b<0?(b-y)/m:(b+y)/m,{x:v,y:x}}function qq(e,t){return e*t>0}var nFe,Att=D(()=>{"use strict";l(iFe,"intersectLine"),l(qq,"sameSign"),nFe=iFe});function aFe(e,t,r){var i=e.x,n=e.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(m){s=Math.min(s,m.x),o=Math.min(o,m.y)}):(s=Math.min(s,t.x),o=Math.min(o,t.y));for(var u=i-e.width/2-s,h=n-e.height/2-o,d=0;d<t.length;d++){var p=t[d],g=t[d<t.length-1?d+1:0],f=nFe(e,r,{x:u+p.x,y:h+p.y},{x:u+g.x,y:h+g.y});f&&a.push(f)}return a.length?(a.length>1&&a.sort(function(m,y){var b=m.x-r.x,v=m.y-r.y,x=Math.sqrt(b*b+v*v),w=y.x-r.x,k=y.y-r.y,T=Math.sqrt(w*w+k*k);return x<T?-1:x===T?0:1}),a[0]):e}var sFe,Ltt=D(()=>{"use strict";Att(),sFe=aFe,l(aFe,"intersectPolygon")}),oFe,lFe,Ntt=D(()=>{"use strict";oFe=l((e,t)=>{var r=e.x,i=e.y,n=t.x-r,a=t.y-i,s=e.width/2,o=e.height/2,u,h;return Math.abs(a)*s>Math.abs(n)*o?(a<0&&(o=-o),u=a===0?0:o*n/a,h=o):(n<0&&(s=-s),u=s,h=n===0?0:s*a/n),{x:r+u,y:i+h}},"intersectRect"),lFe=oFe}),ci,cFe=D(()=>{"use strict";Stt(),_tt(),eFe(),Ltt(),Ntt(),ci={node:Q$e,circle:rFe,ellipse:Uq,polygon:sFe,rect:lFe}});function Ro(e,t,r,i){return e.insert("polygon",":first-child").attr("points",i.map(function(n){return n.x+","+n.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}var pn,wi,uFe=D(()=>{"use strict";Fq(),po(),Gt(),hr(),cr(),Zt(),pn=l(async(e,t,r,i)=>{let n=Ee(),a,s=t.useHtmlLabels||Gr(n.flowchart.htmlLabels);r?a=r:a="node default";let o=e.insert("g").attr("class",a).attr("id",t.domId||t.id),u=o.insert("g").attr("class","label").attr("style",t.labelStyle),h;t.labelText===void 0?h="":h=typeof t.labelText=="string"?t.labelText:t.labelText[0];let d=u.node(),p;t.labelType==="markdown"?p=Ba(u,wr(co(h),n),{useHtmlLabels:s,width:t.width||n.flowchart.wrappingWidth,classes:"markdown-node-label"},n):p=d.appendChild(await ys(wr(co(h),n),t.labelStyle,!1,i));let g=p.getBBox(),f=t.padding/2;if(Gr(n.flowchart.htmlLabels)){let m=p.children[0],y=Ke(p),b=m.getElementsByTagName("img");if(b){let v=h.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...b].map(x=>new Promise(w=>{function k(){if(x.style.display="flex",x.style.flexDirection="column",v){let T=n.fontSize?n.fontSize:window.getComputedStyle(document.body).fontSize,_=parseInt(T,10)*5+"px";x.style.minWidth=_,x.style.maxWidth=_}else x.style.width="100%";w(x)}l(k,"setupImage"),setTimeout(()=>{x.complete&&k()}),x.addEventListener("error",k),x.addEventListener("load",k)})))}g=m.getBoundingClientRect(),y.attr("width",g.width),y.attr("height",g.height)}return s?u.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"):u.attr("transform","translate(0, "+-g.height/2+")"),t.centerLabel&&u.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),u.insert("rect",":first-child"),{shapeSvg:o,bbox:g,halfPadding:f,label:u}},"labelHelper"),wi=l((e,t)=>{let r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),l(Ro,"insertPolygonShape")}),hFe,dFe,Mtt=D(()=>{"use strict";uFe(),st(),Gt(),cFe(),hFe=l(async(e,t)=>{t.useHtmlLabels||Ee().flowchart.htmlLabels||(t.centerLabel=!0);let{shapeSvg:r,bbox:i,halfPadding:n}=await pn(e,t,"node "+t.classes,!0);ne.info("Classes = ",t.classes);let a=r.insert("rect",":first-child");return a.attr("rx",t.rx).attr("ry",t.ry).attr("x",-i.width/2-n).attr("y",-i.height/2-n).attr("width",i.width+t.padding).attr("height",i.height+t.padding),wi(t,a),t.intersect=function(s){return ci.rect(t,s)},r},"note"),dFe=hFe});function E8(e,t,r,i){let n=[],a=l(o=>{n.push(o,0)},"addBorder"),s=l(o=>{n.push(0,o)},"skipBorder");t.includes("t")?(ne.debug("add top border"),a(r)):s(r),t.includes("r")?(ne.debug("add right border"),a(i)):s(i),t.includes("b")?(ne.debug("add bottom border"),a(r)):s(r),t.includes("l")?(ne.debug("add left border"),a(i)):s(i),e.attr("stroke-dasharray",n.join(" "))}var jq,Xa,Hq,pFe,gFe,fFe,mFe,yFe,vFe,bFe,xFe,wFe,kFe,TFe,EFe,CFe,SFe,_Fe,AFe,LFe,NFe,MFe,Vq,IFe,DFe,Yq,qx,Wq,RFe,Itt=D(()=>{"use strict";hr(),Gt(),cr(),st(),Ctt(),Fq(),cFe(),Mtt(),uFe(),jq=l(e=>e?" "+e:"","formatClass"),Xa=l((e,t)=>`${t||"node default"}${jq(e.classes)} ${jq(e.class)}`,"getClassesFromNode"),Hq=l(async(e,t)=>{let{shapeSvg:r,bbox:i}=await pn(e,t,Xa(t,void 0),!0),n=i.width+t.padding,a=i.height+t.padding,s=n+a,o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];ne.info("Question main (Circle)");let u=Ro(r,s,s,o);return u.attr("style",t.style),wi(t,u),t.intersect=function(h){return ne.warn("Intersect called"),ci.polygon(t,o,h)},r},"question"),pFe=l((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=28,n=[{x:0,y:i/2},{x:i/2,y:0},{x:0,y:-i/2},{x:-i/2,y:0}];return r.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(a){return ci.circle(t,14,a)},r},"choice"),gFe=l(async(e,t)=>{let{shapeSvg:r,bbox:i}=await pn(e,t,Xa(t,void 0),!0),n=4,a=i.height+t.padding,s=a/n,o=i.width+2*s+t.padding,u=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}],h=Ro(r,o,a,u);return h.attr("style",t.style),wi(t,h),t.intersect=function(d){return ci.polygon(t,u,d)},r},"hexagon"),fFe=l(async(e,t)=>{let{shapeSvg:r,bbox:i}=await pn(e,t,void 0,!0),n=2,a=i.height+2*t.padding,s=a/n,o=i.width+2*s+t.padding,u=K$e(t.directions,i,t),h=Ro(r,o,a,u);return h.attr("style",t.style),wi(t,h),t.intersect=function(d){return ci.polygon(t,u,d)},r},"block_arrow"),mFe=l(async(e,t)=>{let{shapeSvg:r,bbox:i}=await pn(e,t,Xa(t,void 0),!0),n=i.width+t.padding,a=i.height+t.padding,s=[{x:-a/2,y:0},{x:n,y:0},{x:n,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return Ro(r,n,a,s).attr("style",t.style),t.width=n+a,t.height=a,t.intersect=function(o){return ci.polygon(t,s,o)},r},"rect_left_inv_arrow"),yFe=l(async(e,t)=>{let{shapeSvg:r,bbox:i}=await pn(e,t,Xa(t),!0),n=i.width+t.padding,a=i.height+t.padding,s=[{x:-2*a/6,y:0},{x:n-a/6,y:0},{x:n+2*a/6,y:-a},{x:a/6,y:-a}],o=Ro(r,n,a,s);return o.attr("style",t.style),wi(t,o),t.intersect=function(u){return ci.polygon(t,s,u)},r},"lean_right"),vFe=l(async(e,t)=>{let{shapeSvg:r,bbox:i}=await pn(e,t,Xa(t,void 0),!0),n=i.width+t.padding,a=i.height+t.padding,s=[{x:2*a/6,y:0},{x:n+a/6,y:0},{x:n-2*a/6,y:-a},{x:-a/6,y:-a}],o=Ro(r,n,a,s);return o.attr("style",t.style),wi(t,o),t.intersect=function(u){return ci.polygon(t,s,u)},r},"lean_left"),bFe=l(async(e,t)=>{let{shapeSvg:r,bbox:i}=await pn(e,t,Xa(t,void 0),!0),n=i.width+t.padding,a=i.height+t.padding,s=[{x:-2*a/6,y:0},{x:n+2*a/6,y:0},{x:n-a/6,y:-a},{x:a/6,y:-a}],o=Ro(r,n,a,s);return o.attr("style",t.style),wi(t,o),t.intersect=function(u){return ci.polygon(t,s,u)},r},"trapezoid"),xFe=l(async(e,t)=>{let{shapeSvg:r,bbox:i}=await pn(e,t,Xa(t,void 0),!0),n=i.width+t.padding,a=i.height+t.padding,s=[{x:a/6,y:0},{x:n-a/6,y:0},{x:n+2*a/6,y:-a},{x:-2*a/6,y:-a}],o=Ro(r,n,a,s);return o.attr("style",t.style),wi(t,o),t.intersect=function(u){return ci.polygon(t,s,u)},r},"inv_trapezoid"),wFe=l(async(e,t)=>{let{shapeSvg:r,bbox:i}=await pn(e,t,Xa(t,void 0),!0),n=i.width+t.padding,a=i.height+t.padding,s=[{x:0,y:0},{x:n+a/2,y:0},{x:n,y:-a/2},{x:n+a/2,y:-a},{x:0,y:-a}],o=Ro(r,n,a,s);return o.attr("style",t.style),wi(t,o),t.intersect=function(u){return ci.polygon(t,s,u)},r},"rect_right_inv_arrow"),kFe=l(async(e,t)=>{let{shapeSvg:r,bbox:i}=await pn(e,t,Xa(t,void 0),!0),n=i.width+t.padding,a=n/2,s=a/(2.5+n/50),o=i.height+s+t.padding,u="M 0,"+s+" a "+a+","+s+" 0,0,0 "+n+" 0 a "+a+","+s+" 0,0,0 "+-n+" 0 l 0,"+o+" a "+a+","+s+" 0,0,0 "+n+" 0 l 0,"+-o,h=r.attr("label-offset-y",s).insert("path",":first-child").attr("style",t.style).attr("d",u).attr("transform","translate("+-n/2+","+-(o/2+s)+")");return wi(t,h),t.intersect=function(d){let p=ci.rect(t,d),g=p.x-t.x;if(a!=0&&(Math.abs(g)<t.width/2||Math.abs(g)==t.width/2&&Math.abs(p.y-t.y)>t.height/2-s)){let f=s*s*(1-g*g/(a*a));f!=0&&(f=Math.sqrt(f)),f=s-f,d.y-t.y>0&&(f=-f),p.y+=f}return p},r},"cylinder"),TFe=l(async(e,t)=>{let{shapeSvg:r,bbox:i,halfPadding:n}=await pn(e,t,"node "+t.classes+" "+t.class,!0),a=r.insert("rect",":first-child"),s=t.positioned?t.width:i.width+t.padding,o=t.positioned?t.height:i.height+t.padding,u=t.positioned?-s/2:-i.width/2-n,h=t.positioned?-o/2:-i.height/2-n;if(a.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",h).attr("width",s).attr("height",o),t.props){let d=new Set(Object.keys(t.props));t.props.borders&&(E8(a,t.props.borders,s,o),d.delete("borders")),d.forEach(p=>{ne.warn(`Unknown node property ${p}`)})}return wi(t,a),t.intersect=function(d){return ci.rect(t,d)},r},"rect"),EFe=l(async(e,t)=>{let{shapeSvg:r,bbox:i,halfPadding:n}=await pn(e,t,"node "+t.classes,!0),a=r.insert("rect",":first-child"),s=t.positioned?t.width:i.width+t.padding,o=t.positioned?t.height:i.height+t.padding,u=t.positioned?-s/2:-i.width/2-n,h=t.positioned?-o/2:-i.height/2-n;if(a.attr("class","basic cluster composite label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",h).attr("width",s).attr("height",o),t.props){let d=new Set(Object.keys(t.props));t.props.borders&&(E8(a,t.props.borders,s,o),d.delete("borders")),d.forEach(p=>{ne.warn(`Unknown node property ${p}`)})}return wi(t,a),t.intersect=function(d){return ci.rect(t,d)},r},"composite"),CFe=l(async(e,t)=>{let{shapeSvg:r}=await pn(e,t,"label",!0);ne.trace("Classes = ",t.class);let i=r.insert("rect",":first-child"),n=0,a=0;if(i.attr("width",n).attr("height",a),r.attr("class","label edgeLabel"),t.props){let s=new Set(Object.keys(t.props));t.props.borders&&(E8(i,t.props.borders,n,a),s.delete("borders")),s.forEach(o=>{ne.warn(`Unknown node property ${o}`)})}return wi(t,i),t.intersect=function(s){return ci.rect(t,s)},r},"labelRect"),l(E8,"applyNodePropertyBorders"),SFe=l(async(e,t)=>{let r;t.classes?r="node "+t.classes:r="node default";let i=e.insert("g").attr("class",r).attr("id",t.domId||t.id),n=i.insert("rect",":first-child"),a=i.insert("line"),s=i.insert("g").attr("class","label"),o=t.labelText.flat?t.labelText.flat():t.labelText,u="";typeof o=="object"?u=o[0]:u=o,ne.info("Label text abc79",u,o,typeof o=="object");let h=s.node().appendChild(await ys(u,t.labelStyle,!0,!0)),d={width:0,height:0};if(Gr(Ee().flowchart.htmlLabels)){let y=h.children[0],b=Ke(h);d=y.getBoundingClientRect(),b.attr("width",d.width),b.attr("height",d.height)}ne.info("Text 2",o);let p=o.slice(1,o.length),g=h.getBBox(),f=s.node().appendChild(await ys(p.join?p.join("<br/>"):p,t.labelStyle,!0,!0));if(Gr(Ee().flowchart.htmlLabels)){let y=f.children[0],b=Ke(f);d=y.getBoundingClientRect(),b.attr("width",d.width),b.attr("height",d.height)}let m=t.padding/2;return Ke(f).attr("transform","translate( "+(d.width>g.width?0:(g.width-d.width)/2)+", "+(g.height+m+5)+")"),Ke(h).attr("transform","translate( "+(d.width<g.width?0:-(g.width-d.width)/2)+", 0)"),d=s.node().getBBox(),s.attr("transform","translate("+-d.width/2+", "+(-d.height/2-m+3)+")"),n.attr("class","outer title-state").attr("x",-d.width/2-m).attr("y",-d.height/2-m).attr("width",d.width+t.padding).attr("height",d.height+t.padding),a.attr("class","divider").attr("x1",-d.width/2-m).attr("x2",d.width/2+m).attr("y1",-d.height/2-m+g.height+m).attr("y2",-d.height/2-m+g.height+m),wi(t,n),t.intersect=function(y){return ci.rect(t,y)},i},"rectWithTitle"),_Fe=l(async(e,t)=>{let{shapeSvg:r,bbox:i}=await pn(e,t,Xa(t,void 0),!0),n=i.height+t.padding,a=i.width+n/4+t.padding,s=r.insert("rect",":first-child").attr("style",t.style).attr("rx",n/2).attr("ry",n/2).attr("x",-a/2).attr("y",-n/2).attr("width",a).attr("height",n);return wi(t,s),t.intersect=function(o){return ci.rect(t,o)},r},"stadium"),AFe=l(async(e,t)=>{let{shapeSvg:r,bbox:i,halfPadding:n}=await pn(e,t,Xa(t,void 0),!0),a=r.insert("circle",":first-child");return a.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",i.width/2+n).attr("width",i.width+t.padding).attr("height",i.height+t.padding),ne.info("Circle main"),wi(t,a),t.intersect=function(s){return ne.info("Circle intersect",t,i.width/2+n,s),ci.circle(t,i.width/2+n,s)},r},"circle"),LFe=l(async(e,t)=>{let{shapeSvg:r,bbox:i,halfPadding:n}=await pn(e,t,Xa(t,void 0),!0),a=5,s=r.insert("g",":first-child"),o=s.insert("circle"),u=s.insert("circle");return s.attr("class",t.class),o.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",i.width/2+n+a).attr("width",i.width+t.padding+a*2).attr("height",i.height+t.padding+a*2),u.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",i.width/2+n).attr("width",i.width+t.padding).attr("height",i.height+t.padding),ne.info("DoubleCircle main"),wi(t,o),t.intersect=function(h){return ne.info("DoubleCircle intersect",t,i.width/2+n+a,h),ci.circle(t,i.width/2+n+a,h)},r},"doublecircle"),NFe=l(async(e,t)=>{let{shapeSvg:r,bbox:i}=await pn(e,t,Xa(t,void 0),!0),n=i.width+t.padding,a=i.height+t.padding,s=[{x:0,y:0},{x:n,y:0},{x:n,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:n+8,y:0},{x:n+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],o=Ro(r,n,a,s);return o.attr("style",t.style),wi(t,o),t.intersect=function(u){return ci.polygon(t,s,u)},r},"subroutine"),MFe=l((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),wi(t,i),t.intersect=function(n){return ci.circle(t,7,n)},r},"start"),Vq=l((e,t,r)=>{let i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=70,a=10;r==="LR"&&(n=10,a=70);let s=i.append("rect").attr("x",-1*n/2).attr("y",-1*a/2).attr("width",n).attr("height",a).attr("class","fork-join");return wi(t,s),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(o){return ci.rect(t,o)},i},"forkJoin"),IFe=l((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=r.insert("circle",":first-child"),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),i.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),wi(t,n),t.intersect=function(a){return ci.circle(t,7,a)},r},"end"),DFe=l(async(e,t)=>{let r=t.padding/2,i=4,n=8,a;t.classes?a="node "+t.classes:a="node default";let s=e.insert("g").attr("class",a).attr("id",t.domId||t.id),o=s.insert("rect",":first-child"),u=s.insert("line"),h=s.insert("line"),d=0,p=i,g=s.insert("g").attr("class","label"),f=0,m=t.classData.annotations?.[0],y=t.classData.annotations[0]?"\xAB"+t.classData.annotations[0]+"\xBB":"",b=g.node().appendChild(await ys(y,t.labelStyle,!0,!0)),v=b.getBBox();if(Gr(Ee().flowchart.htmlLabels)){let E=b.children[0],N=Ke(b);v=E.getBoundingClientRect(),N.attr("width",v.width),N.attr("height",v.height)}t.classData.annotations[0]&&(p+=v.height+i,d+=v.width);let x=t.classData.label;t.classData.type!==void 0&&t.classData.type!==""&&(Ee().flowchart.htmlLabels?x+="&lt;"+t.classData.type+"&gt;":x+="<"+t.classData.type+">");let w=g.node().appendChild(await ys(x,t.labelStyle,!0,!0));Ke(w).attr("class","classTitle");let k=w.getBBox();if(Gr(Ee().flowchart.htmlLabels)){let E=w.children[0],N=Ke(w);k=E.getBoundingClientRect(),N.attr("width",k.width),N.attr("height",k.height)}p+=k.height+i,k.width>d&&(d=k.width);let T=[];t.classData.members.forEach(async E=>{let N=E.getDisplayDetails(),M=N.displayText;Ee().flowchart.htmlLabels&&(M=M.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let I=g.node().appendChild(await ys(M,N.cssStyle?N.cssStyle:t.labelStyle,!0,!0)),A=I.getBBox();if(Gr(Ee().flowchart.htmlLabels)){let B=I.children[0],S=Ke(I);A=B.getBoundingClientRect(),S.attr("width",A.width),S.attr("height",A.height)}A.width>d&&(d=A.width),p+=A.height+i,T.push(I)}),p+=n;let _=[];if(t.classData.methods.forEach(async E=>{let N=E.getDisplayDetails(),M=N.displayText;Ee().flowchart.htmlLabels&&(M=M.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let I=g.node().appendChild(await ys(M,N.cssStyle?N.cssStyle:t.labelStyle,!0,!0)),A=I.getBBox();if(Gr(Ee().flowchart.htmlLabels)){let B=I.children[0],S=Ke(I);A=B.getBoundingClientRect(),S.attr("width",A.width),S.attr("height",A.height)}A.width>d&&(d=A.width),p+=A.height+i,_.push(I)}),p+=n,m){let E=(d-v.width)/2;Ke(b).attr("transform","translate( "+(-1*d/2+E)+", "+-1*p/2+")"),f=v.height+i}let C=(d-k.width)/2;return Ke(w).attr("transform","translate( "+(-1*d/2+C)+", "+(-1*p/2+f)+")"),f+=k.height+i,u.attr("class","divider").attr("x1",-d/2-r).attr("x2",d/2+r).attr("y1",-p/2-r+n+f).attr("y2",-p/2-r+n+f),f+=n,T.forEach(E=>{Ke(E).attr("transform","translate( "+-d/2+", "+(-1*p/2+f+n/2)+")");let N=E?.getBBox();f+=(N?.height??0)+i}),f+=n,h.attr("class","divider").attr("x1",-d/2-r).attr("x2",d/2+r).attr("y1",-p/2-r+n+f).attr("y2",-p/2-r+n+f),f+=n,_.forEach(E=>{Ke(E).attr("transform","translate( "+-d/2+", "+(-1*p/2+f)+")");let N=E?.getBBox();f+=(N?.height??0)+i}),o.attr("style",t.style).attr("class","outer title-state").attr("x",-d/2-r).attr("y",-(p/2)-r).attr("width",d+t.padding).attr("height",p+t.padding),wi(t,o),t.intersect=function(E){return ci.rect(t,E)},s},"class_box"),Yq={rhombus:Hq,composite:EFe,question:Hq,rect:TFe,labelRect:CFe,rectWithTitle:SFe,choice:pFe,circle:AFe,doublecircle:LFe,stadium:_Fe,hexagon:gFe,block_arrow:fFe,rect_left_inv_arrow:mFe,lean_right:yFe,lean_left:vFe,trapezoid:bFe,inv_trapezoid:xFe,rect_right_inv_arrow:wFe,cylinder:kFe,start:MFe,end:IFe,note:dFe,subroutine:NFe,fork:Vq,join:Vq,class_box:DFe},qx={},Wq=l(async(e,t,r)=>{let i,n;if(t.link){let a;Ee().securityLevel==="sandbox"?a="_top":t.linkTarget&&(a=t.linkTarget||"_blank"),i=e.insert("svg:a").attr("xlink:href",t.link).attr("target",a),n=await Yq[t.shape](i,t,r)}else n=await Yq[t.shape](e,t,r),i=n;return t.tooltip&&n.attr("title",t.tooltip),t.class&&n.attr("class","node default "+t.class),qx[t.id]=i,t.haveCallback&&qx[t.id].attr("class",qx[t.id].attr("class")+" clickable"),i},"insertNode"),RFe=l(e=>{let t=qx[e.id];ne.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let r=8,i=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+i-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),i},"positionNode")});function Xq(e,t,r=!1){let i=e,n="default";(i?.classes?.length||0)>0&&(n=(i?.classes??[]).join(" ")),n=n+" flowchart-label";let a=0,s="",o;switch(i.type){case"round":a=5,s="rect";break;case"composite":a=0,s="composite",o=0;break;case"square":s="rect";break;case"diamond":s="question";break;case"hexagon":s="hexagon";break;case"block_arrow":s="block_arrow";break;case"odd":s="rect_left_inv_arrow";break;case"lean_right":s="lean_right";break;case"lean_left":s="lean_left";break;case"trapezoid":s="trapezoid";break;case"inv_trapezoid":s="inv_trapezoid";break;case"rect_left_inv_arrow":s="rect_left_inv_arrow";break;case"circle":s="circle";break;case"ellipse":s="ellipse";break;case"stadium":s="stadium";break;case"subroutine":s="subroutine";break;case"cylinder":s="cylinder";break;case"group":s="rect";break;case"doublecircle":s="doublecircle";break;default:s="rect"}let u=L9(i?.styles??[]),h=i.label,d=i.size??{width:0,height:0,x:0,y:0};return{labelStyle:u.labelStyle,shape:s,labelText:h,rx:a,ry:a,class:n,style:u.style,id:i.id,directions:i.directions,width:d.width,height:d.height,x:d.x,y:d.y,positioned:r,intersect:void 0,type:i.type,padding:o??Tr()?.block?.padding??0}}async function OFe(e,t,r){let i=Xq(t,r,!1);if(i.type==="group")return;let n=Tr(),a=await Wq(e,i,{config:n}),s=a.node().getBBox(),o=r.getBlock(i.id);o.size={width:s.width,height:s.height,x:0,y:0,node:a},r.setBlock(o),a.remove()}async function PFe(e,t,r){let i=Xq(t,r,!0);if(r.getBlock(i.id).type!=="space"){let n=Tr();await Wq(e,i,{config:n}),t.intersect=i?.intersect,RFe(i)}}async function C8(e,t,r,i){for(let n of t)await i(e,n,r),n.children&&await C8(e,n.children,r,i)}async function BFe(e,t,r){await C8(e,t,r,OFe)}async function $Fe(e,t,r){await C8(e,t,r,PFe)}async function FFe(e,t,r,i,n){let a=new wa({multigraph:!0,compound:!0});a.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(let s of r)s.size&&a.setNode(s.id,{width:s.size.width,height:s.size.height,intersect:s.intersect});for(let s of t)if(s.start&&s.end){let o=i.getBlock(s.start),u=i.getBlock(s.end);if(o?.size&&u?.size){let h=o.size,d=u.size,p=[{x:h.x,y:h.y},{x:h.x+(d.x-h.x)/2,y:h.y+(d.y-h.y)/2},{x:d.x,y:d.y}];W$e(e,{v:s.start,w:s.end,name:s.id},{...s,arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:p,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",a,n),s.label&&(await j$e(e,{...s,label:s.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:p,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),H$e({...s,x:p[1].x,y:p[1].y},{originalPath:p}))}}}var Dtt=D(()=>{"use strict";fo(),pi(),Ett(),Itt(),Zt(),l(Xq,"getNodeFromBlock"),l(OFe,"calculateBlockSize"),l(PFe,"insertBlockPositioned"),l(C8,"performOperations"),l(BFe,"calculateBlockSizes"),l($Fe,"insertBlocks"),l(FFe,"insertEdges")}),zFe,GFe,UFe,Rtt=D(()=>{"use strict";hr(),pi(),wtt(),st(),an(),ktt(),Dtt(),zFe=l(function(e,t){return t.db.getClasses()},"getClasses"),GFe=l(async function(e,t,r,i){let{securityLevel:n,block:a}=Tr(),s=i.db,o;n==="sandbox"&&(o=Ke("#i"+t));let u=Ke(n==="sandbox"?o.nodes()[0].contentDocument.body:"body"),h=n==="sandbox"?u.select(`[id="${t}"]`):Ke(`[id="${t}"]`);P$e(h,["point","circle","cross"],i.type,t);let d=s.getBlocks(),p=s.getBlocksFlat(),g=s.getEdges(),f=h.insert("g").attr("class","block");await BFe(f,d,s);let m=$$e(s);if(await $Fe(f,d,s),await FFe(f,g,p,s,t),m){let y=m,b=Math.max(1,Math.round(.125*(y.width/y.height))),v=y.height+b+10,x=y.width+10,{useMaxWidth:w}=a;Wn(h,v,x,!!w),ne.debug("Here Bounds",m,y),h.attr("viewBox",`${y.x-5} ${y.y-5} ${y.width+10} ${y.height+10}`)}},"draw"),UFe={draw:GFe,getClasses:zFe}}),qFe={};sr(qFe,{diagram:()=>jFe});var jFe,Ott=D(()=>{"use strict";vtt(),btt(),xtt(),Rtt(),jFe={parser:e$e,db:k$e,renderer:UFe,styles:E$e}}),Kq,Zq,jx,HFe,Qq,ca,ru,S8,VFe,YFe,_8,WFe,XFe,KFe,ZFe,QFe,Jq,pp,ej=D(()=>{"use strict";Kq={L:"left",R:"right",T:"top",B:"bottom"},Zq={L:l(e=>`${e},${e/2} 0,${e} 0,0`,"L"),R:l(e=>`0,${e/2} ${e},0 ${e},${e}`,"R"),T:l(e=>`0,0 ${e},0 ${e/2},${e}`,"T"),B:l(e=>`${e/2},0 ${e},${e} 0,${e}`,"B")},jx={L:l((e,t)=>e-t+2,"L"),R:l((e,t)=>e-2,"R"),T:l((e,t)=>e-t+2,"T"),B:l((e,t)=>e-2,"B")},HFe=l(function(e){return ca(e)?e==="L"?"R":"L":e==="T"?"B":"T"},"getOppositeArchitectureDirection"),Qq=l(function(e){let t=e;return t==="L"||t==="R"||t==="T"||t==="B"},"isArchitectureDirection"),ca=l(function(e){let t=e;return t==="L"||t==="R"},"isArchitectureDirectionX"),ru=l(function(e){let t=e;return t==="T"||t==="B"},"isArchitectureDirectionY"),S8=l(function(e,t){let r=ca(e)&&ru(t),i=ru(e)&&ca(t);return r||i},"isArchitectureDirectionXY"),VFe=l(function(e){let t=e[0],r=e[1],i=ca(t)&&ru(r),n=ru(t)&&ca(r);return i||n},"isArchitecturePairXY"),YFe=l(function(e){return e!=="LL"&&e!=="RR"&&e!=="TT"&&e!=="BB"},"isValidArchitectureDirectionPair"),_8=l(function(e,t){let r=`${e}${t}`;return YFe(r)?r:void 0},"getArchitectureDirectionPair"),WFe=l(function([e,t],r){let i=r[0],n=r[1];return ca(i)?ru(n)?[e+(i==="L"?-1:1),t+(n==="T"?1:-1)]:[e+(i==="L"?-1:1),t]:ca(n)?[e+(n==="L"?1:-1),t+(i==="T"?1:-1)]:[e,t+(i==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),XFe=l(function(e){return e==="LT"||e==="TL"?[1,1]:e==="BL"||e==="LB"?[1,-1]:e==="BR"||e==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),KFe=l(function(e,t){return S8(e,t)?"bend":ca(e)?"horizontal":"vertical"},"getArchitectureDirectionAlignment"),ZFe=l(function(e){return e.type==="service"},"isArchitectureService"),QFe=l(function(e){return e.type==="junction"},"isArchitectureJunction"),Jq=l(e=>e.data(),"edgeData"),pp=l(e=>e.data(),"nodeData")}),JFe,tj,eze=D(()=>{"use strict";pi(),ua(),Zt(),Di(),ej(),JFe=xr.architecture,tj=class{constructor(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.elements={},this.setAccTitle=Mi,this.getAccTitle=Gi,this.setDiagramTitle=sn,this.getDiagramTitle=Ii,this.getAccDescription=qi,this.setAccDescription=Ui,this.clear()}static{l(this,"ArchitectureDB")}clear(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.dataStructures=void 0,this.elements={},Ni()}addService({id:e,icon:t,in:r,title:i,iconText:n}){if(this.registeredIds[e]!==void 0)throw new Error(`The service id [${e}] is already in use by another ${this.registeredIds[e]}`);if(r!==void 0){if(e===r)throw new Error(`The service [${e}] cannot be placed within itself`);if(this.registeredIds[r]===void 0)throw new Error(`The service [${e}]'s parent does not exist. Please make sure the parent is created before this service`);if(this.registeredIds[r]==="node")throw new Error(`The service [${e}]'s parent is not a group`)}this.registeredIds[e]="node",this.nodes[e]={id:e,type:"service",icon:t,iconText:n,title:i,edges:[],in:r}}getServices(){return Object.values(this.nodes).filter(ZFe)}addJunction({id:e,in:t}){this.registeredIds[e]="node",this.nodes[e]={id:e,type:"junction",edges:[],in:t}}getJunctions(){return Object.values(this.nodes).filter(QFe)}getNodes(){return Object.values(this.nodes)}getNode(e){return this.nodes[e]??null}addGroup({id:e,icon:t,in:r,title:i}){if(this.registeredIds?.[e]!==void 0)throw new Error(`The group id [${e}] is already in use by another ${this.registeredIds[e]}`);if(r!==void 0){if(e===r)throw new Error(`The group [${e}] cannot be placed within itself`);if(this.registeredIds?.[r]===void 0)throw new Error(`The group [${e}]'s parent does not exist. Please make sure the parent is created before this group`);if(this.registeredIds?.[r]==="node")throw new Error(`The group [${e}]'s parent is not a group`)}this.registeredIds[e]="group",this.groups[e]={id:e,icon:t,title:i,in:r}}getGroups(){return Object.values(this.groups)}addEdge({lhsId:e,rhsId:t,lhsDir:r,rhsDir:i,lhsInto:n,rhsInto:a,lhsGroup:s,rhsGroup:o,title:u}){if(!Qq(r))throw new Error(`Invalid direction given for left hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${String(r)}`);if(!Qq(i))throw new Error(`Invalid direction given for right hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${String(i)}`);if(this.nodes[e]===void 0&&this.groups[e]===void 0)throw new Error(`The left-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(this.nodes[t]===void 0&&this.groups[t]===void 0)throw new Error(`The right-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);let h=this.nodes[e].in,d=this.nodes[t].in;if(s&&h&&d&&h==d)throw new Error(`The left-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(o&&h&&d&&h==d)throw new Error(`The right-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);let p={lhsId:e,lhsDir:r,lhsInto:n,lhsGroup:s,rhsId:t,rhsDir:i,rhsInto:a,rhsGroup:o,title:u};this.edges.push(p),this.nodes[e]&&this.nodes[t]&&(this.nodes[e].edges.push(this.edges[this.edges.length-1]),this.nodes[t].edges.push(this.edges[this.edges.length-1]))}getEdges(){return this.edges}getDataStructures(){if(this.dataStructures===void 0){let e={},t=Object.entries(this.nodes).reduce((o,[u,h])=>(o[u]=h.edges.reduce((d,p)=>{let g=this.getNode(p.lhsId)?.in,f=this.getNode(p.rhsId)?.in;if(g&&f&&g!==f){let m=KFe(p.lhsDir,p.rhsDir);m!=="bend"&&(e[g]??={},e[g][f]=m,e[f]??={},e[f][g]=m)}if(p.lhsId===u){let m=_8(p.lhsDir,p.rhsDir);m&&(d[m]=p.rhsId)}else{let m=_8(p.rhsDir,p.lhsDir);m&&(d[m]=p.lhsId)}return d},{}),o),{}),r=Object.keys(t)[0],i={[r]:1},n=Object.keys(t).reduce((o,u)=>u===r?o:{...o,[u]:1},{}),a=l(o=>{let u={[o]:[0,0]},h=[o];for(;h.length>0;){let d=h.shift();if(d){i[d]=1,delete n[d];let p=t[d],[g,f]=u[d];Object.entries(p).forEach(([m,y])=>{i[y]||(u[y]=WFe([g,f],m),h.push(y))})}}return u},"BFS"),s=[a(r)];for(;Object.keys(n).length>0;)s.push(a(Object.keys(n)[0]));this.dataStructures={adjList:t,spatialMaps:s,groupAlignments:e}}return this.dataStructures}setElementForId(e,t){this.elements[e]=t}getElementById(e){return this.elements[e]}getConfig(){return ma({...JFe,...Tr().architecture})}getConfigField(e){return this.getConfig()[e]}}}),tze,rj,Ptt=D(()=>{"use strict";tp(),st(),gf(),eze(),tze=l((e,t)=>{rp(e,t),e.groups.map(r=>t.addGroup(r)),e.services.map(r=>t.addService({...r,type:"service"})),e.junctions.map(r=>t.addJunction({...r,type:"junction"})),e.edges.map(r=>t.addEdge(r))},"populateDb"),rj={parser:{yy:void 0},parse:l(async e=>{let t=await Hc("architecture",e);ne.debug(t);let r=rj.parser?.yy;if(!(r instanceof tj))throw new Error("parser.parser?.yy was not a ArchitectureDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");tze(t,r)},"parse")}}),rze,ize,Btt=D(()=>{"use strict";rze=l(e=>`
  .edge {
    stroke-width: ${e.archEdgeWidth};
    stroke: ${e.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${e.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${e.archGroupBorderColor};
    stroke-width: ${e.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),ize=rze}),nze=_n((e,t)=>{"use strict";l(function(r,i){typeof e=="object"&&typeof t=="object"?t.exports=i():typeof define=="function"&&define.amd?define([],i):typeof e=="object"?e.layoutBase=i():r.layoutBase=i()},"webpackUniversalModuleDefinition")(e,function(){return function(r){var i={};function n(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return l(n,"__webpack_require__"),n.m=r,n.c=i,n.i=function(a){return a},n.d=function(a,s,o){n.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},n.n=function(a){var s=a&&a.__esModule?l(function(){return a.default},"getDefault"):l(function(){return a},"getModuleExports");return n.d(s,"a",s),s},n.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},n.p="",n(n.s=28)}([function(r,i,n){"use strict";function a(){}l(a,"LayoutConstants"),a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,i,n){"use strict";var a=n(2),s=n(8),o=n(9);function u(d,p,g){a.call(this,g),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=g,this.bendpoints=[],this.source=d,this.target=p}l(u,"LEdge"),u.prototype=Object.create(a.prototype);for(var h in a)u[h]=a[h];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(d,p){for(var g=this.getOtherEnd(d),f=p.getGraphManager().getRoot();;){if(g.getOwner()==p)return g;if(g.getOwner()==f)break;g=g.getOwner().getParent()}return null},u.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,i,n){"use strict";function a(s){this.vGraphObject=s}l(a,"LGraphObject"),r.exports=a},function(r,i,n){"use strict";var a=n(2),s=n(10),o=n(13),u=n(0),h=n(16),d=n(5);function p(f,m,y,b){y==null&&b==null&&(b=m),a.call(this,b),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=b,this.edges=[],this.graphManager=f,y!=null&&m!=null?this.rect=new o(m.x,m.y,y.width,y.height):this.rect=new o}l(p,"LNode"),p.prototype=Object.create(a.prototype);for(var g in a)p[g]=a[g];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(f){this.rect.width=f},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(f){this.rect.height=f},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(f,m){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=m.width,this.rect.height=m.height},p.prototype.setCenter=function(f,m){this.rect.x=f-this.rect.width/2,this.rect.y=m-this.rect.height/2},p.prototype.setLocation=function(f,m){this.rect.x=f,this.rect.y=m},p.prototype.moveBy=function(f,m){this.rect.x+=f,this.rect.y+=m},p.prototype.getEdgeListToNode=function(f){var m=[],y,b=this;return b.edges.forEach(function(v){if(v.target==f){if(v.source!=b)throw"Incorrect edge source!";m.push(v)}}),m},p.prototype.getEdgesBetween=function(f){var m=[],y,b=this;return b.edges.forEach(function(v){if(!(v.source==b||v.target==b))throw"Incorrect edge source and/or target";(v.target==f||v.source==f)&&m.push(v)}),m},p.prototype.getNeighborsList=function(){var f=new Set,m=this;return m.edges.forEach(function(y){if(y.source==m)f.add(y.target);else{if(y.target!=m)throw"Incorrect incidency!";f.add(y.source)}}),f},p.prototype.withChildren=function(){var f=new Set,m,y;if(f.add(this),this.child!=null)for(var b=this.child.getNodes(),v=0;v<b.length;v++)m=b[v],y=m.withChildren(),y.forEach(function(x){f.add(x)});return f},p.prototype.getNoOfChildren=function(){var f=0,m;if(this.child==null)f=1;else for(var y=this.child.getNodes(),b=0;b<y.length;b++)m=y[b],f+=m.getNoOfChildren();return f==0&&(f=1),f},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var f,m,y=-u.INITIAL_WORLD_BOUNDARY,b=u.INITIAL_WORLD_BOUNDARY;f=u.WORLD_CENTER_X+h.nextDouble()*(b-y)+y;var v=-u.INITIAL_WORLD_BOUNDARY,x=u.INITIAL_WORLD_BOUNDARY;m=u.WORLD_CENTER_Y+h.nextDouble()*(x-v)+v,this.rect.x=f,this.rect.y=m},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var m=f.getRight()-f.getLeft(),y=f.getBottom()-f.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(m+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>m?(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(m+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(y+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>y?(this.rect.y-=(this.labelHeight-y)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(y+this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(f){var m=this.rect.x;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var y=this.rect.y;y>u.WORLD_BOUNDARY?y=u.WORLD_BOUNDARY:y<-u.WORLD_BOUNDARY&&(y=-u.WORLD_BOUNDARY);var b=new d(m,y),v=f.inverseTransformPoint(b);this.setLocation(v.x,v.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=p},function(r,i,n){"use strict";var a=n(0);function s(){}l(s,"FDLayoutConstants");for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,i,n){"use strict";function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}l(a,"PointD"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,i,n){"use strict";var a=n(2),s=n(10),o=n(0),u=n(7),h=n(3),d=n(1),p=n(13),g=n(12),f=n(11);function m(b,v,x){a.call(this,x),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=b,v!=null&&v instanceof u?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}l(m,"LGraph"),m.prototype=Object.create(a.prototype);for(var y in a)m[y]=a[y];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(b,v,x){if(v==null&&x==null){var w=b;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(w)>-1)throw"Node already in graph!";return w.owner=this,this.getNodes().push(w),w}else{var k=b;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(x)>-1))throw"Source or target not in graph!";if(!(v.owner==x.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=x.owner?null:(k.source=v,k.target=x,k.isInterGraph=!1,this.getEdges().push(k),v.edges.push(k),x!=v&&x.edges.push(k),k)}},m.prototype.remove=function(b){var v=b;if(b instanceof h){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var x=v.edges.slice(),w,k=x.length,T=0;T<k;T++)w=x[T],w.isInterGraph?this.graphManager.remove(w):w.source.owner.remove(w);var _=this.nodes.indexOf(v);if(_==-1)throw"Node not in owner node list!";this.nodes.splice(_,1)}else if(b instanceof d){var w=b;if(w==null)throw"Edge is null!";if(!(w.source!=null&&w.target!=null))throw"Source and/or target is null!";if(!(w.source.owner!=null&&w.target.owner!=null&&w.source.owner==this&&w.target.owner==this))throw"Source and/or target owner is invalid!";var C=w.source.edges.indexOf(w),E=w.target.edges.indexOf(w);if(!(C>-1&&E>-1))throw"Source and/or target doesn't know this edge!";w.source.edges.splice(C,1),w.target!=w.source&&w.target.edges.splice(E,1);var _=w.source.owner.getEdges().indexOf(w);if(_==-1)throw"Not in owner's edge list!";w.source.owner.getEdges().splice(_,1)}},m.prototype.updateLeftTop=function(){for(var b=s.MAX_VALUE,v=s.MAX_VALUE,x,w,k,T=this.getNodes(),_=T.length,C=0;C<_;C++){var E=T[C];x=E.getTop(),w=E.getLeft(),b>x&&(b=x),v>w&&(v=w)}return b==s.MAX_VALUE?null:(T[0].getParent().paddingLeft!=null?k=T[0].getParent().paddingLeft:k=this.margin,this.left=v-k,this.top=b-k,new g(this.left,this.top))},m.prototype.updateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,k=-s.MAX_VALUE,T,_,C,E,N,M=this.nodes,I=M.length,A=0;A<I;A++){var B=M[A];b&&B.child!=null&&B.updateBounds(),T=B.getLeft(),_=B.getRight(),C=B.getTop(),E=B.getBottom(),v>T&&(v=T),x<_&&(x=_),w>C&&(w=C),k<E&&(k=E)}var S=new p(v,w,x-v,k-w);v==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),M[0].getParent().paddingLeft!=null?N=M[0].getParent().paddingLeft:N=this.margin,this.left=S.x-N,this.right=S.x+S.width+N,this.top=S.y-N,this.bottom=S.y+S.height+N},m.calculateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,k=-s.MAX_VALUE,T,_,C,E,N=b.length,M=0;M<N;M++){var I=b[M];T=I.getLeft(),_=I.getRight(),C=I.getTop(),E=I.getBottom(),v>T&&(v=T),x<_&&(x=_),w>C&&(w=C),k<E&&(k=E)}var A=new p(v,w,x-v,k-w);return A},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var b=0,v=this.nodes,x=v.length,w=0;w<x;w++){var k=v[w];b+=k.calcEstimatedSize()}return b==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=b/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var b=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new f,x=new Set,w=this.nodes[0],k,T,_=w.withChildren();for(_.forEach(function(A){v.push(A),x.add(A)});v.length!==0;){w=v.shift(),k=w.getEdges();for(var C=k.length,E=0;E<C;E++){var N=k[E];if(T=N.getOtherEndInGraph(w,this),T!=null&&!x.has(T)){var M=T.withChildren();M.forEach(function(A){v.push(A),x.add(A)})}}}if(this.isConnected=!1,x.size>=this.nodes.length){var I=0;x.forEach(function(A){A.owner==b&&I++}),I==this.nodes.length&&(this.isConnected=!0)}},r.exports=m},function(r,i,n){"use strict";var a,s=n(1);function o(u){a=n(6),this.layout=u,this.graphs=[],this.edges=[]}l(o,"LGraphManager"),o.prototype.addRoot=function(){var u=this.layout.newGraph(),h=this.layout.newNode(null),d=this.add(u,h);return this.setRootGraph(d),this.rootGraph},o.prototype.add=function(u,h,d,p,g){if(d==null&&p==null&&g==null){if(u==null)throw"Graph is null!";if(h==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(h.child!=null)throw"Already has a child!";return u.parent=h,h.child=u,u}else{g=d,p=h,d=u;var f=p.getOwner(),m=g.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==m)return d.isInterGraph=!1,f.add(d,p,g);if(d.isInterGraph=!0,d.source=p,d.target=g,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),!(d.source!=null&&d.target!=null))throw"Edge source and/or target is null!";if(!(d.source.edges.indexOf(d)==-1&&d.target.edges.indexOf(d)==-1))throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d}},o.prototype.remove=function(u){if(u instanceof a){var h=u;if(h.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(h==this.rootGraph||h.parent!=null&&h.parent.graphManager==this))throw"Invalid parent node!";var d=[];d=d.concat(h.getEdges());for(var p,g=d.length,f=0;f<g;f++)p=d[f],h.remove(p);var m=[];m=m.concat(h.getNodes());var y;g=m.length;for(var f=0;f<g;f++)y=m[f],h.remove(y);h==this.rootGraph&&this.setRootGraph(null);var b=this.graphs.indexOf(h);this.graphs.splice(b,1),h.parent=null}else if(u instanceof s){if(p=u,p==null)throw"Edge is null!";if(!p.isInterGraph)throw"Not an inter-graph edge!";if(!(p.source!=null&&p.target!=null))throw"Source and/or target is null!";if(!(p.source.edges.indexOf(p)!=-1&&p.target.edges.indexOf(p)!=-1))throw"Source and/or target doesn't know this edge!";var b=p.source.edges.indexOf(p);if(p.source.edges.splice(b,1),b=p.target.edges.indexOf(p),p.target.edges.splice(b,1),!(p.source.owner!=null&&p.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(p.source.owner.getGraphManager().edges.indexOf(p)==-1)throw"Not in owner graph manager's edge list!";var b=p.source.owner.getGraphManager().edges.indexOf(p);p.source.owner.getGraphManager().edges.splice(b,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<d;p++)u=u.concat(h[p].getNodes());this.allNodes=u}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<h.length;p++)u=u.concat(h[p].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(u,h){if(!(u!=null&&h!=null))throw"assert failed";if(u==h)return!0;var d=u.getOwner(),p;do{if(p=d.getParent(),p==null)break;if(p==h)return!0;if(d=p.getOwner(),d==null)break}while(!0);d=h.getOwner();do{if(p=d.getParent(),p==null)break;if(p==u)return!0;if(d=p.getOwner(),d==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var u,h,d,p,g,f=this.getAllEdges(),m=f.length,y=0;y<m;y++){if(u=f[y],h=u.source,d=u.target,u.lca=null,u.sourceInLca=h,u.targetInLca=d,h==d){u.lca=h.getOwner();continue}for(p=h.getOwner();u.lca==null;){for(u.targetInLca=d,g=d.getOwner();u.lca==null;){if(g==p){u.lca=g;break}if(g==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=g.getParent(),g=u.targetInLca.getOwner()}if(p==this.rootGraph)break;u.lca==null&&(u.sourceInLca=p.getParent(),p=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(u,h){if(u==h)return u.getOwner();var d=u.getOwner();do{if(d==null)break;var p=h.getOwner();do{if(p==null)break;if(p==d)return p;p=p.getParent().getOwner()}while(!0);d=d.getParent().getOwner()}while(!0);return d},o.prototype.calcInclusionTreeDepths=function(u,h){u==null&&h==null&&(u=this.rootGraph,h=1);for(var d,p=u.getNodes(),g=p.length,f=0;f<g;f++)d=p[f],d.inclusionTreeDepth=h,d.child!=null&&this.calcInclusionTreeDepths(d.child,h+1)},o.prototype.includesInvalidEdge=function(){for(var u,h=[],d=this.edges.length,p=0;p<d;p++)u=this.edges[p],this.isOneAncestorOfOther(u.source,u.target)&&h.push(u);for(var p=0;p<h.length;p++)this.remove(h[p]);return!1},r.exports=o},function(r,i,n){"use strict";var a=n(12);function s(){}l(s,"IGeometry"),s.calcSeparationAmount=function(o,u,h,d){if(!o.intersects(u))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(o,u,p),h[0]=Math.min(o.getRight(),u.getRight())-Math.max(o.x,u.x),h[1]=Math.min(o.getBottom(),u.getBottom())-Math.max(o.y,u.y),o.getX()<=u.getX()&&o.getRight()>=u.getRight()?h[0]+=Math.min(u.getX()-o.getX(),o.getRight()-u.getRight()):u.getX()<=o.getX()&&u.getRight()>=o.getRight()&&(h[0]+=Math.min(o.getX()-u.getX(),u.getRight()-o.getRight())),o.getY()<=u.getY()&&o.getBottom()>=u.getBottom()?h[1]+=Math.min(u.getY()-o.getY(),o.getBottom()-u.getBottom()):u.getY()<=o.getY()&&u.getBottom()>=o.getBottom()&&(h[1]+=Math.min(o.getY()-u.getY(),u.getBottom()-o.getBottom()));var g=Math.abs((u.getCenterY()-o.getCenterY())/(u.getCenterX()-o.getCenterX()));u.getCenterY()===o.getCenterY()&&u.getCenterX()===o.getCenterX()&&(g=1);var f=g*h[0],m=h[1]/g;h[0]<m?m=h[0]:f=h[1],h[0]=-1*p[0]*(m/2+d),h[1]=-1*p[1]*(f/2+d)},s.decideDirectionsForOverlappingNodes=function(o,u,h){o.getCenterX()<u.getCenterX()?h[0]=-1:h[0]=1,o.getCenterY()<u.getCenterY()?h[1]=-1:h[1]=1},s.getIntersection2=function(o,u,h){var d=o.getCenterX(),p=o.getCenterY(),g=u.getCenterX(),f=u.getCenterY();if(o.intersects(u))return h[0]=d,h[1]=p,h[2]=g,h[3]=f,!0;var m=o.getX(),y=o.getY(),b=o.getRight(),v=o.getX(),x=o.getBottom(),w=o.getRight(),k=o.getWidthHalf(),T=o.getHeightHalf(),_=u.getX(),C=u.getY(),E=u.getRight(),N=u.getX(),M=u.getBottom(),I=u.getRight(),A=u.getWidthHalf(),B=u.getHeightHalf(),S=!1,O=!1;if(d===g){if(p>f)return h[0]=d,h[1]=y,h[2]=g,h[3]=M,!1;if(p<f)return h[0]=d,h[1]=x,h[2]=g,h[3]=C,!1}else if(p===f){if(d>g)return h[0]=m,h[1]=p,h[2]=E,h[3]=f,!1;if(d<g)return h[0]=b,h[1]=p,h[2]=_,h[3]=f,!1}else{var R=o.height/o.width,P=u.height/u.width,L=(f-p)/(g-d),$=void 0,F=void 0,G=void 0,q=void 0,V=void 0,H=void 0;if(-R===L?d>g?(h[0]=v,h[1]=x,S=!0):(h[0]=b,h[1]=y,S=!0):R===L&&(d>g?(h[0]=m,h[1]=y,S=!0):(h[0]=w,h[1]=x,S=!0)),-P===L?g>d?(h[2]=N,h[3]=M,O=!0):(h[2]=E,h[3]=C,O=!0):P===L&&(g>d?(h[2]=_,h[3]=C,O=!0):(h[2]=I,h[3]=M,O=!0)),S&&O)return!1;if(d>g?p>f?($=this.getCardinalDirection(R,L,4),F=this.getCardinalDirection(P,L,2)):($=this.getCardinalDirection(-R,L,3),F=this.getCardinalDirection(-P,L,1)):p>f?($=this.getCardinalDirection(-R,L,1),F=this.getCardinalDirection(-P,L,3)):($=this.getCardinalDirection(R,L,2),F=this.getCardinalDirection(P,L,4)),!S)switch($){case 1:q=y,G=d+-T/L,h[0]=G,h[1]=q;break;case 2:G=w,q=p+k*L,h[0]=G,h[1]=q;break;case 3:q=x,G=d+T/L,h[0]=G,h[1]=q;break;case 4:G=v,q=p+-k*L,h[0]=G,h[1]=q;break}if(!O)switch(F){case 1:H=C,V=g+-B/L,h[2]=V,h[3]=H;break;case 2:V=I,H=f+A*L,h[2]=V,h[3]=H;break;case 3:H=M,V=g+B/L,h[2]=V,h[3]=H;break;case 4:V=N,H=f+-A*L,h[2]=V,h[3]=H;break}}return!1},s.getCardinalDirection=function(o,u,h){return o>u?h:1+h%4},s.getIntersection=function(o,u,h,d){if(d==null)return this.getIntersection2(o,u,h);var p=o.x,g=o.y,f=u.x,m=u.y,y=h.x,b=h.y,v=d.x,x=d.y,w=void 0,k=void 0,T=void 0,_=void 0,C=void 0,E=void 0,N=void 0,M=void 0,I=void 0;return T=m-g,C=p-f,N=f*g-p*m,_=x-b,E=y-v,M=v*b-y*x,I=T*E-_*C,I===0?null:(w=(C*M-E*N)/I,k=(_*N-T*M)/I,new a(w,k))},s.angleOfVector=function(o,u,h,d){var p=void 0;return o!==h?(p=Math.atan((d-u)/(h-o)),h<o?p+=Math.PI:d<u&&(p+=this.TWO_PI)):d<u?p=this.ONE_AND_HALF_PI:p=this.HALF_PI,p},s.doIntersect=function(o,u,h,d){var p=o.x,g=o.y,f=u.x,m=u.y,y=h.x,b=h.y,v=d.x,x=d.y,w=(f-p)*(x-b)-(v-y)*(m-g);if(w===0)return!1;var k=((x-b)*(v-p)+(y-v)*(x-g))/w,T=((g-m)*(v-p)+(f-p)*(x-g))/w;return 0<k&&k<1&&0<T&&T<1},s.findCircleLineIntersections=function(o,u,h,d,p,g,f){var m=(h-o)*(h-o)+(d-u)*(d-u),y=2*((o-p)*(h-o)+(u-g)*(d-u)),b=(o-p)*(o-p)+(u-g)*(u-g)-f*f,v=y*y-4*m*b;if(v>=0){var x=(-y+Math.sqrt(y*y-4*m*b))/(2*m),w=(-y-Math.sqrt(y*y-4*m*b))/(2*m),k=null;return x>=0&&x<=1?[x]:w>=0&&w<=1?[w]:k}else return null},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,i,n){"use strict";function a(){}l(a,"IMath"),a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,i,n){"use strict";function a(){}l(a,"Integer"),a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,i,n){"use strict";var a=function(){function p(g,f){for(var m=0;m<f.length;m++){var y=f[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return l(p,"defineProperties"),function(g,f,m){return f&&p(g.prototype,f),m&&p(g,m),g}}();function s(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=l(function(p){return{value:p,next:null,prev:null}},"nodeFrom"),u=l(function(p,g,f,m){return p!==null?p.next=g:m.head=g,f!==null?f.prev=g:m.tail=g,g.prev=p,g.next=f,m.length++,g},"add"),h=l(function(p,g){var f=p.prev,m=p.next;return f!==null?f.next=m:g.head=m,m!==null?m.prev=f:g.tail=f,p.prev=p.next=null,g.length--,p},"_remove"),d=function(){function p(g){var f=this;s(this,p),this.length=0,this.head=null,this.tail=null,g?.forEach(function(m){return f.push(m)})}return l(p,"LinkedList"),a(p,[{key:"size",value:l(function(){return this.length},"size")},{key:"insertBefore",value:l(function(g,f){return u(f.prev,o(g),f,this)},"insertBefore")},{key:"insertAfter",value:l(function(g,f){return u(f,o(g),f.next,this)},"insertAfter")},{key:"insertNodeBefore",value:l(function(g,f){return u(f.prev,g,f,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:l(function(g,f){return u(f,g,f.next,this)},"insertNodeAfter")},{key:"push",value:l(function(g){return u(this.tail,o(g),null,this)},"push")},{key:"unshift",value:l(function(g){return u(null,o(g),this.head,this)},"unshift")},{key:"remove",value:l(function(g){return h(g,this)},"remove")},{key:"pop",value:l(function(){return h(this.tail,this).value},"pop")},{key:"popNode",value:l(function(){return h(this.tail,this)},"popNode")},{key:"shift",value:l(function(){return h(this.head,this).value},"shift")},{key:"shiftNode",value:l(function(){return h(this.head,this)},"shiftNode")},{key:"get_object_at",value:l(function(g){if(g<=this.length()){for(var f=1,m=this.head;f<g;)m=m.next,f++;return m.value}},"get_object_at")},{key:"set_object_at",value:l(function(g,f){if(g<=this.length()){for(var m=1,y=this.head;m<g;)y=y.next,m++;y.value=f}},"set_object_at")}]),p}();r.exports=d},function(r,i,n){"use strict";function a(s,o,u){this.x=null,this.y=null,s==null&&o==null&&u==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&u==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&u==null&&(u=s,this.x=u.x,this.y=u.y)}l(a,"Point"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,u){s.constructor.name=="Point"&&o==null&&u==null?(u=s,this.setLocation(u.x,u.y)):typeof s=="number"&&typeof o=="number"&&u==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,i,n){"use strict";function a(s,o,u,h){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&u!=null&&h!=null&&(this.x=s,this.y=o,this.width=u,this.height=h)}l(a,"RectangleD"),a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,i,n){"use strict";var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}l(s,"UniqueIDGeneretor"),s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var u=typeof o>"u"?"undefined":a(o);return o==null||u!="object"&&u!="function"},r.exports=s},function(r,i,n){"use strict";function a(y){if(Array.isArray(y)){for(var b=0,v=Array(y.length);b<y.length;b++)v[b]=y[b];return v}else return Array.from(y)}l(a,"_toConsumableArray");var s=n(0),o=n(7),u=n(3),h=n(1),d=n(6),p=n(5),g=n(17),f=n(29);function m(y){f.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}l(m,"Layout"),m.RANDOM_SEED=1,m.prototype=Object.create(f.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var y=new o(this);return this.graphManager=y,y},m.prototype.newGraph=function(y){return new d(null,this.graphManager,y)},m.prototype.newNode=function(y){return new u(this.graphManager,y)},m.prototype.newEdge=function(y){return new h(null,null,y)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),s.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y,b=this.graphManager.getAllEdges(),v=0;v<b.length;v++)y=b[v];for(var x,w=this.graphManager.getRoot().getNodes(),v=0;v<w.length;v++)x=w[v];this.update(this.graphManager.getRoot())}},m.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof u){var b=y;if(b.getChild()!=null)for(var v=b.getChild().getNodes(),x=0;x<v.length;x++)update(v[x]);if(b.vGraphObject!=null){var w=b.vGraphObject;w.update(b)}}else if(y instanceof h){var k=y;if(k.vGraphObject!=null){var T=k.vGraphObject;T.update(k)}}else if(y instanceof d){var _=y;if(_.vGraphObject!=null){var C=_.vGraphObject;C.update(_)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(y){if(y==null)this.transform(new p(0,0));else{var b=new g,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){b.setWorldOrgX(y.x),b.setWorldOrgY(y.y),b.setDeviceOrgX(v.x),b.setDeviceOrgY(v.y);for(var x=this.getAllNodes(),w,k=0;k<x.length;k++)w=x[k],w.transform(b)}}},m.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var b,v,x=y.getNodes(),w=0;w<x.length;w++)b=x[w],v=b.getChild(),v==null||v.getNodes().length==0?b.scatter():(this.positionNodesRandomly(v),b.updateBounds())},m.prototype.getFlatForest=function(){for(var y=[],b=!0,v=this.graphManager.getRoot().getNodes(),x=!0,w=0;w<v.length;w++)v[w].getChild()!=null&&(x=!1);if(!x)return y;var k=new Set,T=[],_=new Map,C=[];for(C=C.concat(v);C.length>0&&b;){for(T.push(C[0]);T.length>0&&b;){var E=T[0];T.splice(0,1),k.add(E);for(var N=E.getEdges(),w=0;w<N.length;w++){var M=N[w].getOtherEnd(E);if(_.get(E)!=M)if(!k.has(M))T.push(M),_.set(M,E);else{b=!1;break}}}if(!b)y=[];else{var I=[].concat(a(k));y.push(I);for(var w=0;w<I.length;w++){var A=I[w],B=C.indexOf(A);B>-1&&C.splice(B,1)}k=new Set,_=new Map}}return y},m.prototype.createDummyNodesForBendpoints=function(y){for(var b=[],v=y.source,x=this.graphManager.calcLowestCommonAncestor(y.source,y.target),w=0;w<y.bendpoints.length;w++){var k=this.newNode(null);k.setRect(new Point(0,0),new Dimension(1,1)),x.add(k);var T=this.newEdge(null);this.graphManager.add(T,v,k),b.add(k),v=k}var T=this.newEdge(null);return this.graphManager.add(T,v,y.target),this.edgeToDummyNodes.set(y,b),y.isInterGraph()?this.graphManager.remove(y):x.remove(y),b},m.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(a(this.edgeToDummyNodes.keys())).concat(y);for(var b=0;b<y.length;b++){var v=y[b];if(v.bendpoints.length>0){for(var x=this.edgeToDummyNodes.get(v),w=0;w<x.length;w++){var k=x[w],T=new p(k.getCenterX(),k.getCenterY()),_=v.bendpoints.get(w);_.x=T.x,_.y=T.y,k.getOwner().remove(k)}this.graphManager.add(v,v.source,v.target)}}},m.transform=function(y,b,v,x){if(v!=null&&x!=null){var w=b;if(y<=50){var k=b/v;w-=(b-k)/50*(50-y)}else{var T=b*x;w+=(T-b)/50*(y-50)}return w}else{var _,C;return y<=50?(_=9*b/500,C=b/10):(_=9*b/50,C=-8*b),_*y+C}},m.findCenterOfTree=function(y){var b=[];b=b.concat(y);var v=[],x=new Map,w=!1,k=null;(b.length==1||b.length==2)&&(w=!0,k=b[0]);for(var T=0;T<b.length;T++){var _=b[T],C=_.getNeighborsList().size;x.set(_,_.getNeighborsList().size),C==1&&v.push(_)}var E=[];for(E=E.concat(v);!w;){var N=[];N=N.concat(E),E=[];for(var T=0;T<b.length;T++){var _=b[T],M=b.indexOf(_);M>=0&&b.splice(M,1);var I=_.getNeighborsList();I.forEach(function(S){if(v.indexOf(S)<0){var O=x.get(S),R=O-1;R==1&&E.push(S),x.set(S,R)}})}v=v.concat(E),(b.length==1||b.length==2)&&(w=!0,k=b[0])}return k},m.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=m},function(r,i,n){"use strict";function a(){}l(a,"RandomSeed"),a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,i,n){"use strict";var a=n(5);function s(o,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}l(s,"Transform"),s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var u=0,h=this.lworldExtX;return h!=0&&(u=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/h),u},s.prototype.transformY=function(o){var u=0,h=this.lworldExtY;return h!=0&&(u=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/h),u},s.prototype.inverseTransformX=function(o){var u=0,h=this.ldeviceExtX;return h!=0&&(u=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/h),u},s.prototype.inverseTransformY=function(o){var u=0,h=this.ldeviceExtY;return h!=0&&(u=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/h),u},s.prototype.inverseTransformPoint=function(o){var u=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return u},r.exports=s},function(r,i,n){"use strict";function a(f){if(Array.isArray(f)){for(var m=0,y=Array(f.length);m<f.length;m++)y[m]=f[m];return y}else return Array.from(f)}l(a,"_toConsumableArray");var s=n(15),o=n(4),u=n(0),h=n(8),d=n(9);function p(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}l(p,"FDLayout"),p.prototype=Object.create(s.prototype);for(var g in s)p[g]=s[g];p.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var f,m,y,b,v,x,w,k=this.getGraphManager().getAllEdges(),T=0;T<k.length;T++)f=k[T],m=f.idealLength,f.isInterGraph&&(b=f.getSource(),v=f.getTarget(),x=f.getSourceInLca().getEstimatedSize(),w=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=x+w-2*u.SIMPLE_NODE_SIZE),y=f.getLca().getInclusionTreeDepth(),f.idealLength+=m*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(b.getInclusionTreeDepth()+v.getInclusionTreeDepth()-2*y))},p.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),m,y=0;y<f.length;y++)m=f[y],this.calcSpringForce(m,m.idealLength)},p.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,b,v,x,w=this.getAllNodes(),k;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),k=new Set,y=0;y<w.length;y++)v=w[y],this.calculateRepulsionForceOfANode(v,k,f,m),k.add(v);else for(y=0;y<w.length;y++)for(v=w[y],b=y+1;b<w.length;b++)x=w[b],v.getOwner()==x.getOwner()&&this.calcRepulsionForce(v,x)},p.prototype.calcGravitationalForces=function(){for(var f,m=this.getAllNodesToApplyGravitation(),y=0;y<m.length;y++)f=m[y],this.calcGravitationalForce(f)},p.prototype.moveNodes=function(){for(var f=this.getAllNodes(),m,y=0;y<f.length;y++)m=f[y],m.move()},p.prototype.calcSpringForce=function(f,m){var y=f.getSource(),b=f.getTarget(),v,x,w,k;if(this.uniformLeafNodeSizes&&y.getChild()==null&&b.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;v=f.getLength(),v!=0&&(x=f.edgeElasticity*(v-m),w=x*(f.lengthX/v),k=x*(f.lengthY/v),y.springForceX+=w,y.springForceY+=k,b.springForceX-=w,b.springForceY-=k)},p.prototype.calcRepulsionForce=function(f,m){var y=f.getRect(),b=m.getRect(),v=new Array(2),x=new Array(4),w,k,T,_,C,E,N;if(y.intersects(b)){h.calcSeparationAmount(y,b,v,o.DEFAULT_EDGE_LENGTH/2),E=2*v[0],N=2*v[1];var M=f.noOfChildren*m.noOfChildren/(f.noOfChildren+m.noOfChildren);f.repulsionForceX-=M*E,f.repulsionForceY-=M*N,m.repulsionForceX+=M*E,m.repulsionForceY+=M*N}else this.uniformLeafNodeSizes&&f.getChild()==null&&m.getChild()==null?(w=b.getCenterX()-y.getCenterX(),k=b.getCenterY()-y.getCenterY()):(h.getIntersection(y,b,x),w=x[2]-x[0],k=x[3]-x[1]),Math.abs(w)<o.MIN_REPULSION_DIST&&(w=d.sign(w)*o.MIN_REPULSION_DIST),Math.abs(k)<o.MIN_REPULSION_DIST&&(k=d.sign(k)*o.MIN_REPULSION_DIST),T=w*w+k*k,_=Math.sqrt(T),C=(f.nodeRepulsion/2+m.nodeRepulsion/2)*f.noOfChildren*m.noOfChildren/T,E=C*w/_,N=C*k/_,f.repulsionForceX-=E,f.repulsionForceY-=N,m.repulsionForceX+=E,m.repulsionForceY+=N},p.prototype.calcGravitationalForce=function(f){var m,y,b,v,x,w,k,T;m=f.getOwner(),y=(m.getRight()+m.getLeft())/2,b=(m.getTop()+m.getBottom())/2,v=f.getCenterX()-y,x=f.getCenterY()-b,w=Math.abs(v)+f.getWidth()/2,k=Math.abs(x)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(T=m.getEstimatedSize()*this.gravityRangeFactor,(w>T||k>T)&&(f.gravitationForceX=-this.gravityConstant*v,f.gravitationForceY=-this.gravityConstant*x)):(T=m.getEstimatedSize()*this.compoundGravityRangeFactor,(w>T||k>T)&&(f.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*x*this.compoundGravityConstant))},p.prototype.isConverged=function(){var f,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||m},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,m=this.graphManager.getAllNodes(),y=0;y<m.length;y++)f=m[y],f.noOfChildren=f.getNoOfChildren()},p.prototype.calcGrid=function(f){var m=0,y=0;m=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var b=new Array(m),v=0;v<m;v++)b[v]=new Array(y);for(var v=0;v<m;v++)for(var x=0;x<y;x++)b[v][x]=new Array;return b},p.prototype.addNodeToGrid=function(f,m,y){var b=0,v=0,x=0,w=0;b=parseInt(Math.floor((f.getRect().x-m)/this.repulsionRange)),v=parseInt(Math.floor((f.getRect().width+f.getRect().x-m)/this.repulsionRange)),x=parseInt(Math.floor((f.getRect().y-y)/this.repulsionRange)),w=parseInt(Math.floor((f.getRect().height+f.getRect().y-y)/this.repulsionRange));for(var k=b;k<=v;k++)for(var T=x;T<=w;T++)this.grid[k][T].push(f),f.setGridCoordinates(b,v,x,w)},p.prototype.updateGrid=function(){var f,m,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<y.length;f++)m=y[f],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(f,m,y,b){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&y||b){var v=new Set;f.surrounding=new Array;for(var x,w=this.grid,k=f.startX-1;k<f.finishX+2;k++)for(var T=f.startY-1;T<f.finishY+2;T++)if(!(k<0||T<0||k>=w.length||T>=w[0].length)){for(var _=0;_<w[k][T].length;_++)if(x=w[k][T][_],!(f.getOwner()!=x.getOwner()||f==x)&&!m.has(x)&&!v.has(x)){var C=Math.abs(f.getCenterX()-x.getCenterX())-(f.getWidth()/2+x.getWidth()/2),E=Math.abs(f.getCenterY()-x.getCenterY())-(f.getHeight()/2+x.getHeight()/2);C<=this.repulsionRange&&E<=this.repulsionRange&&v.add(x)}}f.surrounding=[].concat(a(v))}for(k=0;k<f.surrounding.length;k++)this.calcRepulsionForce(f,f.surrounding[k])},p.prototype.calcRepulsionRange=function(){return 0},r.exports=p},function(r,i,n){"use strict";var a=n(1),s=n(4);function o(h,d,p){a.call(this,h,d,p),this.idealLength=s.DEFAULT_EDGE_LENGTH,this.edgeElasticity=s.DEFAULT_SPRING_STRENGTH}l(o,"FDLayoutEdge"),o.prototype=Object.create(a.prototype);for(var u in a)o[u]=a[u];r.exports=o},function(r,i,n){"use strict";var a=n(3),s=n(4);function o(h,d,p,g){a.call(this,h,d,p,g),this.nodeRepulsion=s.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}l(o,"FDLayoutNode"),o.prototype=Object.create(a.prototype);for(var u in a)o[u]=a[u];o.prototype.setGridCoordinates=function(h,d,p,g){this.startX=h,this.finishX=d,this.startY=p,this.finishY=g},r.exports=o},function(r,i,n){"use strict";function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}l(a,"DimensionD"),a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,i,n){"use strict";var a=n(14);function s(){this.map={},this.keys=[]}l(s,"HashMap"),s.prototype.put=function(o,u){var h=a.createID(o);this.contains(h)||(this.map[h]=u,this.keys.push(o))},s.prototype.contains=function(o){var u=a.createID(o);return this.map[o]!=null},s.prototype.get=function(o){var u=a.createID(o);return this.map[u]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,i,n){"use strict";var a=n(14);function s(){this.set={}}l(s,"HashSet"),s.prototype.add=function(o){var u=a.createID(o);this.contains(u)||(this.set[u]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var u=Object.keys(this.set),h=u.length,d=0;d<h;d++)o.push(this.set[u[d]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var u=o.length,h=0;h<u;h++){var d=o[h];this.add(d)}},r.exports=s},function(r,i,n){"use strict";function a(){}l(a,"Matrix"),a.multMat=function(s,o){for(var u=[],h=0;h<s.length;h++){u[h]=[];for(var d=0;d<o[0].length;d++){u[h][d]=0;for(var p=0;p<s[0].length;p++)u[h][d]+=s[h][p]*o[p][d]}}return u},a.transpose=function(s){for(var o=[],u=0;u<s[0].length;u++){o[u]=[];for(var h=0;h<s.length;h++)o[u][h]=s[h][u]}return o},a.multCons=function(s,o){for(var u=[],h=0;h<s.length;h++)u[h]=s[h]*o;return u},a.minusOp=function(s,o){for(var u=[],h=0;h<s.length;h++)u[h]=s[h]-o[h];return u},a.dotProduct=function(s,o){for(var u=0,h=0;h<s.length;h++)u+=s[h]*o[h];return u},a.mag=function(s){return Math.sqrt(this.dotProduct(s,s))},a.normalize=function(s){for(var o=[],u=this.mag(s),h=0;h<s.length;h++)o[h]=s[h]/u;return o},a.multGamma=function(s){for(var o=[],u=0,h=0;h<s.length;h++)u+=s[h];u*=-1/s.length;for(var d=0;d<s.length;d++)o[d]=u+s[d];return o},a.multL=function(s,o,u){for(var h=[],d=[],p=[],g=0;g<o[0].length;g++){for(var f=0,m=0;m<o.length;m++)f+=-.5*o[m][g]*s[m];d[g]=f}for(var y=0;y<u.length;y++){for(var b=0,v=0;v<u.length;v++)b+=u[y][v]*d[v];p[y]=b}for(var x=0;x<o.length;x++){for(var w=0,k=0;k<o[0].length;k++)w+=o[x][k]*p[k];h[x]=w}return h},r.exports=a},function(r,i,n){"use strict";var a=function(){function h(d,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return l(h,"defineProperties"),function(d,p,g){return p&&h(d.prototype,p),g&&h(d,g),d}}();function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=n(11),u=function(){function h(d,p){s(this,h),(p!==null||p!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var g=void 0;d instanceof o?g=d.size():g=d.length,this._quicksort(d,0,g-1)}return l(h,"Quicksort"),a(h,[{key:"_quicksort",value:l(function(d,p,g){if(p<g){var f=this._partition(d,p,g);this._quicksort(d,p,f),this._quicksort(d,f+1,g)}},"_quicksort")},{key:"_partition",value:l(function(d,p,g){for(var f=this._get(d,p),m=p,y=g;;){for(;this.compareFunction(f,this._get(d,y));)y--;for(;this.compareFunction(this._get(d,m),f);)m++;if(m<y)this._swap(d,m,y),m++,y--;else return y}},"_partition")},{key:"_get",value:l(function(d,p){return d instanceof o?d.get_object_at(p):d[p]},"_get")},{key:"_set",value:l(function(d,p,g){d instanceof o?d.set_object_at(p,g):d[p]=g},"_set")},{key:"_swap",value:l(function(d,p,g){var f=this._get(d,p);this._set(d,p,this._get(d,g)),this._set(d,g,f)},"_swap")},{key:"_defaultCompareFunction",value:l(function(d,p){return p>d},"_defaultCompareFunction")}]),h}();r.exports=u},function(r,i,n){"use strict";function a(){}l(a,"SVD"),a.svd=function(s){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=s.length,this.n=s[0].length;var o=Math.min(this.m,this.n);this.s=function(ft){for(var Qe=[];ft-- >0;)Qe.push(0);return Qe}(Math.min(this.m+1,this.n)),this.U=function(ft){var Qe=l(function Ze(_t){if(_t.length==0)return 0;for(var jt=[],Pt=0;Pt<_t[0];Pt++)jt.push(Ze(_t.slice(1)));return jt},"allocate");return Qe(ft)}([this.m,o]),this.V=function(ft){var Qe=l(function Ze(_t){if(_t.length==0)return 0;for(var jt=[],Pt=0;Pt<_t[0];Pt++)jt.push(Ze(_t.slice(1)));return jt},"allocate");return Qe(ft)}([this.n,this.n]);for(var u=function(ft){for(var Qe=[];ft-- >0;)Qe.push(0);return Qe}(this.n),h=function(ft){for(var Qe=[];ft-- >0;)Qe.push(0);return Qe}(this.m),d=!0,p=!0,g=Math.min(this.m-1,this.n),f=Math.max(0,Math.min(this.n-2,this.m)),m=0;m<Math.max(g,f);m++){if(m<g){this.s[m]=0;for(var y=m;y<this.m;y++)this.s[m]=a.hypot(this.s[m],s[y][m]);if(this.s[m]!==0){s[m][m]<0&&(this.s[m]=-this.s[m]);for(var b=m;b<this.m;b++)s[b][m]/=this.s[m];s[m][m]+=1}this.s[m]=-this.s[m]}for(var v=m+1;v<this.n;v++){if(function(ft,Qe){return ft&&Qe}(m<g,this.s[m]!==0)){for(var x=0,w=m;w<this.m;w++)x+=s[w][m]*s[w][v];x=-x/s[m][m];for(var k=m;k<this.m;k++)s[k][v]+=x*s[k][m]}u[v]=s[m][v]}if(function(ft,Qe){return ft&&Qe}(d,m<g))for(var T=m;T<this.m;T++)this.U[T][m]=s[T][m];if(m<f){u[m]=0;for(var _=m+1;_<this.n;_++)u[m]=a.hypot(u[m],u[_]);if(u[m]!==0){u[m+1]<0&&(u[m]=-u[m]);for(var C=m+1;C<this.n;C++)u[C]/=u[m];u[m+1]+=1}if(u[m]=-u[m],function(ft,Qe){return ft&&Qe}(m+1<this.m,u[m]!==0)){for(var E=m+1;E<this.m;E++)h[E]=0;for(var N=m+1;N<this.n;N++)for(var M=m+1;M<this.m;M++)h[M]+=u[N]*s[M][N];for(var I=m+1;I<this.n;I++)for(var A=-u[I]/u[m+1],B=m+1;B<this.m;B++)s[B][I]+=A*h[B]}if(p)for(var S=m+1;S<this.n;S++)this.V[S][m]=u[S]}}var O=Math.min(this.n,this.m+1);if(g<this.n&&(this.s[g]=s[g][g]),this.m<O&&(this.s[O-1]=0),f+1<O&&(u[f]=s[f][O-1]),u[O-1]=0,d){for(var R=g;R<o;R++){for(var P=0;P<this.m;P++)this.U[P][R]=0;this.U[R][R]=1}for(var L=g-1;L>=0;L--)if(this.s[L]!==0){for(var $=L+1;$<o;$++){for(var F=0,G=L;G<this.m;G++)F+=this.U[G][L]*this.U[G][$];F=-F/this.U[L][L];for(var q=L;q<this.m;q++)this.U[q][$]+=F*this.U[q][L]}for(var V=L;V<this.m;V++)this.U[V][L]=-this.U[V][L];this.U[L][L]=1+this.U[L][L];for(var H=0;H<L-1;H++)this.U[H][L]=0}else{for(var ae=0;ae<this.m;ae++)this.U[ae][L]=0;this.U[L][L]=1}}if(p)for(var re=this.n-1;re>=0;re--){if(function(ft,Qe){return ft&&Qe}(re<f,u[re]!==0))for(var oe=re+1;oe<o;oe++){for(var ue=0,W=re+1;W<this.n;W++)ue+=this.V[W][re]*this.V[W][oe];ue=-ue/this.V[re+1][re];for(var ee=re+1;ee<this.n;ee++)this.V[ee][oe]+=ue*this.V[ee][re]}for(var X=0;X<this.n;X++)this.V[X][re]=0;this.V[re][re]=1}for(var Z=O-1,J=0,he=Math.pow(2,-52),K=Math.pow(2,-966);O>0;){var me=void 0,Y=void 0;for(me=O-2;me>=-1&&me!==-1;me--)if(Math.abs(u[me])<=K+he*(Math.abs(this.s[me])+Math.abs(this.s[me+1]))){u[me]=0;break}if(me===O-2)Y=4;else{var _e=void 0;for(_e=O-1;_e>=me&&_e!==me;_e--){var ce=(_e!==O?Math.abs(u[_e]):0)+(_e!==me+1?Math.abs(u[_e-1]):0);if(Math.abs(this.s[_e])<=K+he*ce){this.s[_e]=0;break}}_e===me?Y=3:_e===O-1?Y=1:(Y=2,me=_e)}switch(me++,Y){case 1:{var Ne=u[O-2];u[O-2]=0;for(var Be=O-2;Be>=me;Be--){var je=a.hypot(this.s[Be],Ne),qe=this.s[Be]/je,Se=Ne/je;if(this.s[Be]=je,Be!==me&&(Ne=-Se*u[Be-1],u[Be-1]=qe*u[Be-1]),p)for(var Re=0;Re<this.n;Re++)je=qe*this.V[Re][Be]+Se*this.V[Re][O-1],this.V[Re][O-1]=-Se*this.V[Re][Be]+qe*this.V[Re][O-1],this.V[Re][Be]=je}}break;case 2:{var ve=u[me-1];u[me-1]=0;for(var Fe=me;Fe<O;Fe++){var de=a.hypot(this.s[Fe],ve),Ve=this.s[Fe]/de,Q=ve/de;if(this.s[Fe]=de,ve=-Q*u[Fe],u[Fe]=Ve*u[Fe],d)for(var Me=0;Me<this.m;Me++)de=Ve*this.U[Me][Fe]+Q*this.U[Me][me-1],this.U[Me][me-1]=-Q*this.U[Me][Fe]+Ve*this.U[Me][me-1],this.U[Me][Fe]=de}}break;case 3:{var z=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[O-1]),Math.abs(this.s[O-2])),Math.abs(u[O-2])),Math.abs(this.s[me])),Math.abs(u[me])),te=this.s[O-1]/z,se=this.s[O-2]/z,pe=u[O-2]/z,fe=this.s[me]/z,we=u[me]/z,Ce=((se+te)*(se-te)+pe*pe)/2,Te=te*pe*(te*pe),ze=0;(function(ft,Qe){return ft||Qe})(Ce!==0,Te!==0)&&(ze=Math.sqrt(Ce*Ce+Te),Ce<0&&(ze=-ze),ze=Te/(Ce+ze));for(var He=(fe+te)*(fe-te)+ze,at=fe*we,$e=me;$e<O-1;$e++){var Ye=a.hypot(He,at),Ue=He/Ye,Ge=at/Ye;if($e!==me&&(u[$e-1]=Ye),He=Ue*this.s[$e]+Ge*u[$e],u[$e]=Ue*u[$e]-Ge*this.s[$e],at=Ge*this.s[$e+1],this.s[$e+1]=Ue*this.s[$e+1],p)for(var Xe=0;Xe<this.n;Xe++)Ye=Ue*this.V[Xe][$e]+Ge*this.V[Xe][$e+1],this.V[Xe][$e+1]=-Ge*this.V[Xe][$e]+Ue*this.V[Xe][$e+1],this.V[Xe][$e]=Ye;if(Ye=a.hypot(He,at),Ue=He/Ye,Ge=at/Ye,this.s[$e]=Ye,He=Ue*u[$e]+Ge*this.s[$e+1],this.s[$e+1]=-Ge*u[$e]+Ue*this.s[$e+1],at=Ge*u[$e+1],u[$e+1]=Ue*u[$e+1],d&&$e<this.m-1)for(var kt=0;kt<this.m;kt++)Ye=Ue*this.U[kt][$e]+Ge*this.U[kt][$e+1],this.U[kt][$e+1]=-Ge*this.U[kt][$e]+Ue*this.U[kt][$e+1],this.U[kt][$e]=Ye}u[O-2]=He,J=J+1}break;case 4:{if(this.s[me]<=0&&(this.s[me]=this.s[me]<0?-this.s[me]:0,p))for(var ct=0;ct<=Z;ct++)this.V[ct][me]=-this.V[ct][me];for(;me<Z&&!(this.s[me]>=this.s[me+1]);){var ot=this.s[me];if(this.s[me]=this.s[me+1],this.s[me+1]=ot,p&&me<this.n-1)for(var Et=0;Et<this.n;Et++)ot=this.V[Et][me+1],this.V[Et][me+1]=this.V[Et][me],this.V[Et][me]=ot;if(d&&me<this.m-1)for(var tt=0;tt<this.m;tt++)ot=this.U[tt][me+1],this.U[tt][me+1]=this.U[tt][me],this.U[tt][me]=ot;me++}J=0,O--}break}}var ht={U:this.U,V:this.V,S:this.s};return ht},a.hypot=function(s,o){var u=void 0;return Math.abs(s)>Math.abs(o)?(u=o/s,u=Math.abs(s)*Math.sqrt(1+u*u)):o!=0?(u=s/o,u=Math.abs(o)*Math.sqrt(1+u*u)):u=0,u},r.exports=a},function(r,i,n){"use strict";var a=function(){function u(h,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return l(u,"defineProperties"),function(h,d,p){return d&&u(h.prototype,d),p&&u(h,p),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=function(){function u(h,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,u),this.sequence1=h,this.sequence2=d,this.match_score=p,this.mismatch_penalty=g,this.gap_penalty=f,this.iMax=h.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[m][y]=0}this.tracebackGrid=new Array(this.iMax);for(var b=0;b<this.iMax;b++){this.tracebackGrid[b]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[b][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return l(u,"NeedlemanWunsch"),a(u,[{key:"getScore",value:l(function(){return this.score},"getScore")},{key:"getAlignments",value:l(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:l(function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var g=1;g<this.jMax;g++){var f=void 0;this.sequence1[p-1]===this.sequence2[g-1]?f=this.grid[p-1][g-1]+this.match_score:f=this.grid[p-1][g-1]+this.mismatch_penalty;var m=this.grid[p-1][g]+this.gap_penalty,y=this.grid[p][g-1]+this.gap_penalty,b=[f,m,y],v=this.arrayAllMaxIndexes(b);this.grid[p][g]=b[v[0]],this.tracebackGrid[p][g]=[v.includes(0),v.includes(1),v.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:l(function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var d=h[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&h.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&h.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&h.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),h.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:l(function(h,d){for(var p=[],g=-1;(g=h.indexOf(d,g+1))!==-1;)p.push(g);return p},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:l(function(h){return this.getAllIndexes(h,Math.max.apply(null,h))},"arrayAllMaxIndexes")}]),u}();r.exports=o},function(r,i,n){"use strict";var a=l(function(){},"layoutBase");a.FDLayout=n(18),a.FDLayoutConstants=n(4),a.FDLayoutEdge=n(19),a.FDLayoutNode=n(20),a.DimensionD=n(21),a.HashMap=n(22),a.HashSet=n(23),a.IGeometry=n(8),a.IMath=n(9),a.Integer=n(10),a.Point=n(12),a.PointD=n(5),a.RandomSeed=n(16),a.RectangleD=n(13),a.Transform=n(17),a.UniqueIDGeneretor=n(14),a.Quicksort=n(25),a.LinkedList=n(11),a.LGraphObject=n(2),a.LGraph=n(6),a.LEdge=n(1),a.LGraphManager=n(7),a.LNode=n(3),a.Layout=n(15),a.LayoutConstants=n(0),a.NeedlemanWunsch=n(27),a.Matrix=n(24),a.SVD=n(26),r.exports=a},function(r,i,n){"use strict";function a(){this.listeners=[]}l(a,"Emitter");var s=a.prototype;s.addListener=function(o,u){this.listeners.push({event:o,callback:u})},s.removeListener=function(o,u){for(var h=this.listeners.length;h>=0;h--){var d=this.listeners[h];d.event===o&&d.callback===u&&this.listeners.splice(h,1)}},s.emit=function(o,u){for(var h=0;h<this.listeners.length;h++){var d=this.listeners[h];o===d.event&&d.callback(u)}},r.exports=a}])})}),aze=_n((e,t)=>{"use strict";l(function(r,i){typeof e=="object"&&typeof t=="object"?t.exports=i(nze()):typeof define=="function"&&define.amd?define(["layout-base"],i):typeof e=="object"?e.coseBase=i(nze()):r.coseBase=i(r.layoutBase)},"webpackUniversalModuleDefinition")(e,function(r){return(()=>{"use strict";var i={45:(o,u,h)=>{var d={};d.layoutBase=h(551),d.CoSEConstants=h(806),d.CoSEEdge=h(767),d.CoSEGraph=h(880),d.CoSEGraphManager=h(578),d.CoSELayout=h(765),d.CoSENode=h(991),d.ConstraintHandler=h(902),o.exports=d},806:(o,u,h)=>{var d=h(551).FDLayoutConstants;function p(){}l(p,"CoSEConstants");for(var g in d)p[g]=d[g];p.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,p.DEFAULT_RADIAL_SEPARATION=d.DEFAULT_EDGE_LENGTH,p.DEFAULT_COMPONENT_SEPERATION=60,p.TILE=!0,p.TILING_PADDING_VERTICAL=10,p.TILING_PADDING_HORIZONTAL=10,p.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,p.ENFORCE_CONSTRAINTS=!0,p.APPLY_LAYOUT=!0,p.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,p.TREE_REDUCTION_ON_INCREMENTAL=!0,p.PURE_INCREMENTAL=p.DEFAULT_INCREMENTAL,o.exports=p},767:(o,u,h)=>{var d=h(551).FDLayoutEdge;function p(f,m,y){d.call(this,f,m,y)}l(p,"CoSEEdge"),p.prototype=Object.create(d.prototype);for(var g in d)p[g]=d[g];o.exports=p},880:(o,u,h)=>{var d=h(551).LGraph;function p(f,m,y){d.call(this,f,m,y)}l(p,"CoSEGraph"),p.prototype=Object.create(d.prototype);for(var g in d)p[g]=d[g];o.exports=p},578:(o,u,h)=>{var d=h(551).LGraphManager;function p(f){d.call(this,f)}l(p,"CoSEGraphManager"),p.prototype=Object.create(d.prototype);for(var g in d)p[g]=d[g];o.exports=p},765:(o,u,h)=>{var d=h(551).FDLayout,p=h(578),g=h(880),f=h(991),m=h(767),y=h(806),b=h(902),v=h(551).FDLayoutConstants,x=h(551).LayoutConstants,w=h(551).Point,k=h(551).PointD,T=h(551).DimensionD,_=h(551).Layout,C=h(551).Integer,E=h(551).IGeometry,N=h(551).LGraph,M=h(551).Transform,I=h(551).LinkedList;function A(){d.call(this),this.toBeTiled={},this.constraints={}}l(A,"CoSELayout"),A.prototype=Object.create(d.prototype);for(var B in d)A[B]=d[B];A.prototype.newGraphManager=function(){var S=new p(this);return this.graphManager=S,S},A.prototype.newGraph=function(S){return new g(null,this.graphManager,S)},A.prototype.newNode=function(S){return new f(this.graphManager,S)},A.prototype.newEdge=function(S){return new m(null,null,S)},A.prototype.initParameters=function(){d.prototype.initParameters.call(this,arguments),this.isSubLayout||(y.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=y.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=y.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=v.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=v.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=v.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},A.prototype.initSpringEmbedder=function(){d.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/v.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},A.prototype.layout=function(){var S=x.DEFAULT_CREATE_BENDS_AS_NEEDED;return S&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},A.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(y.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function(P){return S.has(P)});this.graphManager.setAllNodesToApplyGravitation(O)}}else{var R=this.getFlatForest();if(R.length>0)this.positionNodesRadially(R);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function($){return S.has($)});this.graphManager.setAllNodesToApplyGravitation(O),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(b.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),y.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},A.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%v.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function(L){return S.has(L)});this.graphManager.setAllNodesToApplyGravitation(O),this.graphManager.updateBounds(),this.updateGrid(),y.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),y.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var R=!this.isTreeGrowing&&!this.isGrowthFinished,P=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(R,P),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},A.prototype.getPositionsData=function(){for(var S=this.graphManager.getAllNodes(),O={},R=0;R<S.length;R++){var P=S[R].rect,L=S[R].id;O[L]={id:L,x:P.getCenterX(),y:P.getCenterY(),w:P.width,h:P.height}}return O},A.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var S=!1;if(v.ANIMATE==="during")this.emit("layoutstarted");else{for(;!S;)S=this.tick();this.graphManager.updateBounds()}},A.prototype.moveNodes=function(){for(var S=this.getAllNodes(),O,R=0;R<S.length;R++)O=S[R],O.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var R=0;R<S.length;R++)O=S[R],O.move()},A.prototype.initConstraintVariables=function(){var S=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var O=this.graphManager.getAllNodes(),R=0;R<O.length;R++){var P=O[R];this.idToNodeMap.set(P.id,P)}var L=l(function W(ee){for(var X=ee.getChild().getNodes(),Z,J=0,he=0;he<X.length;he++)Z=X[he],Z.getChild()==null?S.fixedNodeSet.has(Z.id)&&(J+=100):J+=W(Z);return J},"calculateCompoundWeight");if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(W){S.fixedNodeSet.add(W.nodeId)});for(var O=this.graphManager.getAllNodes(),P,R=0;R<O.length;R++)if(P=O[R],P.getChild()!=null){var $=L(P);$>0&&(P.fixedNodeWeight=$)}}if(this.constraints.relativePlacementConstraint){var F=new Map,G=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(W){S.fixedNodesOnHorizontal.add(W),S.fixedNodesOnVertical.add(W)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var q=this.constraints.alignmentConstraint.vertical,R=0;R<q.length;R++)this.dummyToNodeForVerticalAlignment.set("dummy"+R,[]),q[R].forEach(function(ee){F.set(ee,"dummy"+R),S.dummyToNodeForVerticalAlignment.get("dummy"+R).push(ee),S.fixedNodeSet.has(ee)&&S.fixedNodesOnHorizontal.add("dummy"+R)});if(this.constraints.alignmentConstraint.horizontal)for(var V=this.constraints.alignmentConstraint.horizontal,R=0;R<V.length;R++)this.dummyToNodeForHorizontalAlignment.set("dummy"+R,[]),V[R].forEach(function(ee){G.set(ee,"dummy"+R),S.dummyToNodeForHorizontalAlignment.get("dummy"+R).push(ee),S.fixedNodeSet.has(ee)&&S.fixedNodesOnVertical.add("dummy"+R)})}if(y.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(W){var ee,X,Z;for(Z=W.length-1;Z>=2*W.length/3;Z--)ee=Math.floor(Math.random()*(Z+1)),X=W[Z],W[Z]=W[ee],W[ee]=X;return W},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(W){if(W.left){var ee=F.has(W.left)?F.get(W.left):W.left,X=F.has(W.right)?F.get(W.right):W.right;S.nodesInRelativeHorizontal.includes(ee)||(S.nodesInRelativeHorizontal.push(ee),S.nodeToRelativeConstraintMapHorizontal.set(ee,[]),S.dummyToNodeForVerticalAlignment.has(ee)?S.nodeToTempPositionMapHorizontal.set(ee,S.idToNodeMap.get(S.dummyToNodeForVerticalAlignment.get(ee)[0]).getCenterX()):S.nodeToTempPositionMapHorizontal.set(ee,S.idToNodeMap.get(ee).getCenterX())),S.nodesInRelativeHorizontal.includes(X)||(S.nodesInRelativeHorizontal.push(X),S.nodeToRelativeConstraintMapHorizontal.set(X,[]),S.dummyToNodeForVerticalAlignment.has(X)?S.nodeToTempPositionMapHorizontal.set(X,S.idToNodeMap.get(S.dummyToNodeForVerticalAlignment.get(X)[0]).getCenterX()):S.nodeToTempPositionMapHorizontal.set(X,S.idToNodeMap.get(X).getCenterX())),S.nodeToRelativeConstraintMapHorizontal.get(ee).push({right:X,gap:W.gap}),S.nodeToRelativeConstraintMapHorizontal.get(X).push({left:ee,gap:W.gap})}else{var Z=G.has(W.top)?G.get(W.top):W.top,J=G.has(W.bottom)?G.get(W.bottom):W.bottom;S.nodesInRelativeVertical.includes(Z)||(S.nodesInRelativeVertical.push(Z),S.nodeToRelativeConstraintMapVertical.set(Z,[]),S.dummyToNodeForHorizontalAlignment.has(Z)?S.nodeToTempPositionMapVertical.set(Z,S.idToNodeMap.get(S.dummyToNodeForHorizontalAlignment.get(Z)[0]).getCenterY()):S.nodeToTempPositionMapVertical.set(Z,S.idToNodeMap.get(Z).getCenterY())),S.nodesInRelativeVertical.includes(J)||(S.nodesInRelativeVertical.push(J),S.nodeToRelativeConstraintMapVertical.set(J,[]),S.dummyToNodeForHorizontalAlignment.has(J)?S.nodeToTempPositionMapVertical.set(J,S.idToNodeMap.get(S.dummyToNodeForHorizontalAlignment.get(J)[0]).getCenterY()):S.nodeToTempPositionMapVertical.set(J,S.idToNodeMap.get(J).getCenterY())),S.nodeToRelativeConstraintMapVertical.get(Z).push({bottom:J,gap:W.gap}),S.nodeToRelativeConstraintMapVertical.get(J).push({top:Z,gap:W.gap})}});else{var H=new Map,ae=new Map;this.constraints.relativePlacementConstraint.forEach(function(W){if(W.left){var ee=F.has(W.left)?F.get(W.left):W.left,X=F.has(W.right)?F.get(W.right):W.right;H.has(ee)?H.get(ee).push(X):H.set(ee,[X]),H.has(X)?H.get(X).push(ee):H.set(X,[ee])}else{var Z=G.has(W.top)?G.get(W.top):W.top,J=G.has(W.bottom)?G.get(W.bottom):W.bottom;ae.has(Z)?ae.get(Z).push(J):ae.set(Z,[J]),ae.has(J)?ae.get(J).push(Z):ae.set(J,[Z])}});var re=l(function(W,ee){var X=[],Z=[],J=new I,he=new Set,K=0;return W.forEach(function(me,Y){if(!he.has(Y)){X[K]=[],Z[K]=!1;var _e=Y;for(J.push(_e),he.add(_e),X[K].push(_e);J.length!=0;){_e=J.shift(),ee.has(_e)&&(Z[K]=!0);var ce=W.get(_e);ce.forEach(function(Ne){he.has(Ne)||(J.push(Ne),he.add(Ne),X[K].push(Ne))})}K++}}),{components:X,isFixed:Z}},"constructComponents"),oe=re(H,S.fixedNodesOnHorizontal);this.componentsOnHorizontal=oe.components,this.fixedComponentsOnHorizontal=oe.isFixed;var ue=re(ae,S.fixedNodesOnVertical);this.componentsOnVertical=ue.components,this.fixedComponentsOnVertical=ue.isFixed}}},A.prototype.updateDisplacements=function(){var S=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(ue){var W=S.idToNodeMap.get(ue.nodeId);W.displacementX=0,W.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var O=this.constraints.alignmentConstraint.vertical,R=0;R<O.length;R++){for(var P=0,L=0;L<O[R].length;L++){if(this.fixedNodeSet.has(O[R][L])){P=0;break}P+=this.idToNodeMap.get(O[R][L]).displacementX}for(var $=P/O[R].length,L=0;L<O[R].length;L++)this.idToNodeMap.get(O[R][L]).displacementX=$}if(this.constraints.alignmentConstraint.horizontal)for(var F=this.constraints.alignmentConstraint.horizontal,R=0;R<F.length;R++){for(var G=0,L=0;L<F[R].length;L++){if(this.fixedNodeSet.has(F[R][L])){G=0;break}G+=this.idToNodeMap.get(F[R][L]).displacementY}for(var q=G/F[R].length,L=0;L<F[R].length;L++)this.idToNodeMap.get(F[R][L]).displacementY=q}}if(this.constraints.relativePlacementConstraint)if(y.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(ue){if(!S.fixedNodesOnHorizontal.has(ue)){var W=0;S.dummyToNodeForVerticalAlignment.has(ue)?W=S.idToNodeMap.get(S.dummyToNodeForVerticalAlignment.get(ue)[0]).displacementX:W=S.idToNodeMap.get(ue).displacementX,S.nodeToRelativeConstraintMapHorizontal.get(ue).forEach(function(ee){if(ee.right){var X=S.nodeToTempPositionMapHorizontal.get(ee.right)-S.nodeToTempPositionMapHorizontal.get(ue)-W;X<ee.gap&&(W-=ee.gap-X)}else{var X=S.nodeToTempPositionMapHorizontal.get(ue)-S.nodeToTempPositionMapHorizontal.get(ee.left)+W;X<ee.gap&&(W+=ee.gap-X)}}),S.nodeToTempPositionMapHorizontal.set(ue,S.nodeToTempPositionMapHorizontal.get(ue)+W),S.dummyToNodeForVerticalAlignment.has(ue)?S.dummyToNodeForVerticalAlignment.get(ue).forEach(function(ee){S.idToNodeMap.get(ee).displacementX=W}):S.idToNodeMap.get(ue).displacementX=W}}),this.nodesInRelativeVertical.forEach(function(ue){if(!S.fixedNodesOnHorizontal.has(ue)){var W=0;S.dummyToNodeForHorizontalAlignment.has(ue)?W=S.idToNodeMap.get(S.dummyToNodeForHorizontalAlignment.get(ue)[0]).displacementY:W=S.idToNodeMap.get(ue).displacementY,S.nodeToRelativeConstraintMapVertical.get(ue).forEach(function(ee){if(ee.bottom){var X=S.nodeToTempPositionMapVertical.get(ee.bottom)-S.nodeToTempPositionMapVertical.get(ue)-W;X<ee.gap&&(W-=ee.gap-X)}else{var X=S.nodeToTempPositionMapVertical.get(ue)-S.nodeToTempPositionMapVertical.get(ee.top)+W;X<ee.gap&&(W+=ee.gap-X)}}),S.nodeToTempPositionMapVertical.set(ue,S.nodeToTempPositionMapVertical.get(ue)+W),S.dummyToNodeForHorizontalAlignment.has(ue)?S.dummyToNodeForHorizontalAlignment.get(ue).forEach(function(ee){S.idToNodeMap.get(ee).displacementY=W}):S.idToNodeMap.get(ue).displacementY=W}});else{for(var R=0;R<this.componentsOnHorizontal.length;R++){var V=this.componentsOnHorizontal[R];if(this.fixedComponentsOnHorizontal[R])for(var L=0;L<V.length;L++)this.dummyToNodeForVerticalAlignment.has(V[L])?this.dummyToNodeForVerticalAlignment.get(V[L]).forEach(function(ee){S.idToNodeMap.get(ee).displacementX=0}):this.idToNodeMap.get(V[L]).displacementX=0;else{for(var H=0,ae=0,L=0;L<V.length;L++)if(this.dummyToNodeForVerticalAlignment.has(V[L])){var re=this.dummyToNodeForVerticalAlignment.get(V[L]);H+=re.length*this.idToNodeMap.get(re[0]).displacementX,ae+=re.length}else H+=this.idToNodeMap.get(V[L]).displacementX,ae++;for(var oe=H/ae,L=0;L<V.length;L++)this.dummyToNodeForVerticalAlignment.has(V[L])?this.dummyToNodeForVerticalAlignment.get(V[L]).forEach(function(ee){S.idToNodeMap.get(ee).displacementX=oe}):this.idToNodeMap.get(V[L]).displacementX=oe}}for(var R=0;R<this.componentsOnVertical.length;R++){var V=this.componentsOnVertical[R];if(this.fixedComponentsOnVertical[R])for(var L=0;L<V.length;L++)this.dummyToNodeForHorizontalAlignment.has(V[L])?this.dummyToNodeForHorizontalAlignment.get(V[L]).forEach(function(X){S.idToNodeMap.get(X).displacementY=0}):this.idToNodeMap.get(V[L]).displacementY=0;else{for(var H=0,ae=0,L=0;L<V.length;L++)if(this.dummyToNodeForHorizontalAlignment.has(V[L])){var re=this.dummyToNodeForHorizontalAlignment.get(V[L]);H+=re.length*this.idToNodeMap.get(re[0]).displacementY,ae+=re.length}else H+=this.idToNodeMap.get(V[L]).displacementY,ae++;for(var oe=H/ae,L=0;L<V.length;L++)this.dummyToNodeForHorizontalAlignment.has(V[L])?this.dummyToNodeForHorizontalAlignment.get(V[L]).forEach(function(Z){S.idToNodeMap.get(Z).displacementY=oe}):this.idToNodeMap.get(V[L]).displacementY=oe}}}},A.prototype.calculateNodesToApplyGravitationTo=function(){var S=[],O,R=this.graphManager.getGraphs(),P=R.length,L;for(L=0;L<P;L++)O=R[L],O.updateConnected(),O.isConnected||(S=S.concat(O.getNodes()));return S},A.prototype.createBendpoints=function(){var S=[];S=S.concat(this.graphManager.getAllEdges());var O=new Set,R;for(R=0;R<S.length;R++){var P=S[R];if(!O.has(P)){var L=P.getSource(),$=P.getTarget();if(L==$)P.getBendpoints().push(new k),P.getBendpoints().push(new k),this.createDummyNodesForBendpoints(P),O.add(P);else{var F=[];if(F=F.concat(L.getEdgeListToNode($)),F=F.concat($.getEdgeListToNode(L)),!O.has(F[0])){if(F.length>1){var G;for(G=0;G<F.length;G++){var q=F[G];q.getBendpoints().push(new k),this.createDummyNodesForBendpoints(q)}}F.forEach(function(V){O.add(V)})}}}if(O.size==S.length)break}},A.prototype.positionNodesRadially=function(S){for(var O=new w(0,0),R=Math.ceil(Math.sqrt(S.length)),P=0,L=0,$=0,F=new k(0,0),G=0;G<S.length;G++){G%R==0&&($=0,L=P,G!=0&&(L+=y.DEFAULT_COMPONENT_SEPERATION),P=0);var q=S[G],V=_.findCenterOfTree(q);O.x=$,O.y=L,F=A.radialLayout(q,V,O),F.y>P&&(P=Math.floor(F.y)),$=Math.floor(F.x+y.DEFAULT_COMPONENT_SEPERATION)}this.transform(new k(x.WORLD_CENTER_X-F.x/2,x.WORLD_CENTER_Y-F.y/2))},A.radialLayout=function(S,O,R){var P=Math.max(this.maxDiagonalInTree(S),y.DEFAULT_RADIAL_SEPARATION);A.branchRadialLayout(O,null,0,359,0,P);var L=N.calculateBounds(S),$=new M;$.setDeviceOrgX(L.getMinX()),$.setDeviceOrgY(L.getMinY()),$.setWorldOrgX(R.x),$.setWorldOrgY(R.y);for(var F=0;F<S.length;F++){var G=S[F];G.transform($)}var q=new k(L.getMaxX(),L.getMaxY());return $.inverseTransformPoint(q)},A.branchRadialLayout=function(S,O,R,P,L,$){var F=(P-R+1)/2;F<0&&(F+=180);var G=(F+R)%360,q=G*E.TWO_PI/360,V=Math.cos(q),H=L*Math.cos(q),ae=L*Math.sin(q);S.setCenter(H,ae);var re=[];re=re.concat(S.getEdges());var oe=re.length;O!=null&&oe--;for(var ue=0,W=re.length,ee,X=S.getEdgesBetween(O);X.length>1;){var Z=X[0];X.splice(0,1);var J=re.indexOf(Z);J>=0&&re.splice(J,1),W--,oe--}O!=null?ee=(re.indexOf(X[0])+1)%W:ee=0;for(var he=Math.abs(P-R)/oe,K=ee;ue!=oe;K=++K%W){var me=re[K].getOtherEnd(S);if(me!=O){var Y=(R+ue*he)%360,_e=(Y+he)%360;A.branchRadialLayout(me,S,Y,_e,L+$,$),ue++}}},A.maxDiagonalInTree=function(S){for(var O=C.MIN_VALUE,R=0;R<S.length;R++){var P=S[R],L=P.getDiagonal();L>O&&(O=L)}return O},A.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},A.prototype.groupZeroDegreeMembers=function(){var S=this,O={};this.memberGroups={},this.idToDummyNode={};for(var R=[],P=this.graphManager.getAllNodes(),L=0;L<P.length;L++){var $=P[L],F=$.getParent();this.getNodeDegreeWithChildren($)===0&&(F.id==null||!this.getToBeTiled(F))&&R.push($)}for(var L=0;L<R.length;L++){var $=R[L],G=$.getParent().id;typeof O[G]>"u"&&(O[G]=[]),O[G]=O[G].concat($)}Object.keys(O).forEach(function(q){if(O[q].length>1){var V="DummyCompound_"+q;S.memberGroups[V]=O[q];var H=O[q][0].getParent(),ae=new f(S.graphManager);ae.id=V,ae.paddingLeft=H.paddingLeft||0,ae.paddingRight=H.paddingRight||0,ae.paddingBottom=H.paddingBottom||0,ae.paddingTop=H.paddingTop||0,S.idToDummyNode[V]=ae;var re=S.getGraphManager().add(S.newGraph(),ae),oe=H.getChild();oe.add(ae);for(var ue=0;ue<O[q].length;ue++){var W=O[q][ue];oe.remove(W),re.add(W)}}})},A.prototype.clearCompounds=function(){var S={},O={};this.performDFSOnCompounds();for(var R=0;R<this.compoundOrder.length;R++)O[this.compoundOrder[R].id]=this.compoundOrder[R],S[this.compoundOrder[R].id]=[].concat(this.compoundOrder[R].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[R].getChild()),this.compoundOrder[R].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(S,O)},A.prototype.clearZeroDegreeMembers=function(){var S=this,O=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(R){var P=S.idToDummyNode[R];if(O[R]=S.tileNodes(S.memberGroups[R],P.paddingLeft+P.paddingRight),P.rect.width=O[R].width,P.rect.height=O[R].height,P.setCenter(O[R].centerX,O[R].centerY),P.labelMarginLeft=0,P.labelMarginTop=0,y.NODE_DIMENSIONS_INCLUDE_LABELS){var L=P.rect.width,$=P.rect.height;P.labelWidth&&(P.labelPosHorizontal=="left"?(P.rect.x-=P.labelWidth,P.setWidth(L+P.labelWidth),P.labelMarginLeft=P.labelWidth):P.labelPosHorizontal=="center"&&P.labelWidth>L?(P.rect.x-=(P.labelWidth-L)/2,P.setWidth(P.labelWidth),P.labelMarginLeft=(P.labelWidth-L)/2):P.labelPosHorizontal=="right"&&P.setWidth(L+P.labelWidth)),P.labelHeight&&(P.labelPosVertical=="top"?(P.rect.y-=P.labelHeight,P.setHeight($+P.labelHeight),P.labelMarginTop=P.labelHeight):P.labelPosVertical=="center"&&P.labelHeight>$?(P.rect.y-=(P.labelHeight-$)/2,P.setHeight(P.labelHeight),P.labelMarginTop=(P.labelHeight-$)/2):P.labelPosVertical=="bottom"&&P.setHeight($+P.labelHeight))}})},A.prototype.repopulateCompounds=function(){for(var S=this.compoundOrder.length-1;S>=0;S--){var O=this.compoundOrder[S],R=O.id,P=O.paddingLeft,L=O.paddingTop,$=O.labelMarginLeft,F=O.labelMarginTop;this.adjustLocations(this.tiledMemberPack[R],O.rect.x,O.rect.y,P,L,$,F)}},A.prototype.repopulateZeroDegreeMembers=function(){var S=this,O=this.tiledZeroDegreePack;Object.keys(O).forEach(function(R){var P=S.idToDummyNode[R],L=P.paddingLeft,$=P.paddingTop,F=P.labelMarginLeft,G=P.labelMarginTop;S.adjustLocations(O[R],P.rect.x,P.rect.y,L,$,F,G)})},A.prototype.getToBeTiled=function(S){var O=S.id;if(this.toBeTiled[O]!=null)return this.toBeTiled[O];var R=S.getChild();if(R==null)return this.toBeTiled[O]=!1,!1;for(var P=R.getNodes(),L=0;L<P.length;L++){var $=P[L];if(this.getNodeDegree($)>0)return this.toBeTiled[O]=!1,!1;if($.getChild()==null){this.toBeTiled[$.id]=!1;continue}if(!this.getToBeTiled($))return this.toBeTiled[O]=!1,!1}return this.toBeTiled[O]=!0,!0},A.prototype.getNodeDegree=function(S){for(var O=S.id,R=S.getEdges(),P=0,L=0;L<R.length;L++){var $=R[L];$.getSource().id!==$.getTarget().id&&(P=P+1)}return P},A.prototype.getNodeDegreeWithChildren=function(S){var O=this.getNodeDegree(S);if(S.getChild()==null)return O;for(var R=S.getChild().getNodes(),P=0;P<R.length;P++){var L=R[P];O+=this.getNodeDegreeWithChildren(L)}return O},A.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},A.prototype.fillCompexOrderByDFS=function(S){for(var O=0;O<S.length;O++){var R=S[O];R.getChild()!=null&&this.fillCompexOrderByDFS(R.getChild().getNodes()),this.getToBeTiled(R)&&this.compoundOrder.push(R)}},A.prototype.adjustLocations=function(S,O,R,P,L,$,F){O+=P+$,R+=L+F;for(var G=O,q=0;q<S.rows.length;q++){var V=S.rows[q];O=G;for(var H=0,ae=0;ae<V.length;ae++){var re=V[ae];re.rect.x=O,re.rect.y=R,O+=re.rect.width+S.horizontalPadding,re.rect.height>H&&(H=re.rect.height)}R+=H+S.verticalPadding}},A.prototype.tileCompoundMembers=function(S,O){var R=this;this.tiledMemberPack=[],Object.keys(S).forEach(function(P){var L=O[P];if(R.tiledMemberPack[P]=R.tileNodes(S[P],L.paddingLeft+L.paddingRight),L.rect.width=R.tiledMemberPack[P].width,L.rect.height=R.tiledMemberPack[P].height,L.setCenter(R.tiledMemberPack[P].centerX,R.tiledMemberPack[P].centerY),L.labelMarginLeft=0,L.labelMarginTop=0,y.NODE_DIMENSIONS_INCLUDE_LABELS){var $=L.rect.width,F=L.rect.height;L.labelWidth&&(L.labelPosHorizontal=="left"?(L.rect.x-=L.labelWidth,L.setWidth($+L.labelWidth),L.labelMarginLeft=L.labelWidth):L.labelPosHorizontal=="center"&&L.labelWidth>$?(L.rect.x-=(L.labelWidth-$)/2,L.setWidth(L.labelWidth),L.labelMarginLeft=(L.labelWidth-$)/2):L.labelPosHorizontal=="right"&&L.setWidth($+L.labelWidth)),L.labelHeight&&(L.labelPosVertical=="top"?(L.rect.y-=L.labelHeight,L.setHeight(F+L.labelHeight),L.labelMarginTop=L.labelHeight):L.labelPosVertical=="center"&&L.labelHeight>F?(L.rect.y-=(L.labelHeight-F)/2,L.setHeight(L.labelHeight),L.labelMarginTop=(L.labelHeight-F)/2):L.labelPosVertical=="bottom"&&L.setHeight(F+L.labelHeight))}})},A.prototype.tileNodes=function(S,O){var R=this.tileNodesByFavoringDim(S,O,!0),P=this.tileNodesByFavoringDim(S,O,!1),L=this.getOrgRatio(R),$=this.getOrgRatio(P),F;return $<L?F=P:F=R,F},A.prototype.getOrgRatio=function(S){var O=S.width,R=S.height,P=O/R;return P<1&&(P=1/P),P},A.prototype.calcIdealRowWidth=function(S,O){var R=y.TILING_PADDING_VERTICAL,P=y.TILING_PADDING_HORIZONTAL,L=S.length,$=0,F=0,G=0;S.forEach(function(ue){$+=ue.getWidth(),F+=ue.getHeight(),ue.getWidth()>G&&(G=ue.getWidth())});var q=$/L,V=F/L,H=Math.pow(R-P,2)+4*(q+P)*(V+R)*L,ae=(P-R+Math.sqrt(H))/(2*(q+P)),re;O?(re=Math.ceil(ae),re==ae&&re++):re=Math.floor(ae);var oe=re*(q+P)-P;return G>oe&&(oe=G),oe+=P*2,oe},A.prototype.tileNodesByFavoringDim=function(S,O,R){var P=y.TILING_PADDING_VERTICAL,L=y.TILING_PADDING_HORIZONTAL,$=y.TILING_COMPARE_BY,F={rows:[],rowWidth:[],rowHeight:[],width:0,height:O,verticalPadding:P,horizontalPadding:L,centerX:0,centerY:0};$&&(F.idealRowWidth=this.calcIdealRowWidth(S,R));var G=l(function(ue){return ue.rect.width*ue.rect.height},"getNodeArea"),q=l(function(ue,W){return G(W)-G(ue)},"areaCompareFcn");S.sort(function(ue,W){var ee=q;return F.idealRowWidth?(ee=$,ee(ue.id,W.id)):ee(ue,W)});for(var V=0,H=0,ae=0;ae<S.length;ae++){var re=S[ae];V+=re.getCenterX(),H+=re.getCenterY()}F.centerX=V/S.length,F.centerY=H/S.length;for(var ae=0;ae<S.length;ae++){var re=S[ae];if(F.rows.length==0)this.insertNodeToRow(F,re,0,O);else if(this.canAddHorizontal(F,re.rect.width,re.rect.height)){var oe=F.rows.length-1;F.idealRowWidth||(oe=this.getShortestRowIndex(F)),this.insertNodeToRow(F,re,oe,O)}else this.insertNodeToRow(F,re,F.rows.length,O);this.shiftToLastRow(F)}return F},A.prototype.insertNodeToRow=function(S,O,R,P){var L=P;if(R==S.rows.length){var $=[];S.rows.push($),S.rowWidth.push(L),S.rowHeight.push(0)}var F=S.rowWidth[R]+O.rect.width;S.rows[R].length>0&&(F+=S.horizontalPadding),S.rowWidth[R]=F,S.width<F&&(S.width=F);var G=O.rect.height;R>0&&(G+=S.verticalPadding);var q=0;G>S.rowHeight[R]&&(q=S.rowHeight[R],S.rowHeight[R]=G,q=S.rowHeight[R]-q),S.height+=q,S.rows[R].push(O)},A.prototype.getShortestRowIndex=function(S){for(var O=-1,R=Number.MAX_VALUE,P=0;P<S.rows.length;P++)S.rowWidth[P]<R&&(O=P,R=S.rowWidth[P]);return O},A.prototype.getLongestRowIndex=function(S){for(var O=-1,R=Number.MIN_VALUE,P=0;P<S.rows.length;P++)S.rowWidth[P]>R&&(O=P,R=S.rowWidth[P]);return O},A.prototype.canAddHorizontal=function(S,O,R){if(S.idealRowWidth){var P=S.rows.length-1,L=S.rowWidth[P];return L+O+S.horizontalPadding<=S.idealRowWidth}var $=this.getShortestRowIndex(S);if($<0)return!0;var F=S.rowWidth[$];if(F+S.horizontalPadding+O<=S.width)return!0;var G=0;S.rowHeight[$]<R&&$>0&&(G=R+S.verticalPadding-S.rowHeight[$]);var q;S.width-F>=O+S.horizontalPadding?q=(S.height+G)/(F+O+S.horizontalPadding):q=(S.height+G)/S.width,G=R+S.verticalPadding;var V;return S.width<O?V=(S.height+G)/O:V=(S.height+G)/S.width,V<1&&(V=1/V),q<1&&(q=1/q),q<V},A.prototype.shiftToLastRow=function(S){var O=this.getLongestRowIndex(S),R=S.rowWidth.length-1,P=S.rows[O],L=P[P.length-1],$=L.width+S.horizontalPadding;if(S.width-S.rowWidth[R]>$&&O!=R){P.splice(-1,1),S.rows[R].push(L),S.rowWidth[O]=S.rowWidth[O]-$,S.rowWidth[R]=S.rowWidth[R]+$,S.width=S.rowWidth[instance.getLongestRowIndex(S)];for(var F=Number.MIN_VALUE,G=0;G<P.length;G++)P[G].height>F&&(F=P[G].height);O>0&&(F+=S.verticalPadding);var q=S.rowHeight[O]+S.rowHeight[R];S.rowHeight[O]=F,S.rowHeight[R]<L.height+S.verticalPadding&&(S.rowHeight[R]=L.height+S.verticalPadding);var V=S.rowHeight[O]+S.rowHeight[R];S.height+=V-q,this.shiftToLastRow(S)}},A.prototype.tilingPreLayout=function(){y.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},A.prototype.tilingPostLayout=function(){y.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},A.prototype.reduceTrees=function(){for(var S=[],O=!0,R;O;){var P=this.graphManager.getAllNodes(),L=[];O=!1;for(var $=0;$<P.length;$++)if(R=P[$],R.getEdges().length==1&&!R.getEdges()[0].isInterGraph&&R.getChild()==null){if(y.PURE_INCREMENTAL){var F=R.getEdges()[0].getOtherEnd(R),G=new T(R.getCenterX()-F.getCenterX(),R.getCenterY()-F.getCenterY());L.push([R,R.getEdges()[0],R.getOwner(),G])}else L.push([R,R.getEdges()[0],R.getOwner()]);O=!0}if(O==!0){for(var q=[],V=0;V<L.length;V++)L[V][0].getEdges().length==1&&(q.push(L[V]),L[V][0].getOwner().remove(L[V][0]));S.push(q),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=S},A.prototype.growTree=function(S){for(var O=S.length,R=S[O-1],P,L=0;L<R.length;L++)P=R[L],this.findPlaceforPrunedNode(P),P[2].add(P[0]),P[2].add(P[1],P[1].source,P[1].target);S.splice(S.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},A.prototype.findPlaceforPrunedNode=function(S){var O,R,P=S[0];if(P==S[1].source?R=S[1].target:R=S[1].source,y.PURE_INCREMENTAL)P.setCenter(R.getCenterX()+S[3].getWidth(),R.getCenterY()+S[3].getHeight());else{var L=R.startX,$=R.finishX,F=R.startY,G=R.finishY,q=0,V=0,H=0,ae=0,re=[q,H,V,ae];if(F>0)for(var oe=L;oe<=$;oe++)re[0]+=this.grid[oe][F-1].length+this.grid[oe][F].length-1;if($<this.grid.length-1)for(var oe=F;oe<=G;oe++)re[1]+=this.grid[$+1][oe].length+this.grid[$][oe].length-1;if(G<this.grid[0].length-1)for(var oe=L;oe<=$;oe++)re[2]+=this.grid[oe][G+1].length+this.grid[oe][G].length-1;if(L>0)for(var oe=F;oe<=G;oe++)re[3]+=this.grid[L-1][oe].length+this.grid[L][oe].length-1;for(var ue=C.MAX_VALUE,W,ee,X=0;X<re.length;X++)re[X]<ue?(ue=re[X],W=1,ee=X):re[X]==ue&&W++;if(W==3&&ue==0)re[0]==0&&re[1]==0&&re[2]==0?O=1:re[0]==0&&re[1]==0&&re[3]==0?O=0:re[0]==0&&re[2]==0&&re[3]==0?O=3:re[1]==0&&re[2]==0&&re[3]==0&&(O=2);else if(W==2&&ue==0){var Z=Math.floor(Math.random()*2);re[0]==0&&re[1]==0?Z==0?O=0:O=1:re[0]==0&&re[2]==0?Z==0?O=0:O=2:re[0]==0&&re[3]==0?Z==0?O=0:O=3:re[1]==0&&re[2]==0?Z==0?O=1:O=2:re[1]==0&&re[3]==0?Z==0?O=1:O=3:Z==0?O=2:O=3}else if(W==4&&ue==0){var Z=Math.floor(Math.random()*4);O=Z}else O=ee;O==0?P.setCenter(R.getCenterX(),R.getCenterY()-R.getHeight()/2-v.DEFAULT_EDGE_LENGTH-P.getHeight()/2):O==1?P.setCenter(R.getCenterX()+R.getWidth()/2+v.DEFAULT_EDGE_LENGTH+P.getWidth()/2,R.getCenterY()):O==2?P.setCenter(R.getCenterX(),R.getCenterY()+R.getHeight()/2+v.DEFAULT_EDGE_LENGTH+P.getHeight()/2):P.setCenter(R.getCenterX()-R.getWidth()/2-v.DEFAULT_EDGE_LENGTH-P.getWidth()/2,R.getCenterY())}},o.exports=A},991:(o,u,h)=>{var d=h(551).FDLayoutNode,p=h(551).IMath;function g(m,y,b,v){d.call(this,m,y,b,v)}l(g,"CoSENode"),g.prototype=Object.create(d.prototype);for(var f in d)g[f]=d[f];g.prototype.calculateDisplacement=function(){var m=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=m.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=m.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=m.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=m.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>m.coolingFactor*m.maxNodeDisplacement&&(this.displacementX=m.coolingFactor*m.maxNodeDisplacement*p.sign(this.displacementX)),Math.abs(this.displacementY)>m.coolingFactor*m.maxNodeDisplacement&&(this.displacementY=m.coolingFactor*m.maxNodeDisplacement*p.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},g.prototype.propogateDisplacementToChildren=function(m,y){for(var b=this.getChild().getNodes(),v,x=0;x<b.length;x++)v=b[x],v.getChild()==null?(v.displacementX+=m,v.displacementY+=y):v.propogateDisplacementToChildren(m,y)},g.prototype.move=function(){var m=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),m.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},g.prototype.setPred1=function(m){this.pred1=m},g.prototype.getPred1=function(){return pred1},g.prototype.getPred2=function(){return pred2},g.prototype.setNext=function(m){this.next=m},g.prototype.getNext=function(){return next},g.prototype.setProcessed=function(m){this.processed=m},g.prototype.isProcessed=function(){return processed},o.exports=g},902:(o,u,h)=>{function d(b){if(Array.isArray(b)){for(var v=0,x=Array(b.length);v<b.length;v++)x[v]=b[v];return x}else return Array.from(b)}l(d,"_toConsumableArray");var p=h(806),g=h(551).LinkedList,f=h(551).Matrix,m=h(551).SVD;function y(){}l(y,"ConstraintHandler"),y.handleConstraints=function(b){var v={};v.fixedNodeConstraint=b.constraints.fixedNodeConstraint,v.alignmentConstraint=b.constraints.alignmentConstraint,v.relativePlacementConstraint=b.constraints.relativePlacementConstraint;for(var x=new Map,w=new Map,k=[],T=[],_=b.getAllNodes(),C=0,E=0;E<_.length;E++){var N=_[E];N.getChild()==null&&(w.set(N.id,C++),k.push(N.getCenterX()),T.push(N.getCenterY()),x.set(N.id,N))}v.relativePlacementConstraint&&v.relativePlacementConstraint.forEach(function(z){!z.gap&&z.gap!=0&&(z.left?z.gap=p.DEFAULT_EDGE_LENGTH+x.get(z.left).getWidth()/2+x.get(z.right).getWidth()/2:z.gap=p.DEFAULT_EDGE_LENGTH+x.get(z.top).getHeight()/2+x.get(z.bottom).getHeight()/2)});var M=l(function(z,te){return{x:z.x-te.x,y:z.y-te.y}},"calculatePositionDiff"),I=l(function(z){var te=0,se=0;return z.forEach(function(pe){te+=k[w.get(pe)],se+=T[w.get(pe)]}),{x:te/z.size,y:se/z.size}},"calculateAvgPosition"),A=l(function(z,te,se,pe,fe){function we(Ue,Ge){var Xe=new Set(Ue),kt=!0,ct=!1,ot=void 0;try{for(var Et=Ge[Symbol.iterator](),tt;!(kt=(tt=Et.next()).done);kt=!0){var ht=tt.value;Xe.add(ht)}}catch(ft){ct=!0,ot=ft}finally{try{!kt&&Et.return&&Et.return()}finally{if(ct)throw ot}}return Xe}l(we,"setUnion");var Ce=new Map;z.forEach(function(Ue,Ge){Ce.set(Ge,0)}),z.forEach(function(Ue,Ge){Ue.forEach(function(Xe){Ce.set(Xe.id,Ce.get(Xe.id)+1)})});var Te=new Map,ze=new Map,He=new g;Ce.forEach(function(Ue,Ge){Ue==0?(He.push(Ge),se||(te=="horizontal"?Te.set(Ge,w.has(Ge)?k[w.get(Ge)]:pe.get(Ge)):Te.set(Ge,w.has(Ge)?T[w.get(Ge)]:pe.get(Ge)))):Te.set(Ge,Number.NEGATIVE_INFINITY),se&&ze.set(Ge,new Set([Ge]))}),se&&fe.forEach(function(Ue){var Ge=[];if(Ue.forEach(function(ct){se.has(ct)&&Ge.push(ct)}),Ge.length>0){var Xe=0;Ge.forEach(function(ct){te=="horizontal"?(Te.set(ct,w.has(ct)?k[w.get(ct)]:pe.get(ct)),Xe+=Te.get(ct)):(Te.set(ct,w.has(ct)?T[w.get(ct)]:pe.get(ct)),Xe+=Te.get(ct))}),Xe=Xe/Ge.length,Ue.forEach(function(ct){se.has(ct)||Te.set(ct,Xe)})}else{var kt=0;Ue.forEach(function(ct){te=="horizontal"?kt+=w.has(ct)?k[w.get(ct)]:pe.get(ct):kt+=w.has(ct)?T[w.get(ct)]:pe.get(ct)}),kt=kt/Ue.length,Ue.forEach(function(ct){Te.set(ct,kt)})}});for(var at=l(function(){var Ue=He.shift(),Ge=z.get(Ue);Ge.forEach(function(Xe){if(Te.get(Xe.id)<Te.get(Ue)+Xe.gap)if(se&&se.has(Xe.id)){var kt=void 0;if(te=="horizontal"?kt=w.has(Xe.id)?k[w.get(Xe.id)]:pe.get(Xe.id):kt=w.has(Xe.id)?T[w.get(Xe.id)]:pe.get(Xe.id),Te.set(Xe.id,kt),kt<Te.get(Ue)+Xe.gap){var ct=Te.get(Ue)+Xe.gap-kt;ze.get(Ue).forEach(function(ot){Te.set(ot,Te.get(ot)-ct)})}}else Te.set(Xe.id,Te.get(Ue)+Xe.gap);Ce.set(Xe.id,Ce.get(Xe.id)-1),Ce.get(Xe.id)==0&&He.push(Xe.id),se&&ze.set(Xe.id,we(ze.get(Ue),ze.get(Xe.id)))})},"_loop");He.length!=0;)at();if(se){var $e=new Set;z.forEach(function(Ue,Ge){Ue.length==0&&$e.add(Ge)});var Ye=[];ze.forEach(function(Ue,Ge){if($e.has(Ge)){var Xe=!1,kt=!0,ct=!1,ot=void 0;try{for(var Et=Ue[Symbol.iterator](),tt;!(kt=(tt=Et.next()).done);kt=!0){var ht=tt.value;se.has(ht)&&(Xe=!0)}}catch(Ze){ct=!0,ot=Ze}finally{try{!kt&&Et.return&&Et.return()}finally{if(ct)throw ot}}if(!Xe){var ft=!1,Qe=void 0;Ye.forEach(function(Ze,_t){Ze.has([].concat(d(Ue))[0])&&(ft=!0,Qe=_t)}),ft?Ue.forEach(function(Ze){Ye[Qe].add(Ze)}):Ye.push(new Set(Ue))}}}),Ye.forEach(function(Ue,Ge){var Xe=Number.POSITIVE_INFINITY,kt=Number.POSITIVE_INFINITY,ct=Number.NEGATIVE_INFINITY,ot=Number.NEGATIVE_INFINITY,Et=!0,tt=!1,ht=void 0;try{for(var ft=Ue[Symbol.iterator](),Qe;!(Et=(Qe=ft.next()).done);Et=!0){var Ze=Qe.value,_t=void 0;te=="horizontal"?_t=w.has(Ze)?k[w.get(Ze)]:pe.get(Ze):_t=w.has(Ze)?T[w.get(Ze)]:pe.get(Ze);var jt=Te.get(Ze);_t<Xe&&(Xe=_t),_t>ct&&(ct=_t),jt<kt&&(kt=jt),jt>ot&&(ot=jt)}}catch(dt){tt=!0,ht=dt}finally{try{!Et&&ft.return&&ft.return()}finally{if(tt)throw ht}}var Pt=(Xe+ct)/2-(kt+ot)/2,Vr=!0,lr=!1,Jt=void 0;try{for(var fr=Ue[Symbol.iterator](),Mr;!(Vr=(Mr=fr.next()).done);Vr=!0){var be=Mr.value;Te.set(be,Te.get(be)+Pt)}}catch(dt){lr=!0,Jt=dt}finally{try{!Vr&&fr.return&&fr.return()}finally{if(lr)throw Jt}}})}return Te},"findAppropriatePositionForRelativePlacement"),B=l(function(z){var te=0,se=0,pe=0,fe=0;if(z.forEach(function(ze){ze.left?k[w.get(ze.left)]-k[w.get(ze.right)]>=0?te++:se++:T[w.get(ze.top)]-T[w.get(ze.bottom)]>=0?pe++:fe++}),te>se&&pe>fe)for(var we=0;we<w.size;we++)k[we]=-1*k[we],T[we]=-1*T[we];else if(te>se)for(var Ce=0;Ce<w.size;Ce++)k[Ce]=-1*k[Ce];else if(pe>fe)for(var Te=0;Te<w.size;Te++)T[Te]=-1*T[Te]},"applyReflectionForRelativePlacement"),S=l(function(z){var te=[],se=new g,pe=new Set,fe=0;return z.forEach(function(we,Ce){if(!pe.has(Ce)){te[fe]=[];var Te=Ce;for(se.push(Te),pe.add(Te),te[fe].push(Te);se.length!=0;){Te=se.shift();var ze=z.get(Te);ze.forEach(function(He){pe.has(He.id)||(se.push(He.id),pe.add(He.id),te[fe].push(He.id))})}fe++}}),te},"findComponents"),O=l(function(z){var te=new Map;return z.forEach(function(se,pe){te.set(pe,[])}),z.forEach(function(se,pe){se.forEach(function(fe){te.get(pe).push(fe),te.get(fe.id).push({id:pe,gap:fe.gap,direction:fe.direction})})}),te},"dagToUndirected"),R=l(function(z){var te=new Map;return z.forEach(function(se,pe){te.set(pe,[])}),z.forEach(function(se,pe){se.forEach(function(fe){te.get(fe.id).push({id:pe,gap:fe.gap,direction:fe.direction})})}),te},"dagToReversed"),P=[],L=[],$=!1,F=!1,G=new Set,q=new Map,V=new Map,H=[];if(v.fixedNodeConstraint&&v.fixedNodeConstraint.forEach(function(z){G.add(z.nodeId)}),v.relativePlacementConstraint&&(v.relativePlacementConstraint.forEach(function(z){z.left?(q.has(z.left)?q.get(z.left).push({id:z.right,gap:z.gap,direction:"horizontal"}):q.set(z.left,[{id:z.right,gap:z.gap,direction:"horizontal"}]),q.has(z.right)||q.set(z.right,[])):(q.has(z.top)?q.get(z.top).push({id:z.bottom,gap:z.gap,direction:"vertical"}):q.set(z.top,[{id:z.bottom,gap:z.gap,direction:"vertical"}]),q.has(z.bottom)||q.set(z.bottom,[]))}),V=O(q),H=S(V)),p.TRANSFORM_ON_CONSTRAINT_HANDLING){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>1)v.fixedNodeConstraint.forEach(function(z,te){P[te]=[z.position.x,z.position.y],L[te]=[k[w.get(z.nodeId)],T[w.get(z.nodeId)]]}),$=!0;else if(v.alignmentConstraint)(function(){var z=0;if(v.alignmentConstraint.vertical){for(var te=v.alignmentConstraint.vertical,se=l(function(Te){var ze=new Set;te[Te].forEach(function($e){ze.add($e)});var He=new Set([].concat(d(ze)).filter(function($e){return G.has($e)})),at=void 0;He.size>0?at=k[w.get(He.values().next().value)]:at=I(ze).x,te[Te].forEach(function($e){P[z]=[at,T[w.get($e)]],L[z]=[k[w.get($e)],T[w.get($e)]],z++})},"_loop2"),pe=0;pe<te.length;pe++)se(pe);$=!0}if(v.alignmentConstraint.horizontal){for(var fe=v.alignmentConstraint.horizontal,we=l(function(Te){var ze=new Set;fe[Te].forEach(function($e){ze.add($e)});var He=new Set([].concat(d(ze)).filter(function($e){return G.has($e)})),at=void 0;He.size>0?at=k[w.get(He.values().next().value)]:at=I(ze).y,fe[Te].forEach(function($e){P[z]=[k[w.get($e)],at],L[z]=[k[w.get($e)],T[w.get($e)]],z++})},"_loop3"),Ce=0;Ce<fe.length;Ce++)we(Ce);$=!0}v.relativePlacementConstraint&&(F=!0)})();else if(v.relativePlacementConstraint){for(var ae=0,re=0,oe=0;oe<H.length;oe++)H[oe].length>ae&&(ae=H[oe].length,re=oe);if(ae<V.size/2)B(v.relativePlacementConstraint),$=!1,F=!1;else{var ue=new Map,W=new Map,ee=[];H[re].forEach(function(z){q.get(z).forEach(function(te){te.direction=="horizontal"?(ue.has(z)?ue.get(z).push(te):ue.set(z,[te]),ue.has(te.id)||ue.set(te.id,[]),ee.push({left:z,right:te.id})):(W.has(z)?W.get(z).push(te):W.set(z,[te]),W.has(te.id)||W.set(te.id,[]),ee.push({top:z,bottom:te.id}))})}),B(ee),F=!1;var X=A(ue,"horizontal"),Z=A(W,"vertical");H[re].forEach(function(z,te){L[te]=[k[w.get(z)],T[w.get(z)]],P[te]=[],X.has(z)?P[te][0]=X.get(z):P[te][0]=k[w.get(z)],Z.has(z)?P[te][1]=Z.get(z):P[te][1]=T[w.get(z)]}),$=!0}}if($){for(var J=void 0,he=f.transpose(P),K=f.transpose(L),me=0;me<he.length;me++)he[me]=f.multGamma(he[me]),K[me]=f.multGamma(K[me]);var Y=f.multMat(he,f.transpose(K)),_e=m.svd(Y);J=f.multMat(_e.V,f.transpose(_e.U));for(var ce=0;ce<w.size;ce++){var Ne=[k[ce],T[ce]],Be=[J[0][0],J[1][0]],je=[J[0][1],J[1][1]];k[ce]=f.dotProduct(Ne,Be),T[ce]=f.dotProduct(Ne,je)}F&&B(v.relativePlacementConstraint)}}if(p.ENFORCE_CONSTRAINTS){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>0){var qe={x:0,y:0};v.fixedNodeConstraint.forEach(function(z,te){var se={x:k[w.get(z.nodeId)],y:T[w.get(z.nodeId)]},pe=z.position,fe=M(pe,se);qe.x+=fe.x,qe.y+=fe.y}),qe.x/=v.fixedNodeConstraint.length,qe.y/=v.fixedNodeConstraint.length,k.forEach(function(z,te){k[te]+=qe.x}),T.forEach(function(z,te){T[te]+=qe.y}),v.fixedNodeConstraint.forEach(function(z){k[w.get(z.nodeId)]=z.position.x,T[w.get(z.nodeId)]=z.position.y})}if(v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var Se=v.alignmentConstraint.vertical,Re=l(function(z){var te=new Set;Se[z].forEach(function(fe){te.add(fe)});var se=new Set([].concat(d(te)).filter(function(fe){return G.has(fe)})),pe=void 0;se.size>0?pe=k[w.get(se.values().next().value)]:pe=I(te).x,te.forEach(function(fe){G.has(fe)||(k[w.get(fe)]=pe)})},"_loop4"),ve=0;ve<Se.length;ve++)Re(ve);if(v.alignmentConstraint.horizontal)for(var Fe=v.alignmentConstraint.horizontal,de=l(function(z){var te=new Set;Fe[z].forEach(function(fe){te.add(fe)});var se=new Set([].concat(d(te)).filter(function(fe){return G.has(fe)})),pe=void 0;se.size>0?pe=T[w.get(se.values().next().value)]:pe=I(te).y,te.forEach(function(fe){G.has(fe)||(T[w.get(fe)]=pe)})},"_loop5"),Ve=0;Ve<Fe.length;Ve++)de(Ve)}v.relativePlacementConstraint&&function(){var z=new Map,te=new Map,se=new Map,pe=new Map,fe=new Map,we=new Map,Ce=new Set,Te=new Set;if(G.forEach(function(rt){Ce.add(rt),Te.add(rt)}),v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var ze=v.alignmentConstraint.vertical,He=l(function(rt){se.set("dummy"+rt,[]),ze[rt].forEach(function(We){z.set(We,"dummy"+rt),se.get("dummy"+rt).push(We),G.has(We)&&Ce.add("dummy"+rt)}),fe.set("dummy"+rt,k[w.get(ze[rt][0])])},"_loop6"),at=0;at<ze.length;at++)He(at);if(v.alignmentConstraint.horizontal)for(var $e=v.alignmentConstraint.horizontal,Ye=l(function(rt){pe.set("dummy"+rt,[]),$e[rt].forEach(function(We){te.set(We,"dummy"+rt),pe.get("dummy"+rt).push(We),G.has(We)&&Te.add("dummy"+rt)}),we.set("dummy"+rt,T[w.get($e[rt][0])])},"_loop7"),Ue=0;Ue<$e.length;Ue++)Ye(Ue)}var Ge=new Map,Xe=new Map,kt=l(function(rt){q.get(rt).forEach(function(We){var Ht=void 0,ge=void 0;We.direction=="horizontal"?(Ht=z.get(rt)?z.get(rt):rt,z.get(We.id)?ge={id:z.get(We.id),gap:We.gap,direction:We.direction}:ge=We,Ge.has(Ht)?Ge.get(Ht).push(ge):Ge.set(Ht,[ge]),Ge.has(ge.id)||Ge.set(ge.id,[])):(Ht=te.get(rt)?te.get(rt):rt,te.get(We.id)?ge={id:te.get(We.id),gap:We.gap,direction:We.direction}:ge=We,Xe.has(Ht)?Xe.get(Ht).push(ge):Xe.set(Ht,[ge]),Xe.has(ge.id)||Xe.set(ge.id,[]))})},"_loop8"),ct=!0,ot=!1,Et=void 0;try{for(var tt=q.keys()[Symbol.iterator](),ht;!(ct=(ht=tt.next()).done);ct=!0){var ft=ht.value;kt(ft)}}catch(rt){ot=!0,Et=rt}finally{try{!ct&&tt.return&&tt.return()}finally{if(ot)throw Et}}var Qe=O(Ge),Ze=O(Xe),_t=S(Qe),jt=S(Ze),Pt=R(Ge),Vr=R(Xe),lr=[],Jt=[];_t.forEach(function(rt,We){lr[We]=[],rt.forEach(function(Ht){Pt.get(Ht).length==0&&lr[We].push(Ht)})}),jt.forEach(function(rt,We){Jt[We]=[],rt.forEach(function(Ht){Vr.get(Ht).length==0&&Jt[We].push(Ht)})});var fr=A(Ge,"horizontal",Ce,fe,lr),Mr=A(Xe,"vertical",Te,we,Jt),be=l(function(rt){se.get(rt)?se.get(rt).forEach(function(We){k[w.get(We)]=fr.get(rt)}):k[w.get(rt)]=fr.get(rt)},"_loop9"),dt=!0,ut=!1,ur=void 0;try{for(var Ir=fr.keys()[Symbol.iterator](),Ar;!(dt=(Ar=Ir.next()).done);dt=!0){var Cn=Ar.value;be(Cn)}}catch(rt){ut=!0,ur=rt}finally{try{!dt&&Ir.return&&Ir.return()}finally{if(ut)throw ur}}var ni=l(function(rt){pe.get(rt)?pe.get(rt).forEach(function(We){T[w.get(We)]=Mr.get(rt)}):T[w.get(rt)]=Mr.get(rt)},"_loop10"),nn=!0,Ka=!1,Xr=void 0;try{for(var Ai=Mr.keys()[Symbol.iterator](),xt;!(nn=(xt=Ai.next()).done);nn=!0){var Cn=xt.value;ni(Cn)}}catch(rt){Ka=!0,Xr=rt}finally{try{!nn&&Ai.return&&Ai.return()}finally{if(Ka)throw Xr}}}()}for(var Q=0;Q<_.length;Q++){var Me=_[Q];Me.getChild()==null&&Me.setCenter(k[w.get(Me.id)],T[w.get(Me.id)])}},o.exports=y},551:o=>{o.exports=r}},n={};function a(o){var u=n[o];if(u!==void 0)return u.exports;var h=n[o]={exports:{}};return i[o](h,h.exports,a),h.exports}l(a,"__webpack_require__");var s=a(45);return s})()})}),$tt=_n((e,t)=>{"use strict";l(function(r,i){typeof e=="object"&&typeof t=="object"?t.exports=i(aze()):typeof define=="function"&&define.amd?define(["cose-base"],i):typeof e=="object"?e.cytoscapeFcose=i(aze()):r.cytoscapeFcose=i(r.coseBase)},"webpackUniversalModuleDefinition")(e,function(r){return(()=>{"use strict";var i={658:o=>{o.exports=Object.assign!=null?Object.assign.bind(Object):function(u){for(var h=arguments.length,d=Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];return d.forEach(function(g){Object.keys(g).forEach(function(f){return u[f]=g[f]})}),u}},548:(o,u,h)=>{var d=function(){function f(m,y){var b=[],v=!0,x=!1,w=void 0;try{for(var k=m[Symbol.iterator](),T;!(v=(T=k.next()).done)&&(b.push(T.value),!(y&&b.length===y));v=!0);}catch(_){x=!0,w=_}finally{try{!v&&k.return&&k.return()}finally{if(x)throw w}}return b}return l(f,"sliceIterator"),function(m,y){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return f(m,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=h(140).layoutBase.LinkedList,g={};g.getTopMostNodes=function(f){for(var m={},y=0;y<f.length;y++)m[f[y].id()]=!0;var b=f.filter(function(v,x){typeof v=="number"&&(v=x);for(var w=v.parent()[0];w!=null;){if(m[w.id()])return!1;w=w.parent()[0]}return!0});return b},g.connectComponents=function(f,m,y,b){var v=new p,x=new Set,w=[],k=void 0,T=void 0,_=void 0,C=!1,E=1,N=[],M=[],I=l(function(){var A=f.collection();M.push(A);var B=y[0],S=f.collection();S.merge(B).merge(B.descendants().intersection(m)),w.push(B),S.forEach(function(P){v.push(P),x.add(P),A.merge(P)});for(var O=l(function(){B=v.shift();var P=f.collection();B.neighborhood().nodes().forEach(function(G){m.intersection(B.edgesWith(G)).length>0&&P.merge(G)});for(var L=0;L<P.length;L++){var $=P[L];if(k=y.intersection($.union($.ancestors())),k!=null&&!x.has(k[0])){var F=k.union(k.descendants());F.forEach(function(G){v.push(G),x.add(G),A.merge(G),y.has(G)&&w.push(G)})}}},"_loop2");v.length!=0;)O();if(A.forEach(function(P){m.intersection(P.connectedEdges()).forEach(function(L){A.has(L.source())&&A.has(L.target())&&A.merge(L)})}),w.length==y.length&&(C=!0),!C||C&&E>1){T=w[0],_=T.connectedEdges().length,w.forEach(function(P){P.connectedEdges().length<_&&(_=P.connectedEdges().length,T=P)}),N.push(T.id());var R=f.collection();R.merge(w[0]),w.forEach(function(P){R.merge(P)}),w=[],y=y.difference(R),E++}},"_loop");do I();while(!C);return b&&N.length>0&&b.set("dummy"+(b.size+1),N),M},g.relocateComponent=function(f,m,y){if(!y.fixedNodeConstraint){var b=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,x=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY;if(y.quality=="draft"){var k=!0,T=!1,_=void 0;try{for(var C=m.nodeIndexes[Symbol.iterator](),E;!(k=(E=C.next()).done);k=!0){var N=E.value,M=d(N,2),I=M[0],A=M[1],B=y.cy.getElementById(I);if(B){var S=B.boundingBox(),O=m.xCoords[A]-S.w/2,R=m.xCoords[A]+S.w/2,P=m.yCoords[A]-S.h/2,L=m.yCoords[A]+S.h/2;O<b&&(b=O),R>v&&(v=R),P<x&&(x=P),L>w&&(w=L)}}}catch(V){T=!0,_=V}finally{try{!k&&C.return&&C.return()}finally{if(T)throw _}}var $=f.x-(v+b)/2,F=f.y-(w+x)/2;m.xCoords=m.xCoords.map(function(V){return V+$}),m.yCoords=m.yCoords.map(function(V){return V+F})}else{Object.keys(m).forEach(function(V){var H=m[V],ae=H.getRect().x,re=H.getRect().x+H.getRect().width,oe=H.getRect().y,ue=H.getRect().y+H.getRect().height;ae<b&&(b=ae),re>v&&(v=re),oe<x&&(x=oe),ue>w&&(w=ue)});var G=f.x-(v+b)/2,q=f.y-(w+x)/2;Object.keys(m).forEach(function(V){var H=m[V];H.setCenter(H.getCenterX()+G,H.getCenterY()+q)})}}},g.calcBoundingBox=function(f,m,y,b){for(var v=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,w=Number.MAX_SAFE_INTEGER,k=Number.MIN_SAFE_INTEGER,T=void 0,_=void 0,C=void 0,E=void 0,N=f.descendants().not(":parent"),M=N.length,I=0;I<M;I++){var A=N[I];T=m[b.get(A.id())]-A.width()/2,_=m[b.get(A.id())]+A.width()/2,C=y[b.get(A.id())]-A.height()/2,E=y[b.get(A.id())]+A.height()/2,v>T&&(v=T),x<_&&(x=_),w>C&&(w=C),k<E&&(k=E)}var B={};return B.topLeftX=v,B.topLeftY=w,B.width=x-v,B.height=k-w,B},g.calcParentsWithoutChildren=function(f,m){var y=f.collection();return m.nodes(":parent").forEach(function(b){var v=!1;b.children().forEach(function(x){x.css("display")!="none"&&(v=!0)}),v||y.merge(b)}),y},o.exports=g},816:(o,u,h)=>{var d=h(548),p=h(140).CoSELayout,g=h(140).CoSENode,f=h(140).layoutBase.PointD,m=h(140).layoutBase.DimensionD,y=h(140).layoutBase.LayoutConstants,b=h(140).layoutBase.FDLayoutConstants,v=h(140).CoSEConstants,x=l(function(w,k){var T=w.cy,_=w.eles,C=_.nodes(),E=_.edges(),N=void 0,M=void 0,I=void 0,A={};w.randomize&&(N=k.nodeIndexes,M=k.xCoords,I=k.yCoords);var B=l(function(G){return typeof G=="function"},"isFn"),S=l(function(G,q){return B(G)?G(q):G},"optFn"),O=d.calcParentsWithoutChildren(T,_),R=l(function G(q,V,H,ae){for(var re=V.length,oe=0;oe<re;oe++){var ue=V[oe],W=null;ue.intersection(O).length==0&&(W=ue.children());var ee=void 0,X=ue.layoutDimensions({nodeDimensionsIncludeLabels:ae.nodeDimensionsIncludeLabels});if(ue.outerWidth()!=null&&ue.outerHeight()!=null)if(ae.randomize)if(!ue.isParent())ee=q.add(new g(H.graphManager,new f(M[N.get(ue.id())]-X.w/2,I[N.get(ue.id())]-X.h/2),new m(parseFloat(X.w),parseFloat(X.h))));else{var Z=d.calcBoundingBox(ue,M,I,N);ue.intersection(O).length==0?ee=q.add(new g(H.graphManager,new f(Z.topLeftX,Z.topLeftY),new m(Z.width,Z.height))):ee=q.add(new g(H.graphManager,new f(Z.topLeftX,Z.topLeftY),new m(parseFloat(X.w),parseFloat(X.h))))}else ee=q.add(new g(H.graphManager,new f(ue.position("x")-X.w/2,ue.position("y")-X.h/2),new m(parseFloat(X.w),parseFloat(X.h))));else ee=q.add(new g(this.graphManager));if(ee.id=ue.data("id"),ee.nodeRepulsion=S(ae.nodeRepulsion,ue),ee.paddingLeft=parseInt(ue.css("padding")),ee.paddingTop=parseInt(ue.css("padding")),ee.paddingRight=parseInt(ue.css("padding")),ee.paddingBottom=parseInt(ue.css("padding")),ae.nodeDimensionsIncludeLabels&&(ee.labelWidth=ue.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,ee.labelHeight=ue.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,ee.labelPosVertical=ue.css("text-valign"),ee.labelPosHorizontal=ue.css("text-halign")),A[ue.data("id")]=ee,isNaN(ee.rect.x)&&(ee.rect.x=0),isNaN(ee.rect.y)&&(ee.rect.y=0),W!=null&&W.length>0){var J=void 0;J=H.getGraphManager().add(H.newGraph(),ee),G(J,W,H,ae)}}},"processChildrenList"),P=l(function(G,q,V){for(var H=0,ae=0,re=0;re<V.length;re++){var oe=V[re],ue=A[oe.data("source")],W=A[oe.data("target")];if(ue&&W&&ue!==W&&ue.getEdgesBetween(W).length==0){var ee=q.add(G.newEdge(),ue,W);ee.id=oe.id(),ee.idealLength=S(w.idealEdgeLength,oe),ee.edgeElasticity=S(w.edgeElasticity,oe),H+=ee.idealLength,ae++}}w.idealEdgeLength!=null&&(ae>0?v.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=H/ae:B(w.idealEdgeLength)?v.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=50:v.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=w.idealEdgeLength,v.MIN_REPULSION_DIST=b.MIN_REPULSION_DIST=b.DEFAULT_EDGE_LENGTH/10,v.DEFAULT_RADIAL_SEPARATION=b.DEFAULT_EDGE_LENGTH)},"processEdges"),L=l(function(G,q){q.fixedNodeConstraint&&(G.constraints.fixedNodeConstraint=q.fixedNodeConstraint),q.alignmentConstraint&&(G.constraints.alignmentConstraint=q.alignmentConstraint),q.relativePlacementConstraint&&(G.constraints.relativePlacementConstraint=q.relativePlacementConstraint)},"processConstraints");w.nestingFactor!=null&&(v.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=b.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=w.nestingFactor),w.gravity!=null&&(v.DEFAULT_GRAVITY_STRENGTH=b.DEFAULT_GRAVITY_STRENGTH=w.gravity),w.numIter!=null&&(v.MAX_ITERATIONS=b.MAX_ITERATIONS=w.numIter),w.gravityRange!=null&&(v.DEFAULT_GRAVITY_RANGE_FACTOR=b.DEFAULT_GRAVITY_RANGE_FACTOR=w.gravityRange),w.gravityCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_STRENGTH=b.DEFAULT_COMPOUND_GRAVITY_STRENGTH=w.gravityCompound),w.gravityRangeCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=b.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=w.gravityRangeCompound),w.initialEnergyOnIncremental!=null&&(v.DEFAULT_COOLING_FACTOR_INCREMENTAL=b.DEFAULT_COOLING_FACTOR_INCREMENTAL=w.initialEnergyOnIncremental),w.tilingCompareBy!=null&&(v.TILING_COMPARE_BY=w.tilingCompareBy),w.quality=="proof"?y.QUALITY=2:y.QUALITY=0,v.NODE_DIMENSIONS_INCLUDE_LABELS=b.NODE_DIMENSIONS_INCLUDE_LABELS=y.NODE_DIMENSIONS_INCLUDE_LABELS=w.nodeDimensionsIncludeLabels,v.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=!w.randomize,v.ANIMATE=b.ANIMATE=y.ANIMATE=w.animate,v.TILE=w.tile,v.TILING_PADDING_VERTICAL=typeof w.tilingPaddingVertical=="function"?w.tilingPaddingVertical.call():w.tilingPaddingVertical,v.TILING_PADDING_HORIZONTAL=typeof w.tilingPaddingHorizontal=="function"?w.tilingPaddingHorizontal.call():w.tilingPaddingHorizontal,v.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=!0,v.PURE_INCREMENTAL=!w.randomize,y.DEFAULT_UNIFORM_LEAF_NODE_SIZES=w.uniformNodeDimensions,w.step=="transformed"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!1),w.step=="enforced"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!1),w.step=="cose"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!0),w.step=="all"&&(w.randomize?v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!0),w.fixedNodeConstraint||w.alignmentConstraint||w.relativePlacementConstraint?v.TREE_REDUCTION_ON_INCREMENTAL=!1:v.TREE_REDUCTION_ON_INCREMENTAL=!0;var $=new p,F=$.newGraphManager();return R(F.addRoot(),d.getTopMostNodes(C),$,w),P($,F,E),L($,w),$.runLayout(),A},"coseLayout");o.exports={coseLayout:x}},212:(o,u,h)=>{var d=function(){function k(T,_){for(var C=0;C<_.length;C++){var E=_[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(T,E.key,E)}}return l(k,"defineProperties"),function(T,_,C){return _&&k(T.prototype,_),C&&k(T,C),T}}();function p(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}l(p,"_classCallCheck");var g=h(658),f=h(548),m=h(657),y=m.spectralLayout,b=h(816),v=b.coseLayout,x=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:l(function(k){return 4500},"nodeRepulsion"),idealEdgeLength:l(function(k){return 50},"idealEdgeLength"),edgeElasticity:l(function(k){return .45},"edgeElasticity"),nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:l(function(){},"ready"),stop:l(function(){},"stop")}),w=function(){function k(T){p(this,k),this.options=g({},x,T)}return l(k,"Layout"),d(k,[{key:"run",value:l(function(){var T=this,_=this.options,C=_.cy,E=_.eles,N=[],M=void 0,I=void 0,A=[],B=void 0,S=[];_.fixedNodeConstraint&&(!Array.isArray(_.fixedNodeConstraint)||_.fixedNodeConstraint.length==0)&&(_.fixedNodeConstraint=void 0),_.alignmentConstraint&&(_.alignmentConstraint.vertical&&(!Array.isArray(_.alignmentConstraint.vertical)||_.alignmentConstraint.vertical.length==0)&&(_.alignmentConstraint.vertical=void 0),_.alignmentConstraint.horizontal&&(!Array.isArray(_.alignmentConstraint.horizontal)||_.alignmentConstraint.horizontal.length==0)&&(_.alignmentConstraint.horizontal=void 0)),_.relativePlacementConstraint&&(!Array.isArray(_.relativePlacementConstraint)||_.relativePlacementConstraint.length==0)&&(_.relativePlacementConstraint=void 0);var O=_.fixedNodeConstraint||_.alignmentConstraint||_.relativePlacementConstraint;O&&(_.tile=!1,_.packComponents=!1);var R=void 0,P=!1;if(C.layoutUtilities&&_.packComponents&&(R=C.layoutUtilities("get"),R||(R=C.layoutUtilities()),P=!0),E.nodes().length>0)if(P){var L=f.getTopMostNodes(_.eles.nodes());if(B=f.connectComponents(C,_.eles,L),B.forEach(function(_e){var ce=_e.boundingBox();S.push({x:ce.x1+ce.w/2,y:ce.y1+ce.h/2})}),_.randomize&&B.forEach(function(_e){_.eles=_e,N.push(y(_))}),_.quality=="default"||_.quality=="proof"){var $=C.collection();if(_.tile){var F=new Map,G=[],q=[],V=0,H={nodeIndexes:F,xCoords:G,yCoords:q},ae=[];if(B.forEach(function(_e,ce){_e.edges().length==0&&(_e.nodes().forEach(function(Ne,Be){$.merge(_e.nodes()[Be]),Ne.isParent()||(H.nodeIndexes.set(_e.nodes()[Be].id(),V++),H.xCoords.push(_e.nodes()[0].position().x),H.yCoords.push(_e.nodes()[0].position().y))}),ae.push(ce))}),$.length>1){var re=$.boundingBox();S.push({x:re.x1+re.w/2,y:re.y1+re.h/2}),B.push($),N.push(H);for(var oe=ae.length-1;oe>=0;oe--)B.splice(ae[oe],1),N.splice(ae[oe],1),S.splice(ae[oe],1)}}B.forEach(function(_e,ce){_.eles=_e,A.push(v(_,N[ce])),f.relocateComponent(S[ce],A[ce],_)})}else B.forEach(function(_e,ce){f.relocateComponent(S[ce],N[ce],_)});var ue=new Set;if(B.length>1){var W=[],ee=E.filter(function(_e){return _e.css("display")=="none"});B.forEach(function(_e,ce){var Ne=void 0;if(_.quality=="draft"&&(Ne=N[ce].nodeIndexes),_e.nodes().not(ee).length>0){var Be={};Be.edges=[],Be.nodes=[];var je=void 0;_e.nodes().not(ee).forEach(function(qe){if(_.quality=="draft")if(!qe.isParent())je=Ne.get(qe.id()),Be.nodes.push({x:N[ce].xCoords[je]-qe.boundingbox().w/2,y:N[ce].yCoords[je]-qe.boundingbox().h/2,width:qe.boundingbox().w,height:qe.boundingbox().h});else{var Se=f.calcBoundingBox(qe,N[ce].xCoords,N[ce].yCoords,Ne);Be.nodes.push({x:Se.topLeftX,y:Se.topLeftY,width:Se.width,height:Se.height})}else A[ce][qe.id()]&&Be.nodes.push({x:A[ce][qe.id()].getLeft(),y:A[ce][qe.id()].getTop(),width:A[ce][qe.id()].getWidth(),height:A[ce][qe.id()].getHeight()})}),_e.edges().forEach(function(qe){var Se=qe.source(),Re=qe.target();if(Se.css("display")!="none"&&Re.css("display")!="none")if(_.quality=="draft"){var ve=Ne.get(Se.id()),Fe=Ne.get(Re.id()),de=[],Ve=[];if(Se.isParent()){var Q=f.calcBoundingBox(Se,N[ce].xCoords,N[ce].yCoords,Ne);de.push(Q.topLeftX+Q.width/2),de.push(Q.topLeftY+Q.height/2)}else de.push(N[ce].xCoords[ve]),de.push(N[ce].yCoords[ve]);if(Re.isParent()){var Me=f.calcBoundingBox(Re,N[ce].xCoords,N[ce].yCoords,Ne);Ve.push(Me.topLeftX+Me.width/2),Ve.push(Me.topLeftY+Me.height/2)}else Ve.push(N[ce].xCoords[Fe]),Ve.push(N[ce].yCoords[Fe]);Be.edges.push({startX:de[0],startY:de[1],endX:Ve[0],endY:Ve[1]})}else A[ce][Se.id()]&&A[ce][Re.id()]&&Be.edges.push({startX:A[ce][Se.id()].getCenterX(),startY:A[ce][Se.id()].getCenterY(),endX:A[ce][Re.id()].getCenterX(),endY:A[ce][Re.id()].getCenterY()})}),Be.nodes.length>0&&(W.push(Be),ue.add(ce))}});var X=R.packComponents(W,_.randomize).shifts;if(_.quality=="draft")N.forEach(function(_e,ce){var Ne=_e.xCoords.map(function(je){return je+X[ce].dx}),Be=_e.yCoords.map(function(je){return je+X[ce].dy});_e.xCoords=Ne,_e.yCoords=Be});else{var Z=0;ue.forEach(function(_e){Object.keys(A[_e]).forEach(function(ce){var Ne=A[_e][ce];Ne.setCenter(Ne.getCenterX()+X[Z].dx,Ne.getCenterY()+X[Z].dy)}),Z++})}}}else{var J=_.eles.boundingBox();if(S.push({x:J.x1+J.w/2,y:J.y1+J.h/2}),_.randomize){var he=y(_);N.push(he)}_.quality=="default"||_.quality=="proof"?(A.push(v(_,N[0])),f.relocateComponent(S[0],A[0],_)):f.relocateComponent(S[0],N[0],_)}var K=l(function(_e,ce){if(_.quality=="default"||_.quality=="proof"){typeof _e=="number"&&(_e=ce);var Ne=void 0,Be=void 0,je=_e.data("id");return A.forEach(function(Se){je in Se&&(Ne={x:Se[je].getRect().getCenterX(),y:Se[je].getRect().getCenterY()},Be=Se[je])}),_.nodeDimensionsIncludeLabels&&(Be.labelWidth&&(Be.labelPosHorizontal=="left"?Ne.x+=Be.labelWidth/2:Be.labelPosHorizontal=="right"&&(Ne.x-=Be.labelWidth/2)),Be.labelHeight&&(Be.labelPosVertical=="top"?Ne.y+=Be.labelHeight/2:Be.labelPosVertical=="bottom"&&(Ne.y-=Be.labelHeight/2))),Ne==null&&(Ne={x:_e.position("x"),y:_e.position("y")}),{x:Ne.x,y:Ne.y}}else{var qe=void 0;return N.forEach(function(Se){var Re=Se.nodeIndexes.get(_e.id());Re!=null&&(qe={x:Se.xCoords[Re],y:Se.yCoords[Re]})}),qe==null&&(qe={x:_e.position("x"),y:_e.position("y")}),{x:qe.x,y:qe.y}}},"getPositions");if(_.quality=="default"||_.quality=="proof"||_.randomize){var me=f.calcParentsWithoutChildren(C,E),Y=E.filter(function(_e){return _e.css("display")=="none"});_.eles=E.not(Y),E.nodes().not(":parent").not(Y).layoutPositions(T,_,K),me.length>0&&me.forEach(function(_e){_e.position(K(_e))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")},"run")}]),k}();o.exports=w},657:(o,u,h)=>{var d=h(548),p=h(140).layoutBase.Matrix,g=h(140).layoutBase.SVD,f=l(function(m){var y=m.cy,b=m.eles,v=b.nodes(),x=b.nodes(":parent"),w=new Map,k=new Map,T=new Map,_=[],C=[],E=[],N=[],M=[],I=[],A=[],B=[],S=void 0,O=void 0,R=1e8,P=1e-9,L=m.piTol,$=m.samplingType,F=m.nodeSeparation,G=void 0,q=l(function(){for(var z=0,te=0,se=!1;te<G;){z=Math.floor(Math.random()*O),se=!1;for(var pe=0;pe<te;pe++)if(N[pe]==z){se=!0;break}if(!se)N[te]=z,te++;else continue}},"randomSampleCR"),V=l(function(z,te,se){for(var pe=[],fe=0,we=0,Ce=0,Te=void 0,ze=[],He=0,at=1,$e=0;$e<O;$e++)ze[$e]=R;for(pe[we]=z,ze[z]=0;we>=fe;){Ce=pe[fe++];for(var Ye=_[Ce],Ue=0;Ue<Ye.length;Ue++)Te=k.get(Ye[Ue]),ze[Te]==R&&(ze[Te]=ze[Ce]+1,pe[++we]=Te);I[Ce][te]=ze[Ce]*F}if(se){for(var Ge=0;Ge<O;Ge++)I[Ge][te]<M[Ge]&&(M[Ge]=I[Ge][te]);for(var Xe=0;Xe<O;Xe++)M[Xe]>He&&(He=M[Xe],at=Xe)}return at},"BFS"),H=l(function(z){var te=void 0;if(z){te=Math.floor(Math.random()*O),S=te;for(var se=0;se<O;se++)M[se]=R;for(var pe=0;pe<G;pe++)N[pe]=te,te=V(te,pe,z)}else{q();for(var fe=0;fe<G;fe++)V(N[fe],fe,z,!1)}for(var we=0;we<O;we++)for(var Ce=0;Ce<G;Ce++)I[we][Ce]*=I[we][Ce];for(var Te=0;Te<G;Te++)A[Te]=[];for(var ze=0;ze<G;ze++)for(var He=0;He<G;He++)A[ze][He]=I[N[He]][ze]},"allBFS"),ae=l(function(){for(var z=g.svd(A),te=z.S,se=z.U,pe=z.V,fe=te[0]*te[0]*te[0],we=[],Ce=0;Ce<G;Ce++){we[Ce]=[];for(var Te=0;Te<G;Te++)we[Ce][Te]=0,Ce==Te&&(we[Ce][Te]=te[Ce]/(te[Ce]*te[Ce]+fe/(te[Ce]*te[Ce])))}B=p.multMat(p.multMat(pe,we),p.transpose(se))},"sample"),re=l(function(){for(var z=void 0,te=void 0,se=[],pe=[],fe=[],we=[],Ce=0;Ce<O;Ce++)se[Ce]=Math.random(),pe[Ce]=Math.random();se=p.normalize(se),pe=p.normalize(pe);for(var Te=0,ze=P,He=P,at=void 0;;){Te++;for(var $e=0;$e<O;$e++)fe[$e]=se[$e];if(se=p.multGamma(p.multL(p.multGamma(fe),I,B)),z=p.dotProduct(fe,se),se=p.normalize(se),ze=p.dotProduct(fe,se),at=Math.abs(ze/He),at<=1+L&&at>=1)break;He=ze}for(var Ye=0;Ye<O;Ye++)fe[Ye]=se[Ye];for(Te=0,He=P;;){Te++;for(var Ue=0;Ue<O;Ue++)we[Ue]=pe[Ue];if(we=p.minusOp(we,p.multCons(fe,p.dotProduct(fe,we))),pe=p.multGamma(p.multL(p.multGamma(we),I,B)),te=p.dotProduct(we,pe),pe=p.normalize(pe),ze=p.dotProduct(we,pe),at=Math.abs(ze/He),at<=1+L&&at>=1)break;He=ze}for(var Ge=0;Ge<O;Ge++)we[Ge]=pe[Ge];C=p.multCons(fe,Math.sqrt(Math.abs(z))),E=p.multCons(we,Math.sqrt(Math.abs(te)))},"powerIteration");d.connectComponents(y,b,d.getTopMostNodes(v),w),x.forEach(function(z){d.connectComponents(y,b,d.getTopMostNodes(z.descendants().intersection(b)),w)});for(var oe=0,ue=0;ue<v.length;ue++)v[ue].isParent()||k.set(v[ue].id(),oe++);var W=!0,ee=!1,X=void 0;try{for(var Z=w.keys()[Symbol.iterator](),J;!(W=(J=Z.next()).done);W=!0){var he=J.value;k.set(he,oe++)}}catch(z){ee=!0,X=z}finally{try{!W&&Z.return&&Z.return()}finally{if(ee)throw X}}for(var K=0;K<k.size;K++)_[K]=[];x.forEach(function(z){for(var te=z.children().intersection(b);te.nodes(":childless").length==0;)te=te.nodes()[0].children().intersection(b);var se=0,pe=te.nodes(":childless")[0].connectedEdges().length;te.nodes(":childless").forEach(function(fe,we){fe.connectedEdges().length<pe&&(pe=fe.connectedEdges().length,se=we)}),T.set(z.id(),te.nodes(":childless")[se].id())}),v.forEach(function(z){var te=void 0;z.isParent()?te=k.get(T.get(z.id())):te=k.get(z.id()),z.neighborhood().nodes().forEach(function(se){b.intersection(z.edgesWith(se)).length>0&&(se.isParent()?_[te].push(T.get(se.id())):_[te].push(se.id()))})});var me=l(function(z){var te=k.get(z),se=void 0;w.get(z).forEach(function(pe){y.getElementById(pe).isParent()?se=T.get(pe):se=pe,_[te].push(se),_[k.get(se)].push(z)})},"_loop"),Y=!0,_e=!1,ce=void 0;try{for(var Ne=w.keys()[Symbol.iterator](),Be;!(Y=(Be=Ne.next()).done);Y=!0){var je=Be.value;me(je)}}catch(z){_e=!0,ce=z}finally{try{!Y&&Ne.return&&Ne.return()}finally{if(_e)throw ce}}O=k.size;var qe=void 0;if(O>2){G=O<m.sampleSize?O:m.sampleSize;for(var Se=0;Se<O;Se++)I[Se]=[];for(var Re=0;Re<G;Re++)B[Re]=[];return m.quality=="draft"||m.step=="all"?(H($),ae(),re(),qe={nodeIndexes:k,xCoords:C,yCoords:E}):(k.forEach(function(z,te){C.push(y.getElementById(te).position("x")),E.push(y.getElementById(te).position("y"))}),qe={nodeIndexes:k,xCoords:C,yCoords:E}),qe}else{var ve=k.keys(),Fe=y.getElementById(ve.next().value),de=Fe.position(),Ve=Fe.outerWidth();if(C.push(de.x),E.push(de.y),O==2){var Q=y.getElementById(ve.next().value),Me=Q.outerWidth();C.push(de.x+Ve/2+Me/2+m.idealEdgeLength),E.push(de.y)}return qe={nodeIndexes:k,xCoords:C,yCoords:E},qe}},"spectralLayout");o.exports={spectralLayout:f}},579:(o,u,h)=>{var d=h(212),p=l(function(g){g&&g("layout","fcose",d)},"register");typeof cytoscape<"u"&&p(cytoscape),o.exports=p},140:o=>{o.exports=r}},n={};function a(o){var u=n[o];if(u!==void 0)return u.exports;var h=n[o]={exports:{}};return i[o](h,h.exports,a),h.exports}l(a,"__webpack_require__");var s=a(579);return s})()})}),gp,Rf,sze=D(()=>{"use strict";Kl(),gp=l(e=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${e}</g>`,"wrapIcon"),Rf={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:gp('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:gp('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:gp('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:gp('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:gp('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:nS,blank:{body:gp("")}}}}),oze,lze,cze,uze,Ftt=D(()=>{"use strict";Gt(),po(),Kl(),cr(),sze(),ej(),Zt(),oze=l(async function(e,t,r){let i=r.getConfigField("padding"),n=r.getConfigField("iconSize"),a=n/2,s=n/6,o=s/2;await Promise.all(t.edges().map(async u=>{let{source:h,sourceDir:d,sourceArrow:p,sourceGroup:g,target:f,targetDir:m,targetArrow:y,targetGroup:b,label:v}=Jq(u),{x,y:w}=u[0].sourceEndpoint(),{x:k,y:T}=u[0].midpoint(),{x:_,y:C}=u[0].targetEndpoint(),E=i+4;if(g&&(ca(d)?x+=d==="L"?-E:E:w+=d==="T"?-E:E+18),b&&(ca(m)?_+=m==="L"?-E:E:C+=m==="T"?-E:E+18),!g&&r.getNode(h)?.type==="junction"&&(ca(d)?x+=d==="L"?a:-a:w+=d==="T"?a:-a),!b&&r.getNode(f)?.type==="junction"&&(ca(m)?_+=m==="L"?a:-a:C+=m==="T"?a:-a),u[0]._private.rscratch){let N=e.insert("g");if(N.insert("path").attr("d",`M ${x},${w} L ${k},${T} L${_},${C} `).attr("class","edge").attr("id",cd(h,f,{prefix:"L"})),p){let M=ca(d)?jx[d](x,s):x-o,I=ru(d)?jx[d](w,s):w-o;N.insert("polygon").attr("points",Zq[d](s)).attr("transform",`translate(${M},${I})`).attr("class","arrow")}if(y){let M=ca(m)?jx[m](_,s):_-o,I=ru(m)?jx[m](C,s):C-o;N.insert("polygon").attr("points",Zq[m](s)).attr("transform",`translate(${M},${I})`).attr("class","arrow")}if(v){let M=S8(d,m)?"XY":ca(d)?"X":"Y",I=0;M==="X"?I=Math.abs(x-_):M==="Y"?I=Math.abs(w-C)/1.5:I=Math.abs(x-_)/2;let A=N.append("g");if(await Ba(A,v,{useHtmlLabels:!1,width:I,classes:"architecture-service-label"},Ee()),A.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),M==="X")A.attr("transform","translate("+k+", "+T+")");else if(M==="Y")A.attr("transform","translate("+k+", "+T+") rotate(-90)");else if(M==="XY"){let B=_8(d,m);if(B&&VFe(B)){let S=A.node().getBoundingClientRect(),[O,R]=XFe(B);A.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*O*R*45})`);let P=A.node().getBoundingClientRect();A.attr("transform",`
                translate(${k}, ${T-S.height/2})
                translate(${O*P.width/2}, ${R*P.height/2})
                rotate(${-1*O*R*45}, 0, ${S.height/2})
              `)}}}}}))},"drawEdges"),lze=l(async function(e,t,r){let i=r.getConfigField("padding")*.75,n=r.getConfigField("fontSize"),a=r.getConfigField("iconSize")/2;await Promise.all(t.nodes().map(async s=>{let o=pp(s);if(o.type==="group"){let{h:u,w:h,x1:d,y1:p}=s.boundingBox(),g=e.append("rect");g.attr("id",`group-${o.id}`).attr("x",d+a).attr("y",p+a).attr("width",h).attr("height",u).attr("class","node-bkg");let f=e.append("g"),m=d,y=p;if(o.icon){let b=f.append("g");b.html(`<g>${await Xl(o.icon,{height:i,width:i,fallbackPrefix:Rf.prefix})}</g>`),b.attr("transform","translate("+(m+a+1)+", "+(y+a+1)+")"),m+=i,y+=n/2-1-2}if(o.label){let b=f.append("g");await Ba(b,o.label,{useHtmlLabels:!1,width:h,classes:"architecture-service-label"},Ee()),b.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),b.attr("transform","translate("+(m+a+4)+", "+(y+a+2)+")")}r.setElementForId(o.id,g)}}))},"drawGroups"),cze=l(async function(e,t,r){let i=Ee();for(let n of r){let a=t.append("g"),s=e.getConfigField("iconSize");if(n.title){let d=a.append("g");await Ba(d,n.title,{useHtmlLabels:!1,width:s*1.5,classes:"architecture-service-label"},i),d.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),d.attr("transform","translate("+s/2+", "+s+")")}let o=a.append("g");if(n.icon)o.html(`<g>${await Xl(n.icon,{height:s,width:s,fallbackPrefix:Rf.prefix})}</g>`);else if(n.iconText){o.html(`<g>${await Xl("blank",{height:s,width:s,fallbackPrefix:Rf.prefix})}</g>`);let d=o.append("g").append("foreignObject").attr("width",s).attr("height",s).append("div").attr("class","node-icon-text").attr("style",`height: ${s}px;`).append("div").html(wr(n.iconText,i)),p=parseInt(window.getComputedStyle(d.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;d.attr("style",`-webkit-line-clamp: ${Math.floor((s-2)/p)};`)}else o.append("path").attr("class","node-bkg").attr("id","node-"+n.id).attr("d",`M0 ${s} v${-s} q0,-5 5,-5 h${s} q5,0 5,5 v${s} H0 Z`);a.attr("id",`service-${n.id}`).attr("class","architecture-service");let{width:u,height:h}=a.node().getBBox();n.width=u,n.height=h,e.setElementForId(n.id,a)}return 0},"drawServices"),uze=l(function(e,t,r){r.forEach(i=>{let n=t.append("g"),a=e.getConfigField("iconSize");n.append("g").append("rect").attr("id","node-"+i.id).attr("fill-opacity","0").attr("width",a).attr("height",a),n.attr("class","architecture-junction");let{width:s,height:o}=n._groups[0][0].getBBox();n.width=s,n.height=o,e.setElementForId(i.id,n)})},"drawJunctions")});function hze(e,t,r){e.forEach(i=>{t.add({group:"nodes",data:{type:"service",id:i.id,icon:i.icon,label:i.title,parent:i.in,width:r.getConfigField("iconSize"),height:r.getConfigField("iconSize")},classes:"node-service"})})}function dze(e,t,r){e.forEach(i=>{t.add({group:"nodes",data:{type:"junction",id:i.id,parent:i.in,width:r.getConfigField("iconSize"),height:r.getConfigField("iconSize")},classes:"node-junction"})})}function pze(e,t){t.nodes().map(r=>{let i=pp(r);i.type!=="group"&&(i.x=r.position().x,i.y=r.position().y,e.getElementById(i.id).attr("transform","translate("+(i.x||0)+","+(i.y||0)+")"))})}function gze(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"group",id:r.id,icon:r.icon,label:r.title,parent:r.in},classes:"node-group"})})}function fze(e,t){e.forEach(r=>{let{lhsId:i,rhsId:n,lhsInto:a,lhsGroup:s,rhsInto:o,lhsDir:u,rhsDir:h,rhsGroup:d,title:p}=r,g=S8(r.lhsDir,r.rhsDir)?"segments":"straight",f={id:`${i}-${n}`,label:p,source:i,sourceDir:u,sourceArrow:a,sourceGroup:s,sourceEndpoint:u==="L"?"0 50%":u==="R"?"100% 50%":u==="T"?"50% 0":"50% 100%",target:n,targetDir:h,targetArrow:o,targetGroup:d,targetEndpoint:h==="L"?"0 50%":h==="R"?"100% 50%":h==="T"?"50% 0":"50% 100%"};t.add({group:"edges",data:f,classes:g})})}function mze(e,t,r){let i=l((o,u)=>Object.entries(o).reduce((h,[d,p])=>{let g=0,f=Object.entries(p);if(f.length===1)return h[d]=f[0][1],h;for(let m=0;m<f.length-1;m++)for(let y=m+1;y<f.length;y++){let[b,v]=f[m],[x,w]=f[y];if(r[b]?.[x]===u)h[d]??=[],h[d]=[...h[d],...v,...w];else if(b==="default"||x==="default")h[d]??=[],h[d]=[...h[d],...v,...w];else{let k=`${d}-${g++}`;h[k]=v;let T=`${d}-${g++}`;h[T]=w}}return h},{}),"flattenAlignments"),n=t.map(o=>{let u={},h={};return Object.entries(o).forEach(([d,[p,g]])=>{let f=e.getNode(d)?.in??"default";u[g]??={},u[g][f]??=[],u[g][f].push(d),h[p]??={},h[p][f]??=[],h[p][f].push(d)}),{horiz:Object.values(i(u,"horizontal")).filter(d=>d.length>1),vert:Object.values(i(h,"vertical")).filter(d=>d.length>1)}}),[a,s]=n.reduce(([o,u],{horiz:h,vert:d})=>[[...o,...h],[...u,...d]],[[],[]]);return{horizontal:a,vertical:s}}function yze(e,t){let r=[],i=l(a=>`${a[0]},${a[1]}`,"posToStr"),n=l(a=>a.split(",").map(s=>parseInt(s)),"strToPos");return e.forEach(a=>{let s=Object.fromEntries(Object.entries(a).map(([d,p])=>[i(p),d])),o=[i([0,0])],u={},h={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;o.length>0;){let d=o.shift();if(d){u[d]=1;let p=s[d];if(p){let g=n(d);Object.entries(h).forEach(([f,m])=>{let y=i([g[0]+m[0],g[1]+m[1]]),b=s[y];b&&!u[y]&&(o.push(y),r.push({[Kq[f]]:b,[Kq[HFe(f)]]:p,gap:1.5*t.getConfigField("iconSize")}))})}}}}),r}function vze(e,t,r,i,n,{spatialMaps:a,groupAlignments:s}){return new Promise(o=>{let u=Ke("body").append("div").attr("id","cy").attr("style","display:none"),h=Eo({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${n.getConfigField("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${n.getConfigField("padding")}px`}}],layout:{name:"grid",boundingBox:{x1:0,x2:100,y1:0,y2:100}}});u.remove(),gze(r,h),hze(e,h,n),dze(t,h,n),fze(i,h);let d=mze(n,a,s),p=yze(a,n),g=h.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(f){let[m,y]=f.connectedNodes(),{parent:b}=pp(m),{parent:v}=pp(y);return b===v?1.5*n.getConfigField("iconSize"):.5*n.getConfigField("iconSize")},edgeElasticity(f){let[m,y]=f.connectedNodes(),{parent:b}=pp(m),{parent:v}=pp(y);return b===v?.45:.001},alignmentConstraint:d,relativePlacementConstraint:p});g.one("layoutstop",()=>{function f(m,y,b,v){let x,w,{x:k,y:T}=m,{x:_,y:C}=y;w=(v-T+(k-b)*(T-C)/(k-_))/Math.sqrt(1+Math.pow((T-C)/(k-_),2)),x=Math.sqrt(Math.pow(v-T,2)+Math.pow(b-k,2)-Math.pow(w,2));let E=Math.sqrt(Math.pow(_-k,2)+Math.pow(C-T,2));x=x/E;let N=(_-k)*(v-T)-(C-T)*(b-k);switch(!0){case N>=0:N=1;break;case N<0:N=-1;break}let M=(_-k)*(b-k)+(C-T)*(v-T);switch(!0){case M>=0:M=1;break;case M<0:M=-1;break}return w=Math.abs(w)*N,x=x*M,{distances:w,weights:x}}l(f,"getSegmentWeights"),h.startBatch();for(let m of Object.values(h.edges()))if(m.data?.()){let{x:y,y:b}=m.source().position(),{x:v,y:x}=m.target().position();if(y!==v&&b!==x){let w=m.sourceEndpoint(),k=m.targetEndpoint(),{sourceDir:T}=Jq(m),[_,C]=ru(T)?[w.x,k.y]:[k.x,w.y],{weights:E,distances:N}=f(w,k,_,C);m.style("segment-distances",N),m.style("segment-weights",E)}}h.endBatch(),g.run()}),g.run(),h.ready(f=>{ne.info("Ready",f),o(h)})})}var bze,xze,wze,ztt=D(()=>{"use strict";I7e(),bze=zn($tt(),1),hr(),st(),Kl(),Kc(),an(),sze(),ej(),Ftt(),sS([{name:Rf.prefix,icons:Rf}]),Eo.use(bze.default),l(hze,"addServices"),l(dze,"addJunctions"),l(pze,"positionNodes"),l(gze,"addGroups"),l(fze,"addEdges"),l(mze,"getAlignments"),l(yze,"getRelativeConstraints"),l(vze,"layoutArchitecture"),xze=l(async(e,t,r,i)=>{let n=i.db,a=n.getServices(),s=n.getJunctions(),o=n.getGroups(),u=n.getEdges(),h=n.getDataStructures(),d=Il(t),p=d.append("g");p.attr("class","architecture-edges");let g=d.append("g");g.attr("class","architecture-services");let f=d.append("g");f.attr("class","architecture-groups"),await cze(n,g,a),uze(n,g,s);let m=await vze(a,s,o,u,n,h);await oze(p,m,n),await lze(f,m,n),pze(n,m),Gp(void 0,d,n.getConfigField("padding"),n.getConfigField("useMaxWidth"))},"draw"),wze={draw:xze}}),kze={};sr(kze,{diagram:()=>Tze});var Tze,Gtt=D(()=>{"use strict";Ptt(),eze(),Btt(),ztt(),Tze={parser:rj,get db(){return new tj},renderer:wze,styles:ize}}),ij,Eze=D(()=>{"use strict";ua(),pi(),Zt(),Mt(),Di(),ij=class{constructor(){this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.setAccTitle=Mi,this.getAccTitle=Gi,this.setDiagramTitle=sn,this.getDiagramTitle=Ii,this.getAccDescription=qi,this.setAccDescription=Ui}static{l(this,"TreeMapDB")}getNodes(){return this.nodes}getConfig(){let e=xr,t=Tr();return ma({...e.treemap,...t.treemap??{}})}addNode(e,t){this.nodes.push(e),this.levels.set(e,t),t===0&&(this.outerNodes.push(e),this.root??=e)}getRoot(){return{name:"",children:this.outerNodes}}addClass(e,t){let r=this.classes.get(e)??{id:e,styles:[],textStyles:[]},i=t.replace(/\\,/g,"\xA7\xA7\xA7").replace(/,/g,";").replace(//g,",").split(";");i&&i.forEach(n=>{E6(n)&&(r?.textStyles?r.textStyles.push(n):r.textStyles=[n]),r?.styles?r.styles.push(n):r.styles=[n]}),this.classes.set(e,r)}getClasses(){return this.classes}getStylesForClass(e){return this.classes.get(e)?.styles??[]}clear(){Ni(),this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.root=void 0}}});function Cze(e){if(!e.length)return[];let t=[],r=[];return e.forEach(i=>{let n={name:i.name,children:i.type==="Leaf"?void 0:[]};for(n.classSelector=i?.classSelector,i?.cssCompiledStyles&&(n.cssCompiledStyles=[i.cssCompiledStyles]),i.type==="Leaf"&&i.value!==void 0&&(n.value=i.value);r.length>0&&r[r.length-1].level>=i.level;)r.pop();if(r.length===0)t.push(n);else{let a=r[r.length-1].node;a.children?a.children.push(n):a.children=[n]}i.type!=="Leaf"&&r.push({node:n,level:i.level})}),t}var Utt=D(()=>{"use strict";l(Cze,"buildHierarchy")}),Sze,_ze,nj,qtt=D(()=>{"use strict";tp(),st(),gf(),Utt(),Eze(),Sze=l((e,t)=>{rp(e,t);let r=[];for(let a of e.TreemapRows??[])a.$type==="ClassDefStatement"&&t.addClass(a.className??"",a.styleText??"");for(let a of e.TreemapRows??[]){let s=a.item;if(!s)continue;let o=a.indent?parseInt(a.indent):0,u=_ze(s),h=s.classSelector?t.getStylesForClass(s.classSelector):[],d=h.length>0?h.join(";"):void 0,p={level:o,name:u,type:s.$type,value:s.value,classSelector:s.classSelector,cssCompiledStyles:d};r.push(p)}let i=Cze(r),n=l((a,s)=>{for(let o of a)t.addNode(o,s),o.children&&o.children.length>0&&n(o.children,s+1)},"addNodesRecursively");n(i,0)},"populate"),_ze=l(e=>e.name?String(e.name):"","getItemName"),nj={parser:{yy:void 0},parse:l(async e=>{try{let t=await Hc("treemap",e);ne.debug("Treemap AST:",t);let r=nj.parser?.yy;if(!(r instanceof ij))throw new Error("parser.parser?.yy was not a TreemapDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");Sze(t,r)}catch(t){throw ne.error("Error parsing treemap:",t),t}},"parse")}}),Aze,fp,Of,Lze,Nze,Mze,jtt=D(()=>{"use strict";Kc(),Jd(),an(),hr(),Mt(),pi(),st(),Aze=10,fp=10,Of=25,Lze=l((e,t,r,i)=>{let n=i.db,a=n.getConfig(),s=a.padding??Aze,o=n.getDiagramTitle(),u=n.getRoot(),{themeVariables:h}=Tr();if(!u)return;let d=o?30:0,p=Il(t),g=a.nodeWidth?a.nodeWidth*fp:960,f=a.nodeHeight?a.nodeHeight*fp:500,m=g,y=f+d;p.attr("viewBox",`0 0 ${m} ${y}`),Wn(p,y,m,a.useMaxWidth);let b;try{let A=a.valueFormat||",";if(A==="$0,0")b=l(B=>"$"+Uh(",")(B),"valueFormat");else if(A.startsWith("$")&&A.includes(",")){let B=/\.\d+/.exec(A),S=B?B[0]:"";b=l(O=>"$"+Uh(","+S)(O),"valueFormat")}else if(A.startsWith("$")){let B=A.substring(1);b=l(S=>"$"+Uh(B||"")(S),"valueFormat")}else b=Uh(A)}catch(A){ne.error("Error creating format function:",A),b=Uh(",")}let v=bu().range(["transparent",h.cScale0,h.cScale1,h.cScale2,h.cScale3,h.cScale4,h.cScale5,h.cScale6,h.cScale7,h.cScale8,h.cScale9,h.cScale10,h.cScale11]),x=bu().range(["transparent",h.cScalePeer0,h.cScalePeer1,h.cScalePeer2,h.cScalePeer3,h.cScalePeer4,h.cScalePeer5,h.cScalePeer6,h.cScalePeer7,h.cScalePeer8,h.cScalePeer9,h.cScalePeer10,h.cScalePeer11]),w=bu().range([h.cScaleLabel0,h.cScaleLabel1,h.cScaleLabel2,h.cScaleLabel3,h.cScaleLabel4,h.cScaleLabel5,h.cScaleLabel6,h.cScaleLabel7,h.cScaleLabel8,h.cScaleLabel9,h.cScaleLabel10,h.cScaleLabel11]);o&&p.append("text").attr("x",m/2).attr("y",d/2).attr("class","treemapTitle").attr("text-anchor","middle").attr("dominant-baseline","middle").text(o);let k=p.append("g").attr("transform",`translate(0, ${d})`).attr("class","treemapContainer"),T=t5(u).sum(A=>A.value??0).sort((A,B)=>(B.value??0)-(A.value??0)),_=xee().size([g,f]).paddingTop(A=>A.children&&A.children.length>0?Of+fp:0).paddingInner(s).paddingLeft(A=>A.children&&A.children.length>0?fp:0).paddingRight(A=>A.children&&A.children.length>0?fp:0).paddingBottom(A=>A.children&&A.children.length>0?fp:0).round(!0)(T),C=_.descendants().filter(A=>A.children&&A.children.length>0),E=k.selectAll(".treemapSection").data(C).enter().append("g").attr("class","treemapSection").attr("transform",A=>`translate(${A.x0},${A.y0})`);E.append("rect").attr("width",A=>A.x1-A.x0).attr("height",Of).attr("class","treemapSectionHeader").attr("fill","none").attr("fill-opacity",.6).attr("stroke-width",.6).attr("style",A=>A.depth===0?"display: none;":""),E.append("clipPath").attr("id",(A,B)=>`clip-section-${t}-${B}`).append("rect").attr("width",A=>Math.max(0,A.x1-A.x0-12)).attr("height",Of),E.append("rect").attr("width",A=>A.x1-A.x0).attr("height",A=>A.y1-A.y0).attr("class",(A,B)=>`treemapSection section${B}`).attr("fill",A=>v(A.data.name)).attr("fill-opacity",.6).attr("stroke",A=>x(A.data.name)).attr("stroke-width",2).attr("stroke-opacity",.4).attr("style",A=>{if(A.depth===0)return"display: none;";let B=St({cssCompiledStyles:A.data.cssCompiledStyles});return B.nodeStyles+";"+B.borderStyles.join(";")}),E.append("text").attr("class","treemapSectionLabel").attr("x",6).attr("y",Of/2).attr("dominant-baseline","middle").text(A=>A.depth===0?"":A.data.name).attr("font-weight","bold").attr("style",A=>{if(A.depth===0)return"display: none;";let B="dominant-baseline: middle; font-size: 12px; fill:"+w(A.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;",S=St({cssCompiledStyles:A.data.cssCompiledStyles});return B+S.labelStyles.replace("color:","fill:")}).each(function(A){if(A.depth===0)return;let B=Ke(this),S=A.data.name;B.text(S);let O=A.x1-A.x0,R=6,P;a.showValues!==!1&&A.value?P=O-10-30-10-R:P=O-R-6;let L=Math.max(15,P),$=B.node();if($.getComputedTextLength()>L){let F=S;for(;F.length>0;){if(F=S.substring(0,F.length-1),F.length===0){B.text("..."),$.getComputedTextLength()>L&&B.text("");break}if(B.text(F+"..."),$.getComputedTextLength()<=L)break}}}),a.showValues!==!1&&E.append("text").attr("class","treemapSectionValue").attr("x",A=>A.x1-A.x0-10).attr("y",Of/2).attr("text-anchor","end").attr("dominant-baseline","middle").text(A=>A.value?b(A.value):"").attr("font-style","italic").attr("style",A=>{if(A.depth===0)return"display: none;";let B="text-anchor: end; dominant-baseline: middle; font-size: 10px; fill:"+w(A.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;",S=St({cssCompiledStyles:A.data.cssCompiledStyles});return B+S.labelStyles.replace("color:","fill:")});let N=_.leaves(),M=k.selectAll(".treemapLeafGroup").data(N).enter().append("g").attr("class",(A,B)=>`treemapNode treemapLeafGroup leaf${B}${A.data.classSelector?` ${A.data.classSelector}`:""}x`).attr("transform",A=>`translate(${A.x0},${A.y0})`);M.append("rect").attr("width",A=>A.x1-A.x0).attr("height",A=>A.y1-A.y0).attr("class","treemapLeaf").attr("fill",A=>A.parent?v(A.parent.data.name):v(A.data.name)).attr("style",A=>St({cssCompiledStyles:A.data.cssCompiledStyles}).nodeStyles).attr("fill-opacity",.3).attr("stroke",A=>A.parent?v(A.parent.data.name):v(A.data.name)).attr("stroke-width",3),M.append("clipPath").attr("id",(A,B)=>`clip-${t}-${B}`).append("rect").attr("width",A=>Math.max(0,A.x1-A.x0-4)).attr("height",A=>Math.max(0,A.y1-A.y0-4)),M.append("text").attr("class","treemapLabel").attr("x",A=>(A.x1-A.x0)/2).attr("y",A=>(A.y1-A.y0)/2).attr("style",A=>{let B="text-anchor: middle; dominant-baseline: middle; font-size: 38px;fill:"+w(A.data.name)+";",S=St({cssCompiledStyles:A.data.cssCompiledStyles});return B+S.labelStyles.replace("color:","fill:")}).attr("clip-path",(A,B)=>`url(#clip-${t}-${B})`).text(A=>A.data.name).each(function(A){let B=Ke(this),S=A.x1-A.x0,O=A.y1-A.y0,R=B.node(),P=4,L=S-2*P,$=O-2*P;if(L<10||$<10){B.style("display","none");return}let F=parseInt(B.style("font-size"),10),G=8,q=28,V=.6,H=6,ae=2;for(;R.getComputedTextLength()>L&&F>G;)F--,B.style("font-size",`${F}px`);let re=Math.max(H,Math.min(q,Math.round(F*V))),oe=F+ae+re;for(;oe>$&&F>G&&(F--,re=Math.max(H,Math.min(q,Math.round(F*V))),!(re<H&&F===G));)B.style("font-size",`${F}px`),oe=F+ae+re,re<=H&&oe>$;B.style("font-size",`${F}px`),(R.getComputedTextLength()>L||F<G||$<F)&&B.style("display","none")}),a.showValues!==!1&&M.append("text").attr("class","treemapValue").attr("x",A=>(A.x1-A.x0)/2).attr("y",function(A){return(A.y1-A.y0)/2}).attr("style",A=>{let B="text-anchor: middle; dominant-baseline: hanging; font-size: 28px;fill:"+w(A.data.name)+";",S=St({cssCompiledStyles:A.data.cssCompiledStyles});return B+S.labelStyles.replace("color:","fill:")}).attr("clip-path",(A,B)=>`url(#clip-${t}-${B})`).text(A=>A.value?b(A.value):"").each(function(A){let B=Ke(this),S=this.parentNode;if(!S){B.style("display","none");return}let O=Ke(S).select(".treemapLabel");if(O.empty()||O.style("display")==="none"){B.style("display","none");return}let R=parseFloat(O.style("font-size")),P=28,L=.6,$=6,F=2,G=Math.max($,Math.min(P,Math.round(R*L)));B.style("font-size",`${G}px`);let q=(A.y1-A.y0)/2+R/2+F;B.attr("y",q);let V=A.x1-A.x0,H=A.y1-A.y0-4,ae=V-8;B.node().getComputedTextLength()>ae||q+G>H||G<$?B.style("display","none"):B.style("display",null)});let I=a.diagramPadding??8;sh(p,I,"flowchart",a?.useMaxWidth||!1)},"draw"),Nze=l(function(e,t){return t.db.getClasses()},"getClasses"),Mze={draw:Lze,getClasses:Nze}}),Ize,Dze,Rze,Htt=D(()=>{"use strict";Zt(),Ize={sectionStrokeColor:"black",sectionStrokeWidth:"1",sectionFillColor:"#efefef",leafStrokeColor:"black",leafStrokeWidth:"1",leafFillColor:"#efefef",labelColor:"black",labelFontSize:"12px",valueFontSize:"10px",valueColor:"black",titleColor:"black",titleFontSize:"14px"},Dze=l(({treemap:e}={})=>{let t=ma(Ize,e);return`
  .treemapNode.section {
    stroke: ${t.sectionStrokeColor};
    stroke-width: ${t.sectionStrokeWidth};
    fill: ${t.sectionFillColor};
  }
  .treemapNode.leaf {
    stroke: ${t.leafStrokeColor};
    stroke-width: ${t.leafStrokeWidth};
    fill: ${t.leafFillColor};
  }
  .treemapLabel {
    fill: ${t.labelColor};
    font-size: ${t.labelFontSize};
  }
  .treemapValue {
    fill: ${t.valueColor};
    font-size: ${t.valueFontSize};
  }
  .treemapTitle {
    fill: ${t.titleColor};
    font-size: ${t.titleFontSize};
  }
  `},"getStyles"),Rze=Dze}),Oze={};sr(Oze,{diagram:()=>Pze});var Pze,Vtt=D(()=>{"use strict";Eze(),qtt(),jtt(),Htt(),Pze={parser:nj,get db(){return new ij},renderer:Mze,styles:Rze}}),Bze={};sr(Bze,{default:()=>Mnt}),Kl(),yW(),zp();var Ytt=l(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),Wtt=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(RYe(),_oe));return{id:"c4",diagram:e}},"loader"),Xtt={id:"c4",detector:Ytt,loader:Wtt},Ktt=Xtt,$ze="flowchart",Ztt=l((e,t)=>t?.flowchart?.defaultRenderer==="dagre-wrapper"||t?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e),"detector"),Qtt=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(rB(),Lk));return{id:$ze,diagram:e}},"loader"),Jtt={id:$ze,detector:Ztt,loader:Qtt},ert=Jtt,Fze="flowchart-v2",trt=l((e,t)=>t?.flowchart?.defaultRenderer==="dagre-d3"?!1:(t?.flowchart?.defaultRenderer==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)),"detector"),rrt=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(rB(),Lk));return{id:Fze,diagram:e}},"loader"),irt={id:Fze,detector:trt,loader:rrt},nrt=irt,art=l(e=>/^\s*erDiagram/.test(e),"detector"),srt=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(sQe(),u8e));return{id:"er",diagram:e}},"loader"),ort={id:"er",detector:art,loader:srt},lrt=ort,zze="gitGraph",crt=l(e=>/^\s*gitGraph/.test(e),"detector"),urt=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(pJe(),kNe));return{id:zze,diagram:e}},"loader"),hrt={id:zze,detector:crt,loader:urt},drt=hrt,Gze="gantt",prt=l(e=>/^\s*gantt/.test(e),"detector"),grt=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(kJe(),vMe));return{id:Gze,diagram:e}},"loader"),frt={id:Gze,detector:prt,loader:grt},mrt=frt,Uze="info",yrt=l(e=>/^\s*info/.test(e),"detector"),vrt=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(SJe(),_Me));return{id:Uze,diagram:e}},"loader"),brt={id:Uze,detector:yrt,loader:vrt},xrt=l(e=>/^\s*pie/.test(e),"detector"),wrt=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(NJe(),jMe));return{id:"pie",diagram:e}},"loader"),krt={id:"pie",detector:xrt,loader:wrt},qze="quadrantChart",Trt=l(e=>/^\s*quadrantChart/.test(e),"detector"),Ert=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(PJe(),gIe));return{id:qze,diagram:e}},"loader"),Crt={id:qze,detector:Trt,loader:Ert},Srt=Crt,jze="xychart",_rt=l(e=>/^\s*xychart(-beta)?/.test(e),"detector"),Art=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(XJe(),YIe));return{id:jze,diagram:e}},"loader"),Lrt={id:jze,detector:_rt,loader:Art},Nrt=Lrt,Hze="requirement",Mrt=l(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),Irt=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(eet(),tDe));return{id:Hze,diagram:e}},"loader"),Drt={id:Hze,detector:Mrt,loader:Irt},Rrt=Drt,Vze="sequence",Ort=l(e=>/^\s*sequenceDiagram/.test(e),"detector"),Prt=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(aet(),YDe));return{id:Vze,diagram:e}},"loader"),Brt={id:Vze,detector:Ort,loader:Prt},$rt=Brt,Yze="class",Frt=l((e,t)=>t?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e),"detector"),zrt=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(oet(),iRe));return{id:Yze,diagram:e}},"loader"),Grt={id:Yze,detector:Frt,loader:zrt},Urt=Grt,Wze="classDiagram",qrt=l((e,t)=>/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e),"detector"),jrt=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(cet(),aRe));return{id:Wze,diagram:e}},"loader"),Hrt={id:Wze,detector:qrt,loader:jrt},Vrt=Hrt,Xze="state",Yrt=l((e,t)=>t?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e),"detector"),Wrt=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(pet(),QRe));return{id:Xze,diagram:e}},"loader"),Xrt={id:Xze,detector:Yrt,loader:Wrt},Krt=Xrt,Kze="stateDiagram",Zrt=l((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),Qrt=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(get(),eOe));return{id:Kze,diagram:e}},"loader"),Jrt={id:Kze,detector:Zrt,loader:Qrt},eit=Jrt,Zze="journey",tit=l(e=>/^\s*journey/.test(e),"detector"),rit=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(xet(),TOe));return{id:Zze,diagram:e}},"loader"),iit={id:Zze,detector:tit,loader:rit},nit=iit;st(),Kc(),an();var ait=l((e,t,r)=>{ne.debug(`rendering svg for syntax error
`);let i=Il(t),n=i.append("g");i.attr("viewBox","0 0 2412 512"),Wn(i,100,512,!0),n.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),n.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),n.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),n.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),n.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),n.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),n.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),n.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),Qze={draw:ait},sit=Qze,oit={db:{},renderer:Qze,parser:{parse:l(()=>{},"parse")}},lit=oit,Jze="flowchart-elk",cit=l((e,t={})=>/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&t?.flowchart?.defaultRenderer==="elk"?(t.layout="elk",!0):!1,"detector"),uit=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(rB(),Lk));return{id:Jze,diagram:e}},"loader"),hit={id:Jze,detector:cit,loader:uit},dit=hit,eGe="timeline",pit=l(e=>/^\s*timeline/.test(e),"detector"),git=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(_et(),VOe));return{id:eGe,diagram:e}},"loader"),fit={id:eGe,detector:pit,loader:git},mit=fit,tGe="mindmap",yit=l(e=>/^\s*mindmap/.test(e),"detector"),vit=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Bet(),oPe));return{id:tGe,diagram:e}},"loader"),bit={id:tGe,detector:yit,loader:vit},xit=bit,rGe="kanban",wit=l(e=>/^\s*kanban/.test(e),"detector"),kit=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Uet(),_Pe));return{id:rGe,diagram:e}},"loader"),Tit={id:rGe,detector:wit,loader:kit},Eit=Tit,iGe="sankey",Cit=l(e=>/^\s*sankey(-beta)?/.test(e),"detector"),Sit=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(ctt(),pBe));return{id:iGe,diagram:e}},"loader"),_it={id:iGe,detector:Cit,loader:Sit},Ait=_it,nGe="packet",Lit=l(e=>/^\s*packet(-beta)?/.test(e),"detector"),Nit=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(ptt(),SBe));return{id:nGe,diagram:e}},"loader"),Mit={id:nGe,detector:Lit,loader:Nit},aGe="radar",Iit=l(e=>/^\s*radar-beta/.test(e),"detector"),Dit=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(ytt(),QBe));return{id:aGe,diagram:e}},"loader"),Rit={id:aGe,detector:Iit,loader:Dit},sGe="block",Oit=l(e=>/^\s*block(-beta)?/.test(e),"detector"),Pit=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Ott(),qFe));return{id:sGe,diagram:e}},"loader"),Bit={id:sGe,detector:Oit,loader:Pit},$it=Bit,oGe="architecture",Fit=l(e=>/^\s*architecture/.test(e),"detector"),zit=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Gtt(),kze));return{id:oGe,diagram:e}},"loader"),Git={id:oGe,detector:Fit,loader:zit},Uit=Git;zp(),Gt();var lGe="treemap",qit=l(e=>/^\s*treemap/.test(e),"detector"),jit=l(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Vtt(),Oze));return{id:lGe,diagram:e}},"loader"),Hit={id:lGe,detector:qit,loader:jit},cGe=!1,A8=l(()=>{cGe||(cGe=!0,Im("error",lit,e=>e.toLowerCase().trim()==="error"),Im("---",{db:{clear:l(()=>{},"clear")},styles:{},renderer:{draw:l(()=>{},"draw")},parser:{parse:l(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:l(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),o3(dit,xit,Uit),o3(Ktt,Eit,Vrt,Urt,lrt,mrt,brt,krt,Rrt,$rt,nrt,ert,mit,drt,eit,Krt,nit,Srt,Ait,Mit,Nrt,$it,Rit,Hit))},"addDiagrams");st(),zp(),Gt();var Vit=l(async()=>{ne.debug("Loading registered diagrams");let e=(await Promise.allSettled(Object.entries(du).map(async([t,{detector:r,loader:i}])=>{if(i)try{g3(t)}catch{try{let{diagram:n,id:a}=await i();Im(a,n,r)}catch(n){throw ne.error(`Failed to load external diagram with key ${t}. Removing from detectors.`),delete du[t],n}}}))).filter(t=>t.status==="rejected");if(e.length>0){ne.error(`Failed to load ${e.length} external diagrams`);for(let t of e)ne.error(t);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams");st(),hr();var uGe="comm",hGe="rule",dGe="decl",Yit="@import",Wit="@namespace",Xit="@keyframes",Kit="@layer",pGe=Math.abs,aj=String.fromCharCode;function sj(e){return e.trim()}l(sj,"trim");function Hx(e,t,r){return e.replace(t,r)}l(Hx,"replace");function gGe(e,t,r){return e.indexOf(t,r)}l(gGe,"indexof");function mp(e,t){return e.charCodeAt(t)|0}l(mp,"charat");function yp(e,t,r){return e.slice(t,r)}l(yp,"substr");function Oo(e){return e.length}l(Oo,"strlen");function fGe(e){return e.length}l(fGe,"sizeof");function Vx(e,t){return t.push(e),e}l(Vx,"append");var L8=1,Pf=1,mGe=0,qs=0,rn=0,Bf="";function N8(e,t,r,i,n,a,s,o){return{value:e,root:t,parent:r,type:i,props:n,children:a,line:L8,column:Pf,length:s,return:"",siblings:o}}l(N8,"node");function yGe(){return rn}l(yGe,"char");function vGe(){return rn=qs>0?mp(Bf,--qs):0,Pf--,rn===10&&(Pf=1,L8--),rn}l(vGe,"prev");function js(){return rn=qs<mGe?mp(Bf,qs++):0,Pf++,rn===10&&(Pf=1,L8++),rn}l(js,"next");function iu(){return mp(Bf,qs)}l(iu,"peek");function Yx(){return qs}l(Yx,"caret");function Wx(e,t){return yp(Bf,e,t)}l(Wx,"slice");function $f(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}l($f,"token");function bGe(e){return L8=Pf=1,mGe=Oo(Bf=e),qs=0,[]}l(bGe,"alloc");function xGe(e){return Bf="",e}l(xGe,"dealloc");function M8(e){return sj(Wx(qs-1,I8(e===91?e+2:e===40?e+1:e)))}l(M8,"delimit");function wGe(e){for(;(rn=iu())&&rn<33;)js();return $f(e)>2||$f(rn)>3?"":" "}l(wGe,"whitespace");function kGe(e,t){for(;--t&&js()&&!(rn<48||rn>102||rn>57&&rn<65||rn>70&&rn<97););return Wx(e,Yx()+(t<6&&iu()==32&&js()==32))}l(kGe,"escaping");function I8(e){for(;js();)switch(rn){case e:return qs;case 34:case 39:e!==34&&e!==39&&I8(rn);break;case 40:e===41&&I8(e);break;case 92:js();break}return qs}l(I8,"delimiter");function TGe(e,t){for(;js()&&e+rn!==57&&!(e+rn===84&&iu()===47););return"/*"+Wx(t,qs-1)+"*"+aj(e===47?e:js())}l(TGe,"commenter");function EGe(e){for(;!$f(iu());)js();return Wx(e,qs)}l(EGe,"identifier");function CGe(e){return xGe(Xx("",null,null,null,[""],e=bGe(e),0,[0],e))}l(CGe,"compile");function Xx(e,t,r,i,n,a,s,o,u){for(var h=0,d=0,p=s,g=0,f=0,m=0,y=1,b=1,v=1,x=0,w="",k=n,T=a,_=i,C=w;b;)switch(m=x,x=js()){case 40:if(m!=108&&mp(C,p-1)==58){gGe(C+=Hx(M8(x),"&","&\f"),"&\f",pGe(h?o[h-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:C+=M8(x);break;case 9:case 10:case 13:case 32:C+=wGe(m);break;case 92:C+=kGe(Yx()-1,7);continue;case 47:switch(iu()){case 42:case 47:Vx(SGe(TGe(js(),Yx()),t,r,u),u),($f(m||1)==5||$f(iu()||1)==5)&&Oo(C)&&yp(C,-1,void 0)!==" "&&(C+=" ");break;default:C+="/"}break;case 123*y:o[h++]=Oo(C)*v;case 125*y:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+d:v==-1&&(C=Hx(C,/\f/g,"")),f>0&&(Oo(C)-p||y===0&&m===47)&&Vx(f>32?lj(C+";",i,r,p-1,u):lj(Hx(C," ","")+";",i,r,p-2,u),u);break;case 59:C+=";";default:if(Vx(_=oj(C,t,r,h,d,n,o,w,k=[],T=[],p,a),a),x===123)if(d===0)Xx(C,t,_,_,k,a,p,o,T);else{switch(g){case 99:if(mp(C,3)===110)break;case 108:if(mp(C,2)===97)break;default:d=0;case 100:case 109:case 115:}d?Xx(e,_,_,i&&Vx(oj(e,_,_,0,0,n,o,w,n,k=[],p,T),T),n,T,p,o,i?k:T):Xx(C,_,_,_,[""],T,0,o,T)}}h=d=f=0,y=v=1,w=C="",p=s;break;case 58:p=1+Oo(C),f=m;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&vGe()==125)continue}switch(C+=aj(x),x*y){case 38:v=d>0?1:(C+="\f",-1);break;case 44:o[h++]=(Oo(C)-1)*v,v=1;break;case 64:iu()===45&&(C+=M8(js())),g=iu(),d=p=Oo(w=C+=EGe(Yx())),x++;break;case 45:m===45&&Oo(C)==2&&(y=0)}}return a}l(Xx,"parse");function oj(e,t,r,i,n,a,s,o,u,h,d,p){for(var g=n-1,f=n===0?a:[""],m=fGe(f),y=0,b=0,v=0;y<i;++y)for(var x=0,w=yp(e,g+1,g=pGe(b=s[y])),k=e;x<m;++x)(k=sj(b>0?f[x]+" "+w:Hx(w,/&\f/g,f[x])))&&(u[v++]=k);return N8(e,t,r,n===0?hGe:o,u,h,d,p)}l(oj,"ruleset");function SGe(e,t,r,i){return N8(e,t,r,uGe,aj(yGe()),yp(e,2,-2),0,i)}l(SGe,"comment");function lj(e,t,r,i,n){return N8(e,t,r,dGe,yp(e,0,i),yp(e,i+1,-1),i,n)}l(lj,"declaration");function D8(e,t){for(var r="",i=0;i<e.length;i++)r+=t(e[i],i,e,t)||"";return r}l(D8,"serialize");function _Ge(e,t,r,i){switch(e.type){case Kit:if(e.children.length)break;case Yit:case Wit:case dGe:return e.return=e.return||e.value;case uGe:return"";case Xit:return e.return=e.value+"{"+D8(e.children,i)+"}";case hGe:if(!Oo(e.value=e.props.join(",")))return""}return Oo(r=D8(e.children,i))?e.return=e.value+"{"+r+"}":""}l(_Ge,"stringify"),oV(),GM(),wMe();var Zit="graphics-document document";function AGe(e,t){e.attr("role",Zit),t!==""&&e.attr("aria-roledescription",t)}l(AGe,"setA11yDiagramInfo");function LGe(e,t,r,i){if(e.insert!==void 0){if(r){let n=`chart-desc-${i}`;e.attr("aria-describedby",n),e.insert("desc",":first-child").attr("id",n).text(r)}if(t){let n=`chart-title-${i}`;e.attr("aria-labelledby",n),e.insert("title",":first-child").attr("id",n).text(t)}}}l(LGe,"addSVGa11yTitleDescription"),Uf(),pi(),pi(),Gt(),zp(),bW(),Zt();var cj=class eUe{constructor(t,r,i,n,a){this.type=t,this.text=r,this.db=i,this.parser=n,this.renderer=a}static{l(this,"Diagram")}static async fromText(t,r={}){let i=Tr(),n=s3(t,i);t=xoe(t)+`
`;try{g3(n)}catch{let h=xW(n);if(!h)throw new hS(`Diagram ${n} not found.`);let{id:d,diagram:p}=await h();Im(d,p)}let{db:a,parser:s,renderer:o,init:u}=g3(n);return s.parser&&(s.parser.yy=a),a.clear?.(),u?.(i),r.title&&a.setDiagramTitle?.(r.title),await s.parse(t),new eUe(n,t,a,s,o)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}};cr();var NGe=[],Qit=l(()=>{NGe.forEach(e=>{e()}),NGe=[]},"attachFunctions");st();var Jit=l(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");uS(),c6();function MGe(e){let t=e.match(cS);if(!t)return{text:e,metadata:{}};let r=Xy(t[1],{schema:Wy})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};let i={};return r.displayMode&&(i.displayMode=r.displayMode.toString()),r.title&&(i.title=r.title.toString()),r.config&&(i.config=r.config),{text:e.slice(t[0].length),metadata:i}}l(MGe,"extractFrontMatter"),Zt();var ent=l(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,i)=>"<"+r+i.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),tnt=l(e=>{let{text:t,metadata:r}=MGe(e),{displayMode:i,title:n,config:a={}}=r;return i&&(a.gantt||(a.gantt={}),a.gantt.displayMode=i),{title:n,config:a,text:t}},"processFrontmatter"),rnt=l(e=>{let t=or.detectInit(e)??{},r=or.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:i})=>i==="wrap"):r?.type==="wrap"&&(t.wrap=!0),{text:uoe(e),directive:t}},"processDirectives");function uj(e){let t=ent(e),r=tnt(t),i=rnt(r.text),n=ma(r.config,i.directive);return e=Jit(i.text),{code:e,title:r.title,config:n}}l(uj,"preprocessDiagram"),AW(),K8(),Zt();function IGe(e){let t=new TextEncoder().encode(e),r=Array.from(t,i=>String.fromCodePoint(i)).join("");return btoa(r)}l(IGe,"toBase64");var int=5e4,nnt="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",ant="sandbox",snt="loose",ont="http://www.w3.org/2000/svg",lnt="http://www.w3.org/1999/xlink",cnt="http://www.w3.org/1999/xhtml",unt="100%",hnt="100%",dnt="border:0;margin:0;",pnt="margin:0",gnt="allow-top-navigation-by-user-activation allow-popups",fnt='The "iframe" tag is not supported by your browser.',mnt=["foreignobject"],ynt=["dominant-baseline"];function hj(e){let t=uj(e);return tm(),PH(t.config??{}),t}l(hj,"processAndSetConfigs");async function DGe(e,t){A8();try{let{code:r,config:i}=hj(e);return{diagramType:(await BGe(r)).type,config:i}}catch(r){if(t?.suppressErrors)return!1;throw r}}l(DGe,"parse");var RGe=l((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),vnt=l((e,t=new Map)=>{let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){let i=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(n=>{Dr(n.styles)||i.forEach(a=>{r+=RGe(n.id,a,n.styles)}),Dr(n.textStyles)||(r+=RGe(n.id,"tspan",(n?.textStyles||[]).map(a=>a.replace("color","fill"))))})}return r},"createCssStyles"),bnt=l((e,t,r,i)=>{let n=vnt(e,r),a=_W(t,n,e.themeVariables);return D8(CGe(`${i}{${a}}`),_Ge)},"createUserStyles"),xnt=l((e="",t,r)=>{let i=e;return!r&&!t&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=co(i),i=i.replace(/<br>/g,"<br/>"),i},"cleanUpSvgCode"),wnt=l((e="",t)=>{let r=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":hnt,i=IGe(`<body style="${pnt}">${e}</body>`);return`<iframe style="width:${unt};height:${r};${dnt}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${gnt}">
  ${fnt}
</iframe>`},"putIntoIFrame"),OGe=l((e,t,r,i,n)=>{let a=e.append("div");a.attr("id",r),i&&a.attr("style",i);let s=a.append("svg").attr("id",t).attr("width","100%").attr("xmlns",ont);return n&&s.attr("xmlns:xlink",n),s.append("g"),e},"appendDivSvgG");function dj(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}l(dj,"sandboxedIframe");var knt=l((e,t,r,i)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(i)?.remove()},"removeExistingElements"),Tnt=l(async function(e,t,r){A8();let i=hj(t);t=i.code;let n=Tr();ne.debug(n),t.length>(n?.maxTextSize??int)&&(t=nnt);let a="#"+e,s="i"+e,o="#"+s,u="d"+e,h="#"+u,d=l(()=>{let A=Ke(g?o:h).node();A&&"remove"in A&&A.remove()},"removeTempElements"),p=Ke("body"),g=n.securityLevel===ant,f=n.securityLevel===snt,m=n.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),g){let A=dj(Ke(r),s);p=Ke(A.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Ke(r);OGe(p,e,u,`font-family: ${m}`,lnt)}else{if(knt(document,e,u,s),g){let A=dj(Ke("body"),s);p=Ke(A.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Ke("body");OGe(p,e,u)}let y,b;try{y=await cj.fromText(t,{title:i.title})}catch(A){if(n.suppressErrorRendering)throw d(),A;y=await cj.fromText("error"),b=A}let v=p.select(h).node(),x=y.type,w=v.firstChild,k=w.firstChild,T=y.renderer.getClasses?.(t,y),_=bnt(n,x,T,a),C=document.createElement("style");C.innerHTML=_,w.insertBefore(C,k);try{await y.renderer.draw(t,e,D7.version,y)}catch(A){throw n.suppressErrorRendering?d():sit.draw(t,e,D7.version),A}let E=p.select(`${h} svg`),N=y.db.getAccTitle?.(),M=y.db.getAccDescription?.();$Ge(x,E,N,M),p.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",cnt);let I=p.select(h).node().innerHTML;if(ne.debug("config.arrowMarkerAbsolute",n.arrowMarkerAbsolute),I=xnt(I,g,Gr(n.arrowMarkerAbsolute)),g){let A=p.select(h+" svg").node();I=wnt(I,A)}else f||(I=Ah.sanitize(I,{ADD_TAGS:mnt,ADD_ATTR:ynt,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(Qit(),b)throw b;return d(),{diagramType:x,svg:I,bindFunctions:y.db.bindFunctions}},"render");function PGe(e={}){let t=ki({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),RH(t),t?.theme&&t.theme in Bo?t.themeVariables=Bo[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Bo.default.getThemeVariables(t.themeVariables));let r=typeof t=="object"?DH(t):J8();e4(r.logLevel),A8()}l(PGe,"initialize");var BGe=l((e,t={})=>{let{code:r}=uj(e);return cj.fromText(r,t)},"getDiagramFromText");function $Ge(e,t,r,i){AGe(t,e),LGe(t,r,i,t.attr("id"))}l($Ge,"addA11yInfo");var vp=Object.freeze({render:Tnt,parse:DGe,getDiagramFromText:BGe,initialize:PGe,getConfig:Tr,setConfig:eE,getSiteConfig:J8,updateSiteConfig:OH,reset:l(()=>{tm()},"reset"),globalReset:l(()=>{tm(_h)},"globalReset"),defaultConfig:_h});e4(Tr().logLevel),tm(Tr()),Qd(),Zt();var Ent=l((e,t,r)=>{ne.warn(e),N9(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),FGe=l(async function(e={querySelector:".mermaid"}){try{await Cnt(e)}catch(t){if(N9(t)&&ne.error(t.str),nu.parseError&&nu.parseError(t),!e.suppressErrors)throw ne.error("Use the suppressErrors option to suppress these errors"),t}},"run"),Cnt=l(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){let i=vp.getConfig();ne.debug(`${e?"":"No "}Callback function found`);let n;if(r)n=r;else if(t)n=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");ne.debug(`Found ${n.length} diagrams`),i?.startOnLoad!==void 0&&(ne.debug("Start On Load: "+i?.startOnLoad),vp.updateSiteConfig({startOnLoad:i?.startOnLoad}));let a=new or.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed),s,o=[];for(let u of Array.from(n)){if(ne.info("Rendering diagram: "+u.id),u.getAttribute("data-processed"))continue;u.setAttribute("data-processed","true");let h=`mermaid-${a.next()}`;s=u.innerHTML,s=lS(or.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");let d=or.detectInit(s);d&&ne.debug("Detected early reinit: ",d);try{let{svg:p,bindFunctions:g}=await qGe(h,s,u);u.innerHTML=p,e&&await e(h),g&&g(u)}catch(p){Ent(p,o,nu.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),zGe=l(function(e){vp.initialize(e)},"initialize"),Snt=l(async function(e,t,r){ne.warn("mermaid.init is deprecated. Please use run instead."),e&&zGe(e);let i={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?i.querySelector=t:t&&(t instanceof HTMLElement?i.nodes=[t]:i.nodes=t),await FGe(i)},"init"),_nt=l(async(e,{lazyLoad:t=!0}={})=>{A8(),o3(...e),t===!1&&await Vit()},"registerExternalDiagrams"),GGe=l(function(){if(nu.startOnLoad){let{startOnLoad:e}=vp.getConfig();e&&nu.run().catch(t=>ne.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",GGe,!1);var Ant=l(function(e){nu.parseError=e},"setParseErrorHandler"),R8=[],pj=!1,UGe=l(async()=>{if(!pj){for(pj=!0;R8.length>0;){let e=R8.shift();if(e)try{await e()}catch(t){ne.error("Error executing queue",t)}}pj=!1}},"executeQueue"),Lnt=l(async(e,t)=>new Promise((r,i)=>{let n=l(()=>new Promise((a,s)=>{vp.parse(e,t).then(o=>{a(o),r(o)},o=>{ne.error("Error parsing",o),nu.parseError?.(o),s(o),i(o)})}),"performCall");R8.push(n),UGe().catch(i)}),"parse"),qGe=l((e,t,r)=>new Promise((i,n)=>{let a=l(()=>new Promise((s,o)=>{vp.render(e,t,r).then(u=>{s(u),i(u)},u=>{ne.error("Error parsing",u),nu.parseError?.(u),o(u),n(u)})}),"performCall");R8.push(a),UGe().catch(n)}),"render"),Nnt=l(()=>Object.keys(du).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),nu={startOnLoad:!0,mermaidAPI:vp,parse:Lnt,render:qGe,init:Snt,run:FGe,registerExternalDiagrams:_nt,registerLayoutLoaders:JP,initialize:zGe,parseError:void 0,contentLoaded:GGe,setParseErrorHandler:Ant,detectType:s3,registerIconPacks:sS,getRegisteredDiagramsMetadata:Nnt},Mnt=nu;return sUe(Bze)})();/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 *//*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

cytoscape/dist/cytoscape.esm.mjs:
  (*!
  Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
  Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
  Licensed under The MIT License (http://opensource.org/licenses/MIT)
  *)
  (*!
  Event object based on jQuery events, MIT license
  
  https://jquery.org/license/
  https://tldrlegal.com/license/mit-license
  https://github.com/jquery/jquery/blob/master/src/event.js
  *)
  (*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
  (*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
*/globalThis.mermaid=globalThis.__esbuild_esm_mermaid_nm.mermaid.default;
